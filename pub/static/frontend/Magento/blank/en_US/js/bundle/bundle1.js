require.config({
    config: {
        'jsbuild':{"Magento_ProductVideo/js/fotorama-add-video-events.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery/ui',\n    'catalogGallery',\n    'Magento_ProductVideo/js/load-player'\n], function ($) {\n    'use strict';\n\n    /**\n     * @private\n     */\n    var allowBase = true; //global var is needed because fotorama always fully reloads events in case of fullscreen\n\n    /**\n     * @private\n     */\n    function parseHref(href) {\n        var a = document.createElement('a');\n\n        a.href = href;\n\n        return a;\n    }\n\n    /**\n     * @private\n     */\n    function parseURL(href, forceVideo) {\n        var id,\n            type,\n            ampersandPosition,\n            vimeoRegex;\n\n        /**\n         * Get youtube ID\n         * @param {String} srcid\n         * @returns {{}}\n         */\n        function _getYoutubeId(srcid) {\n            if (srcid) {\n                ampersandPosition = srcid.indexOf('&');\n\n                if (ampersandPosition === -1) {\n                    return srcid;\n                }\n\n                srcid = srcid.substring(0, ampersandPosition);\n            }\n\n            return srcid;\n        }\n\n        if (typeof href !== 'string') {\n            return href;\n        }\n\n        href = parseHref(href);\n\n        if (href.host.match(/youtube\\.com/) && href.search) {\n            id = href.search.split('v=')[1];\n\n            if (id) {\n                id = _getYoutubeId(id);\n                type = 'youtube';\n            }\n        } else if (href.host.match(/youtube\\.com|youtu\\.be/)) {\n            id = href.pathname.replace(/^\\/(embed\\/|v\\/)?/, '').replace(/\\/.*/, '');\n            type = 'youtube';\n        } else if (href.host.match(/vimeo\\.com/)) {\n            type = 'vimeo';\n            vimeoRegex = new RegExp(['https?:\\\\/\\\\/(?:www\\\\.|player\\\\.)?vimeo.com\\\\/(?:channels\\\\/(?:\\\\w+\\\\/)',\n                '?|groups\\\\/([^\\\\/]*)\\\\/videos\\\\/|album\\\\/(\\\\d+)\\\\/video\\\\/|video\\\\/|)(\\\\d+)(?:$|\\\\/|\\\\?)'\n            ].join(''));\n            id = href.href.match(vimeoRegex)[3];\n        }\n\n        if ((!id || !type) && forceVideo) {\n            id = href.href;\n            type = 'custom';\n        }\n\n        return id ? {\n            id: id, type: type, s: href.search.replace(/^\\?/, '')\n        } : false;\n    }\n\n    //create AddFotoramaVideoEvents widget\n    $.widget('mage.AddFotoramaVideoEvents', {\n        options: {\n            videoData: '',\n            videoSettings: '',\n            optionsVideoData: ''\n        },\n\n        PV: 'product-video', // [CONST]\n        VU: 'video-unplayed',\n        PVLOADED: 'fotorama__product-video--loaded', // [CONST]\n        VID: 'video', // [CONST]\n        VI: 'vimeo', // [CONST]\n        FTVC: 'fotorama__video-close',\n        FTAR: 'fotorama__arr',\n        TI: 'video-thumb-icon',\n        isFullscreen: false,\n        FTCF: '[data-gallery-role=\"fotorama__fullscreen-icon\"]',\n        Base: 0, //on check for video is base this setting become true if there is any video with base role\n        MobileMaxWidth: 767,\n        GP: 'gallery-placeholder', //gallery placeholder class is needed to find and erase <script> tag\n        videoData: null,\n\n        /**\n         * Creates widget\n         * @private\n         */\n        _create: function () {\n\n            $(this.element).on('gallery:loaded',  $.proxy(function () {\n                this.fotoramaItem = $(this.element).find('.fotorama-item');\n                this._initialize();\n            }, this));\n        },\n\n        /**\n         *\n         * @private\n         */\n        _initialize: function () {\n            this._loadVideoData();\n\n            if (this._checkForVideoExist()) {\n                this._checkFullscreen();\n                this._listenForFullscreen();\n                this._checkForVimeo();\n                this._isVideoBase();\n                this._initFotoramaVideo();\n                this._attachFotoramaEvents();\n            }\n        },\n\n        /**\n         *\n         * @param {Object} options\n         * @private\n         */\n        _setOptions: function (options) {\n\n            if (options.videoData && options.videoData.length) {\n                this.options.videoData = options.videoData;\n            }\n            this._initialize();\n        },\n\n        /**\n         *\n         * @private\n         */\n        _loadVideoData: function () {\n            var $widget = this;\n\n            if (!$widget.videoData) {\n                $widget.videoData = $widget.options.VideoData;\n            }\n\n            $('#product-options-wrapper').find('[option-selected]').each(function () {\n                var key = $(this).attr('attribute-code') + '_' + $(this).attr('option-selected');\n\n                if ($widget.options.optionsVideoData && $widget.options.optionsVideoData[key]) {\n                    $widget.options.VideoData = $widget.options.optionsVideoData[key];\n                } else {\n                    $widget.options.VideoData = $widget.videoData;\n                }\n            });\n\n            if (!$('#product-options-wrapper').find('[option-selected]').length) {\n                $widget.options.VideoData = $widget.videoData;\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _checkFullscreen: function () {\n            if (this.fotoramaItem.data('fotorama').fullScreen || false) {\n                this.isFullscreen = true;\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _listenForFullscreen: function () {\n            var self = this;\n\n            this.fotoramaItem.on('fotorama:fullscreenenter', $.proxy(function () {\n                this.isFullscreen = true;\n            }, this));\n            this.fotoramaItem.on('fotorama:fullscreenexit', $.proxy(function () {\n                this.isFullscreen = false;\n                self._hideVideoArrows();\n            }, this));\n        },\n\n        /**\n         *\n         * @param {Object} inputData\n         * @param {bool} isJSON\n         * @returns {{}}\n         * @private\n         */\n        _createVideoData: function (inputData, isJSON) {\n            var videoData = [],\n                dataUrl,\n                tmpVideoData,\n                tmpInputData,\n                i;\n\n            if (isJSON) {\n                inputData = $.parseJSON(inputData);\n            }\n\n            for (i = 0; i < inputData.length; i++) {\n                tmpInputData = inputData[i];\n                dataUrl = '';\n                tmpVideoData = {\n                    mediaType: '',\n                    isBase: '',\n                    id: '',\n                    provider: ''\n                };\n                tmpVideoData.mediaType = this.VID;\n\n                if (tmpInputData.mediaType !== 'external-video') {\n                    tmpVideoData.mediaType = tmpInputData.mediaType;\n                }\n\n                tmpVideoData.isBase = tmpInputData.isBase;\n\n                if (tmpInputData.videoUrl != null) {\n                    dataUrl = tmpInputData.videoUrl;\n                    dataUrl = parseURL(dataUrl);\n                    tmpVideoData.id = dataUrl.id;\n                    tmpVideoData.provider = dataUrl.type;\n                    tmpVideoData.videoUrl = tmpInputData.videoUrl;\n                }\n\n                videoData.push(tmpVideoData);\n            }\n\n            return videoData;\n        },\n\n        /**\n         *\n         * @param {Object} fotorama\n         * @param {bool} isBase\n         * @private\n         */\n        _createCloseVideo: function (fotorama, isBase) {\n            var closeVideo;\n\n            this.fotoramaItem.find('.' + this.FTVC).remove();\n            this.fotoramaItem.append('<div class=\"' + this.FTVC + '\"></div>');\n            this.fotoramaItem.css('position', 'relative');\n            closeVideo = this.fotoramaItem.find('.' + this.FTVC);\n            this._closeVideoSetEvents(closeVideo, fotorama);\n\n            if (\n                isBase &&\n                this.options.videoData[fotorama.activeIndex].isBase &&\n                $(window).width() > this.MobileMaxWidth) {\n                this._showCloseVideo();\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _hideCloseVideo: function () {\n            this.fotoramaItem\n                .find('.' + this.FTVC)\n                .removeClass('fotorama-show-control');\n        },\n\n        /**\n         *\n         * @private\n         */\n        _showCloseVideo: function () {\n            this.fotoramaItem\n                .find('.' + this.FTVC)\n                .addClass('fotorama-show-control');\n        },\n\n        /**\n         *\n         * @param {jQuery} $closeVideo\n         * @param {jQuery} fotorama\n         * @private\n         */\n        _closeVideoSetEvents: function ($closeVideo, fotorama) {\n            $closeVideo.on('click', $.proxy(function () {\n                this._unloadVideoPlayer(fotorama.activeFrame.$stageFrame.parent(), fotorama, true);\n                this._hideCloseVideo();\n            }, this));\n        },\n\n        /**\n         *\n         * @returns {Boolean}\n         * @private\n         */\n        _checkForVideoExist: function () {\n            var key, result, checker, videoSettings;\n\n            if (!this.options.videoData) {\n                return false;\n            }\n\n            if (!this.options.videoSettings) {\n                return false;\n            }\n            result = this._createVideoData(this.options.videoData, false),\n                checker = false;\n            videoSettings = this.options.videoSettings[0];\n            videoSettings.playIfBase = parseInt(videoSettings.playIfBase, 10);\n            videoSettings.showRelated = parseInt(videoSettings.showRelated, 10);\n            videoSettings.videoAutoRestart = parseInt(videoSettings.videoAutoRestart, 10);\n\n            for (key in result) {\n                if (result[key].mediaType === this.VID) {\n                    checker = true;\n                }\n            }\n\n            if (checker) {\n                this.options.videoData = result;\n            }\n\n            return checker;\n        },\n\n        /**\n         *\n         * @private\n         */\n        _checkForVimeo: function () {\n            var allVideoData = this.options.videoData,\n                videoItem;\n\n            for (videoItem in allVideoData) {\n                if (allVideoData[videoItem].provider === this.VI) {\n                    this._loadVimeoJSFramework();\n                }\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _isVideoBase: function () {\n            var allVideoData = this.options.videoData,\n                videoItem,\n                allVideoDataKeys,\n                key,\n                i;\n\n            allVideoDataKeys = Object.keys(allVideoData);\n\n            for (i = 0; i < allVideoDataKeys.length; i++) {\n                key = allVideoDataKeys[i];\n                videoItem = allVideoData[key];\n\n                if (\n                    videoItem.mediaType === this.VID && videoItem.isBase &&\n                    this.options.videoSettings[0].playIfBase && allowBase\n                ) {\n                    this.Base = true;\n                    allowBase = false;\n                }\n            }\n\n            if (!this.isFullscreen) {\n                this._createCloseVideo(this.fotoramaItem.data('fotorama'), this.Base);\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _loadVimeoJSFramework: function () {\n            var element = document.createElement('script'),\n                scriptTag = document.getElementsByTagName('script')[0];\n\n            element.async = true;\n            element.src = 'https://secure-a.vimeocdn.com/js/froogaloop2.min.js';\n            scriptTag.parentNode.insertBefore(element, scriptTag);\n        },\n\n        /**\n         *\n         * @param {Event} e\n         * @private\n         */\n        _initFotoramaVideo: function (e) {\n            var fotorama = this.fotoramaItem.data('fotorama'),\n                thumbsParent,\n                thumbs,\n                t;\n\n            if (!fotorama.activeFrame.$navThumbFrame) {\n                this.fotoramaItem.on('fotorama:showend', $.proxy(function (evt, fotoramaData) {\n                    $(fotoramaData.activeFrame.$stageFrame).removeAttr('href');\n                }, this));\n\n                this._startPrepareForPlayer(e, fotorama);\n\n                return null;\n            }\n            fotorama.data.map($.proxy(this._setItemType, this));\n\n            thumbsParent = fotorama.activeFrame.$navThumbFrame.parent();\n            thumbs = thumbsParent.find('.fotorama__nav__frame:visible');\n\n            for (t = 0; t < thumbs.length; t++) {\n                this._setThumbsIcon(thumbs.eq(t), t);\n                this._checkForVideo(e, fotorama, t);\n            }\n\n            this.fotoramaItem.on('fotorama:showend', $.proxy(function (evt, fotoramaData) {\n                $(fotoramaData.activeFrame.$stageFrame).removeAttr('href');\n            }, this));\n        },\n\n        /**\n         *\n         * @param {Object} elem\n         * @param {Number} i\n         * @private\n         */\n        _setThumbsIcon: function (elem, i) {\n            var fotorama = this.fotoramaItem.data('fotorama');\n\n            if (fotorama.options.nav === 'dots' && elem.hasClass(this.TI)) {\n                elem.removeClass(this.TI);\n            }\n\n            if (this.options.videoData[i].mediaType === this.VID &&\n                fotorama.data[i].type ===  this.VID &&\n                fotorama.options.nav === 'thumbs') {\n                elem.addClass(this.TI);\n            }\n        },\n\n        /**\n         * Temporary solution with adding types for configurable product items\n         *\n         * @param {Object} item\n         * @param {Number} i\n         * @private\n         */\n        _setItemType: function (item, i) {\n            !item.type && (item.type = this.options.videoData[i].mediaType);\n        },\n\n        /**\n         * Attach\n         *\n         * @private\n         */\n        _attachFotoramaEvents: function () {\n            this.fotoramaItem.on('fotorama:showend', $.proxy(function (e, fotorama) {\n                this._startPrepareForPlayer(e, fotorama);\n            }, this));\n            this.fotoramaItem.on('fotorama:show', $.proxy(function (e, fotorama) {\n                this._unloadVideoPlayer(fotorama.activeFrame.$stageFrame.parent(), fotorama, true);\n            }, this));\n\n            this.fotoramaItem.on('fotorama:fullscreenexit', $.proxy(function (e, fotorama) {\n                fotorama.activeFrame.$stageFrame.find('.' + this.PV).remove();\n                this._startPrepareForPlayer(e, fotorama);\n            }, this));\n        },\n\n        /**\n         * Start prepare for player\n         *\n         * @param {Event} e\n         * @param {jQuery} fotorama\n         * @private\n         */\n        _startPrepareForPlayer: function (e, fotorama) {\n            this._unloadVideoPlayer(fotorama.activeFrame.$stageFrame.parent(), fotorama, false);\n            this._checkForVideo(e, fotorama, fotorama.activeFrame.i);\n            this._checkForVideo(e, fotorama, fotorama.activeFrame.i - 1);\n            this._checkForVideo(e, fotorama, fotorama.activeFrame.i + 1);\n        },\n\n        /**\n         * Check for video\n         *\n         * @param {Event} e\n         * @param {jQuery} fotorama\n         * @param {Number} number\n         * @private\n         */\n        _checkForVideo: function (e, fotorama, number) {\n            var videoData = this.options.videoData[number - 1],\n                $image = fotorama.data[number - 1],\n                videoEventIsSet = false;\n\n            if ($image) {\n\n                !$image.type && this._setItemType($image, number - 1);\n\n                if ($image.type === 'image') {\n                    $image.$navThumbFrame && $image.$navThumbFrame.removeClass(this.TI);\n                    this._hideCloseVideo();\n\n                    return;\n                } else if ($image.$navThumbFrame && $image.type === 'video') {\n                    !$image.$navThumbFrame.hasClass(this.TI) && $image.$navThumbFrame.addClass(this.TI);\n                }\n\n                $image = $image.$stageFrame;\n\n                if ($image) {\n                    videoEventIsSet = $image.hasClass(this.VU);\n                }\n            }\n\n            if ($image && videoData && videoData.mediaType === this.VID && !videoEventIsSet) {\n                $(fotorama.activeFrame.$stageFrame).removeAttr('href');\n                this._prepareForVideoContainer($image, videoData, fotorama, number);\n            }\n\n            if (this.isFullscreen && this.fotoramaItem.data('fotorama').activeFrame.i === number) {\n                this.fotoramaItem.data('fotorama').activeFrame.$stageFrame[0].click();\n            }\n        },\n\n        /**\n         * Prepare for video container\n         *\n         * @param {jQuery} $image\n         * @param {Object} videoData\n         * @param {Object} fotorama\n         * @param {Number} number\n         * @private\n         */\n        _prepareForVideoContainer: function ($image, videoData, fotorama, number) {\n            $image.addClass('fotorama-video-container').addClass(this.VU);\n            this._createVideoContainer(videoData, $image);\n            this._setVideoEvent($image, this.PV, fotorama, number);\n        },\n\n        /**\n         * Create video container\n         *\n         * @param {Object} videoData\n         * @param {jQuery} $image\n         * @private\n         */\n        _createVideoContainer: function (videoData, $image) {\n            var videoSettings;\n\n            if ($image.find('.' + this.PV).length !== 0) {\n                return;\n            }\n\n            videoSettings = this.options.videoSettings[0];\n            $image.append(\n                '<div class=\"' +\n                this.PV +\n                '\" data-related=\"' +\n                videoSettings.showRelated +\n                '\" data-loop=\"' +\n                videoSettings.videoAutoRestart +\n                '\" data-type=\"' +\n                videoData.provider +\n                '\" data-code=\"' +\n                videoData.id +\n                '\" data-width=\"100%\" data-height=\"100%\"></div>'\n            );\n        },\n\n        /**\n         *\n         * @param {Object} $image\n         * @param {Object} PV\n         * @param {Object} fotorama\n         * @param {Number} number\n         * @private\n         */\n        _setVideoEvent: function ($image, PV, fotorama, number) {\n            $image.find('.magnify-lens').remove();\n            $image\n                .off('click tap', $.proxy(this._clickHandler, this))\n                .on('click tap', $.proxy(this._clickHandler, this));\n            this._handleBaseVideo(fotorama, number); //check for video is it base and handle it if it's base\n        },\n\n        /**\n         * Hides preview arrows above video player.\n         * @private\n         */\n        _hideVideoArrows: function () {\n            var arrows = $('.' + this.FTAR);\n\n            arrows.removeClass('fotorama__arr--shown');\n            arrows.removeClass('fotorama__arr--hidden');\n        },\n\n        /**\n         *\n         * @param {Event} event\n         * @private\n         */\n        _clickHandler: function (event) {\n            if ($(event.target).hasClass(this.VU) && $(event.target).find('iframe').length === 0) {\n\n                $(event.target).removeClass(this.VU);\n                $(event.target).find('.' + this.PV).productVideoLoader();\n\n                $('.' + this.FTAR).addClass(this.isFullscreen ? 'fotorama__arr--shown' : 'fotorama__arr--hidden');\n            }\n        },\n\n        /**\n         * Handle base video\n         * @param {Object} fotorama\n         * @param {Number} srcNumber\n         * @private\n         */\n        _handleBaseVideo: function (fotorama, srcNumber) {\n            var waitForFroogaloop,\n                videoData = this.options.videoData,\n                activeIndex = fotorama.activeIndex,\n                number = parseInt(srcNumber, 10),\n                activeIndexIsBase = videoData[activeIndex];\n\n            if (!this.Base) {\n                return;\n            }\n\n            if (activeIndexIsBase && number === 1 && $(window).width() > this.MobileMaxWidth) {\n                if (this.options.videoData[fotorama.activeIndex].provider === this.VI) {\n                    waitForFroogaloop = setInterval($.proxy(function () {\n                        if (window.Froogaloop) {\n                            clearInterval(waitForFroogaloop);\n                            fotorama.requestFullScreen();\n                            this.fotoramaItem.data('fotorama').activeFrame.$stageFrame[0].click();\n                            this.Base = false;\n                        }\n                    }, this), 50);\n                } else { //if not a vimeo - play it immediately with a little lag in case for fotorama fullscreen\n                    setTimeout($.proxy(function () {\n                        fotorama.requestFullScreen();\n                        this.fotoramaItem.data('fotorama').activeFrame.$stageFrame[0].click();\n                        this.Base = false;\n                    }, this), 50);\n                }\n            }\n        },\n\n        /**\n         * Destroy video player\n         * @param {jQuery} $wrapper\n         * @param {jQuery} current\n         * @param {bool} close\n         * @private\n         */\n        _unloadVideoPlayer: function ($wrapper, current, close) {\n            var self = this;\n\n            if (!$wrapper) {\n                return;\n            }\n\n            $wrapper.find('.' + this.PVLOADED).removeClass(this.PVLOADED);\n\n            $wrapper.find('.' + this.PV).each(function () {\n                var $item = $(this).parent(),\n                    cloneVideoDiv,\n                    iframeElement = $(this).find('iframe'),\n                    currentIndex,\n                    itemIndex;\n\n                if (iframeElement.length === 0) {\n                    return;\n                }\n\n                currentIndex = current.activeFrame.$stageFrame.index();\n                itemIndex = $item.index();\n\n                if (currentIndex === itemIndex && !close) {\n                    return;\n                }\n\n                if (currentIndex !== itemIndex && close) {\n                    return;\n                }\n\n                iframeElement.remove();\n                cloneVideoDiv = $(this).clone();\n                $(this).remove();\n                $item.append(cloneVideoDiv);\n                $item.addClass(self.VU);\n\n                self._hideCloseVideo();\n                self._hideVideoArrows();\n\n                if (self.isFullscreen && !self.fotoramaItem.data('fotorama').options.fullscreen.arrows) {\n                    if ($('.' + self.FTAR + '--prev').is(':focus') || $('.' + self.FTAR + '--next').is(':focus')) {\n                        $(self.FTCF).focus();\n                    }\n                }\n            });\n        }\n    });\n\n    return $.mage.AddFotoramaVideoEvents;\n});\n","Magento_OfflinePayments/js/view/payment/offline-payments.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n        rendererList.push(\n            {\n                type: 'checkmo',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/checkmo-method'\n            },\n            {\n                type: 'banktransfer',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/banktransfer-method'\n            },\n            {\n                type: 'cashondelivery',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/cashondelivery-method'\n            },\n            {\n                type: 'purchaseorder',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/purchaseorder-method'\n            }\n        );\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/banktransfer-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'ko',\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (ko, Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/banktransfer'\n            },\n            /**\n             * Get value of instruction field.\n             * @returns {String}\n             */\n            getInstructions: function () {\n                return window.checkoutConfig.payment.instructions[this.item.method];\n            }\n        });\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/cashondelivery-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (Component) {\n        'use strict';\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/cashondelivery'\n            },\n\n            /** Returns payment method instructions */\n            getInstructions: function() {\n                return window.checkoutConfig.payment.instructions[this.item.method];\n            }\n        });\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/checkmo-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/checkmo'\n            },\n\n            /** Returns send check to info */\n            getMailingAddress: function() {\n                return window.checkoutConfig.payment.checkmo.mailingAddress;\n            },\n\n            /** Returns payable to info */\n            getPayableTo: function() {\n                return window.checkoutConfig.payment.checkmo.payableTo;\n            }\n        });\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/purchaseorder-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'jquery',\n        \"mage/validation\"\n    ],\n    function (Component, $) {\n        'use strict';\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/purchaseorder-form',\n                purchaseOrderNumber: ''\n            },\n            initObservable: function () {\n                this._super()\n                    .observe('purchaseOrderNumber');\n                return this;\n            },\n            getData: function () {\n                return {\n                    \"method\": this.item.method,\n                    'po_number': this.purchaseOrderNumber(),\n                    \"additional_data\": null\n                };\n\n            },\n            validate: function () {\n                var form = 'form[data-role=purchaseorder-form]';\n                return $(form).validation() && $(form).validation('isValid');\n            }\n        });\n    }\n);\n","Magento_Multishipping/js/multi-shipping.js":"/**\n * @category    checkout multi-shipping addresses\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint jquery:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n    \n    $.widget('mage.multiShipping', {\n        options: {\n            addNewAddressBtn: 'button[data-role=\"add-new-address\"]', // Add a new multishipping address.\n            addNewAddressFlag: '#add_new_address_flag', // Hidden input field with value 0 or 1.\n            canContinueBtn: 'button[data-role=\"can-continue\"]', // Continue (update quantity or go to shipping).\n            canContinueFlag: '#can_continue_flag' // Hidden input field with value 0 or 1.\n        },\n\n        /**\n         * Bind event handlers to click events for corresponding buttons.\n         * @private\n         */\n        _create: function() {\n            $(this.options.addNewAddressBtn).on('click', $.proxy(this._addNewAddress, this));\n            $(this.options.canContinueBtn).on('click', $.proxy(this._canContinue, this));\n        },\n\n        /**\n         * Add a new address. Set the hidden input field and submit the form. Then enter a new shipping address.\n         * @private\n         */\n        _addNewAddress: function() {\n            $(this.options.addNewAddressFlag).val(1);\n            this.element.submit();\n        },\n\n        /**\n         * Can the user continue to the next step? The data-flag attribute holds either 0 (no) or 1 (yes).\n         * @private\n         * @param event {Event} - Click event on the corresponding button.\n         */\n        _canContinue: function(event) {\n            $(this.options.canContinueFlag).val(parseInt($(event.currentTarget).data('flag'), 10));\n        }\n    });\n    \n    return $.mage.multiShipping;\n});\n","Magento_Multishipping/js/overview.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint jquery:true*/\n/*global alert*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\",\n    \"mage/translate\"\n], function($){\n    \"use strict\";\n\n    $.widget('mage.orderOverview', {\n        options: {\n            opacity: 0.5, // CSS opacity for the 'Place Order' button when it's clicked and then disabled.\n            pleaseWaitLoader: 'span.please-wait', // 'Submitting order information...' Ajax loader.\n            placeOrderSubmit: 'button[type=\"submit\"]', // The 'Place Order' button.\n            agreements: '#checkout-agreements' // Container for all of the checkout agreements and terms/conditions\n        },\n\n        /**\n         * Bind a submit handler to the form.\n         * @private\n         */\n        _create: function() {\n            this.element.on('submit', $.proxy(this._showLoader, this));\n        },\n\n        /**\n         * Verify that all agreements and terms/conditions are checked. Show the Ajax loader. Disable\n         * the submit button (i.e. Place Order).\n         * @return {Boolean}\n         * @private\n         */\n        _showLoader: function() {\n            if ($(this.options.agreements).find('input[type=\"checkbox\"]:not(:checked)').length > 0) {\n                return false;\n            }\n            this.element.find(this.options.pleaseWaitLoader).show().end()\n                .find(this.options.placeOrderSubmit).prop('disabled', true).css('opacity', this.options.opacity);\n            return true;\n        }\n    });\n\n    return $.mage.orderOverview;\n});\n","Magento_Multishipping/js/payment.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n/*global alert*/\n\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/translate'\n], function ($, mageTemplate, alert) {\n    'use strict';\n\n    $.widget('mage.payment', {\n        options: {\n            continueSelector: '#payment-continue',\n            methodsContainer: '#payment-methods',\n            minBalance: 0.0001,\n            tmpl: '<input id=\"hidden-free\" type=\"hidden\" name=\"payment[method]\" value=\"free\">'\n        },\n\n        _create: function () {\n            this.element.find('dd [name^=\"payment[\"]').prop('disabled', true).end()\n                .on('click', this.options.continueSelector, $.proxy(this._submitHandler, this))\n                .on('updateCheckoutPrice', $.proxy(function (event, data) {\n                    //updating the checkoutPrice\n                    if (data.price) {\n                        this.options.checkoutPrice += data.price;\n                    }\n\n                    //updating total price\n                    if (data.totalPrice) {\n                        data.totalPrice = this.options.checkoutPrice;\n                    }\n\n                    if (this.options.checkoutPrice < this.options.minBalance) {\n                        // Add free input field, hide and disable unchecked checkbox payment method and all radio button payment methods\n                        this._disablePaymentMethods();\n                    } else {\n                        // Remove free input field, show all payment method\n                        this._enablePaymentMethods();\n                    }\n                }, this))\n                .on('click', 'dt input:radio', $.proxy(this._paymentMethodHandler, this));\n\n            if (this.options.checkoutPrice < this.options.minBalance) {\n                this._disablePaymentMethods();\n            } else {\n                this._enablePaymentMethods();\n            }\n        },\n\n        /**\n         * Display payment details when payment method radio button is checked\n         * @private\n         * @param {EventObject} e\n         */\n        _paymentMethodHandler: function (e) {\n            var element = $(e.target),\n                parentsDl = element.closest('dl');\n\n            parentsDl.find('dt input:radio').prop('checked', false);\n            parentsDl.find('.items').hide().find('[name^=\"payment[\"]').prop('disabled', true);\n            element.prop('checked', true).parent().nextUntil('dt').find('.items').show().find('[name^=\"payment[\"]').prop('disabled', false);\n        },\n\n        /**\n         * make sure one payment method is selected\n         * @private\n         * @return {Boolean}\n         */\n        _validatePaymentMethod: function () {\n            var methods = this.element.find('[name^=\"payment[\"]'),\n                isValid = false;\n\n            if (methods.length === 0) {\n                alert({\n                    content: $.mage.__('We can\\'t complete your order because you don\\'t have a payment method set up.')\n                });\n            } else if (this.options.checkoutPrice < this.options.minBalance) {\n                isValid = true;\n            } else if (methods.filter('input:radio:checked').length) {\n                isValid = true;\n            } else {\n                alert({\n                    content: $.mage.__('Please choose a payment method.')\n                });\n            }\n\n            return isValid;\n        },\n\n        /**\n         * Disable and enable payment methods\n         * @private\n         */\n        _disablePaymentMethods: function () {\n            var tmpl = mageTemplate(this.options.tmpl, {\n                data: {}\n            });\n\n            this.element.find('input[name=\"payment[method]\"]').prop('disabled', true).end()\n                .find('input[id^=\"use\"][name^=\"payment[use\"]:not(:checked)').prop('disabled', true).parent().hide();\n            this.element.find('[name=\"payment[method]\"][value=\"free\"]').parent('dt').remove();\n            this.element.find(this.options.methodsContainer).hide().find('[name^=\"payment[\"]').prop('disabled', true);\n\n            $(tmpl).appendTo(this.element);\n        },\n\n        /**\n         * Enable and enable payment methods\n         * @private\n         */\n        _enablePaymentMethods: function () {\n            this.element.find('input[name=\"payment[method]\"]').prop('disabled', false).end()\n                .find('input[name=\"payment[method]\"][value=\"free\"]').remove().end()\n                .find('dt input:radio:checked').trigger('click').end()\n                .find('input[id^=\"use\"][name^=\"payment[use\"]:not(:checked)').prop('disabled', false).parent().show();\n            this.element.find(this.options.methodsContainer).show();\n        },\n\n        /**\n         * Validate  before form submit\n         * @private\n         * @param {EventObject} e\n         */\n        _submitHandler: function (e) {\n            e.preventDefault();\n\n            if (this._validatePaymentMethod()) {\n                this.element.submit();\n            }\n        }\n    });\n\n    return $.mage.payment;\n});\n","Magento_Fedex/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        'use strict';\n\n        return {\n            getRules: function () {\n                return {\n                    'postcode': {\n                        'required': true\n                    },\n                    'country_id': {\n                        'required': true\n                    },\n                    'city': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_Fedex/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        'Magento_Fedex/js/model/shipping-rates-validation-rules',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var self = this;\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n\n                        self.validationErrors.push(message);\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_Fedex/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        'Magento_Fedex/js/model/shipping-rates-validator',\n        'Magento_Fedex/js/model/shipping-rates-validation-rules'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        fedexShippingRatesValidator,\n        fedexShippingRatesValidationRules\n    ) {\n        'use strict';\n        defaultShippingRatesValidator.registerValidator('fedex', fedexShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('fedex', fedexShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_Dhl/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        'use strict';\n\n        return {\n            getRules: function () {\n                return {\n                    'postcode': {\n                        'required': true\n                    },\n                    'country_id': {\n                        'required': true\n                    },\n                    'city': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_Dhl/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        'Magento_Dhl/js/model/shipping-rates-validation-rules',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var self = this;\n\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n\n                        self.validationErrors.push(message);\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_Dhl/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        'Magento_Dhl/js/model/shipping-rates-validator',\n        'Magento_Dhl/js/model/shipping-rates-validation-rules'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        dhlShippingRatesValidator,\n        dhlShippingRatesValidationRules\n    ) {\n        'use strict';\n\n        defaultShippingRatesValidator.registerValidator('dhl', dhlShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('dhl', dhlShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_CheckoutAgreements/js/model/agreement-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        'jquery',\n        'mage/validation'\n    ],\n    function ($) {\n        'use strict';\n        var checkoutConfig = window.checkoutConfig,\n            agreementsConfig = checkoutConfig ? checkoutConfig.checkoutAgreements : {};\n\n        var agreementsInputPath = '.payment-method._active div.checkout-agreements input';\n\n        return {\n            /**\n             * Validate checkout agreements\n             *\n             * @returns {boolean}\n             */\n            validate: function() {\n                if (!agreementsConfig.isEnabled) {\n                    return true;\n                }\n\n                if ($(agreementsInputPath).length == 0) {\n                    return true;\n                }\n\n                return $('#co-payment-form').validate({\n                    errorClass: 'mage-error',\n                    errorElement: 'div',\n                    meta: 'validate',\n                    errorPlacement: function (error, element) {\n                        var errorPlacement = element;\n                        if (element.is(':checkbox') || element.is(':radio')) {\n                            errorPlacement = element.siblings('label').last();\n                        }\n                        errorPlacement.after(error);\n                    }\n                }).element(agreementsInputPath);\n            }\n        }\n    }\n);\n","Magento_CheckoutAgreements/js/model/agreements-assigner.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var agreementsConfig = window.checkoutConfig.checkoutAgreements;\n\n    /** Override default place order action and add agreement_ids to request */\n    return function (paymentData) {\n        var agreementForm,\n            agreementData,\n            agreementIds;\n\n        if (!agreementsConfig.isEnabled) {\n            return;\n        }\n\n        agreementForm = $('.payment-method._active div[data-role=checkout-agreements] input');\n        agreementData = agreementForm.serializeArray();\n        agreementIds = [];\n\n        agreementData.forEach(function (item) {\n            agreementIds.push(item.value);\n        });\n\n        if (paymentData['extension_attributes'] === undefined) {\n            paymentData['extension_attributes'] = {};\n        }\n\n        paymentData['extension_attributes']['agreement_ids'] = agreementIds;\n    };\n});\n","Magento_CheckoutAgreements/js/model/agreements-modal.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        'jquery',\n        'Magento_Ui/js/modal/modal',\n        'mage/translate'\n    ],\n    function ($, modal, $t) {\n        'use strict';\n        return {\n            modalWindow: null,\n\n            /** Create popUp window for provided element */\n            createModal: function(element) {\n                this.modalWindow = element;\n                var options = {\n                    'type': 'popup',\n                    'modalClass': 'agreements-modal',\n                    'responsive': true,\n                    'innerScroll': true,\n                    'trigger': '.show-modal',\n                    'buttons': [\n                        {\n                            text: $t('Close'),\n                            class: 'action secondary action-hide-popup',\n                            click: function() {\n                                this.closeModal();\n                            }\n                        }\n                    ]\n                };\n                modal(options, $(this.modalWindow));\n            },\n\n            /** Show login popup window */\n            showModal: function() {\n                $(this.modalWindow).modal('openModal');\n            }\n        }\n    }\n);\n","Magento_CheckoutAgreements/js/model/place-order-mixin.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_CheckoutAgreements/js/model/agreements-assigner'\n], function ($, wrapper, agreementsAssigner) {\n    'use strict';\n\n    return function (placeOrderAction) {\n\n        /** Override default place order action and add agreement_ids to request */\n        return wrapper.wrap(placeOrderAction, function (originalAction, paymentData, messageContainer) {\n            agreementsAssigner(paymentData);\n\n            return originalAction(paymentData, messageContainer);\n        });\n    };\n});\n","Magento_CheckoutAgreements/js/model/set-payment-information-mixin.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_CheckoutAgreements/js/model/agreements-assigner'\n], function ($, wrapper, agreementsAssigner) {\n    'use strict';\n\n    return function (placeOrderAction) {\n\n        /** Override place-order-mixin for set-payment-information action as they differs only by method signature */\n        return wrapper.wrap(placeOrderAction, function (originalAction, messageContainer, paymentData) {\n            agreementsAssigner(paymentData);\n\n            return originalAction(messageContainer, paymentData);\n        });\n    };\n});\n","Magento_CheckoutAgreements/js/view/agreement-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_CheckoutAgreements/js/model/agreement-validator'\n    ],\n    function (Component, additionalValidators, agreementValidator) {\n        'use strict';\n        additionalValidators.registerValidator(agreementValidator);\n        return Component.extend({});\n    }\n);\n","Magento_CheckoutAgreements/js/view/checkout-agreements.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'ko',\n        'jquery',\n        'uiComponent',\n        'Magento_CheckoutAgreements/js/model/agreements-modal'\n    ],\n    function (ko, $, Component, agreementsModal) {\n        'use strict';\n        var checkoutConfig = window.checkoutConfig,\n            agreementManualMode = 1,\n            agreementsConfig = checkoutConfig ? checkoutConfig.checkoutAgreements : {};\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_CheckoutAgreements/checkout/checkout-agreements'\n            },\n            isVisible: agreementsConfig.isEnabled,\n            agreements: agreementsConfig.agreements,\n            modalTitle: ko.observable(null),\n            modalContent: ko.observable(null),\n            modalWindow: null,\n\n            /**\n             * Checks if agreement required\n             *\n             * @param element\n             */\n            isAgreementRequired: function(element) {\n                return element.mode == agreementManualMode;\n            },\n\n            /**\n             * Show agreement content in modal\n             *\n             * @param element\n             */\n            showContent: function (element) {\n                this.modalTitle(element.checkboxText);\n                this.modalContent(element.content);\n                agreementsModal.showModal();\n            },\n\n            /**\n             * Init modal window for rendered element\n             *\n             * @param element\n             */\n            initModal: function(element) {\n                agreementsModal.createModal(element);\n            }\n        });\n    }\n);\n","Magento_Captcha/captcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n    \n    $.widget('mage.captcha', {\n        options: {\n            refreshClass: 'refreshing',\n            reloadSelector: '.captcha-reload',\n            imageSelector: '.captcha-img',\n            imageLoader: ''\n        },\n\n        /**\n         * Method binds click event to reload image\n         * @private\n         */\n        _create: function() {\n            this.element.on('click', this.options.reloadSelector, $.proxy(this.refresh, this));\n        },\n\n        /**\n         * Method triggeres an AJAX request to refresh the CAPTCHA image\n         * @param e - Event\n         */\n        refresh: function(e) {\n            var imageLoader = this.options.imageLoader;\n\n            if (imageLoader) {\n                this.element.find(this.options.imageSelector).attr('src', imageLoader);\n            }\n            this.element.addClass(this.options.refreshClass);\n\n            $.ajax({\n                url: this.options.url,\n                type: 'post',\n                async: false,\n                dataType: 'json',\n                context: this,\n                data: {\n                    'formId': this.options.type\n                },\n                success: function (response) {\n                    if (response.imgSrc) {\n                        this.element.find(this.options.imageSelector).attr('src', response.imgSrc);\n                    }\n                },\n                complete: function() {\n                    this.element.removeClass(this.options.refreshClass);\n                }\n            });\n        }\n    });\n\n    return $.mage.captcha;\n});\n","Magento_Captcha/onepage.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\"jquery\"], function($){\n    \"use strict\";\n    $(document).on(\"login\",function() {\n        $(\"[data-captcha='guest_checkout'], [data-captcha='register_during_checkout']\").hide();\n        $(\"[role='guest_checkout'], [role='register_during_checkout']\").hide();\n        var type = ($(\"#login\\\\:guest\").is(':checked')) ? 'guest_checkout' : 'register_during_checkout';\n        $(\"[role='\" + type + \"'], [data-captcha='\" + type + \"']\").show();\n    }).on('billingSave', function() {\n            $(\".captcha-reload:visible\").trigger(\"click\");\n        });\n});\n","Magento_Captcha/js/action/refresh.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n/*global define*/\ndefine(\n    ['mage/storage'],\n    function(storage) {\n        \"use strict\";\n        return function(refreshUrl, formId, imageSource) {\n            return storage.post(\n                refreshUrl,\n                JSON.stringify({'formId': formId}),\n                false\n            ).done(\n                function (response) {\n                    if (response.imgSrc) {\n                        imageSource(response.imgSrc);\n                    }\n                }\n            );\n        };\n    }\n);\n","Magento_Captcha/js/model/captcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        'jquery',\n        'ko',\n        'Magento_Captcha/js/action/refresh'\n    ],\n    function($, ko, refreshAction) {\n        return function (captchaData) {\n            return {\n                formId: captchaData.formId,\n                imageSource: ko.observable(captchaData.imageSrc),\n                visibility: ko.observable(false),\n                captchaValue: ko.observable(null),\n                isRequired: captchaData.isRequired,\n                isCaseSensitive: captchaData.isCaseSensitive,\n                imageHeight: captchaData.imageHeight,\n                refreshUrl: captchaData.refreshUrl,\n                isLoading: ko.observable(false),\n\n                getFormId: function () {\n                    return this.formId;\n                },\n                setFormId: function (formId) {\n                    this.formId = formId;\n                },\n                getIsVisible: function () {\n                    return this.visibility;\n                },\n                setIsVisible: function (flag) {\n                    this.visibility(flag);\n                },\n                getIsRequired: function () {\n                    return this.isRequired;\n                },\n                setIsRequired: function (flag) {\n                    this.isRequired = flag;\n                },\n                getIsCaseSensitive: function () {\n                    return this.isCaseSensitive;\n                },\n                setIsCaseSensitive: function (flag) {\n                    this.isCaseSensitive = flag;\n                },\n                getImageHeight: function () {\n                    return this.imageHeight;\n                },\n                setImageHeight: function (height) {\n                    this.imageHeight = height;\n                },\n                getImageSource: function () {\n                    return this.imageSource;\n                },\n                setImageSource: function (imageSource) {\n                     this.imageSource(imageSource);\n                },\n                getRefreshUrl: function () {\n                    return this.refreshUrl;\n                },\n                setRefreshUrl: function (url) {\n                    this.refreshUrl = url;\n                },\n                getCaptchaValue: function () {\n                    return this.captchaValue;\n                },\n                setCaptchaValue: function (value) {\n                    this.captchaValue(value);\n                },\n                refresh: function() {\n                    var refresh,\n                        self = this;\n                    this.isLoading(true);\n\n                    refresh = refreshAction(this.getRefreshUrl(), this.getFormId(), this.getImageSource());\n                    $.when(refresh).done(function() {\n                        self.isLoading(false);\n                    });\n                }\n            };\n        }\n    }\n);\n","Magento_Captcha/js/model/captchaList.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n/*global define*/\ndefine(['jquery'], function($) {\n    \"use strict\";\n    var captchaList = [];\n    return {\n        add: function (captcha) {\n            captchaList.push(captcha);\n        },\n        getCaptchaByFormId: function(formId) {\n            var captcha = null;\n            $.each(captchaList, function(key, item) {\n                if (formId === item.formId) {\n                    captcha = item;\n                    return false;\n                }\n            });\n            return captcha;\n        },\n        getCaptchaList: function() {\n            return captchaList;\n        }\n    };\n});\n","Magento_Captcha/js/view/checkout/defaultCaptcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true jquery:true*/\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'uiComponent',\n        'Magento_Captcha/js/model/captcha',\n        'Magento_Captcha/js/model/captchaList'\n    ],\n    function ($, Component, Captcha, captchaList) {\n        'use strict';\n        var captchaConfig;\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Captcha/checkout/captcha'\n            },\n            dataScope: 'global',\n            currentCaptcha: null,\n            captchaValue: function() {\n                return this.currentCaptcha.getCaptchaValue();\n            },\n            initialize: function() {\n                this._super();\n\n                if (window[this.configSource] && window[this.configSource]['captcha']) {\n                    captchaConfig = window[this.configSource]['captcha'];\n                    $.each(captchaConfig, function(formId, captchaData) {\n                        captchaData.formId = formId;\n                        captchaList.add(Captcha(captchaData));\n                    });\n                }\n            },\n            getIsLoading: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.isLoading : false;\n            },\n            getCurrentCaptcha: function() {\n                return this.currentCaptcha;\n            },\n            setCurrentCaptcha: function(captcha) {\n                this.currentCaptcha = captcha;\n            },\n            getFormId: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getFormId() : null;\n            },\n            getIsVisible: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getIsVisible() : false;\n            },\n            setIsVisible: function(flag) {\n                this.currentCaptcha.setIsVisible(flag);\n            },\n            isRequired: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getIsRequired() : false;\n            },\n            isCaseSensitive: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getIsCaseSensitive() : false;\n            },\n            imageHeight: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getImageHeight() : null;\n            },\n            getImageSource: function () {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getImageSource() : null;\n            },\n            refresh: function() {\n                this.currentCaptcha.refresh();\n            }\n        });\n    }\n);\n","Magento_Captcha/js/view/checkout/loginCaptcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true jquery:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Captcha/js/view/checkout/defaultCaptcha',\n        'Magento_Captcha/js/model/captchaList',\n        'Magento_Customer/js/action/login'\n    ],\n    function (defaultCaptcha, captchaList, loginAction) {\n        'use strict';\n        return defaultCaptcha.extend({\n            initialize: function() {\n                this._super();\n                var currentCaptcha = captchaList.getCaptchaByFormId(this.formId),\n                    self = this;\n\n                if (currentCaptcha != null) {\n                    currentCaptcha.setIsVisible(true);\n                    this.setCurrentCaptcha(currentCaptcha);\n\n                    loginAction.registerLoginCallback(function(loginData) {\n                        if (loginData.captcha_form_id && loginData.captcha_form_id == self.formId) {\n                            self.refresh();\n                        }\n                    });\n                }\n            }\n        });\n    }\n);\n","Magento_Braintree/js/validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    return {\n        config: {},\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Get List of available card types\n         * @returns {*|exports.defaults.availableCardTypes|{}}\n         */\n        getAvailableCardTypes: function () {\n            return this.config.availableCardTypes;\n        },\n\n        /**\n         * Get list of card types\n         * @returns {Object}\n         */\n        getCcTypesMapper: function () {\n            return this.config.ccTypesMapper;\n        },\n\n        /**\n         * Find mage card type by Braintree type\n         * @param {String} type\n         * @param {Object} availableTypes\n         * @returns {*}\n         */\n        getMageCardType: function (type, availableTypes) {\n            var storedCardType = null,\n                mapper = this.getCcTypesMapper();\n\n            if (type && typeof mapper[type] !== 'undefined') {\n                storedCardType = mapper[type];\n\n                if (_.indexOf(availableTypes, storedCardType) !== -1) {\n                    return storedCardType;\n                }\n            }\n\n            return null;\n        },\n\n        /**\n         * Filter list of available card types\n         * @param {Object} availableTypes\n         * @param {Object} countrySpecificCardTypes\n         * @returns {Object}\n         */\n        collectTypes: function (availableTypes, countrySpecificCardTypes) {\n            var key,\n                filteredTypes = [];\n\n            for (key in availableTypes) {\n                if (_.indexOf(countrySpecificCardTypes, availableTypes[key]) !== -1) {\n                    filteredTypes.push(availableTypes[key]);\n                }\n            }\n\n            return filteredTypes;\n        },\n\n        /**\n         * Get list of card types for country\n         * @param {String} countryId\n         * @returns {*}\n         */\n        getCountrySpecificCardTypes: function (countryId) {\n            if (typeof this.config.countrySpecificCardTypes[countryId] !== 'undefined') {\n\n                return this.config.countrySpecificCardTypes[countryId];\n            }\n\n            return false;\n        }\n    };\n});\n","Magento_Braintree/js/paypal/button.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'rjsResolver',\n        'uiRegistry',\n        'uiComponent',\n        'underscore',\n        'jquery',\n        'braintree',\n        'Magento_Braintree/js/paypal/form-builder',\n        'domReady!'\n    ],\n    function (\n        resolver,\n        registry,\n        Component,\n        _,\n        $,\n        braintree,\n        formBuilder\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {\n\n                integrationName: 'braintreePaypal.currentIntegration',\n\n                /**\n                 * {String}\n                 */\n                displayName: null,\n\n                /**\n                 * {String}\n                 */\n                clientToken: null,\n\n                /**\n                 * {Object}\n                 */\n                clientConfig: {\n\n                    /**\n                     * @param {Object} integration\n                     */\n                    onReady: function (integration) {\n                        resolver(function () {\n                            registry.set(this.integrationName, integration);\n                            $('#' + this.id).removeAttr('disabled');\n                        }, this);\n                    },\n\n                    /**\n                     * @param {Object} payload\n                     */\n                    onPaymentMethodReceived: function (payload) {\n                        $('body').trigger('processStart');\n\n                        formBuilder.build(\n                            {\n                                action: this.actionSuccess,\n                                fields: {\n                                    result: JSON.stringify(payload)\n                                }\n                            }\n                        ).submit();\n                    }\n                }\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super()\n                    .initComponent();\n\n                return this;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initComponent: function () {\n                var currentIntegration = registry.get(this.integrationName),\n                    $this = $('#' + this.id),\n                    self = this,\n                    data = {\n                        amount: $this.data('amount'),\n                        locale: $this.data('locale'),\n                        currency: $this.data('currency')\n                    },\n                    initCallback = function () {\n                        $this.attr('disabled', 'disabled');\n                        registry.remove(this.integrationName);\n                        braintree.setup(this.clientToken, 'custom', this.getClientConfig(data));\n\n                        $this.off('click')\n                            .on('click', function (event) {\n                                event.preventDefault();\n\n                                registry.get(self.integrationName, function (integration) {\n                                    integration.paypal.initAuthFlow();\n                                });\n                            });\n                    }.bind(this);\n\n                currentIntegration ?\n                    currentIntegration.teardown(initCallback) :\n                    initCallback();\n\n                return this;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            getClientConfig: function (data) {\n                this.clientConfig.paypal = {\n                    singleUse: true,\n                    amount: data.amount,\n                    currency: data.currency,\n                    locale: data.locale,\n                    enableShippingAddress: true,\n                    headless: true\n                };\n\n                if (this.displayName) {\n                    this.clientConfig.paypal.displayName = this.displayName;\n                }\n\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n\n                return this.clientConfig;\n            }\n        });\n    }\n);\n","Magento_Braintree/js/paypal/form-builder.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'underscore',\n        'mage/template'\n    ],\n    function ($, _, mageTemplate) {\n        'use strict';\n\n        return {\n\n            /**\n             * @param {Object} formData\n             * @returns {*|jQuery}\n             */\n            build: function (formData) {\n                var formTmpl = mageTemplate('<form action=\"<%= data.action %>\"' +\n                    ' method=\"POST\" hidden enctype=\"application/x-www-form-urlencoded\">' +\n                        '<% _.each(data.fields, function(val, key){ %>' +\n                            '<input value=\\'<%= val %>\\' name=\"<%= key %>\" type=\"hidden\">' +\n                        '<% }); %>' +\n                    '</form>');\n\n                return $(formTmpl({\n                    data: {\n                        action: formData.action,\n                        fields: formData.fields\n                    }\n                })).appendTo($('[data-container=\"body\"]'));\n            }\n        };\n    }\n);\n","Magento_Braintree/js/view/payment/3d-secure.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Braintree/js/view/payment/adapter',\n    'Magento_Checkout/js/model/quote',\n    'mage/translate'\n], function ($, braintree, quote, $t) {\n    'use strict';\n\n    return {\n        config: null,\n\n        /**\n         * Set 3d secure config\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n            this.config.thresholdAmount = parseFloat(config.thresholdAmount);\n        },\n\n        /**\n         * Get code\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'three_d_secure';\n        },\n\n        /**\n         * Validate Braintree payment nonce\n         * @param {Object} context\n         * @returns {Object}\n         */\n        validate: function (context) {\n            var client = braintree.getApiClient(),\n                state = $.Deferred(),\n                totalAmount = quote.totals()['base_grand_total'],\n                billingAddress = quote.billingAddress();\n\n            if (!this.isAmountAvailable(totalAmount) || !this.isCountryAvailable(billingAddress.countryId)) {\n                state.resolve();\n\n                return state.promise();\n            }\n\n            client.verify3DS({\n                amount: totalAmount,\n                creditCard: context.paymentMethodNonce\n            }, function (error, response) {\n                var liability;\n\n                if (error) {\n                    state.reject(error.message);\n\n                    return;\n                }\n\n                liability = {\n                    shifted: response.verificationDetails.liabilityShifted,\n                    shiftPossible: response.verificationDetails.liabilityShiftPossible\n                };\n\n                if (liability.shifted || !liability.shifted && !liability.shiftPossible) {\n                    context.paymentMethodNonce = response.nonce;\n                    state.resolve();\n                } else {\n                    state.reject($t('Please try again with another form of payment.'));\n                }\n            });\n\n            return state.promise();\n        },\n\n        /**\n         * Check minimal amount for 3d secure activation\n         * @param {Number} amount\n         * @returns {Boolean}\n         */\n        isAmountAvailable: function (amount) {\n            amount = parseFloat(amount);\n\n            return amount >= this.config.thresholdAmount;\n        },\n\n        /**\n         * Check if current country is available for 3d secure\n         * @param {String} countryId\n         * @returns {Boolean}\n         */\n        isCountryAvailable: function (countryId) {\n            var key,\n                specificCountries = this.config.specificCountries;\n\n            // all countries are available\n            if (!specificCountries.length) {\n                return true;\n            }\n\n            for (key in specificCountries) {\n                if (countryId === specificCountries[key]) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    };\n});\n","Magento_Braintree/js/view/payment/adapter.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'braintree',\n    'Magento_Ui/js/model/messageList',\n    'mage/translate'\n], function ($, braintree, globalMessageList, $t) {\n    'use strict';\n\n    return {\n        apiClient: null,\n        config: {},\n        checkout: null,\n\n        /**\n         * Get Braintree api client\n         * @returns {Object}\n         */\n        getApiClient: function () {\n            if (!this.apiClient) {\n                this.apiClient = new braintree.api.Client({\n                    clientToken: this.getClientToken()\n                });\n            }\n\n            return this.apiClient;\n        },\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Setup Braintree SDK\n         */\n        setup: function () {\n            if (!this.getClientToken()) {\n                this.showError($t('Sorry, but something went wrong.'));\n            }\n\n            braintree.setup(this.getClientToken(), 'custom', this.config);\n        },\n\n        /**\n         * Get payment name\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'braintree';\n        },\n\n        /**\n         * Get client token\n         * @returns {String|*}\n         */\n        getClientToken: function () {\n\n            return window.checkoutConfig.payment[this.getCode()].clientToken;\n        },\n\n        /**\n         * Show error message\n         *\n         * @param {String} errorMessage\n         */\n        showError: function (errorMessage) {\n            globalMessageList.addErrorMessage({\n                message: errorMessage\n            });\n        },\n\n        /**\n         * May be triggered on Braintree SDK setup\n         */\n        onReady: function () {}\n    };\n});\n","Magento_Braintree/js/view/payment/braintree.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n\n        var config = window.checkoutConfig.payment,\n            braintreeType = 'braintree',\n            payPalType = 'braintree_paypal';\n\n        if (config[braintreeType].isActive) {\n            rendererList.push(\n                {\n                    type: braintreeType,\n                    component: 'Magento_Braintree/js/view/payment/method-renderer/hosted-fields'\n                }\n            );\n        }\n\n        if (config[payPalType].isActive) {\n            rendererList.push(\n                {\n                    type: payPalType,\n                    component: 'Magento_Braintree/js/view/payment/method-renderer/paypal'\n                }\n            );\n        }\n\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n","Magento_Braintree/js/view/payment/validator-handler.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Braintree/js/view/payment/3d-secure'\n], function ($, globalMessageList, verify3DSecure) {\n    'use strict';\n\n    return {\n        validators: [],\n\n        /**\n         * Get payment config\n         * @returns {Object}\n         */\n        getConfig: function () {\n            return window.checkoutConfig.payment;\n        },\n\n        /**\n         * Init list of validators\n         */\n        initialize: function () {\n            var config = this.getConfig();\n\n            if (config[verify3DSecure.getCode()].enabled) {\n                verify3DSecure.setConfig(config[verify3DSecure.getCode()]);\n                this.add(verify3DSecure);\n            }\n        },\n\n        /**\n         * Add new validator\n         * @param {Object} validator\n         */\n        add: function (validator) {\n            this.validators.push(validator);\n        },\n\n        /**\n         * Run pull of validators\n         * @param {Object} context\n         * @param {Function} callback\n         */\n        validate: function (context, callback) {\n            var self = this,\n                deferred;\n\n            // no available validators\n            if (!self.validators.length) {\n                callback();\n\n                return;\n            }\n\n            // get list of deferred validators\n            deferred = $.map(self.validators, function (current) {\n                return current.validate(context);\n            });\n\n            $.when.apply($, deferred)\n                .done(function () {\n                    callback();\n                }).fail(function (error) {\n                    self.showError(error);\n                });\n        },\n\n        /**\n         * Show error message\n         * @param {String} errorMessage\n         */\n        showError: function (errorMessage) {\n            globalMessageList.addErrorMessage({\n                message: errorMessage\n            });\n        }\n    };\n});\n","Magento_Braintree/js/view/payment/method-renderer/cc-form.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'Magento_Payment/js/view/payment/cc-form',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Braintree/js/view/payment/adapter',\n        'mage/translate',\n        'Magento_Braintree/js/validator',\n        'Magento_Braintree/js/view/payment/validator-handler',\n        'Magento_Checkout/js/model/full-screen-loader'\n    ],\n    function (\n        _,\n        $,\n        Component,\n        quote,\n        braintree,\n        $t,\n        validator,\n        validatorManager,\n        fullScreenLoader\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                active: false,\n                braintreeClient: null,\n                braintreeDeviceData: null,\n                paymentMethodNonce: null,\n                lastBillingAddress: null,\n                validatorManager: validatorManager,\n                code: 'braintree',\n\n                /**\n                 * Additional payment data\n                 *\n                 * {Object}\n                 */\n                additionalData: {},\n\n                /**\n                 * Braintree client configuration\n                 *\n                 * {Object}\n                 */\n                clientConfig: {\n\n                    /**\n                     * Triggers on payment nonce receive\n                     * @param {Object} response\n                     */\n                    onPaymentMethodReceived: function (response) {\n                        this.beforePlaceOrder(response);\n                    },\n\n                    /**\n                     * Device data initialization\n                     *\n                     * @param {Object} checkout\n                     */\n                    onReady: function (checkout) {\n                        braintree.checkout = checkout;\n                        braintree.onReady();\n                    },\n\n                    /**\n                     * Triggers on any Braintree error\n                     * @param {Object} response\n                     */\n                    onError: function (response) {\n                        braintree.showError($t('Payment ' + this.getTitle() + ' can\\'t be initialized'));\n                        throw response.message;\n                    },\n\n                    /**\n                     * Triggers when customer click \"Cancel\"\n                     */\n                    onCancelled: function () {\n                        this.paymentMethodNonce = null;\n                    }\n                },\n                imports: {\n                    onActiveChange: 'active'\n                }\n            },\n\n            /**\n             * Set list of observable attributes\n             *\n             * @returns {exports.initObservable}\n             */\n            initObservable: function () {\n                validator.setConfig(window.checkoutConfig.payment[this.getCode()]);\n                this._super()\n                    .observe(['active']);\n                this.validatorManager.initialize();\n                this.initClientConfig();\n\n                return this;\n            },\n\n            /**\n             * Get payment name\n             *\n             * @returns {String}\n             */\n            getCode: function () {\n                return this.code;\n            },\n\n            /**\n             * Check if payment is active\n             *\n             * @returns {Boolean}\n             */\n            isActive: function () {\n                var active = this.getCode() === this.isChecked();\n\n                this.active(active);\n\n                return active;\n            },\n\n            /**\n             * Triggers when payment method change\n             * @param {Boolean} isActive\n             */\n            onActiveChange: function (isActive) {\n                if (!isActive) {\n                    return;\n                }\n\n                this.initBraintree();\n            },\n\n            /**\n             * Init config\n             */\n            initClientConfig: function () {\n                // Advanced fraud tools settings\n                if (this.hasFraudProtection()) {\n                    this.clientConfig = _.extend(this.clientConfig, this.kountConfig());\n                }\n\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n            },\n\n            /**\n             * Init Braintree configuration\n             */\n            initBraintree: function () {\n                var intervalId = setInterval(function () {\n                    // stop loader when frame will be loaded\n                    if ($('#braintree-hosted-field-number').length) {\n                        clearInterval(intervalId);\n                        fullScreenLoader.stopLoader();\n                    }\n                }, 500);\n\n                if (braintree.checkout) {\n                    braintree.checkout.teardown(function () {\n                        braintree.checkout = null;\n                    });\n                }\n\n                fullScreenLoader.startLoader();\n                braintree.setConfig(this.clientConfig);\n                braintree.setup();\n            },\n\n            /**\n             * @returns {Object}\n             */\n            kountConfig: function () {\n                var config = {\n                    dataCollector: {\n                        kount: {\n                            environment: this.getEnvironment()\n                        }\n                    },\n\n                    /**\n                     * Device data initialization\n                     *\n                     * @param {Object} checkout\n                     */\n                    onReady: function (checkout) {\n                        braintree.checkout = checkout;\n                        this.additionalData['device_data'] = checkout.deviceData;\n                        braintree.onReady();\n                    }\n                };\n\n                if (this.getKountMerchantId()) {\n                    config.dataCollector.kount.merchantId = this.getKountMerchantId();\n                }\n\n                return config;\n            },\n\n            /**\n             * Get full selector name\n             *\n             * @param {String} field\n             * @returns {String}\n             */\n            getSelector: function (field) {\n                return '#' + this.getCode() + '_' + field;\n            },\n\n            /**\n             * Get list of available CC types\n             *\n             * @returns {Object}\n             */\n            getCcAvailableTypes: function () {\n                var availableTypes = validator.getAvailableCardTypes(),\n                    billingAddress = quote.billingAddress(),\n                    billingCountryId;\n\n                this.lastBillingAddress = quote.shippingAddress();\n\n                if (!billingAddress) {\n                    billingAddress = this.lastBillingAddress;\n                }\n\n                billingCountryId = billingAddress.countryId;\n\n                if (billingCountryId && validator.getCountrySpecificCardTypes(billingCountryId)) {\n\n                    return validator.collectTypes(\n                        availableTypes, validator.getCountrySpecificCardTypes(billingCountryId)\n                    );\n                }\n\n                return availableTypes;\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            hasFraudProtection: function () {\n                return window.checkoutConfig.payment[this.getCode()].hasFraudProtection;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getEnvironment: function () {\n                return window.checkoutConfig.payment[this.getCode()].environment;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getKountMerchantId: function () {\n                return window.checkoutConfig.payment[this.getCode()].kountMerchantId;\n            },\n\n            /**\n             * Get data\n             *\n             * @returns {Object}\n             */\n            getData: function () {\n                var data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'payment_method_nonce': this.paymentMethodNonce\n                    }\n                };\n\n                data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n                return data;\n            },\n\n            /**\n             * Set payment nonce\n             * @param {String} paymentMethodNonce\n             */\n            setPaymentMethodNonce: function (paymentMethodNonce) {\n                this.paymentMethodNonce = paymentMethodNonce;\n            },\n\n            /**\n             * Prepare data to place order\n             * @param {Object} data\n             */\n            beforePlaceOrder: function (data) {\n                this.setPaymentMethodNonce(data.nonce);\n                this.placeOrder();\n            },\n\n            /**\n             * Action to place order\n             * @param {String} key\n             */\n            placeOrder: function (key) {\n                var self = this;\n\n                if (key) {\n                    return self._super();\n                }\n                // place order on success validation\n                self.validatorManager.validate(self, function () {\n                    return self.placeOrder('parent');\n                });\n\n                return false;\n            }\n        });\n    }\n);\n","Magento_Braintree/js/view/payment/method-renderer/hosted-fields.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Braintree/js/view/payment/method-renderer/cc-form',\n    'Magento_Braintree/js/validator',\n    'Magento_Vault/js/view/payment/vault-enabler',\n    'mage/translate'\n], function ($, Component, validator, VaultEnabler, $t) {\n    'use strict';\n\n    return Component.extend({\n\n        defaults: {\n            template: 'Magento_Braintree/payment/form',\n            clientConfig: {\n\n                /**\n                 * {String}\n                 */\n                id: 'co-transparent-form-braintree'\n            },\n            isValidCardNumber: false\n        },\n\n        /**\n         * @returns {exports.initialize}\n         */\n        initialize: function () {\n            this._super();\n            this.vaultEnabler = new VaultEnabler();\n            this.vaultEnabler.setPaymentCode(this.getVaultCode());\n\n            return this;\n        },\n\n        /**\n         * Init config\n         */\n        initClientConfig: function () {\n            this._super();\n\n            // Hosted fields settings\n            this.clientConfig.hostedFields = this.getHostedFields();\n        },\n\n        /**\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = this._super();\n\n            this.vaultEnabler.visitAdditionalData(data);\n\n            return data;\n        },\n\n        /**\n         * @returns {Bool}\n         */\n        isVaultEnabled: function () {\n            return this.vaultEnabler.isVaultEnabled();\n        },\n\n        /**\n         * Get Braintree Hosted Fields\n         * @returns {Object}\n         */\n        getHostedFields: function () {\n            var self = this,\n                fields = {\n                    number: {\n                        selector: self.getSelector('cc_number')\n                    },\n                    expirationMonth: {\n                        selector: self.getSelector('expirationMonth'),\n                        placeholder: $t('MM')\n                    },\n                    expirationYear: {\n                        selector: self.getSelector('expirationYear'),\n                        placeholder: $t('YY')\n                    }\n                };\n\n            if (self.hasVerification()) {\n                fields.cvv = {\n                    selector: self.getSelector('cc_cid')\n                };\n            }\n\n            /**\n             * Triggers on Hosted Field changes\n             * @param {Object} event\n             * @returns {Boolean}\n             */\n            fields.onFieldEvent = function (event) {\n                if (event.isEmpty === false) {\n                    self.validateCardType();\n                }\n\n                if (event.type !== 'fieldStateChange') {\n\n                    return false;\n                }\n\n                // Handle a change in validation or card type\n                if (event.target.fieldKey === 'number') {\n                    self.selectedCardType(null);\n                }\n\n                if (event.target.fieldKey === 'number' && event.card) {\n                    self.isValidCardNumber = event.isValid;\n                    self.selectedCardType(\n                        validator.getMageCardType(event.card.type, self.getCcAvailableTypes())\n                    );\n                }\n            };\n\n            return fields;\n        },\n\n        /**\n         * Validate current credit card type\n         * @returns {Boolean}\n         */\n        validateCardType: function () {\n            var $selector = $(this.getSelector('cc_number')),\n                invalidClass = 'braintree-hosted-fields-invalid';\n\n            $selector.removeClass(invalidClass);\n\n            if (this.selectedCardType() === null || !this.isValidCardNumber) {\n                $(this.getSelector('cc_number')).addClass(invalidClass);\n\n                return false;\n            }\n\n            return true;\n        },\n\n        /**\n         * Trigger order placing\n         */\n        placeOrderClick: function () {\n            if (this.validateCardType()) {\n                $(this.getSelector('submit')).trigger('click');\n            }\n        },\n\n        /**\n         * @returns {String}\n         */\n        getVaultCode: function () {\n            return window.checkoutConfig.payment[this.getCode()].ccVaultCode;\n        }\n    });\n});\n","Magento_Braintree/js/view/payment/method-renderer/paypal-vault.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Vault/js/view/payment/method-renderer/vault',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, _, VaultComponent, globalMessageList, fullScreenLoader) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            template: 'Magento_Braintree/payment/paypal/vault',\n            additionalData: {}\n        },\n\n        /**\n         * Get PayPal payer email\n         * @returns {String}\n         */\n        getPayerEmail: function () {\n            return this.details.payerEmail;\n        },\n\n        /**\n         * Get type of payment\n         * @returns {String}\n         */\n        getPaymentIcon: function () {\n            return window.checkoutConfig.payment['braintree_paypal'].paymentIcon;\n        },\n\n        /**\n         * Place order\n         */\n        beforePlaceOrder: function () {\n            this.getPaymentMethodNonce();\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            var self = this;\n\n            fullScreenLoader.startLoader();\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash\n            })\n                .done(function (response) {\n                    fullScreenLoader.stopLoader();\n                    self.additionalData['payment_method_nonce'] = response.paymentMethodNonce;\n                    self.placeOrder();\n                })\n                .fail(function (response) {\n                    var error = JSON.parse(response.responseText);\n\n                    fullScreenLoader.stopLoader();\n                    globalMessageList.addErrorMessage({\n                        message: error.message\n                    });\n                });\n        },\n\n        /**\n         * Get payment method data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.code,\n                'additional_data': {\n                    'public_hash': this.publicHash\n                }\n            };\n\n            data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n            return data;\n        }\n    });\n});\n","Magento_Braintree/js/view/payment/method-renderer/paypal.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Checkout/js/view/payment/default',\n    'Magento_Braintree/js/view/payment/adapter',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Vault/js/view/payment/vault-enabler',\n    'Magento_Checkout/js/action/create-billing-address'\n], function (\n    $,\n    _,\n    Component,\n    Braintree,\n    quote,\n    fullScreenLoader,\n    additionalValidators,\n    VaultEnabler,\n    createBillingAddress\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Braintree/payment/paypal',\n            code: 'braintree_paypal',\n            active: false,\n            paymentMethodNonce: null,\n            grandTotalAmount: null,\n            isReviewRequired: false,\n            customerEmail: null,\n\n            /**\n             * Additional payment data\n             *\n             * {Object}\n             */\n            additionalData: {},\n\n            /**\n             * PayPal client configuration\n             * {Object}\n             */\n            clientConfig: {\n                dataCollector: {\n                    paypal: true\n                },\n\n                /**\n                 * Triggers when widget is loaded\n                 * @param {Object} checkout\n                 */\n                onReady: function (checkout) {\n                    Braintree.checkout = checkout;\n                    this.additionalData['device_data'] = checkout.deviceData;\n                    this.enableButton();\n                    Braintree.onReady();\n                },\n\n                /**\n                 * Triggers on payment nonce receive\n                 * @param {Object} response\n                 */\n                onPaymentMethodReceived: function (response) {\n                    this.beforePlaceOrder(response);\n                }\n            },\n            imports: {\n                onActiveChange: 'active'\n            }\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            this._super()\n                .observe(['active', 'isReviewRequired', 'customerEmail']);\n\n            this.vaultEnabler = new VaultEnabler();\n            this.vaultEnabler.setPaymentCode(this.getVaultCode());\n            this.vaultEnabler.isActivePaymentTokenEnabler.subscribe(function () {\n                self.onVaultPaymentTokenEnablerChange();\n            });\n\n            this.grandTotalAmount = quote.totals()['base_grand_total'];\n\n            quote.totals.subscribe(function () {\n                if (self.grandTotalAmount !== quote.totals()['base_grand_total']) {\n                    self.grandTotalAmount = quote.totals()['base_grand_total'];\n                }\n            });\n\n            // for each component initialization need update property\n            this.isReviewRequired(false);\n            this.initClientConfig();\n\n            return this;\n        },\n\n        /**\n         * Get payment name\n         *\n         * @returns {String}\n         */\n        getCode: function () {\n            return this.code;\n        },\n\n        /**\n         * Get payment title\n         *\n         * @returns {String}\n         */\n        getTitle: function () {\n            return window.checkoutConfig.payment[this.getCode()].title;\n        },\n\n        /**\n         * Check if payment is active\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            var active = this.getCode() === this.isChecked();\n\n            this.active(active);\n\n            return active;\n        },\n\n        /**\n         * Triggers when payment method change\n         * @param {Boolean} isActive\n         */\n        onActiveChange: function (isActive) {\n            if (!isActive) {\n                return;\n            }\n\n            // need always re-init Braintree with PayPal configuration\n            this.reInitPayPal();\n        },\n\n        /**\n         * Init config\n         */\n        initClientConfig: function () {\n            this.clientConfig = _.extend(this.clientConfig, this.getPayPalConfig());\n\n            _.each(this.clientConfig, function (fn, name) {\n                if (typeof fn === 'function') {\n                    this.clientConfig[name] = fn.bind(this);\n                }\n            }, this);\n        },\n\n        /**\n         * Set payment nonce\n         * @param {String} paymentMethodNonce\n         */\n        setPaymentMethodNonce: function (paymentMethodNonce) {\n            this.paymentMethodNonce = paymentMethodNonce;\n        },\n\n        /**\n         * Update quote billing address\n         * @param {Object}customer\n         * @param {Object}address\n         */\n        setBillingAddress: function (customer, address) {\n            var billingAddress = {\n                street: [address.streetAddress],\n                city: address.locality,\n                postcode: address.postalCode,\n                countryId: address.countryCodeAlpha2,\n                email: customer.email,\n                firstname: customer.firstName,\n                lastname: customer.lastName,\n                telephone: customer.phone\n            };\n\n            billingAddress['region_code'] = address.region;\n            billingAddress = createBillingAddress(billingAddress);\n            quote.billingAddress(billingAddress);\n        },\n\n        /**\n         * Prepare data to place order\n         * @param {Object} data\n         */\n        beforePlaceOrder: function (data) {\n            this.setPaymentMethodNonce(data.nonce);\n\n            if (quote.billingAddress() === null && typeof data.details.billingAddress !== 'undefined') {\n                this.setBillingAddress(data.details, data.details.billingAddress);\n            }\n\n            if (this.isSkipOrderReview()) {\n                this.placeOrder();\n            } else {\n                this.customerEmail(data.details.email);\n                this.isReviewRequired(true);\n            }\n        },\n\n        /**\n         * Re-init PayPal Auth Flow\n         */\n        reInitPayPal: function () {\n            if (Braintree.checkout) {\n                Braintree.checkout.teardown(function () {\n                    Braintree.checkout = null;\n                });\n            }\n\n            this.disableButton();\n            this.clientConfig.paypal.amount = this.grandTotalAmount;\n\n            Braintree.setConfig(this.clientConfig);\n            Braintree.setup();\n        },\n\n        /**\n         * Get locale\n         * @returns {String}\n         */\n        getLocale: function () {\n            return window.checkoutConfig.payment[this.getCode()].locale;\n        },\n\n        /**\n         * Is shipping address can be editable on PayPal side\n         * @returns {Boolean}\n         */\n        isAllowOverrideShippingAddress: function () {\n            return window.checkoutConfig.payment[this.getCode()].isAllowShippingAddressOverride;\n        },\n\n        /**\n         * Get configuration for PayPal\n         * @returns {Object}\n         */\n        getPayPalConfig: function () {\n            var totals = quote.totals(),\n                config = {},\n                isActiveVaultEnabler = this.isActiveVault();\n\n            config.paypal = {\n                container: 'paypal-container',\n                singleUse: !isActiveVaultEnabler,\n                headless: true,\n                amount: this.grandTotalAmount,\n                currency: totals['base_currency_code'],\n                locale: this.getLocale(),\n                enableShippingAddress: true,\n\n                /**\n                 * Triggers on any Braintree error\n                 */\n                onError: function () {\n                    this.paymentMethodNonce = null;\n                },\n\n                /**\n                 * Triggers if browser doesn't support PayPal Checkout\n                 */\n                onUnsupported: function () {\n                    this.paymentMethodNonce = null;\n                }\n            };\n\n            config.paypal.shippingAddressOverride = this.getShippingAddress();\n\n            if (this.getMerchantName()) {\n                config.paypal.displayName = this.getMerchantName();\n            }\n\n            return config;\n        },\n\n        /**\n         * Get shipping address\n         * @returns {Object}\n         */\n        getShippingAddress: function () {\n            var address = quote.shippingAddress();\n\n            if (address.postcode === null) {\n\n                return {};\n            }\n\n            return {\n                recipientName: address.firstname + ' ' + address.lastname,\n                streetAddress: address.street[0],\n                locality: address.city,\n                countryCodeAlpha2: address.countryId,\n                postalCode: address.postcode,\n                region: address.regionCode,\n                phone: address.telephone,\n                editable: this.isAllowOverrideShippingAddress()\n            };\n        },\n\n        /**\n         * Get merchant name\n         * @returns {String}\n         */\n        getMerchantName: function () {\n            return window.checkoutConfig.payment[this.getCode()].merchantName;\n        },\n\n        /**\n         * Get data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.getCode(),\n                'additional_data': {\n                    'payment_method_nonce': this.paymentMethodNonce\n                }\n            };\n\n            data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n            this.vaultEnabler.visitAdditionalData(data);\n\n            return data;\n        },\n\n        /**\n         * Returns payment acceptance mark image path\n         * @returns {String}\n         */\n        getPaymentAcceptanceMarkSrc: function () {\n\n            return window.checkoutConfig.payment[this.getCode()].paymentAcceptanceMarkSrc;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getVaultCode: function () {\n            return window.checkoutConfig.payment[this.getCode()].vaultCode;\n        },\n\n        /**\n         * Check if need to skip order review\n         * @returns {Boolean}\n         */\n        isSkipOrderReview: function () {\n            return window.checkoutConfig.payment[this.getCode()].skipOrderReview;\n        },\n\n        /**\n         * Checks if vault is active\n         * @returns {Boolean}\n         */\n        isActiveVault: function () {\n            return this.vaultEnabler.isVaultEnabled() && this.vaultEnabler.isActivePaymentTokenEnabler();\n        },\n\n        /**\n         * Re-init PayPal Auth flow to use Vault\n         */\n        onVaultPaymentTokenEnablerChange: function () {\n            this.clientConfig.paypal.singleUse = !this.isActiveVault();\n            this.reInitPayPal();\n        },\n\n        /**\n         * Disable submit button\n         */\n        disableButton: function () {\n            // stop any previous shown loaders\n            fullScreenLoader.stopLoader(true);\n            fullScreenLoader.startLoader();\n            $('[data-button=\"place\"]').attr('disabled', 'disabled');\n        },\n\n        /**\n         * Enable submit button\n         */\n        enableButton: function () {\n            $('[data-button=\"place\"]').removeAttr('disabled');\n            fullScreenLoader.stopLoader();\n        },\n\n        /**\n         * Triggers when customer click \"Continue to PayPal\" button\n         */\n        payWithPayPal: function () {\n            if (additionalValidators.validate()) {\n                Braintree.checkout.paypal.initAuthFlow();\n            }\n        },\n\n        /**\n         * Get button title\n         * @returns {String}\n         */\n        getButtonTitle: function () {\n            return this.isSkipOrderReview() ? 'Pay with PayPal' : 'Continue to PayPal';\n        },\n\n        /**\n         * Get button id\n         * @returns {String}\n         */\n        getButtonId: function () {\n            return this.getCode() + (this.isSkipOrderReview() ? '_pay_with' : '_continue_to');\n        }\n    });\n});\n","Magento_Braintree/js/view/payment/method-renderer/vault.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'Magento_Vault/js/view/payment/method-renderer/vault',\n    'Magento_Braintree/js/view/payment/adapter',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, VaultComponent, Braintree, globalMessageList, fullScreenLoader) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            template: 'Magento_Vault/payment/form',\n            modules: {\n                hostedFields: '${ $.parentName }.braintree'\n            }\n        },\n\n        /**\n         * Get last 4 digits of card\n         * @returns {String}\n         */\n        getMaskedCard: function () {\n            return this.details.maskedCC;\n        },\n\n        /**\n         * Get expiration date\n         * @returns {String}\n         */\n        getExpirationDate: function () {\n            return this.details.expirationDate;\n        },\n\n        /**\n         * Get card type\n         * @returns {String}\n         */\n        getCardType: function () {\n            return this.details.type;\n        },\n\n        /**\n         * Place order\n         */\n        placeOrder: function () {\n            var self = this;\n\n            /**\n             * Define already callback\n             */\n            Braintree.onReady = function () {\n                self.getPaymentMethodNonce();\n            };\n            self.hostedFields(function (formComponent) {\n                formComponent.initBraintree();\n            });\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            var self = this;\n\n            fullScreenLoader.startLoader();\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash\n            })\n                .done(function (response) {\n                    fullScreenLoader.stopLoader();\n                    self.hostedFields(function (formComponent) {\n                        formComponent.setPaymentMethodNonce(response.paymentMethodNonce);\n                        formComponent.additionalData['public_hash'] = self.publicHash;\n                        formComponent.code = self.code;\n                        formComponent.placeOrder();\n                    });\n                })\n                .fail(function (response) {\n                    var error = JSON.parse(response.responseText);\n\n                    fullScreenLoader.stopLoader();\n                    globalMessageList.addErrorMessage({\n                        message: error.message\n                    });\n                });\n        }\n    });\n});\n","Magento_Authorizenet/js/view/payment/authorizenet.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n        rendererList.push(\n            {\n                type: 'authorizenet_directpost',\n                component: 'Magento_Authorizenet/js/view/payment/method-renderer/authorizenet-directpost'\n            }\n        );\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n","Magento_Authorizenet/js/view/payment/method-renderer/authorizenet-directpost.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'Magento_Payment/js/view/payment/iframe'\n    ],\n    function ($, Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Authorizenet/payment/authorizenet-directpost',\n                timeoutMessage: 'Sorry, but something went wrong. Please contact the seller.'\n            },\n            placeOrderHandler: null,\n            validateHandler: null,\n\n            /**\n             * @param {Object} handler\n             */\n            setPlaceOrderHandler: function (handler) {\n                this.placeOrderHandler = handler;\n            },\n\n            /**\n             * @param {Object} handler\n             */\n            setValidateHandler: function (handler) {\n                this.validateHandler = handler;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            context: function () {\n                return this;\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            isShowLegend: function () {\n                return true;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getCode: function () {\n                return 'authorizenet_directpost';\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            isActive: function () {\n                return true;\n            }\n        });\n    }\n);\n","TemplateMonster_AjaxCatalog/js/compare-products-top-link.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/modal/modal',\r\n    'Magento_Catalog/js/compare',\r\n    'mage/loader'\r\n],function($,$t,alert,modal) {\r\n    'use strict';\r\n\r\n    var isLoadCompareAjax = false;\r\n\r\n    $.widget('tm.showCompareProduct',{\r\n\r\n        productInCompareList: [],\r\n\r\n        _create: function() {\r\n            if(!compareProductAddAjax) {\r\n                return false;\r\n            }\r\n            this._initProductCompareListArray();\r\n            this._actionAddToCompare();\r\n            this._actionCompare();\r\n            this._actionPrint();\r\n            this._actionRemoveProduct();\r\n        },\r\n\r\n        _actionCompare : function(){\r\n            $('body').on('click','.action.compare',function(e){\r\n                e.preventDefault();\r\n\r\n                var href = $(e.currentTarget).attr('href');\r\n\r\n                $.ajaxSetup({showLoader: true});\r\n                $.post(href,function(data){\r\n                    var compareProductBox = $('#productComparePopup');\r\n                    compareProductBox.html('');\r\n                    compareProductBox.html(data.content);\r\n                    compareProductBox.modal();\r\n                    compareProductBox.modal('openModal');\r\n                }).fail(function(){\r\n                    alert({\r\n                        content: $t('Can not finish request.Try again.')\r\n                    });\r\n                });\r\n                return false;\r\n            });\r\n        },\r\n\r\n        _actionPrint : function(){\r\n            //Print compare product\r\n            $('body').on('click', '.action.print',function(e) {\r\n                e.preventDefault();\r\n                window.print();\r\n            });\r\n\r\n        },\r\n\r\n        _actionRemoveProduct : function(){\r\n            //  Add event for remove in modal compare product\r\n            $('body').on('click','.cell.remove.product',function(e){\r\n\r\n                if(isLoadCompareAjax) {return false;}\r\n                isLoadCompareAjax = true;\r\n\r\n                e.preventDefault();\r\n\r\n                var index;\r\n                index = $( \".cell.remove.product\" ).index( this );\r\n                var params = $(e.currentTarget).children('a').data('post');\r\n                var postParams = params.data;\r\n\r\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\r\n\r\n                $.ajaxSetup({showLoader: true});\r\n                $.post(params.action,postParams,function(data){\r\n                }).success(function(){\r\n                    ++index; // Psevdo class nth-child starts count from 1\r\n                    ++index; // Add Label product column\r\n                    //Remove product information from modal window\r\n                    $('#product-comparison .cell.product.attribute:nth-child(' + index + ')').remove();\r\n                    $('#product-comparison .cell.product.info:nth-child(' + index + ')').remove();\r\n                    $('#product-comparison .cell.remove.product:nth-child(' + index + ')').remove();\r\n                }).fail(function(){\r\n                    alert({\r\n                        content: $t('Can not finish request.Try again.')\r\n                    });\r\n                }).always(function(){\r\n                    isLoadCompareAjax = false;\r\n                });\r\n                return false;\r\n            });\r\n        },\r\n\r\n        _actionAddToCompare : function(){\r\n            $('body').on('click','a[data-post].tocompare', $.proxy(function(e){\r\n\r\n                e.preventDefault();\r\n\r\n                var params = $(e.currentTarget).data('post');\r\n                var postParams = params.data;\r\n\r\n                //Check if product is in compare list already.\r\n                if($.inArray(postParams.product,this.productInCompareList) !== -1) {\r\n                    alert({\r\n                        content: $t('Current product is already in the comparison list.')\r\n                    });\r\n                    return false;\r\n                }\r\n\r\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\r\n\r\n                $.ajaxSetup({showLoader: true});\r\n                $.post(params.action,postParams,function(data){\r\n                    $('body').trigger('contentUpdated');\r\n                }).fail(function(){\r\n                    alert({\r\n                        content: $t('Can not finish request.Try again.')\r\n                    });\r\n                });\r\n                return false;\r\n            },this));\r\n        },\r\n\r\n        _initProductCompareListArray: function()\r\n        {\r\n            //On init widget create array.\r\n            this._getProductCompareArray();\r\n            //Create array on ajax action.\r\n            $(document).on('ajaxComplete', $.proxy(this._getProductCompareArray,this));\r\n        },\r\n\r\n        _getProductCompareArray: function() {\r\n            var storage = $.localStorage;\r\n            var cacheStorage = storage.get('mage-cache-storage');\r\n            if(cacheStorage.hasOwnProperty('compare-products')) {\r\n                var compareProduct = cacheStorage['compare-products'];\r\n                this.productInCompareList = [];\r\n                if(compareProduct.count !== 0) {\r\n                    $.each(compareProduct.items,$.proxy(function(index,value){\r\n                        if($.inArray(value.id,this.productInCompareList) === -1) {\r\n                            this.productInCompareList.push(value.id);\r\n                        }\r\n                    },this));\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    return $.tm.showCompareProduct;\r\n\r\n});","TemplateMonster_AjaxCatalog/js/tm-catalog-ajax.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Catalog/js/product/list/toolbar',\r\n    'mage/loader'\r\n],function($,$t){\r\n\r\n    var isLoadTmAjaxCatalog = false;\r\n\r\n    $.widget('tm.catalogAjax',$.mage.productListToolbarForm,{\r\n\r\n        options: {\r\n            paginationControl : \".pages a\",\r\n            layoutNavigation : \"#layered-filter-block a:not(.ui-slider-handle)\",\r\n            layerMap: {name:'layer'},\r\n            paginationMap: {name:'showpagination'},\r\n            activeFilters: {},\r\n            catalogAjaxLoading: 'catalog-ajax-loading',\r\n            showLoader: true,\r\n\r\n            scrollAnchor: '#infinite_loadMoreAnchor',\r\n            //allPages: parseInt($('#infinite_loadMoreAnchor').data('all-pages')),\r\n            //pagesToShow: parseInt($('#infinite_loadMoreAnchor').data('pages-to-show')),\r\n            infiniteScrollPages: parseInt($('#infinite_loadMoreAnchor').data('pages')),\r\n            allProductsSelector: '#toolbar-amount .toolbar-number:last-child',\r\n            minProductsRange: '#toolbar-amount .toolbar-number:first-child',\r\n            allProducts: null,\r\n            scrollProcessing: false,\r\n            windowHeightOffset: 200,\r\n            defaultPage: 1,\r\n            showMoreActions: '.infiniteScroll_wrap'\r\n        },\r\n\r\n        _create: function () {\r\n            // Add ajax handlers for pagination and layer filter\r\n            this._layerPaginationInit();\r\n            this._super();\r\n\r\n            if(this._isEnabledScroll()){\r\n                this.options.activeFilters.p = 1;\r\n\r\n                this._getAllProducts();\r\n                this._infiniteScrollInit();\r\n                this._hidePagination();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init selectors for layered filters and pagination\r\n         * @private\r\n         */\r\n        _layerPaginationInit : function() {\r\n\r\n            //Layer filters intercept\r\n            var actionType = $(this.options.paginationControl).is(\"select\") ? 'change' : 'click';\r\n\r\n            $(this.options.paginationControl).on(actionType,\r\n                {paramName:this.options.paginationMap.name},\r\n                $.proxy(this._layerPagination,this)\r\n            );\r\n\r\n            //Pagination filtes intercept\r\n            $(this.options.layoutNavigation).on(actionType,\r\n                {paramName:this.options.layerMap.name},\r\n                $.proxy(this._layerPagination,this)\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Handler for layered filters and pagination\r\n         * @param event\r\n         * @returns {boolean}\r\n         * @private\r\n         */\r\n        _layerPagination: function(event){\r\n\r\n            if(!this.options.activeFilters[event.data.paramName]) {\r\n                return true;\r\n            }\r\n            event.preventDefault();\r\n\r\n            //TODO: need fix for differend layered filter type.In next version!\r\n            var locationURL = $(event.currentTarget).attr('href');\r\n\r\n            this._ajaxNavClient(locationURL);\r\n        },\r\n\r\n        /**\r\n         * Update url and pass to ajax request\r\n         * @param paramName\r\n         * @param paramValue\r\n         * @param defaultValue\r\n         */\r\n        changeUrl: function (paramName, paramValue, defaultValue) {\r\n\r\n            ////Check if need activate ajax filter\r\n            if(!this.options.activeFilters[paramName]) {\r\n                this._super(paramName, paramValue, defaultValue);\r\n                return;\r\n            }\r\n\r\n            var urlPaths = this.options.url.split('?');\r\n\r\n            //If infinite scroll enabled use window location\r\n            if(this.options.scrollProcessing){\r\n                urlPaths = window.location.href.split('?');\r\n            }\r\n\r\n            var baseUrl = urlPaths[0],\r\n                urlParams = urlPaths[1] ? urlPaths[1].split('&') : [],\r\n                paramData = {},\r\n                parameters;\r\n\r\n            for (var i = 0; i < urlParams.length; i++) {\r\n                parameters = urlParams[i].split('=');\r\n                paramData[parameters[0]] = parameters[1] !== undefined\r\n                    ? window.decodeURIComponent(parameters[1].replace(/\\+/g, '%20'))\r\n                    : '';\r\n            }\r\n\r\n            //Drop infinite scroll if any filter activated\r\n            if(!this.options.scrollProcessing){\r\n                delete paramData.p;\r\n            }\r\n\r\n            paramData[paramName] = paramValue;\r\n            if (paramValue == defaultValue) {\r\n                delete paramData[paramName];\r\n            }\r\n            paramData = $.param(paramData);\r\n\r\n            var locationURL = baseUrl + (paramData.length ? '?' + paramData : '');\r\n\r\n            this._ajaxNavClient(locationURL);\r\n        },\r\n\r\n        /**\r\n         * Get URL params as object\r\n         * @returns {{}}\r\n         * @private\r\n         */\r\n        _getUrlParams: function(url){\r\n            var urlPaths = url.split('?'),\r\n                baseUrl = urlPaths[0],\r\n                urlParams = urlPaths[1] ? urlPaths[1].split('&') : [],\r\n                paramData = {},\r\n                parameters;\r\n            for (var i = 0; i < urlParams.length; i++) {\r\n                parameters = urlParams[i].split('=');\r\n                paramData[parameters[0]] = parameters[1] !== undefined\r\n                    ? window.decodeURIComponent(parameters[1].replace(/\\+/g, '%20'))\r\n                    : '';\r\n            }\r\n\r\n            return paramData;\r\n        },\r\n\r\n        /**\r\n         * Get number of products in current request and save in options\r\n         * @private\r\n         */\r\n        _getAllProducts: function(){\r\n            this.options.allProducts = parseInt($(this.options.allProductsSelector).html());\r\n        },\r\n\r\n        /**\r\n         * Get number of product pages\r\n         * @returns {number}\r\n         * @private\r\n         */\r\n        _getMaxPages: function(){\r\n            var url = window.location.href,\r\n                params = this._getUrlParams('url'),\r\n                limit = params.product_list_limit;\r\n\r\n            if(limit == undefined){\r\n                limit = parseInt(this.options.limitDefault);\r\n            }\r\n\r\n            return Math.ceil(this.options.allProducts / limit);\r\n        },\r\n\r\n        /**\r\n         * Get current page number\r\n         * @returns {Number}\r\n         * @private\r\n         */\r\n        _getCurrentPage: function(){\r\n            var params = this._getUrlParams(window.location.href),\r\n                result = params['p'] ? params['p'] : this.options.defaultPage;\r\n\r\n            return parseInt(result);\r\n        },\r\n\r\n        /**\r\n         * Hide pagination\r\n         * @private\r\n         */\r\n        _hidePagination: function(){\r\n            $('.pages').hide();\r\n        },\r\n\r\n        /**\r\n         * Init infinite scroll\r\n         * @private\r\n         */\r\n        _infiniteScrollInit: function(){\r\n\r\n            var self = this,\r\n                options = this.options;\r\n\r\n            this._setMinProductsRange();\r\n\r\n            $(document).on('scroll', function(){\r\n\r\n                var windowMarkerPosition = $(this).scrollTop() + ($(window).height() - options.windowHeightOffset),\r\n                    scrollAnchorPosition = $(options.scrollAnchor).position().top;\r\n\r\n                //Check if window scrollTop match anchor position\r\n                if( scrollAnchorPosition - windowMarkerPosition <= 20 ){\r\n\r\n                    if(self.options.scrollProcessing){\r\n                        return false;\r\n                    }\r\n\r\n                    if(self._getCurrentPage() >= self.options.infiniteScrollPages){\r\n                        self._loadMoreButton();\r\n                        return false;\r\n                    }\r\n\r\n                    self.options.scrollProcessing = true;\r\n\r\n                    self.changeUrl('p', self._getCurrentPage() + 1, self.options.defaultPage);\r\n                }\r\n            })\r\n        },\r\n\r\n        _isEnabledScroll: function(){\r\n            return $(this.options.scrollAnchor).length > 0\r\n        },\r\n\r\n        _loadMoreButton: function(){\r\n            var self = this,\r\n                actions = $(this.options.showMoreActions).find('.actions'),\r\n                button = actions.find('button');\r\n\r\n            if(self._getCurrentPage() < self._getMaxPages()){\r\n                self.options.scrollProcessing = true;\r\n\r\n                button.on('click', function(){\r\n                    self.changeUrl('p', self._getCurrentPage() + 1, self.options.defaultPage);\r\n                });\r\n\r\n                actions.show();\r\n            } else {\r\n                actions.hide();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Return and insert html by ajax request\r\n         * @param locationURL\r\n         * @returns {boolean}\r\n         * @private\r\n         */\r\n        _ajaxNavClient: function(locationURL){\r\n\r\n            var self = this;\r\n\r\n            if(isLoadTmAjaxCatalog){\r\n                return false;\r\n            }\r\n\r\n            isLoadTmAjaxCatalog = true;\r\n\r\n            var encodeUrl = decodeURIComponent(locationURL);\r\n\r\n            $.ajax(encodeUrl,{\r\n                method: 'POST',\r\n                showLoader: this.options.showLoader\r\n            }).done(function(data){\r\n\r\n                if (data.error){\r\n                    if ((typeof data.message) == 'string') {\r\n                        alert(data.message);\r\n                    } else {\r\n                        alert(data.message.join(\"\\n\"));\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                var contentHtml = data.content;\r\n                if(contentHtml) {\r\n                    self._updateProducts(contentHtml);\r\n                }\r\n\r\n                self._getAllProducts();\r\n\r\n                var layerHtml = data.layer;\r\n                if(layerHtml) {\r\n                    $('#layered-filter-block').replaceWith(\r\n                        $('<div />').html(layerHtml).find('#layered-filter-block')\r\n                    );\r\n                }\r\n\r\n                var parser;\r\n                parser = document.createElement('a');\r\n                parser.href = locationURL;\r\n\r\n                var pathName = parser.pathname;\r\n                var search = parser.search;\r\n                var pathSearch = pathName + search;\r\n                var pathSearchEncode = decodeURIComponent(pathSearch);\r\n\r\n                /*@overwrite function in SwatchRenderer.js*/\r\n                $.parseParams = function (query) {\r\n                    var re = /([^&=]+)=?([^&]*)/g,\r\n                        decodeRE = /\\+/g,  /*Regex for replacing addition symbol with a space*/\r\n                        decode = function (str) {\r\n                            return decodeURIComponent(str.replace(decodeRE, \" \"));\r\n                        },\r\n                        params = {}, e;\r\n\r\n                    while (e = re.exec(query)) {\r\n                        var k = decode(e[1]), v = decode(e[2]);\r\n                        if (k.substring(k.length - 2) === '[]') {\r\n                            k = k.substring(0, k.length - 2);\r\n                            (params[k] || (params[k] = [])).push(v);\r\n                        }\r\n                        else params[k] = v;\r\n                    }\r\n                    return params;\r\n                };\r\n\r\n                var result = $.parseParams(parser.search.substring(1));\r\n                /*@overwrite function in SwatchRenderer.js\r\n                 when SR Swatcher try change color after filter apply*/\r\n                $.parseParams = function() {\r\n                    return result;\r\n                };\r\n\r\n                if(pathSearchEncode) {\r\n                    window.history.pushState({\"path\":pathSearchEncode}, \"Ajax Search\", pathSearchEncode);\r\n                }\r\n\r\n                /*REFRESH ALL WIDGETS*/\r\n                $('body').trigger('contentUpdated');\r\n                $(\"html, body\").animate({ scrollTop: $('.toolbar-products').offset().top - 100 }, 1000);\r\n\r\n            }).fail(function(){\r\n                alert($t('Can not finish request.Try again.'));\r\n            }).always(function(){\r\n                isLoadTmAjaxCatalog = false;\r\n            });\r\n\r\n        },\r\n\r\n        _updateProducts: function(contentHtml){\r\n\r\n            $('.toolbar.toolbar-products').replaceWith(\r\n                $('<div />').html(contentHtml).find('.toolbar.toolbar-products').first()\r\n            );\r\n\r\n            if(this.options.scrollProcessing){\r\n                var productList = $('<div />').html(contentHtml).find('.product-items').html();\r\n\r\n                $('.products.wrapper .product-items').append(productList);\r\n\r\n                this.options.scrollProcessing = false;\r\n            } else  {\r\n                $('.products.wrapper').replaceWith(\r\n                    $('<div />').html(contentHtml).find('.products.wrapper')\r\n                );\r\n            }\r\n        },\r\n\r\n        _setMinProductsRange: function(){\r\n            var firstRange = this.options.minProductsRange;\r\n\r\n            $(firstRange).html(1);\r\n        }\r\n    });\r\n\r\n    return $.tm.catalogAjax;\r\n});\r\n\r\n","TemplateMonster_AjaxCatalog/js/tm-compare-ajax.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\n\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Catalog/js/compare',\r\n    'mage/loader'\r\n],function($,alert){\r\n    'use strict';\r\n\r\n    $.widget('tm.compareItems',$.mage.compareItems,{\r\n\r\n        _create: function() {\r\n            this._super();\r\n        },\r\n\r\n        _confirm: function(selector, message) {\r\n\r\n            if(!compareProductAddAjax) {\r\n                return this._super(selector, message);\r\n            }\r\n\r\n            $('body').on('click', selector,function(e) {\r\n                e.preventDefault();\r\n                var agree =  confirm(message);\r\n                if(!agree) {return false;}\r\n\r\n                var params = $(e.currentTarget).data('post');\r\n\r\n                var postParams = params.data;\r\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\r\n\r\n                 $.ajaxSetup({showLoader: true});\r\n                 $.post(params.action,postParams,function(data){\r\n                    $('body').trigger('contentUpdated');\r\n                 }).fail(function(){\r\n                     alert({\r\n                         content: $t('Can not finish request.Try again.')\r\n                     });\r\n                 });\r\n\r\n                return false;\r\n            });\r\n        }\r\n    });\r\n\r\n    return $.tm.compareItems;\r\n});\r\n","TemplateMonster_AjaxCatalog/js/tm-price-slider.js":"define([\n    'jquery',\n    'jquery/ui'\n], function($){\n    $.widget('tm.priceRangeSlider', {\n        options:{\n            minPrice: null,\n            maxPrice: null,\n            minField: '#minPrice',\n            maxField: '#maxPrice',\n            range: null,\n            url: null,\n            paramName: 'price',\n            defaultValue: null,\n            submitSelector: '#slider-range_submit',\n            precision: .01\n        },\n\n        _create: function() {\n            var self = this,\n                options = self.options,\n                minField = options.minField,\n                maxField = options.maxField,\n                minPrice = parseFloat(options.minPrice),\n                maxPrice = parseFloat(options.maxPrice);\n\n            var slider = this.element.slider({\n                range: true,\n                min: minPrice,\n                max: maxPrice,\n                step: options.precision,\n                values: [ minPrice, maxPrice ],\n                slide: function( event, ui ) {\n                    var resultMin = parseFloat(ui.values[ 0 ]).toFixed(2),\n                        resultMax = parseFloat(ui.values[ 1 ]).toFixed(2);\n\n                    $(minField).val(resultMin);\n                    $(maxField).val(resultMax);\n\n                    options.range = resultMin + '-' + resultMax;\n\n                    self._updateUrl();\n                }\n            });\n\n            $(minField).on('change', function(){\n                slider.slider(\"values\", [$(this).val(), $(minField).val()]);\n\n                options.range = $(this).val() + '-' + $(maxField).val();\n                self._updateUrl();\n            });\n\n            $(maxField).on('change', function(){\n                slider.slider(\"values\", [$(minField).val(), $(this).val()]);\n\n                options.range = $(minField).val() + '-' + $(this).val();\n                self._updateUrl();\n            });\n        },\n\n        _updateUrl: function(){\n            var self = this,\n                options = self.options,\n                submitButton = $(options.submitSelector);\n\n            submitButton.attr(\n                'href',\n                self._changeUrl(options.paramName, options.range, options.defaultValue )\n            );\n        },\n\n        _changeUrl: function(paramName, paramValue, defaultValue){\n            var urlPaths = this.options.url.split('?'),\n                baseUrl = urlPaths[0],\n                urlParams = urlPaths[1] ? urlPaths[1].split('&') : [],\n                paramData = {},\n                parameters;\n            for (var i = 0; i < urlParams.length; i++) {\n                parameters = urlParams[i].split('=');\n                paramData[parameters[0]] = parameters[1] !== undefined\n                    ? window.decodeURIComponent(parameters[1].replace(/\\+/g, '%20'))\n                    : '';\n            }\n            paramData[paramName] = paramValue;\n            if (paramValue == defaultValue) {\n                delete paramData[paramName];\n            }\n\n            paramData = $.param(paramData);\n\n            return baseUrl + (paramData.length ? '?' + paramData : '');\n        }\n    });\n\n    return $.tm.priceRangeSlider;\n});","TemplateMonster_AjaxCompare/js/compare-products-top-link.js":"/**\n *\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\n * See COPYING.txt for license details.\n *\n */\ndefine([\n    'jquery',\n    'mage/translate',\n    'Magento_Ui/js/modal/alert',\n    'underscore',\n    'Magento_Ui/js/modal/modal',\n    'Magento_Catalog/js/compare',\n    'catalogAddToCart',\n    'mage/loader'\n],function($,$t,alert,_) {\n    'use strict';\n\n    var isLoadCompareAjax = false;\n\n    $.widget('tm.showCompareProduct',{\n        options: {\n            loaderTemplate:\n                '<div class=\"loading-mask\" data-role=\"loader\">' +\n                    '<div class=\"loader ajax-compare\">' +\n                        '<img alt=\"<%- data.texts.imgAlt %>\" src=\"<%- data.icon %>\">' +\n                        '<p><%- data.texts.loaderText %></p>' +\n                    '</div>' +\n                '</div>'\n        },\n        productInCompareList: [],\n        compareProductBox: null,\n        prevTemplate: null,\n        prevIcon: null,\n\n        _create: function() {\n            if(!compareProductAddAjax) {\n                return false;\n            }\n            this._initProductCompareListArray();\n            this._actionAddToCompare();\n            this._actionCompare();\n            this._actionPrint();\n            this._actionRemoveProduct();\n            _.bindAll(this, '_changeLoaderTemplate', '_recoverLoaderTemplate');\n        },\n\n        _actionCompare : function(){\n            var self = this;\n            $('body').on('click','.action.compare',function(e){\n                e.preventDefault();\n\n                var href = $(e.currentTarget).attr('href');\n\n                $.ajaxSetup({showLoader: true});\n                $.ajax({\n                    method: 'POST',\n                    url: href,\n                    beforeSend: self._changeLoaderTemplate,\n                    complete:  self._recoverLoaderTemplate\n                }).done(function(data){\n                    self.compareProductBox = $('#productComparePopup').html(data.content).modal();\n                    self.compareProductBox.modal('openModal');\n                    $('[data-role=tocart-form]').catalogAddToCart();\n                }).fail(function(){\n                    alert({\n                        content: $t('Can not finish request.Try again.')\n                    });\n                });\n                return false;\n            });\n        },\n\n        _actionPrint : function(){\n            //Print compare product\n            $('body').on('click', '.action.print',function(e) {\n                e.preventDefault();\n                window.print();\n            });\n\n        },\n\n        _actionRemoveProduct : function(){\n            //  Add event for remove in modal compare product\n            var self = this;\n            $('body').on('click','.cell.remove.product',function(e){\n\n                if(isLoadCompareAjax) {return false;}\n                isLoadCompareAjax = true;\n\n                e.preventDefault();\n\n                var index;\n                index = $( \".cell.remove.product\" ).index( this );\n                var params = $(e.currentTarget).children('a').data('post');\n                var postParams = params.data;\n\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\n\n                $.ajaxSetup({showLoader: true});\n                $.ajax({\n                    method: 'POST',\n                    url: params.action,\n                    data: postParams,\n                    beforeSend: self._changeLoaderTemplate,\n                    complete:  self._recoverLoaderTemplate\n                }).success(function() {\n                    ++index; // Psevdo class nth-child starts count from 1\n                    ++index; // Add Label product column\n                    // Remove product information from modal window\n                    $('#product-comparison .cell.product.attribute:nth-child(' + index + ')').remove();\n                    $('#product-comparison .cell.product.info:nth-child(' + index + ')').remove();\n                    $('#product-comparison .cell.remove.product:nth-child(' + index + ')').remove();\n\n                    if ($('#product-comparison .cell.product.info').length < 1) {\n                        self.compareProductBox.modal('closeModal');\n                    }\n                }).fail(function() {\n                    alert({\n                        content: $t('Can not finish request.Try again.')\n                    });\n                }).always(function() {\n                    isLoadCompareAjax = false;\n                });\n                return false;\n            });\n        },\n\n        _actionAddToCompare : function(){\n            $('body').on('click','a[data-post].tocompare', $.proxy(function(e){\n\n                e.preventDefault();\n\n                var params = $(e.currentTarget).data('post');\n                var postParams = params.data;\n\n                //Check if product is in compare list already.\n                if($.inArray(postParams.product,this.productInCompareList) !== -1) {\n                    alert({\n                        content: $t('Current product is already in the comparison list.')\n                    });\n                    return false;\n                }\n\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\n\n                $.ajaxSetup({showLoader: true});\n                $.ajax({\n                    method: 'POST',\n                    url: params.action,\n                    data: postParams,\n                    beforeSend: this._changeLoaderTemplate,\n                    complete:  this._recoverLoaderTemplate\n                }).done(function(data) {\n                    alert({\n                        title: 'Ajax Compare',\n                        content: data.message\n                    });\n                    $('body').trigger('contentUpdated');\n                }).fail(function() {\n                    alert({\n                        content: $t('Can not finish request.Try again.')\n                    });\n                });\n                return false;\n            },this));\n        },\n\n        _initProductCompareListArray: function()\n        {\n            //On init widget create array.\n            this._getProductCompareArray();\n            //Create array on ajax action.\n            $(document).on('ajaxComplete', $.proxy(this._getProductCompareArray, this));\n        },\n\n        _getProductCompareArray: function() {\n            var storage = $.localStorage;\n            var cacheStorage = storage.get('mage-cache-storage');\n            if(cacheStorage.hasOwnProperty('compare-products')) {\n                var compareProduct = cacheStorage['compare-products'];\n                this.productInCompareList = [];\n                if(compareProduct.count !== 0) {\n                    $.each(compareProduct.items,$.proxy(function(index,value){\n                        if($.inArray(value.id,this.productInCompareList) === -1) {\n                            this.productInCompareList.push(value.id);\n                        }\n                    },this));\n                }\n            }\n        },\n\n        _changeLoaderTemplate: function() {\n            var ctx = $('[data-container=body]');\n            this.prevTemplate = ctx.loader('option', 'template');\n            this.prevIcon = ctx.loader('option', 'icon');\n            try {ctx.loader('destroy')} catch (e) {}\n            ctx.loader({\n                icon: this.prevIcon,\n                template: this.options.loaderTemplate\n            });\n        },\n\n        _recoverLoaderTemplate: function () {\n            var ctx = $('[data-container=body]');\n            try {ctx.loader('destroy')} catch (e) {}\n            ctx.loader({\n                icon: this.prevIcon,\n                template: this.prevTemplate\n            });\n        }\n    });\n\n    return $.tm.showCompareProduct;\n\n});","TemplateMonster_AjaxCompare/js/tm-compare-ajax.js":"/**\n *\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\n * See COPYING.txt for license details.\n *\n */\n\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Catalog/js/compare',\n    'mage/loader'\n],function($,alert){\n    'use strict';\n\n    $.widget('tm.compareItems',$.mage.compareItems,{\n\n        _create: function() {\n            this._super();\n        },\n\n        _confirm: function(selector, message) {\n\n            if(!compareProductAddAjax) {\n                return this._super(selector, message);\n            }\n\n            $('body').on('click', selector,function(e) {\n                e.preventDefault();\n                var agree =  confirm(message);\n                if(!agree) {return false;}\n\n                var params = $(e.currentTarget).data('post');\n\n                var postParams = params.data;\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\n\n                 $.ajaxSetup({showLoader: true});\n                 $.post(params.action,postParams,function(data){\n                    $('body').trigger('contentUpdated');\n                 }).fail(function(){\n                     alert({\n                         content: $t('Can not finish request.Try again.')\n                     });\n                 });\n\n                return false;\n            });\n        }\n    });\n\n    return $.tm.compareItems;\n});\n","TemplateMonster_AjaxSearch/js/tm-search-ajax.js":"define([\n    'jquery',\n    'jquery/ui',\n    'Magento_Search/form-mini'\n\n],function($) {\n    'use strict';\n\n    $.widget('tm.quickSearchAjax', $.mage.quickSearch,{\n        options: {\n            template:\n                '<li class=\"<%- data.row_class %> search-item\" id=\"qs-option-<%- data.index %>\" role=\"option\">' +\n                    //product item\n                    '<% if(data.product) { %>' +\n                        '<a href=\"<%- data.url %>\">' +\n                    '<% if(data.image) { %>' +\n                        '<span class=\"search-thumb\">' +\n                            '<img src=\"<%- data.image %>\"/>' +\n                        '</span>' +\n                    '<% } %>' +\n                        '<span class=\"qs-option-name\">' +\n                            ' <%- data.title %>' +\n                        '</span>' +\n                            '<%= data.price %>' +\n                        '</a>' +\n                        //category item\n                    '<% } else if(data.category) { %>' +\n                        '<a href=\"<%- data.url %>\">' +\n                        '<span class=\"qs-option-name\">' +\n                            ' <%- data.title %>' +\n                        '</span>' +\n                        '</a>' +\n                        //search item\n                    '<% } else { %>' +\n                        '<span class=\"qs-option-name\">' +\n                            '<%- data.title %>' +\n                        '</span>' +\n                        '<span aria-hidden=\"true\" class=\"amount\"> (' +\n                            '<%- data.num_results %>' +\n                        ')</span>' +\n                    '<% } %>' +\n                '</li>',\n       }\n    });\n\n    return $.tm.quickSearchAjax;\n\n});","TemplateMonster_AjaxWishlist/js/ajaxwishlist.js":"define([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/loader'\n], function($, mageTemplate, alert) {\n    'use strict';\n\n    $.widget('tm.ajaxWishlist', {\n\n        options: {\n            addToWishlistSelector: '[data-action=\"add-to-wishlist\"]',\n            removeFromWishlistSelector: '.block-wishlist .btn-remove',\n            wishlistBlockSelector: '#wishlist-view-form',\n            formKeyInputSelector: 'input[name=\"form_key\"]',\n            notLoggedInErrorMessage: 'Please <a href=\"<%- url %>\">log in</a> to be able add items to wishlist.',\n            errorMessage: 'There is an error occurred while processing the request.',\n            isShowSpinner: true,\n            isShowSuccessMessage: true,\n            customerLoginUrl: null\n        },\n\n        _create: function() {\n            this._bind();\n        },\n        \n        _bind: function () {\n            var selectors = [\n                this.options.addToWishlistSelector,\n                this.options.removeFromWishlistSelector\n            ];\n\n            $('body').on('click', selectors.join(','), $.proxy(this._processViaAjax, this));\n        },\n\n        _processViaAjax: function(event) {\n            var\n                post = $(event.currentTarget).data('post'),\n                url = post.action,\n                data = $.extend(post.data, {form_key: $(this.options.formKeyInputSelector).val()});\n\n            $.ajax(url, {\n                method: 'POST',\n                data: data,\n                showLoader: this.options.isShowSpinner\n            }).done($.proxy(this._successHandler, this)).fail($.proxy(this._errorHandler, this));\n\n            event.stopPropagation();\n            event.preventDefault();\n        },\n\n        _successHandler: function(data) {\n            if (!data.success && data.error == 'not_logged_in') {\n                alert({\n                    title: 'Ajax Wishlist',\n                    content: mageTemplate(this.options.notLoggedInErrorMessage, {\n                        url: this.options.customerLoginUrl\n                    })\n                });\n\n                return;\n            }\n\n            $(this.options.wishlistBlockSelector).replaceWith(data.wishlist);\n            $('body').trigger('contentUpdated');\n\n            if (this.options.isShowSuccessMessage && data.message) {\n                alert({\n                    title: 'Ajax Wishlist',\n                    content: data.message\n                });\n            }\n        },\n\n        _errorHandler: function () {\n            alert({\n                title: 'Ajax Wishlist',\n                content: mageTemplate(this.options.errorMessage)\n            });\n        }\n\n    });\n\n    return $.tm.ajaxWishlist;\n\n});","TemplateMonster_AjaxWishlist/js/wishlist.js":"define([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'TemplateMonster_AjaxWishlist/js/ajaxwishlist',\n    'jquery/ui',\n    'Magento_Wishlist/wishlist',\n    'mage/loader'\n], function($, alert) {\n    'use strict';\n\n    if ($('body').data('tmAjaxWishlist')) {\n\n        $.widget('tm.wishlist', $.mage.wishlist, {\n            options: {\n                btnUpdateSelector: '.update',\n                formKeyInputSelector: 'input[name=\"form_key\"]',\n                errorMessage: 'There is an error occurred while processing the request.'\n            },\n\n            _create: function () {\n                this._super();\n                this._bind();\n            },\n\n            _bind: function () {\n                this.element\n                    .off('click', this.options.btnRemoveSelector) // remove parent widget's handlers\n                    .on('click', this.options.btnRemoveSelector, $.proxy(this._remove, this))\n                    .on('click', this.options.btnUpdateSelector, $.proxy(this._update, this));\n            },\n\n            _remove: function (event) {\n                var\n                    params = $(event.currentTarget).data('post-remove'),\n                    url = params.action,\n                    data = $.extend(params.data, {form_key: $(this.options.formKeyInputSelector).val()});\n\n                this._processAjaxRequest(url, data);\n\n                event.stopPropagation();\n                event.preventDefault();\n            },\n\n            _update: function (event) {\n                var\n                    form = $(event.currentTarget).closest('form'),\n                    url = $(form).attr('action'),\n                    data = $(form).serialize();\n\n                this._processAjaxRequest(url, data);\n\n                event.stopPropagation();\n                event.preventDefault();\n            },\n\n            _processAjaxRequest: function (url, data) {\n                $.ajax(url, {\n                    method: 'POST',\n                    data: data,\n                    showLoader: $('body').ajaxWishlist('option', 'isShowSpinner')\n                }).done($.proxy(this._successHandler, this)).fail($.proxy(this._errorHandler, this));\n            },\n\n            _successHandler: function (data) {\n                $(this.element).replaceWith(data.wishlist);\n                $('body').trigger('contentUpdated');\n            },\n\n            _errorHandler: function () {\n                alert({\n                    content: this.options.errorMessage\n                });\n            }\n\n        });\n\n    }\n\n});","TemplateMonster_Blog/js/blog-carousel.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'blogOwlCarousel'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.blogCarousel', {\n\n        options: {\n            items: 3,\n            itemsDesktop: [1199,3],\n            itemsDesktopSmall: [979,3],\n            itemsTablet: [768,2],\n            itemsMobile: [400,1],\n            autoPlay: false,\n            navigation:true,\n            pagination: false,\n            addClassActive: true,\n            navigationText: []\n        },\n\n        _create: function() {\n            this.element.owlCarousel(this.options);\n        }\n        \n    });\n\n    return $.TemplateMonster.blogCarousel;\n\n});\n","TemplateMonster_Blog/js/categories-list-collapse.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.categoriesListCollapse', {\n\n        options: {\n            extender : '#blog-show-all',\n            extendable : '.categories-list',\n            limit: 3,\n            total: 100\n        },\n\n        _create: function() {\n            var data = this.options,\n                extender = data.extender,\n                list = data.extendable,\n                limit = data.limit,\n                total = data.total;\n\n            $(extender).click(function(){\n                if($(extender).hasClass('closed')) {\n                    var currentIndex = $(list).children('li:visible:last').index(),\n                        nextIndex = currentIndex + (total - limit) + 1;\n                    $('li:lt(' + nextIndex + '):gt(' + currentIndex + ')', list).show(300);\n                    $(extender).toggleClass('closed opened');\n                } else {\n                    var prevIndex = limit - 1;\n                    $('li:gt(' + prevIndex + ')', list).hide(300);\n                    $(extender).toggleClass('closed opened');\n                }\n            });\n        }\n        \n    });\n\n    return $.TemplateMonster.categoriesListCollapse;\n\n});\n","TemplateMonster_Blog/js/owl.carousel.js":"/*\n *  jQuery OwlCarousel v1.3.3\n *\n *  Copyright (c) 2013 Bartosz Wojciechowski\n *  http://www.owlgraphic.com/owlcarousel/\n *\n *  Licensed under MIT\n *\n */\n\n/*JS Lint helpers: */\n/*global dragMove: false, dragEnd: false, $, jQuery, alert, window, document */\n/*jslint nomen: true, continue:true */\n\nif (typeof Object.create !== \"function\") {\n    Object.create = function (obj) {\n        function F() {}\n        F.prototype = obj;\n        return new F();\n    };\n}\n(function ($, window, document) {\n\n    var Carousel = {\n        init : function (options, el) {\n            var base = this;\n\n            base.$elem = $(el);\n            base.options = $.extend({}, $.fn.owlCarousel.options, base.$elem.data(), options);\n\n            base.userOptions = options;\n            base.loadContent();\n        },\n\n        loadContent : function () {\n            var base = this, url;\n\n            function getData(data) {\n                var i, content = \"\";\n                if (typeof base.options.jsonSuccess === \"function\") {\n                    base.options.jsonSuccess.apply(this, [data]);\n                } else {\n                    for (i in data.owl) {\n                        if (data.owl.hasOwnProperty(i)) {\n                            content += data.owl[i].item;\n                        }\n                    }\n                    base.$elem.html(content);\n                }\n                base.logIn();\n            }\n\n            if (typeof base.options.beforeInit === \"function\") {\n                base.options.beforeInit.apply(this, [base.$elem]);\n            }\n\n            if (typeof base.options.jsonPath === \"string\") {\n                url = base.options.jsonPath;\n                $.getJSON(url, getData);\n            } else {\n                base.logIn();\n            }\n        },\n\n        logIn : function () {\n            var base = this;\n\n            base.$elem.data(\"owl-originalStyles\", base.$elem.attr(\"style\"));\n            base.$elem.data(\"owl-originalClasses\", base.$elem.attr(\"class\"));\n\n            base.$elem.css({opacity: 0});\n            base.orignalItems = base.options.items;\n            base.checkBrowser();\n            base.wrapperWidth = 0;\n            base.checkVisible = null;\n            base.setVars();\n        },\n\n        setVars : function () {\n            var base = this;\n            if (base.$elem.children().length === 0) {return false; }\n            base.baseClass();\n            base.eventTypes();\n            base.$userItems = base.$elem.children();\n            base.itemsAmount = base.$userItems.length;\n            base.wrapItems();\n            base.$owlItems = base.$elem.find(\".owl-item\");\n            base.$owlWrapper = base.$elem.find(\".owl-wrapper\");\n            base.playDirection = \"next\";\n            base.prevItem = 0;\n            base.prevArr = [0];\n            base.currentItem = 0;\n            base.customEvents();\n            base.onStartup();\n        },\n\n        onStartup : function () {\n            var base = this;\n            base.updateItems();\n            base.calculateAll();\n            base.buildControls();\n            base.updateControls();\n            base.response();\n            base.moveEvents();\n            base.stopOnHover();\n            base.owlStatus();\n\n            if (base.options.transitionStyle !== false) {\n                base.transitionTypes(base.options.transitionStyle);\n            }\n            if (base.options.autoPlay === true) {\n                base.options.autoPlay = 5000;\n            }\n            base.play();\n\n            base.$elem.find(\".owl-wrapper\").css(\"display\", \"block\");\n\n            if (!base.$elem.is(\":visible\")) {\n                base.watchVisibility();\n            } else {\n                base.$elem.css(\"opacity\", 1);\n            }\n            base.onstartup = false;\n            base.eachMoveUpdate();\n            if (typeof base.options.afterInit === \"function\") {\n                base.options.afterInit.apply(this, [base.$elem]);\n            }\n        },\n\n        eachMoveUpdate : function () {\n            var base = this;\n\n            if (base.options.lazyLoad === true) {\n                base.lazyLoad();\n            }\n            if (base.options.autoHeight === true) {\n                base.autoHeight();\n            }\n            base.onVisibleItems();\n\n            if (typeof base.options.afterAction === \"function\") {\n                base.options.afterAction.apply(this, [base.$elem]);\n            }\n        },\n\n        updateVars : function () {\n            var base = this;\n            if (typeof base.options.beforeUpdate === \"function\") {\n                base.options.beforeUpdate.apply(this, [base.$elem]);\n            }\n            base.watchVisibility();\n            base.updateItems();\n            base.calculateAll();\n            base.updatePosition();\n            base.updateControls();\n            base.eachMoveUpdate();\n            if (typeof base.options.afterUpdate === \"function\") {\n                base.options.afterUpdate.apply(this, [base.$elem]);\n            }\n        },\n\n        reload : function () {\n            var base = this;\n            window.setTimeout(function () {\n                base.updateVars();\n            }, 0);\n        },\n\n        watchVisibility : function () {\n            var base = this;\n\n            if (base.$elem.is(\":visible\") === false) {\n                base.$elem.css({opacity: 0});\n                window.clearInterval(base.autoPlayInterval);\n                window.clearInterval(base.checkVisible);\n            } else {\n                return false;\n            }\n            base.checkVisible = window.setInterval(function () {\n                if (base.$elem.is(\":visible\")) {\n                    base.reload();\n                    base.$elem.animate({opacity: 1}, 200);\n                    window.clearInterval(base.checkVisible);\n                }\n            }, 500);\n        },\n\n        wrapItems : function () {\n            var base = this;\n            base.$userItems.wrapAll(\"<div class=\\\"owl-wrapper\\\">\").wrap(\"<div class=\\\"owl-item\\\"></div>\");\n            base.$elem.find(\".owl-wrapper\").wrap(\"<div class=\\\"owl-wrapper-outer\\\">\");\n            base.wrapperOuter = base.$elem.find(\".owl-wrapper-outer\");\n            base.$elem.css(\"display\", \"block\");\n        },\n\n        baseClass : function () {\n            var base = this,\n                hasBaseClass = base.$elem.hasClass(base.options.baseClass),\n                hasThemeClass = base.$elem.hasClass(base.options.theme);\n\n            if (!hasBaseClass) {\n                base.$elem.addClass(base.options.baseClass);\n            }\n\n            if (!hasThemeClass) {\n                base.$elem.addClass(base.options.theme);\n            }\n        },\n\n        updateItems : function () {\n            var base = this, width, i;\n\n            if (base.options.responsive === false) {\n                return false;\n            }\n            if (base.options.singleItem === true) {\n                base.options.items = base.orignalItems = 1;\n                base.options.itemsCustom = false;\n                base.options.itemsDesktop = false;\n                base.options.itemsDesktopSmall = false;\n                base.options.itemsTablet = false;\n                base.options.itemsTabletSmall = false;\n                base.options.itemsMobile = false;\n                return false;\n            }\n\n            width = $(base.options.responsiveBaseWidth).width();\n\n            if (width > (base.options.itemsDesktop[0] || base.orignalItems)) {\n                base.options.items = base.orignalItems;\n            }\n            if (base.options.itemsCustom !== false) {\n                //Reorder array by screen size\n                base.options.itemsCustom.sort(function (a, b) {return a[0] - b[0]; });\n\n                for (i = 0; i < base.options.itemsCustom.length; i += 1) {\n                    if (base.options.itemsCustom[i][0] <= width) {\n                        base.options.items = base.options.itemsCustom[i][1];\n                    }\n                }\n\n            } else {\n\n                if (width <= base.options.itemsDesktop[0] && base.options.itemsDesktop !== false) {\n                    base.options.items = base.options.itemsDesktop[1];\n                }\n\n                if (width <= base.options.itemsDesktopSmall[0] && base.options.itemsDesktopSmall !== false) {\n                    base.options.items = base.options.itemsDesktopSmall[1];\n                }\n\n                if (width <= base.options.itemsTablet[0] && base.options.itemsTablet !== false) {\n                    base.options.items = base.options.itemsTablet[1];\n                }\n\n                if (width <= base.options.itemsTabletSmall[0] && base.options.itemsTabletSmall !== false) {\n                    base.options.items = base.options.itemsTabletSmall[1];\n                }\n\n                if (width <= base.options.itemsMobile[0] && base.options.itemsMobile !== false) {\n                    base.options.items = base.options.itemsMobile[1];\n                }\n            }\n\n            //if number of items is less than declared\n            if (base.options.items > base.itemsAmount && base.options.itemsScaleUp === true) {\n                base.options.items = base.itemsAmount;\n            }\n        },\n\n        response : function () {\n            var base = this,\n                smallDelay,\n                lastWindowWidth;\n\n            if (base.options.responsive !== true) {\n                return false;\n            }\n            lastWindowWidth = $(window).width();\n\n            base.resizer = function () {\n                if ($(window).width() !== lastWindowWidth) {\n                    if (base.options.autoPlay !== false) {\n                        window.clearInterval(base.autoPlayInterval);\n                    }\n                    window.clearTimeout(smallDelay);\n                    smallDelay = window.setTimeout(function () {\n                        lastWindowWidth = $(window).width();\n                        base.updateVars();\n                    }, base.options.responsiveRefreshRate);\n                }\n            };\n            $(window).resize(base.resizer);\n        },\n\n        updatePosition : function () {\n            var base = this;\n            base.jumpTo(base.currentItem);\n            if (base.options.autoPlay !== false) {\n                base.checkAp();\n            }\n        },\n\n        appendItemsSizes : function () {\n            var base = this,\n                roundPages = 0,\n                lastItem = base.itemsAmount - base.options.items;\n\n            base.$owlItems.each(function (index) {\n                var $this = $(this);\n                $this\n                    .css({\"width\": base.itemWidth})\n                    .data(\"owl-item\", Number(index));\n\n                if (index % base.options.items === 0 || index === lastItem) {\n                    if (!(index > lastItem)) {\n                        roundPages += 1;\n                    }\n                }\n                $this.data(\"owl-roundPages\", roundPages);\n            });\n        },\n\n        appendWrapperSizes : function () {\n            var base = this,\n                width = base.$owlItems.length * base.itemWidth;\n\n            base.$owlWrapper.css({\n                \"width\": width * 2,\n                \"left\": 0\n            });\n            base.appendItemsSizes();\n        },\n\n        calculateAll : function () {\n            var base = this;\n            base.calculateWidth();\n            base.appendWrapperSizes();\n            base.loops();\n            base.max();\n        },\n\n        calculateWidth : function () {\n            var base = this;\n            base.itemWidth = Math.round(base.$elem.width() / base.options.items);\n        },\n\n        max : function () {\n            var base = this,\n                maximum = ((base.itemsAmount * base.itemWidth) - base.options.items * base.itemWidth) * -1;\n            if (base.options.items > base.itemsAmount) {\n                base.maximumItem = 0;\n                maximum = 0;\n                base.maximumPixels = 0;\n            } else {\n                base.maximumItem = base.itemsAmount - base.options.items;\n                base.maximumPixels = maximum;\n            }\n            return maximum;\n        },\n\n        min : function () {\n            return 0;\n        },\n\n        loops : function () {\n            var base = this,\n                prev = 0,\n                elWidth = 0,\n                i,\n                item,\n                roundPageNum;\n\n            base.positionsInArray = [0];\n            base.pagesInArray = [];\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                elWidth += base.itemWidth;\n                base.positionsInArray.push(-elWidth);\n\n                if (base.options.scrollPerPage === true) {\n                    item = $(base.$owlItems[i]);\n                    roundPageNum = item.data(\"owl-roundPages\");\n                    if (roundPageNum !== prev) {\n                        base.pagesInArray[prev] = base.positionsInArray[i];\n                        prev = roundPageNum;\n                    }\n                }\n            }\n        },\n\n        buildControls : function () {\n            var base = this;\n            if (base.options.navigation === true || base.options.pagination === true) {\n                base.owlControls = $(\"<div class=\\\"owl-controls\\\"/>\").toggleClass(\"clickable\", !base.browser.isTouch).appendTo(base.$elem);\n            }\n            if (base.options.pagination === true) {\n                base.buildPagination();\n            }\n            if (base.options.navigation === true) {\n                base.buildButtons();\n            }\n        },\n\n        buildButtons : function () {\n            var base = this,\n                buttonsWrapper = $(\"<div class=\\\"owl-buttons\\\"/>\");\n            base.owlControls.append(buttonsWrapper);\n\n            base.buttonPrev = $(\"<div/>\", {\n                \"class\" : \"owl-prev\",\n                \"html\" : base.options.navigationText[0] || \"\"\n            });\n\n            base.buttonNext = $(\"<div/>\", {\n                \"class\" : \"owl-next\",\n                \"html\" : base.options.navigationText[1] || \"\"\n            });\n\n            buttonsWrapper\n                .append(base.buttonPrev)\n                .append(base.buttonNext);\n\n            buttonsWrapper.on(\"touchstart.owlControls mousedown.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n            });\n\n            buttonsWrapper.on(\"touchend.owlControls mouseup.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n                if ($(this).hasClass(\"owl-next\")) {\n                    base.next();\n                } else {\n                    base.prev();\n                }\n            });\n        },\n\n        buildPagination : function () {\n            var base = this;\n\n            base.paginationWrapper = $(\"<div class=\\\"owl-pagination\\\"/>\");\n            base.owlControls.append(base.paginationWrapper);\n\n            base.paginationWrapper.on(\"touchend.owlControls mouseup.owlControls\", \".owl-page\", function (event) {\n                event.preventDefault();\n                if (Number($(this).data(\"owl-page\")) !== base.currentItem) {\n                    base.goTo(Number($(this).data(\"owl-page\")), true);\n                }\n            });\n        },\n\n        updatePagination : function () {\n            var base = this,\n                counter,\n                lastPage,\n                lastItem,\n                i,\n                paginationButton,\n                paginationButtonInner;\n\n            if (base.options.pagination === false) {\n                return false;\n            }\n\n            base.paginationWrapper.html(\"\");\n\n            counter = 0;\n            lastPage = base.itemsAmount - base.itemsAmount % base.options.items;\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                if (i % base.options.items === 0) {\n                    counter += 1;\n                    if (lastPage === i) {\n                        lastItem = base.itemsAmount - base.options.items;\n                    }\n                    paginationButton = $(\"<div/>\", {\n                        \"class\" : \"owl-page\"\n                    });\n                    paginationButtonInner = $(\"<span></span>\", {\n                        \"text\": base.options.paginationNumbers === true ? counter : \"\",\n                        \"class\": base.options.paginationNumbers === true ? \"owl-numbers\" : \"\"\n                    });\n                    paginationButton.append(paginationButtonInner);\n\n                    paginationButton.data(\"owl-page\", lastPage === i ? lastItem : i);\n                    paginationButton.data(\"owl-roundPages\", counter);\n\n                    base.paginationWrapper.append(paginationButton);\n                }\n            }\n            base.checkPagination();\n        },\n        checkPagination : function () {\n            var base = this;\n            if (base.options.pagination === false) {\n                return false;\n            }\n            base.paginationWrapper.find(\".owl-page\").each(function () {\n                if ($(this).data(\"owl-roundPages\") === $(base.$owlItems[base.currentItem]).data(\"owl-roundPages\")) {\n                    base.paginationWrapper\n                        .find(\".owl-page\")\n                        .removeClass(\"active\");\n                    $(this).addClass(\"active\");\n                }\n            });\n        },\n\n        checkNavigation : function () {\n            var base = this;\n\n            if (base.options.navigation === false) {\n                return false;\n            }\n            if (base.options.rewindNav === false) {\n                if (base.currentItem === 0 && base.maximumItem === 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem === 0 && base.maximumItem !== 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                } else if (base.currentItem === base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem !== 0 && base.currentItem !== base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                }\n            }\n        },\n\n        updateControls : function () {\n            var base = this;\n            base.updatePagination();\n            base.checkNavigation();\n            if (base.owlControls) {\n                if (base.options.items >= base.itemsAmount) {\n                    base.owlControls.hide();\n                } else {\n                    base.owlControls.show();\n                }\n            }\n        },\n\n        destroyControls : function () {\n            var base = this;\n            if (base.owlControls) {\n                base.owlControls.remove();\n            }\n        },\n\n        next : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            base.currentItem += base.options.scrollPerPage === true ? base.options.items : 1;\n            if (base.currentItem > base.maximumItem + (base.options.scrollPerPage === true ? (base.options.items - 1) : 0)) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = 0;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = base.maximumItem;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        prev : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            if (base.options.scrollPerPage === true && base.currentItem > 0 && base.currentItem < base.options.items) {\n                base.currentItem = 0;\n            } else {\n                base.currentItem -= base.options.scrollPerPage === true ? base.options.items : 1;\n            }\n            if (base.currentItem < 0) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = base.maximumItem;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = 0;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        goTo : function (position, speed, drag) {\n            var base = this,\n                goToPixel;\n\n            if (base.isTransition) {\n                return false;\n            }\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n\n            base.currentItem = base.owl.currentItem = position;\n            if (base.options.transitionStyle !== false && drag !== \"drag\" && base.options.items === 1 && base.browser.support3d === true) {\n                base.swapSpeed(0);\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.positionsInArray[position]);\n                } else {\n                    base.css2slide(base.positionsInArray[position], 1);\n                }\n                base.afterGo();\n                base.singleItemTransition();\n                return false;\n            }\n            goToPixel = base.positionsInArray[position];\n\n            if (base.browser.support3d === true) {\n                base.isCss3Finish = false;\n\n                if (speed === true) {\n                    base.swapSpeed(\"paginationSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.paginationSpeed);\n\n                } else if (speed === \"rewind\") {\n                    base.swapSpeed(base.options.rewindSpeed);\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.rewindSpeed);\n\n                } else {\n                    base.swapSpeed(\"slideSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.slideSpeed);\n                }\n                base.transition3d(goToPixel);\n            } else {\n                if (speed === true) {\n                    base.css2slide(goToPixel, base.options.paginationSpeed);\n                } else if (speed === \"rewind\") {\n                    base.css2slide(goToPixel, base.options.rewindSpeed);\n                } else {\n                    base.css2slide(goToPixel, base.options.slideSpeed);\n                }\n            }\n            base.afterGo();\n        },\n\n        jumpTo : function (position) {\n            var base = this;\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem || position === -1) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n            base.swapSpeed(0);\n            if (base.browser.support3d === true) {\n                base.transition3d(base.positionsInArray[position]);\n            } else {\n                base.css2slide(base.positionsInArray[position], 1);\n            }\n            base.currentItem = base.owl.currentItem = position;\n            base.afterGo();\n        },\n\n        afterGo : function () {\n            var base = this;\n\n            base.prevArr.push(base.currentItem);\n            base.prevItem = base.owl.prevItem = base.prevArr[base.prevArr.length - 2];\n            base.prevArr.shift(0);\n\n            if (base.prevItem !== base.currentItem) {\n                base.checkPagination();\n                base.checkNavigation();\n                base.eachMoveUpdate();\n\n                if (base.options.autoPlay !== false) {\n                    base.checkAp();\n                }\n            }\n            if (typeof base.options.afterMove === \"function\" && base.prevItem !== base.currentItem) {\n                base.options.afterMove.apply(this, [base.$elem]);\n            }\n        },\n\n        stop : function () {\n            var base = this;\n            base.apStatus = \"stop\";\n            window.clearInterval(base.autoPlayInterval);\n        },\n\n        checkAp : function () {\n            var base = this;\n            if (base.apStatus !== \"stop\") {\n                base.play();\n            }\n        },\n\n        play : function () {\n            var base = this;\n            base.apStatus = \"play\";\n            if (base.options.autoPlay === false) {\n                return false;\n            }\n            window.clearInterval(base.autoPlayInterval);\n            base.autoPlayInterval = window.setInterval(function () {\n                base.next(true);\n            }, base.options.autoPlay);\n        },\n\n        swapSpeed : function (action) {\n            var base = this;\n            if (action === \"slideSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed));\n            } else if (action === \"paginationSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed));\n            } else if (typeof action !== \"string\") {\n                base.$owlWrapper.css(base.addCssSpeed(action));\n            }\n        },\n\n        addCssSpeed : function (speed) {\n            return {\n                \"-webkit-transition\": \"all \" + speed + \"ms ease\",\n                \"-moz-transition\": \"all \" + speed + \"ms ease\",\n                \"-o-transition\": \"all \" + speed + \"ms ease\",\n                \"transition\": \"all \" + speed + \"ms ease\"\n            };\n        },\n\n        removeTransition : function () {\n            return {\n                \"-webkit-transition\": \"\",\n                \"-moz-transition\": \"\",\n                \"-o-transition\": \"\",\n                \"transition\": \"\"\n            };\n        },\n\n        doTranslate : function (pixels) {\n            return {\n                \"-webkit-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-moz-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-o-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-ms-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"transform\": \"translate3d(\" + pixels + \"px, 0px,0px)\"\n            };\n        },\n\n        transition3d : function (value) {\n            var base = this;\n            base.$owlWrapper.css(base.doTranslate(value));\n        },\n\n        css2move : function (value) {\n            var base = this;\n            base.$owlWrapper.css({\"left\" : value});\n        },\n\n        css2slide : function (value, speed) {\n            var base = this;\n\n            base.isCssFinish = false;\n            base.$owlWrapper.stop(true, true).animate({\n                \"left\" : value\n            }, {\n                duration : speed || base.options.slideSpeed,\n                complete : function () {\n                    base.isCssFinish = true;\n                }\n            });\n        },\n\n        checkBrowser : function () {\n            var base = this,\n                translate3D = \"translate3d(0px, 0px, 0px)\",\n                tempElem = document.createElement(\"div\"),\n                regex,\n                asSupport,\n                support3d,\n                isTouch;\n\n            tempElem.style.cssText = \"  -moz-transform:\" + translate3D +\n                                  \"; -ms-transform:\"     + translate3D +\n                                  \"; -o-transform:\"      + translate3D +\n                                  \"; -webkit-transform:\" + translate3D +\n                                  \"; transform:\"         + translate3D;\n            regex = /translate3d\\(0px, 0px, 0px\\)/g;\n            asSupport = tempElem.style.cssText.match(regex);\n            support3d = (asSupport !== null && asSupport.length === 1);\n\n            isTouch = \"ontouchstart\" in window || window.navigator.msMaxTouchPoints;\n\n            base.browser = {\n                \"support3d\" : support3d,\n                \"isTouch\" : isTouch\n            };\n        },\n\n        moveEvents : function () {\n            var base = this;\n            if (base.options.mouseDrag !== false || base.options.touchDrag !== false) {\n                base.gestures();\n                base.disabledEvents();\n            }\n        },\n\n        eventTypes : function () {\n            var base = this,\n                types = [\"s\", \"e\", \"x\"];\n\n            base.ev_types = {};\n\n            if (base.options.mouseDrag === true && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl mousedown.owl\",\n                    \"touchmove.owl mousemove.owl\",\n                    \"touchend.owl touchcancel.owl mouseup.owl\"\n                ];\n            } else if (base.options.mouseDrag === false && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl\",\n                    \"touchmove.owl\",\n                    \"touchend.owl touchcancel.owl\"\n                ];\n            } else if (base.options.mouseDrag === true && base.options.touchDrag === false) {\n                types = [\n                    \"mousedown.owl\",\n                    \"mousemove.owl\",\n                    \"mouseup.owl\"\n                ];\n            }\n\n            base.ev_types.start = types[0];\n            base.ev_types.move = types[1];\n            base.ev_types.end = types[2];\n        },\n\n        disabledEvents :  function () {\n            var base = this;\n            base.$elem.on(\"dragstart.owl\", function (event) { event.preventDefault(); });\n            base.$elem.on(\"mousedown.disableTextSelect\", function (e) {\n                return $(e.target).is('input, textarea, select, option');\n            });\n        },\n\n        gestures : function () {\n            /*jslint unparam: true*/\n            var base = this,\n                locals = {\n                    offsetX : 0,\n                    offsetY : 0,\n                    baseElWidth : 0,\n                    relativePos : 0,\n                    position: null,\n                    minSwipe : null,\n                    maxSwipe: null,\n                    sliding : null,\n                    dargging: null,\n                    targetElement : null\n                };\n\n            base.isCssFinish = true;\n\n            function getTouches(event) {\n                if (event.touches !== undefined) {\n                    return {\n                        x : event.touches[0].pageX,\n                        y : event.touches[0].pageY\n                    };\n                }\n\n                if (event.touches === undefined) {\n                    if (event.pageX !== undefined) {\n                        return {\n                            x : event.pageX,\n                            y : event.pageY\n                        };\n                    }\n                    if (event.pageX === undefined) {\n                        return {\n                            x : event.clientX,\n                            y : event.clientY\n                        };\n                    }\n                }\n            }\n\n            function swapEvents(type) {\n                if (type === \"on\") {\n                    $(document).on(base.ev_types.move, dragMove);\n                    $(document).on(base.ev_types.end, dragEnd);\n                } else if (type === \"off\") {\n                    $(document).off(base.ev_types.move);\n                    $(document).off(base.ev_types.end);\n                }\n            }\n\n            function dragStart(event) {\n                var ev = event.originalEvent || event || window.event,\n                    position;\n\n                if (ev.which === 3) {\n                    return false;\n                }\n                if (base.itemsAmount <= base.options.items) {\n                    return;\n                }\n                if (base.isCssFinish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n                if (base.isCss3Finish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n\n                if (base.options.autoPlay !== false) {\n                    window.clearInterval(base.autoPlayInterval);\n                }\n\n                if (base.browser.isTouch !== true && !base.$owlWrapper.hasClass(\"grabbing\")) {\n                    base.$owlWrapper.addClass(\"grabbing\");\n                }\n\n                base.newPosX = 0;\n                base.newRelativeX = 0;\n\n                $(this).css(base.removeTransition());\n\n                position = $(this).position();\n                locals.relativePos = position.left;\n\n                locals.offsetX = getTouches(ev).x - position.left;\n                locals.offsetY = getTouches(ev).y - position.top;\n\n                swapEvents(\"on\");\n\n                locals.sliding = false;\n                locals.targetElement = ev.target || ev.srcElement;\n            }\n\n            function dragMove(event) {\n                var ev = event.originalEvent || event || window.event,\n                    minSwipe,\n                    maxSwipe;\n\n                base.newPosX = getTouches(ev).x - locals.offsetX;\n                base.newPosY = getTouches(ev).y - locals.offsetY;\n                base.newRelativeX = base.newPosX - locals.relativePos;\n\n                if (typeof base.options.startDragging === \"function\" && locals.dragging !== true && base.newRelativeX !== 0) {\n                    locals.dragging = true;\n                    base.options.startDragging.apply(base, [base.$elem]);\n                }\n\n                if ((base.newRelativeX > 8 || base.newRelativeX < -8) && (base.browser.isTouch === true)) {\n                    if (ev.preventDefault !== undefined) {\n                        ev.preventDefault();\n                    } else {\n                        ev.returnValue = false;\n                    }\n                    locals.sliding = true;\n                }\n\n                if ((base.newPosY > 10 || base.newPosY < -10) && locals.sliding === false) {\n                    $(document).off(\"touchmove.owl\");\n                }\n\n                minSwipe = function () {\n                    return base.newRelativeX / 5;\n                };\n\n                maxSwipe = function () {\n                    return base.maximumPixels + base.newRelativeX / 5;\n                };\n\n                base.newPosX = Math.max(Math.min(base.newPosX, minSwipe()), maxSwipe());\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.newPosX);\n                } else {\n                    base.css2move(base.newPosX);\n                }\n            }\n\n            function dragEnd(event) {\n                var ev = event.originalEvent || event || window.event,\n                    newPosition,\n                    handlers,\n                    owlStopEvent;\n\n                ev.target = ev.target || ev.srcElement;\n\n                locals.dragging = false;\n\n                if (base.browser.isTouch !== true) {\n                    base.$owlWrapper.removeClass(\"grabbing\");\n                }\n\n                if (base.newRelativeX < 0) {\n                    base.dragDirection = base.owl.dragDirection = \"left\";\n                } else {\n                    base.dragDirection = base.owl.dragDirection = \"right\";\n                }\n\n                if (base.newRelativeX !== 0) {\n                    newPosition = base.getNewPosition();\n                    base.goTo(newPosition, false, \"drag\");\n                    if (locals.targetElement === ev.target && base.browser.isTouch !== true) {\n                        $(ev.target).on(\"click.disable\", function (ev) {\n                            ev.stopImmediatePropagation();\n                            ev.stopPropagation();\n                            ev.preventDefault();\n                            $(ev.target).off(\"click.disable\");\n                        });\n                        handlers = $._data(ev.target, \"events\").click;\n                        owlStopEvent = handlers.pop();\n                        handlers.splice(0, 0, owlStopEvent);\n                    }\n                }\n                swapEvents(\"off\");\n            }\n            base.$elem.on(base.ev_types.start, \".owl-wrapper\", dragStart);\n        },\n\n        getNewPosition : function () {\n            var base = this,\n                newPosition = base.closestItem();\n\n            if (newPosition > base.maximumItem) {\n                base.currentItem = base.maximumItem;\n                newPosition  = base.maximumItem;\n            } else if (base.newPosX >= 0) {\n                newPosition = 0;\n                base.currentItem = 0;\n            }\n            return newPosition;\n        },\n        closestItem : function () {\n            var base = this,\n                array = base.options.scrollPerPage === true ? base.pagesInArray : base.positionsInArray,\n                goal = base.newPosX,\n                closest = null;\n\n            $.each(array, function (i, v) {\n                if (goal - (base.itemWidth / 20) > array[i + 1] && goal - (base.itemWidth / 20) < v && base.moveDirection() === \"left\") {\n                    closest = v;\n                    if (base.options.scrollPerPage === true) {\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        base.currentItem = i;\n                    }\n                } else if (goal + (base.itemWidth / 20) < v && goal + (base.itemWidth / 20) > (array[i + 1] || array[i] - base.itemWidth) && base.moveDirection() === \"right\") {\n                    if (base.options.scrollPerPage === true) {\n                        closest = array[i + 1] || array[array.length - 1];\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        closest = array[i + 1];\n                        base.currentItem = i + 1;\n                    }\n                }\n            });\n            return base.currentItem;\n        },\n\n        moveDirection : function () {\n            var base = this,\n                direction;\n            if (base.newRelativeX < 0) {\n                direction = \"right\";\n                base.playDirection = \"next\";\n            } else {\n                direction = \"left\";\n                base.playDirection = \"prev\";\n            }\n            return direction;\n        },\n\n        customEvents : function () {\n            /*jslint unparam: true*/\n            var base = this;\n            base.$elem.on(\"owl.next\", function () {\n                base.next();\n            });\n            base.$elem.on(\"owl.prev\", function () {\n                base.prev();\n            });\n            base.$elem.on(\"owl.play\", function (event, speed) {\n                base.options.autoPlay = speed;\n                base.play();\n                base.hoverStatus = \"play\";\n            });\n            base.$elem.on(\"owl.stop\", function () {\n                base.stop();\n                base.hoverStatus = \"stop\";\n            });\n            base.$elem.on(\"owl.goTo\", function (event, item) {\n                base.goTo(item);\n            });\n            base.$elem.on(\"owl.jumpTo\", function (event, item) {\n                base.jumpTo(item);\n            });\n        },\n\n        stopOnHover : function () {\n            var base = this;\n            if (base.options.stopOnHover === true && base.browser.isTouch !== true && base.options.autoPlay !== false) {\n                base.$elem.on(\"mouseover\", function () {\n                    base.stop();\n                });\n                base.$elem.on(\"mouseout\", function () {\n                    if (base.hoverStatus !== \"stop\") {\n                        base.play();\n                    }\n                });\n            }\n        },\n\n        lazyLoad : function () {\n            var base = this,\n                i,\n                $item,\n                itemNumber,\n                $lazyImg,\n                follow;\n\n            if (base.options.lazyLoad === false) {\n                return false;\n            }\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                $item = $(base.$owlItems[i]);\n\n                if ($item.data(\"owl-loaded\") === \"loaded\") {\n                    continue;\n                }\n\n                itemNumber = $item.data(\"owl-item\");\n                $lazyImg = $item.find(\".lazyOwl\");\n\n                if (typeof $lazyImg.data(\"src\") !== \"string\") {\n                    $item.data(\"owl-loaded\", \"loaded\");\n                    continue;\n                }\n                if ($item.data(\"owl-loaded\") === undefined) {\n                    $lazyImg.hide();\n                    $item.addClass(\"loading\").data(\"owl-loaded\", \"checked\");\n                }\n                if (base.options.lazyFollow === true) {\n                    follow = itemNumber >= base.currentItem;\n                } else {\n                    follow = true;\n                }\n                if (follow && itemNumber < base.currentItem + base.options.items && $lazyImg.length) {\n                    base.lazyPreload($item, $lazyImg);\n                }\n            }\n        },\n\n        lazyPreload : function ($item, $lazyImg) {\n            var base = this,\n                iterations = 0,\n                isBackgroundImg;\n\n            if ($lazyImg.prop(\"tagName\") === \"DIV\") {\n                $lazyImg.css(\"background-image\", \"url(\" + $lazyImg.data(\"src\") + \")\");\n                isBackgroundImg = true;\n            } else {\n                $lazyImg[0].src = $lazyImg.data(\"src\");\n            }\n\n            function showImage() {\n                $item.data(\"owl-loaded\", \"loaded\").removeClass(\"loading\");\n                $lazyImg.removeAttr(\"data-src\");\n                if (base.options.lazyEffect === \"fade\") {\n                    $lazyImg.fadeIn(400);\n                } else {\n                    $lazyImg.show();\n                }\n                if (typeof base.options.afterLazyLoad === \"function\") {\n                    base.options.afterLazyLoad.apply(this, [base.$elem]);\n                }\n            }\n\n            function checkLazyImage() {\n                iterations += 1;\n                if (base.completeImg($lazyImg.get(0)) || isBackgroundImg === true) {\n                    showImage();\n                } else if (iterations <= 100) {//if image loads in less than 10 seconds \n                    window.setTimeout(checkLazyImage, 100);\n                } else {\n                    showImage();\n                }\n            }\n\n            checkLazyImage();\n        },\n\n        autoHeight : function () {\n            var base = this,\n                $currentimg = $(base.$owlItems[base.currentItem]).find(\"img\"),\n                iterations;\n\n            function addHeight() {\n                var $currentItem = $(base.$owlItems[base.currentItem]).height();\n                base.wrapperOuter.css(\"height\", $currentItem + \"px\");\n                if (!base.wrapperOuter.hasClass(\"autoHeight\")) {\n                    window.setTimeout(function () {\n                        base.wrapperOuter.addClass(\"autoHeight\");\n                    }, 0);\n                }\n            }\n\n            function checkImage() {\n                iterations += 1;\n                if (base.completeImg($currentimg.get(0))) {\n                    addHeight();\n                } else if (iterations <= 100) { //if image loads in less than 10 seconds \n                    window.setTimeout(checkImage, 100);\n                } else {\n                    base.wrapperOuter.css(\"height\", \"\"); //Else remove height attribute\n                }\n            }\n\n            if ($currentimg.get(0) !== undefined) {\n                iterations = 0;\n                checkImage();\n            } else {\n                addHeight();\n            }\n        },\n\n        completeImg : function (img) {\n            var naturalWidthType;\n\n            if (!img.complete) {\n                return false;\n            }\n            naturalWidthType = typeof img.naturalWidth;\n            if (naturalWidthType !== \"undefined\" && img.naturalWidth === 0) {\n                return false;\n            }\n            return true;\n        },\n\n        onVisibleItems : function () {\n            var base = this,\n                i;\n\n            if (base.options.addClassActive === true) {\n                base.$owlItems.removeClass(\"active\");\n            }\n            base.visibleItems = [];\n            for (i = base.currentItem; i < base.currentItem + base.options.items; i += 1) {\n                base.visibleItems.push(i);\n\n                if (base.options.addClassActive === true) {\n                    $(base.$owlItems[i]).addClass(\"active\");\n                }\n            }\n            base.owl.visibleItems = base.visibleItems;\n        },\n\n        transitionTypes : function (className) {\n            var base = this;\n            //Currently available: \"fade\", \"backSlide\", \"goDown\", \"fadeUp\"\n            base.outClass = \"owl-\" + className + \"-out\";\n            base.inClass = \"owl-\" + className + \"-in\";\n        },\n\n        singleItemTransition : function () {\n            var base = this,\n                outClass = base.outClass,\n                inClass = base.inClass,\n                $currentItem = base.$owlItems.eq(base.currentItem),\n                $prevItem = base.$owlItems.eq(base.prevItem),\n                prevPos = Math.abs(base.positionsInArray[base.currentItem]) + base.positionsInArray[base.prevItem],\n                origin = Math.abs(base.positionsInArray[base.currentItem]) + base.itemWidth / 2,\n                animEnd = 'webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend';\n\n            base.isTransition = true;\n\n            base.$owlWrapper\n                .addClass('owl-origin')\n                .css({\n                    \"-webkit-transform-origin\" : origin + \"px\",\n                    \"-moz-perspective-origin\" : origin + \"px\",\n                    \"perspective-origin\" : origin + \"px\"\n                });\n            function transStyles(prevPos) {\n                return {\n                    \"position\" : \"relative\",\n                    \"left\" : prevPos + \"px\"\n                };\n            }\n\n            $prevItem\n                .css(transStyles(prevPos, 10))\n                .addClass(outClass)\n                .on(animEnd, function () {\n                    base.endPrev = true;\n                    $prevItem.off(animEnd);\n                    base.clearTransStyle($prevItem, outClass);\n                });\n\n            $currentItem\n                .addClass(inClass)\n                .on(animEnd, function () {\n                    base.endCurrent = true;\n                    $currentItem.off(animEnd);\n                    base.clearTransStyle($currentItem, inClass);\n                });\n        },\n\n        clearTransStyle : function (item, classToRemove) {\n            var base = this;\n            item.css({\n                \"position\" : \"\",\n                \"left\" : \"\"\n            }).removeClass(classToRemove);\n\n            if (base.endPrev && base.endCurrent) {\n                base.$owlWrapper.removeClass('owl-origin');\n                base.endPrev = false;\n                base.endCurrent = false;\n                base.isTransition = false;\n            }\n        },\n\n        owlStatus : function () {\n            var base = this;\n            base.owl = {\n                \"userOptions\"   : base.userOptions,\n                \"baseElement\"   : base.$elem,\n                \"userItems\"     : base.$userItems,\n                \"owlItems\"      : base.$owlItems,\n                \"currentItem\"   : base.currentItem,\n                \"prevItem\"      : base.prevItem,\n                \"visibleItems\"  : base.visibleItems,\n                \"isTouch\"       : base.browser.isTouch,\n                \"browser\"       : base.browser,\n                \"dragDirection\" : base.dragDirection\n            };\n        },\n\n        clearEvents : function () {\n            var base = this;\n            base.$elem.off(\".owl owl mousedown.disableTextSelect\");\n            $(document).off(\".owl owl\");\n            $(window).off(\"resize\", base.resizer);\n        },\n\n        unWrap : function () {\n            var base = this;\n            if (base.$elem.children().length !== 0) {\n                base.$owlWrapper.unwrap();\n                base.$userItems.unwrap().unwrap();\n                if (base.owlControls) {\n                    base.owlControls.remove();\n                }\n            }\n            base.clearEvents();\n            base.$elem\n                .attr(\"style\", base.$elem.data(\"owl-originalStyles\") || \"\")\n                .attr(\"class\", base.$elem.data(\"owl-originalClasses\"));\n        },\n\n        destroy : function () {\n            var base = this;\n            base.stop();\n            window.clearInterval(base.checkVisible);\n            base.unWrap();\n            base.$elem.removeData();\n        },\n\n        reinit : function (newOptions) {\n            var base = this,\n                options = $.extend({}, base.userOptions, newOptions);\n            base.unWrap();\n            base.init(options, base.$elem);\n        },\n\n        addItem : function (htmlString, targetPosition) {\n            var base = this,\n                position;\n\n            if (!htmlString) {return false; }\n\n            if (base.$elem.children().length === 0) {\n                base.$elem.append(htmlString);\n                base.setVars();\n                return false;\n            }\n            base.unWrap();\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n            if (position >= base.$userItems.length || position === -1) {\n                base.$userItems.eq(-1).after(htmlString);\n            } else {\n                base.$userItems.eq(position).before(htmlString);\n            }\n\n            base.setVars();\n        },\n\n        removeItem : function (targetPosition) {\n            var base = this,\n                position;\n\n            if (base.$elem.children().length === 0) {\n                return false;\n            }\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n\n            base.unWrap();\n            base.$userItems.eq(position).remove();\n            base.setVars();\n        }\n\n    };\n\n    $.fn.owlCarousel = function (options) {\n        return this.each(function () {\n            if ($(this).data(\"owl-init\") === true) {\n                return false;\n            }\n            $(this).data(\"owl-init\", true);\n            var carousel = Object.create(Carousel);\n            carousel.init(options, this);\n            $.data(this, \"owlCarousel\", carousel);\n        });\n    };\n\n    $.fn.owlCarousel.options = {\n\n        items : 5,\n        itemsCustom : false,\n        itemsDesktop : [1199, 4],\n        itemsDesktopSmall : [979, 3],\n        itemsTablet : [768, 2],\n        itemsTabletSmall : false,\n        itemsMobile : [479, 1],\n        singleItem : false,\n        itemsScaleUp : false,\n\n        slideSpeed : 200,\n        paginationSpeed : 800,\n        rewindSpeed : 1000,\n\n        autoPlay : false,\n        stopOnHover : false,\n\n        navigation : false,\n        navigationText : [\"prev\", \"next\"],\n        rewindNav : true,\n        scrollPerPage : false,\n\n        pagination : true,\n        paginationNumbers : false,\n\n        responsive : true,\n        responsiveRefreshRate : 200,\n        responsiveBaseWidth : window,\n\n        baseClass : \"owl-carousel\",\n        theme : \"owl-theme\",\n\n        lazyLoad : false,\n        lazyFollow : true,\n        lazyEffect : \"fade\",\n\n        autoHeight : false,\n\n        jsonPath : false,\n        jsonSuccess : false,\n\n        dragBeforeAnimFinish : true,\n        mouseDrag : true,\n        touchDrag : true,\n\n        addClassActive : false,\n        transitionStyle : false,\n\n        beforeUpdate : false,\n        afterUpdate : false,\n        beforeInit : false,\n        afterInit : false,\n        beforeMove : false,\n        afterMove : false,\n        afterAction : false,\n        startDragging : false,\n        afterLazyLoad: false\n    };\n}(jQuery, window, document));","TemplateMonster_CountdownTimer/js/countdowntimer.js":"define([\n    \"jquery\",\n    \"jquery.countdown\"\n], function($) {\n    \"use strict\";\n    $.widget('tm.countdowntimer', {\n        _create: function() {\n            this._move();\n            var format = this.options.format;\n            this.element.countdown(this.options.end_date, function(event) {\n                $(this).html(\n                    event.strftime(format)\n                );\n            });\n        },\n        _move:function() {\n            var closestClass = '.product-item-info';\n            switch (this.options.area) {\n                case \"0\":\n                    closestClass = '.product-info-main';\n                    break;\n                case \"1\":\n                    closestClass = '.product-item-info';\n                    break;\n                case \"2\":\n                    closestClass = '.product-item-info';\n                    break;\n            }\n            var selector = this.options.selector;\n            var timerWrapper = this.element.closest('.timer-wrapper');\n            var closesProductWrapper = this.element.closest(closestClass);\n            var matchElement = closesProductWrapper.find(selector);\n            if (matchElement.length != 0) {\n                timerWrapper.detach();\n                timerWrapper.insertAfter(matchElement);\n            }\n        }\n    });\n    return $.tm.countdowntimer;\n});","TemplateMonster_CountdownTimer/js/jquery.countdown.js":"/*!\n * The Final Countdown for jQuery v2.1.0 (http://hilios.github.io/jQuery.countdown/)\n * Copyright (c) 2015 Edson Hilios\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n(function(factory) {\n    \"use strict\";\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], factory);\n    } else {\n        factory(jQuery);\n    }\n})(function($) {\n    \"use strict\";\n    var instances = [], matchers = [], defaultOptions = {\n        precision: 100,\n        elapse: false\n    };\n    matchers.push(/^[0-9]*$/.source);\n    matchers.push(/([0-9]{1,2}\\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers.push(/[0-9]{4}([\\/\\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers = new RegExp(matchers.join(\"|\"));\n    function parseDateString(dateString) {\n        if (dateString instanceof Date) {\n            return dateString;\n        }\n        if (String(dateString).match(matchers)) {\n            if (String(dateString).match(/^[0-9]*$/)) {\n                dateString = Number(dateString);\n            }\n            if (String(dateString).match(/\\-/)) {\n                dateString = String(dateString).replace(/\\-/g, \"/\");\n            }\n            return new Date(dateString);\n        } else {\n            throw new Error(\"Couldn't cast `\" + dateString + \"` to a date object.\");\n        }\n    }\n    var DIRECTIVE_KEY_MAP = {\n        Y: \"years\",\n        J: \"months\",\n        n: \"daysToMonth\",\n        w: \"weeks\",\n        d: \"daysToWeek\",\n        D: \"totalDays\",\n        H: \"hours\",\n        M: \"minutes\",\n        S: \"seconds\",\n        h: \"totalHours\",\n        m: \"totalMinutes\",\n        s: \"totalSeconds\"\n    };\n    function escapedRegExp(str) {\n        var sanitize = str.toString().replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        return new RegExp(sanitize);\n    }\n    function strftime(offsetObject) {\n        return function(format) {\n            var directives = format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);\n            if (directives) {\n                for (var i = 0, len = directives.length; i < len; ++i) {\n                    var directive = directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/), regexp = escapedRegExp(directive[0]), modifier = directive[1] || \"\", plural = directive[3] || \"\", value = null;\n                    directive = directive[2];\n                    if (DIRECTIVE_KEY_MAP.hasOwnProperty(directive)) {\n                        value = DIRECTIVE_KEY_MAP[directive];\n                        value = Number(offsetObject[value]);\n                    }\n                    if (value !== null) {\n                        if (modifier === \"!\") {\n                            value = pluralize(plural, value);\n                        }\n                        if (modifier === \"\") {\n                            if (value < 10) {\n                                value = \"0\" + value.toString();\n                            }\n                        }\n                        format = format.replace(regexp, value.toString());\n                    }\n                }\n            }\n            format = format.replace(/%%/, \"%\");\n            return format;\n        };\n    }\n    function pluralize(format, count) {\n        var plural = \"s\", singular = \"\";\n        if (format) {\n            format = format.replace(/(:|;|\\s)/gi, \"\").split(/\\,/);\n            if (format.length === 1) {\n                plural = format[0];\n            } else {\n                singular = format[0];\n                plural = format[1];\n            }\n        }\n        if (Math.abs(count) === 1) {\n            return singular;\n        } else {\n            return plural;\n        }\n    }\n    var Countdown = function(el, finalDate, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.interval = null;\n        this.offset = {};\n        this.options = $.extend({}, defaultOptions);\n        this.instanceNumber = instances.length;\n        instances.push(this);\n        this.$el.data(\"countdown-instance\", this.instanceNumber);\n        if (options) {\n            if (typeof options === \"function\") {\n                this.$el.on(\"update.countdown\", options);\n                this.$el.on(\"stoped.countdown\", options);\n                this.$el.on(\"finish.countdown\", options);\n            } else {\n                this.options = $.extend({}, defaultOptions, options);\n            }\n        }\n        this.setFinalDate(finalDate);\n        this.start();\n    };\n    $.extend(Countdown.prototype, {\n        start: function() {\n            if (this.interval !== null) {\n                clearInterval(this.interval);\n            }\n            var self = this;\n            this.update();\n            this.interval = setInterval(function() {\n                self.update.call(self);\n            }, this.options.precision);\n        },\n        stop: function() {\n            clearInterval(this.interval);\n            this.interval = null;\n            this.dispatchEvent(\"stoped\");\n        },\n        toggle: function() {\n            if (this.interval) {\n                this.stop();\n            } else {\n                this.start();\n            }\n        },\n        pause: function() {\n            this.stop();\n        },\n        resume: function() {\n            this.start();\n        },\n        remove: function() {\n            this.stop.call(this);\n            instances[this.instanceNumber] = null;\n            delete this.$el.data().countdownInstance;\n        },\n        setFinalDate: function(value) {\n            this.finalDate = parseDateString(value);\n        },\n        update: function() {\n            if (this.$el.closest(\"html\").length === 0) {\n                this.remove();\n                return;\n            }\n            var hasEventsAttached = $._data(this.el, \"events\") !== undefined, now = new Date(), newTotalSecsLeft;\n            newTotalSecsLeft = this.finalDate.getTime() - now.getTime();\n            newTotalSecsLeft = Math.ceil(newTotalSecsLeft / 1e3);\n            newTotalSecsLeft = !this.options.elapse && newTotalSecsLeft < 0 ? 0 : Math.abs(newTotalSecsLeft);\n            if (this.totalSecsLeft === newTotalSecsLeft || !hasEventsAttached) {\n                return;\n            } else {\n                this.totalSecsLeft = newTotalSecsLeft;\n            }\n            this.elapsed = now >= this.finalDate;\n            this.offset = {\n                seconds: this.totalSecsLeft % 60,\n                totalSeconds: this.totalSecsLeft,\n                minutes: Math.floor(this.totalSecsLeft / 60) % 60,\n                totalMinutes: Math.floor(this.totalSecsLeft / 60),\n                hours: Math.floor(this.totalSecsLeft / 60 / 60) % 24,\n                totalHours: Math.floor(this.totalSecsLeft / 60 / 60),\n                days: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToWeek: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToMonth: Math.floor(this.totalSecsLeft / 60 / 60 / 24 % 30.4368),\n                totalDays: Math.floor(this.totalSecsLeft / 60 / 60 / 24),\n                weeks: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7),\n                months: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 30.4368),\n                years: Math.abs(this.finalDate.getFullYear() - now.getFullYear())\n            };\n            if (!this.options.elapse && this.totalSecsLeft === 0) {\n                this.stop();\n                this.dispatchEvent(\"finish\");\n            } else {\n                this.dispatchEvent(\"update\");\n            }\n        },\n        dispatchEvent: function(eventName) {\n            var event = $.Event(eventName + \".countdown\");\n            event.finalDate = this.finalDate;\n            event.elapsed = this.elapsed;\n            event.offset = $.extend({}, this.offset);\n            event.strftime = strftime(this.offset);\n            this.$el.trigger(event);\n        }\n    });\n    $.fn.countdown = function() {\n        var argumentsArray = Array.prototype.slice.call(arguments, 0);\n        return this.each(function() {\n            var instanceNumber = $(this).data(\"countdown-instance\");\n            if (instanceNumber !== undefined) {\n                var instance = instances[instanceNumber], method = argumentsArray[0];\n                if (Countdown.prototype.hasOwnProperty(method)) {\n                    instance[method].apply(instance, argumentsArray.slice(1));\n                } else if (String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i) === null) {\n                    instance.setFinalDate.call(instance, method);\n                    instance.start();\n                } else {\n                    $.error(\"Method %s does not exist on jQuery.countdown\".replace(/\\%s/gi, method));\n                }\n            } else {\n                new Countdown(this, argumentsArray[0], argumentsArray[1]);\n            }\n        });\n    };\n});","TemplateMonster_FeaturedProduct/js/featured-carousel.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'featuredOwlCarousel'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.featuredCarousel', {\n        options: {\n            margin: 0,\n            nav:true,\n            navText: [],\n            dots: false,\n            autoplay: false,\n            responsive : {\n                0 : {\n                    items: 2\n                },\n                450 : {\n                    items: 3\n                },\n                600 : {\n                    items: 3\n                },\n                767 : {\n                    items: 4\n                },\n                979 : {\n                    items: 4\n                },\n                1199 : {\n                    items: 4\n                }\n            },\n            inSidebar: false,\n            touchDrag: false,\n            mouseDrag: false,\n            sidebarOptions: {\n                0 : { items: 1},\n                450 : { items: 1},\n                600 : { items: 1},\n                767 : { items: 1},\n                979 : { items: 1},\n                1199 : { items: 1}\n            },\n            prevCssClass: '',\n            nextCssClass: '',\n            defaultPrevCssClass: 'fa-angle-left',\n            defaultNextCssClass: 'fa-angle-right'\n        },\n\n        _create: function() {\n            var self = this;\n            this.options.navigation = Boolean(this.options.navigation);\n            this.options.pagination = Boolean(this.options.pagination);\n\n            var onInitialized = {\n                onInitialized: function () {\n                    $('.owl-prev', self.element).addClass(this.options.defaultPrevCssClass+' '+this.options.prevCssClass);\n                    $('.owl-next', self.element).addClass(this.options.defaultNextCssClass+' '+this.options.nextCssClass);\n                    $(self.element).parent('.is-carousel').animate({ opacity: 1}, 500);\n                }\n            };\n            if(this.options.inSidebar) {\n                this.options.responsive = $.extend(this.options.responsive, this.options.sidebarOptions)\n            }\n            $(this.element).parent('.is-carousel').css({opacity: 0});\n            this.element.owlCarousel($.extend(this.options, onInitialized));\n        },\n        \n    });\n\n    return $.TemplateMonster.featuredCarousel;\n\n});\n","TemplateMonster_FeaturedProduct/js/featured-product-gallery.js":"define([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('TemplateMonster.featuredProductGallery', {\n\n        options: {},\n\n        _create: function() {\n            $(this.element).closest('a').contents().unwrap();\n            $(this.element).on('fotorama:load', function (e, fotorama) {\n                $('.fotorama__wrap--toggle-arrows', this.element).addClass('fotorama__wrap--no-controls');\n            });\n        },\n\n    });\n\n    return $.TemplateMonster.featuredProductGallery;\n});","TemplateMonster_FeaturedProduct/js/featured-switch-image.js":"define([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('TemplateMonster.featuredSwitchImage', {\n\n        options: {\n            duration: 300,\n        },\n\n        _create: function() {\n            this._replaceImage();\n            this._playVideo();\n        },\n\n        _replaceImage: function() {\n            var self = this.element;\n            var duration = this.options.duration;\n            $(self).hover(\n                function() {\n                    $('.base', this).stop().fadeTo(duration, 0);\n                    $('.replaced', this).stop().fadeIn(duration);\n            },\n                function () {\n                    $('.replaced', this).stop().fadeOut(duration);\n                    $('.base', this).stop().fadeTo(duration, 1);\n                }\n            );\n        },\n\n        _playVideo: function() {\n            if(!$(this.element).hasClass('is-video')) return false;\n\n            console.log('222');\n\n            var self = this.element;\n            var duration = this.options.duration;\n\n            $(self).hover(\n                function() {\n                    $('.base', this).fadeTo(duration, 0);\n                    $('.switch-video', this).fadeIn(duration);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL += \"&autoplay=1\";\n                    $('iframe', self).prop('src',videoURL);\n                },\n                function () {\n                    $('.switch-video', this).fadeOut(duration);\n                    $('.base', this).fadeTo(duration, 1);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL = videoURL.replace(\"&autoplay=1\", \"\");\n                    $('iframe', self).prop('src','');\n                    $('iframe', self).prop('src',videoURL);\n                    $('iframe', self).fadeIn('slow');\n                }\n            );\n\n\n\n\n\n        }\n\n    });\n\n    return $.TemplateMonster.featuredSwitchImage;\n});","TemplateMonster_FeaturedProduct/js/featured-tab.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'matchMedia',\n    'tabs',\n    'featuredOwlCarousel'\n], function($, mediaCheck){\n    \"use strict\";\n\n    $.widget('TemplateMonster.featuredTab', $.mage.tabs, {\n        options: {\n            mobile: {\n                \"openedState\": \"active\",\n                \"collapsible\": true,\n                \"animate\": 200,\n                \"active\": 0,\n            },\n            desktop: {\n                \"openedState\": \"active\",\n                \"collapsible\": false,\n                \"animate\": false,\n                \"active\": 0\n            },\n        },\n        tabsBlock: false,\n\n        _create: function() {\n            var self = this;\n            mediaCheck({\n                media: '(max-width: 767px)',\n                entry: function () {\n                    self._destroyTab();\n                    self._createTab('mobile');\n                },\n                exit: function () {\n                    self._destroyTab();\n                    self._createTab('desktop');\n                }\n            });\n        },\n\n        _createTab: function (device) {\n            var self = this;\n            var isGallery =  $('.gallery-placeholder', self.element);\n\n            if(isGallery.length) {\n                isGallery.last().on('fotorama:ready', function () {\n                    self._initTab(device);\n                });\n            } else {\n                self._initTab(device);\n            }\n\n        },\n\n        _initTab: function (device) {\n            var self = this;\n            this.tabsBlock = this.element.tabs(this.options[device]);\n            var currentCarouselHeight = $('[aria-hidden=\"false\"] .owl-carousel', this.element).height();\n            this.tabsBlock.on('dimensionsChanged', function() {\n                self._loaderInit(currentCarouselHeight);\n            })\n        },\n\n        _destroyTab: function () {\n            if(this.tabsBlock) {\n                this.tabsBlock.tabs(\"destroy\");\n                $('[data-role=\"content\"]', this.element).show();\n            }\n        },\n\n        _loaderInit: function (carouselHeight) {\n            var block = $('[aria-hidden=\"false\"]', this.element);\n            var carousel = $('.owl-carousel', block);\n            carousel.trigger('featuredOwlCarousel').css({'opacity': 0, 'max-height': carouselHeight+'px'});\n            block.addClass('loader');\n            setTimeout(function(){\n                carousel.animate({ 'opacity': 1, 'max-height': '100%'}, 300);\n                block.removeClass('loader');\n            }, 500);\n        }\n        \n    });\n\n    return $.TemplateMonster.featuredTab;\n\n});\n","TemplateMonster_FeaturedProduct/js/owl.carousel2.js":"/**\n * Owl Carousel v2.2.1\n * Copyright 2013-2017 David Deutsch\n * Licensed under  ()\n */\n/**\n * Owl carousel\n * @version 2.1.6\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @public\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t * Current options set by the caller including defaults.\n\t\t * @public\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Plugin element.\n\t\t * @public\n\t\t */\n\t\tthis.$element = $(element);\n\n\t\t/**\n\t\t * Proxied event handlers.\n\t\t * @protected\n\t\t */\n\t\tthis._handlers = {};\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * Absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * Animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * Coordinates of all items in pixel.\n\t\t * @todo The name of this member is missleading.\n\t\t * @protected\n\t\t */\n\t\tthis._coordinates = [];\n\n\t\t/**\n\t\t * Current breakpoint.\n\t\t * @todo Real media queries would be nice.\n\t\t * @protected\n\t\t */\n\t\tthis._breakpoint = null;\n\n\t\t/**\n\t\t * Current width of the plugin element.\n\t\t */\n\t\tthis._width = null;\n\n\t\t/**\n\t\t * All real items.\n\t\t * @protected\n\t\t */\n\t\tthis._items = [];\n\n\t\t/**\n\t\t * All cloned items.\n\t\t * @protected\n\t\t */\n\t\tthis._clones = [];\n\n\t\t/**\n\t\t * Merge values of all items.\n\t\t * @todo Maybe this could be part of a plugin.\n\t\t * @protected\n\t\t */\n\t\tthis._mergers = [];\n\n\t\t/**\n\t\t * Widths of all items.\n\t\t */\n\t\tthis._widths = [];\n\n\t\t/**\n\t\t * Invalidated parts within the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._invalidated = {};\n\n\t\t/**\n\t\t * Ordered list of workers for the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._pipe = [];\n\n\t\t/**\n\t\t * Current state information for the drag operation.\n\t\t * @todo #261\n\t\t * @protected\n\t\t */\n\t\tthis._drag = {\n\t\t\ttime: null,\n\t\t\ttarget: null,\n\t\t\tpointer: null,\n\t\t\tstage: {\n\t\t\t\tstart: null,\n\t\t\t\tcurrent: null\n\t\t\t},\n\t\t\tdirection: null\n\t\t};\n\n\t\t/**\n\t\t * Current state information and their tags.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._states = {\n\t\t\tcurrent: {},\n\t\t\ttags: {\n\t\t\t\t'initializing': [ 'busy' ],\n\t\t\t\t'animating': [ 'busy' ],\n\t\t\t\t'dragging': [ 'interacting' ]\n\t\t\t}\n\t\t};\n\n\t\t$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {\n\t\t\tthis._handlers[handler] = $.proxy(this[handler], this);\n\t\t}, this));\n\n\t\t$.each(Owl.Plugins, $.proxy(function(key, plugin) {\n\t\t\tthis._plugins[key.charAt(0).toLowerCase() + key.slice(1)]\n\t\t\t\t= new plugin(this);\n\t\t}, this));\n\n\t\t$.each(Owl.Workers, $.proxy(function(priority, worker) {\n\t\t\tthis._pipe.push({\n\t\t\t\t'filter': worker.filter,\n\t\t\t\t'run': $.proxy(worker.run, this)\n\t\t\t});\n\t\t}, this));\n\n\t\tthis.setup();\n\t\tthis.initialize();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\t\trewind: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\t\trtl: false,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\trefreshClass: 'owl-refresh',\n\t\tloadedClass: 'owl-loaded',\n\t\tloadingClass: 'owl-loading',\n\t\trtlClass: 'owl-rtl',\n\t\tresponsiveClass: 'owl-responsive',\n\t\tdragClass: 'owl-drag',\n\t\titemClass: 'owl-item',\n\t\tstageClass: 'owl-stage',\n\t\tstageOuterClass: 'owl-stage-outer',\n\t\tgrabClass: 'owl-grab'\n\t};\n\n\t/**\n\t * Enumeration for width.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Width = {\n\t\tDefault: 'default',\n\t\tInner: 'inner',\n\t\tOuter: 'outer'\n\t};\n\n\t/**\n\t * Enumeration for types.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Type = {\n\t\tEvent: 'event',\n\t\tState: 'state'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * List of workers involved in the update process.\n\t */\n\tOwl.Workers = [ {\n\t\tfilter: [ 'width', 'settings' ],\n\t\trun: function() {\n\t\t\tthis._width = this.$element.width();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = this._items && this._items[this.relative(this._current)];\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tthis.$stage.children('.cloned').remove();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar margin = this.settings.margin || '',\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\trtl = this.settings.rtl,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'margin-left': rtl ? margin : '',\n\t\t\t\t\t'margin-right': rtl ? '' : margin\n\t\t\t\t};\n\n\t\t\t!grid && this.$stage.children().css(css);\n\n\t\t\tcache.css = css;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,\n\t\t\t\tmerge = null,\n\t\t\t\titerator = this._items.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\twidths = [];\n\n\t\t\tcache.items = {\n\t\t\t\tmerge: false,\n\t\t\t\twidth: width\n\t\t\t};\n\n\t\t\twhile (iterator--) {\n\t\t\t\tmerge = this._mergers[iterator];\n\t\t\t\tmerge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;\n\n\t\t\t\tcache.items.merge = merge > 1 || cache.items.merge;\n\n\t\t\t\twidths[iterator] = !grid ? this._items[iterator].width() : width * merge;\n\t\t\t}\n\n\t\t\tthis._widths = widths;\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar clones = [],\n\t\t\t\titems = this._items,\n\t\t\t\tsettings = this.settings,\n\t\t\t\t// TODO: Should be computed from number of min width items in stage\n\t\t\t\tview = Math.max(settings.items * 2, 4),\n\t\t\t\tsize = Math.ceil(items.length / 2) * 2,\n\t\t\t\trepeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,\n\t\t\t\tappend = '',\n\t\t\t\tprepend = '';\n\n\t\t\trepeat /= 2;\n\n\t\t\twhile (repeat--) {\n\t\t\t\t// Switch to only using appended clones\n\t\t\t\tclones.push(this.normalize(clones.length / 2, true));\n\t\t\t\tappend = append + items[clones[clones.length - 1]][0].outerHTML;\n\t\t\t\tclones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));\n\t\t\t\tprepend = items[clones[clones.length - 1]][0].outerHTML + prepend;\n\t\t\t}\n\n\t\t\tthis._clones = clones;\n\n\t\t\t$(append).addClass('cloned').appendTo(this.$stage);\n\t\t\t$(prepend).addClass('cloned').prependTo(this.$stage);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tsize = this._clones.length + this._items.length,\n\t\t\t\titerator = -1,\n\t\t\t\tprevious = 0,\n\t\t\t\tcurrent = 0,\n\t\t\t\tcoordinates = [];\n\n\t\t\twhile (++iterator < size) {\n\t\t\t\tprevious = coordinates[iterator - 1] || 0;\n\t\t\t\tcurrent = this._widths[this.relative(iterator)] + this.settings.margin;\n\t\t\t\tcoordinates.push(previous + current * rtl);\n\t\t\t}\n\n\t\t\tthis._coordinates = coordinates;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar padding = this.settings.stagePadding,\n\t\t\t\tcoordinates = this._coordinates,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,\n\t\t\t\t\t'padding-left': padding || '',\n\t\t\t\t\t'padding-right': padding || ''\n\t\t\t\t};\n\n\t\t\tthis.$stage.css(css);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar iterator = this._coordinates.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\titems = this.$stage.children();\n\n\t\t\tif (grid && cache.items.merge) {\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\tcache.css.width = this._widths[this.relative(iterator)];\n\t\t\t\t\titems.eq(iterator).css(cache.css);\n\t\t\t\t}\n\t\t\t} else if (grid) {\n\t\t\t\tcache.css.width = cache.items.width;\n\t\t\t\titems.css(cache.css);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tfilter: [ 'items' ],\n\t\trun: function() {\n\t\t\tthis._coordinates.length < 1 && this.$stage.removeAttr('style');\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = cache.current ? this.$stage.children().index(cache.current) : 0;\n\t\t\tcache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));\n\t\t\tthis.reset(cache.current);\n\t\t}\n\t}, {\n\t\tfilter: [ 'position' ],\n\t\trun: function() {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'position', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tpadding = this.settings.stagePadding * 2,\n\t\t\t\tbegin = this.coordinates(this.current()) + padding,\n\t\t\t\tend = begin + this.width() * rtl,\n\t\t\t\tinner, outer, matches = [], i, n;\n\n\t\t\tfor (i = 0, n = this._coordinates.length; i < n; i++) {\n\t\t\t\tinner = this._coordinates[i - 1] || 0;\n\t\t\t\touter = Math.abs(this._coordinates[i]) + padding * rtl;\n\n\t\t\t\tif ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))\n\t\t\t\t\t|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {\n\t\t\t\t\tmatches.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$stage.children('.active').removeClass('active');\n\t\t\tthis.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');\n\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis.$stage.children('.center').removeClass('center');\n\t\t\t\tthis.$stage.children().eq(this.current()).addClass('center');\n\t\t\t}\n\t\t}\n\t} ];\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.initialize = function() {\n\t\tthis.enter('initializing');\n\t\tthis.trigger('initialize');\n\n\t\tthis.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);\n\n\t\tif (this.settings.autoWidth && !this.is('pre-loading')) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.$element.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.$element.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t}\n\t\t}\n\n\t\tthis.$element.addClass(this.options.loadingClass);\n\n\t\t// create stage\n\t\tthis.$stage = $('<' + this.settings.stageElement + ' class=\"' + this.settings.stageClass + '\"/>')\n\t\t\t.wrap('<div class=\"' + this.settings.stageOuterClass + '\"/>');\n\n\t\t// append stage\n\t\tthis.$element.append(this.$stage.parent());\n\n\t\t// append content\n\t\tthis.replace(this.$element.children().not(this.$stage.parent()));\n\n\t\t// check visibility\n\t\tif (this.$element.is(':visible')) {\n\t\t\t// update view\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\t// invalidate width\n\t\t\tthis.invalidate('width');\n\t\t}\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.addClass(this.options.loadedClass);\n\n\t\t// register event handlers\n\t\tthis.registerEventHandlers();\n\n\t\tthis.leave('initializing');\n\t\tthis.trigger('initialized');\n\t};\n\n\t/**\n\t * Setups the current settings.\n\t * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?\n\t * @todo Support for media queries by using `matchMedia` would be nice.\n\t * @public\n\t */\n\tOwl.prototype.setup = function() {\n\t\tvar viewport = this.viewport(),\n\t\t\toverwrites = this.options.responsive,\n\t\t\tmatch = -1,\n\t\t\tsettings = null;\n\n\t\tif (!overwrites) {\n\t\t\tsettings = $.extend({}, this.options);\n\t\t} else {\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings = $.extend({}, this.options, overwrites[match]);\n\t\t\tif (typeof settings.stagePadding === 'function') {\n\t\t\t\tsettings.stagePadding = settings.stagePadding();\n\t\t\t}\n\t\t\tdelete settings.responsive;\n\n\t\t\t// responsive class\n\t\t\tif (settings.responsiveClass) {\n\t\t\t\tthis.$element.attr('class',\n\t\t\t\t\tthis.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\\\S+\\\\s', 'g'), '$1' + match)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.trigger('change', { property: { name: 'settings', value: settings } });\n\t\tthis._breakpoint = match;\n\t\tthis.settings = settings;\n\t\tthis.invalidate('settings');\n\t\tthis.trigger('changed', { property: { name: 'settings', value: this.settings } });\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Prepares an item before add.\n\t * @todo Rename event parameter `content` to `item`.\n\t * @protected\n\t * @returns {jQuery|HTMLElement} - The item container.\n\t */\n\tOwl.prototype.prepare = function(item) {\n\t\tvar event = this.trigger('prepare', { content: item });\n\n\t\tif (!event.data) {\n\t\t\tevent.data = $('<' + this.settings.itemElement + '/>')\n\t\t\t\t.addClass(this.options.itemClass).append(item)\n\t\t}\n\n\t\tthis.trigger('prepared', { content: event.data });\n\n\t\treturn event.data;\n\t};\n\n\t/**\n\t * Updates the view.\n\t * @public\n\t */\n\tOwl.prototype.update = function() {\n\t\tvar i = 0,\n\t\t\tn = this._pipe.length,\n\t\t\tfilter = $.proxy(function(p) { return this[p] }, this._invalidated),\n\t\t\tcache = {};\n\n\t\twhile (i < n) {\n\t\t\tif (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {\n\t\t\t\tthis._pipe[i].run(cache);\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tthis._invalidated = {};\n\n\t\t!this.is('valid') && this.enter('valid');\n\t};\n\n\t/**\n\t * Gets the width of the view.\n\t * @public\n\t * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.\n\t * @returns {Number} - The width of the view in pixel.\n\t */\n\tOwl.prototype.width = function(dimension) {\n\t\tdimension = dimension || Owl.Width.Default;\n\t\tswitch (dimension) {\n\t\t\tcase Owl.Width.Inner:\n\t\t\tcase Owl.Width.Outer:\n\t\t\t\treturn this._width;\n\t\t\tdefault:\n\t\t\t\treturn this._width - this.settings.stagePadding * 2 + this.settings.margin;\n\t\t}\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tthis.enter('refreshing');\n\t\tthis.trigger('refresh');\n\n\t\tthis.setup();\n\n\t\tthis.optionsLogic();\n\n\t\tthis.$element.addClass(this.options.refreshClass);\n\n\t\tthis.update();\n\n\t\tthis.$element.removeClass(this.options.refreshClass);\n\n\t\tthis.leave('refreshing');\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onThrottledResize = function() {\n\t\twindow.clearTimeout(this.resizeTimer);\n\t\tthis.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onResize = function() {\n\t\tif (!this._items.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._width === this.$element.width()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.$element.is(':visible')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.enter('resizing');\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\tthis.leave('resizing');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.invalidate('width');\n\n\t\tthis.refresh();\n\n\t\tthis.leave('resizing');\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Registers event handlers.\n\t * @todo Check `msPointerEnabled`\n\t * @todo #261\n\t * @protected\n\t */\n\tOwl.prototype.registerEventHandlers = function() {\n\t\tif ($.support.transition) {\n\t\t\tthis.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tif (this.settings.mouseDrag) {\n\t\t\tthis.$element.addClass(this.options.dragClass);\n\t\t\tthis.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });\n\t\t}\n\n\t\tif (this.settings.touchDrag){\n\t\t\tthis.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));\n\t\t}\n\t};\n\n\t/**\n\t * Handles `touchstart` and `mousedown` events.\n\t * @todo Horizontal swipe threshold as option\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar stage = null;\n\n\t\tif (event.which === 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($.support.transform) {\n\t\t\tstage = this.$stage.css('transform').replace(/.*\\(|\\)| /g, '').split(',');\n\t\t\tstage = {\n\t\t\t\tx: stage[stage.length === 16 ? 12 : 4],\n\t\t\t\ty: stage[stage.length === 16 ? 13 : 5]\n\t\t\t};\n\t\t} else {\n\t\t\tstage = this.$stage.position();\n\t\t\tstage = {\n\t\t\t\tx: this.settings.rtl ?\n\t\t\t\t\tstage.left + this.$stage.width() - this.width() + this.settings.margin :\n\t\t\t\t\tstage.left,\n\t\t\t\ty: stage.top\n\t\t\t};\n\t\t}\n\n\t\tif (this.is('animating')) {\n\t\t\t$.support.transform ? this.animate(stage.x) : this.$stage.stop()\n\t\t\tthis.invalidate('position');\n\t\t}\n\n\t\tthis.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');\n\n\t\tthis.speed(0);\n\n\t\tthis._drag.time = new Date().getTime();\n\t\tthis._drag.target = $(event.target);\n\t\tthis._drag.stage.start = stage;\n\t\tthis._drag.stage.current = stage;\n\t\tthis._drag.pointer = this.pointer(event);\n\n\t\t$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));\n\n\t\t$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {\n\t\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event));\n\n\t\t\t$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));\n\n\t\t\tif (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.enter('dragging');\n\t\t\tthis.trigger('drag');\n\t\t}, this));\n\t};\n\n\t/**\n\t * Handles the `touchmove` and `mousemove` events.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar minimum = null,\n\t\t\tmaximum = null,\n\t\t\tpull = null,\n\t\t\tdelta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this.difference(this._drag.stage.start, delta);\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (this.settings.loop) {\n\t\t\tminimum = this.coordinates(this.minimum());\n\t\t\tmaximum = this.coordinates(this.maximum() + 1) - minimum;\n\t\t\tstage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;\n\t\t} else {\n\t\t\tminimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;\n\t\t\tstage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);\n\t\t}\n\n\t\tthis._drag.stage.current = stage;\n\n\t\tthis.animate(stage.x);\n\t};\n\n\t/**\n\t * Handles the `touchend` and `mouseup` events.\n\t * @todo #261\n\t * @todo Threshold for click event\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragEnd = function(event) {\n\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this._drag.stage.current,\n\t\t\tdirection = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';\n\n\t\t$(document).off('.owl.core');\n\n\t\tthis.$element.removeClass(this.options.grabClass);\n\n\t\tif (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {\n\t\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\t\tthis.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));\n\t\t\tthis.invalidate('position');\n\t\t\tthis.update();\n\n\t\t\tthis._drag.direction = direction;\n\n\t\t\tif (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {\n\t\t\t\tthis._drag.target.one('click.owl.core', function() { return false; });\n\t\t\t}\n\t\t}\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.leave('dragging');\n\t\tthis.trigger('dragged');\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @todo Setting `freeDrag` makes `closest` not reusable. See #165.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate, direction) {\n\t\tvar position = -1,\n\t\t\tpull = 30,\n\t\t\twidth = this.width(),\n\t\t\tcoordinates = this.coordinates();\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(coordinates, $.proxy(function(index, value) {\n\t\t\t\t// on a left pull, check on current index\n\t\t\t\tif (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t// on a right pull, check on previous index\n\t\t\t\t// to do so, subtract width from value and set position = index + 1\n\t\t\t\t} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', coordinates[index + 1] || value - width)) {\n\t\t\t\t\tposition = direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t\treturn position === -1;\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', coordinates[this.minimum()])) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @todo #270\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tvar animate = this.speed() > 0;\n\n\t\tthis.is('animating') && this.onTransitionEnd();\n\n\t\tif (animate) {\n\t\t\tthis.enter('animating');\n\t\t\tthis.trigger('translate');\n\t\t}\n\n\t\tif ($.support.transform3d && $.support.transition) {\n\t\t\tthis.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px,0px,0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (animate) {\n\t\t\tthis.$stage.animate({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));\n\t\t} else {\n\t\t\tthis.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Checks whether the carousel is in a specific state or not.\n\t * @param {String} state - The state to check.\n\t * @returns {Boolean} - The flag which indicates if the carousel is busy.\n\t */\n\tOwl.prototype.is = function(state) {\n\t\treturn this._states.current[state] && this._states.current[state] > 0;\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this._items.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current !== position) {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.invalidate('position');\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Invalidates the given part of the update routine.\n\t * @param {String} [part] - The part to invalidate.\n\t * @returns {Array.<String>} - The invalidated parts.\n\t */\n\tOwl.prototype.invalidate = function(part) {\n\t\tif ($.type(part) === 'string') {\n\t\t\tthis._invalidated[part] = true;\n\t\t\tthis.is('valid') && this.leave('valid');\n\t\t}\n\t\treturn $.map(this._invalidated, function(v, i) { return i });\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tposition = this.normalize(position);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._speed = 0;\n\t\tthis._current = position;\n\n\t\tthis.suppress([ 'translate', 'translated' ]);\n\n\t\tthis.animate(this.coordinates(position));\n\n\t\tthis.release([ 'translate', 'translated' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute or a relative position of an item.\n\t * @public\n\t * @param {Number} position - The absolute or relative position to normalize.\n\t * @param {Boolean} [relative=false] - Whether the given position is relative or not.\n\t * @returns {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tvar n = this._items.length,\n\t\t\tm = relative ? 0 : this._clones.length;\n\n\t\tif (!this.isNumeric(position) || n < 1) {\n\t\t\tposition = undefined;\n\t\t} else if (position < 0 || position >= n + m) {\n\t\t\tposition = ((position - m / 2) % n + n) % n + m / 2;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Converts an absolute position of an item into a relative one.\n\t * @public\n\t * @param {Number} position - The absolute position to convert.\n\t * @returns {Number} - The converted position.\n\t */\n\tOwl.prototype.relative = function(position) {\n\t\tposition -= this._clones.length / 2;\n\t\treturn this.normalize(position, true);\n\t};\n\n\t/**\n\t * Gets the maximum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function(relative) {\n\t\tvar settings = this.settings,\n\t\t\tmaximum = this._coordinates.length,\n\t\t\titerator,\n\t\t\treciprocalItemsWidth,\n\t\t\telementWidth;\n\n\t\tif (settings.loop) {\n\t\t\tmaximum = this._clones.length / 2 + this._items.length - 1;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\titerator = this._items.length;\n\t\t\treciprocalItemsWidth = this._items[--iterator].width();\n\t\t\telementWidth = this.$element.width();\n\t\t\twhile (iterator--) {\n\t\t\t\treciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;\n\t\t\t\tif (reciprocalItemsWidth > elementWidth) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaximum = iterator + 1;\n\t\t} else if (settings.center) {\n\t\t\tmaximum = this._items.length - 1;\n\t\t} else {\n\t\t\tmaximum = this._items.length - settings.items;\n\t\t}\n\n\t\tif (relative) {\n\t\t\tmaximum -= this._clones.length / 2;\n\t\t}\n\n\t\treturn Math.max(maximum, 0);\n\t};\n\n\t/**\n\t * Gets the minimum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function(relative) {\n\t\treturn relative ? 0 : this._clones.length / 2;\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.items = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._items.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._items[position];\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.mergers = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._mergers.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._mergers[position];\n\t};\n\n\t/**\n\t * Gets the absolute positions of clones for an item.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.\n\t */\n\tOwl.prototype.clones = function(position) {\n\t\tvar odd = this._clones.length / 2,\n\t\t\teven = odd + this._items.length,\n\t\t\tmap = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._clones, function(v, i) { return map(i) });\n\t\t}\n\n\t\treturn $.map(this._clones, function(v, i) { return v === position ? map(i) : null });\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate of an item.\n\t * @todo The name of this method is missleanding.\n\t * @public\n\t * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\tvar multiplier = 1,\n\t\t\tnewPosition = position - 1,\n\t\t\tcoordinate;\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._coordinates, $.proxy(function(coordinate, index) {\n\t\t\t\treturn this.coordinates(index);\n\t\t\t}, this));\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tmultiplier = -1;\n\t\t\t\tnewPosition = position + 1;\n\t\t\t}\n\n\t\t\tcoordinate = this._coordinates[position];\n\t\t\tcoordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;\n\t\t} else {\n\t\t\tcoordinate = this._coordinates[newPosition] || 0;\n\t\t}\n\n\t\tcoordinate = Math.ceil(coordinate);\n\n\t\treturn coordinate;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\tif (factor === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tvar current = this.current(),\n\t\t\trevert = null,\n\t\t\tdistance = position - this.relative(current),\n\t\t\tdirection = (distance > 0) - (distance < 0),\n\t\t\titems = this._items.length,\n\t\t\tminimum = this.minimum(),\n\t\t\tmaximum = this.maximum();\n\n\t\tif (this.settings.loop) {\n\t\t\tif (!this.settings.rewind && Math.abs(distance) > items / 2) {\n\t\t\t\tdistance += direction * -1 * items;\n\t\t\t}\n\n\t\t\tposition = current + distance;\n\t\t\trevert = ((position - minimum) % items + items) % items + minimum;\n\n\t\t\tif (revert !== position && revert - distance <= maximum && revert - distance > 0) {\n\t\t\t\tcurrent = revert - distance;\n\t\t\t\tposition = revert;\n\t\t\t\tthis.reset(current);\n\t\t\t}\n\t\t} else if (this.settings.rewind) {\n\t\t\tmaximum += 1;\n\t\t\tposition = (position % maximum + maximum) % maximum;\n\t\t} else {\n\t\t\tposition = Math.max(minimum, Math.min(maximum, position));\n\t\t}\n\n\t\tthis.speed(this.duration(current, position, speed));\n\t\tthis.current(position);\n\n\t\tif (this.$element.is(':visible')) {\n\t\t\tthis.update();\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onTransitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tif ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.leave('animating');\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tconsole.warn('Can not detect viewport width.');\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.replace = function(content) {\n\t\tthis.$stage.empty();\n\t\tthis._items = [];\n\n\t\tif (content) {\n\t\t\tcontent = (content instanceof jQuery) ? content : $(content);\n\t\t}\n\n\t\tif (this.settings.nestedItemSelector) {\n\t\t\tcontent = content.find('.' + this.settings.nestedItemSelector);\n\t\t}\n\n\t\tcontent.filter(function() {\n\t\t\treturn this.nodeType === 1;\n\t\t}).each($.proxy(function(index, item) {\n\t\t\titem = this.prepare(item);\n\t\t\tthis.$stage.append(item);\n\t\t\tthis._items.push(item);\n\t\t\tthis._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}, this));\n\n\t\tthis.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);\n\n\t\tthis.invalidate('items');\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.\n\t */\n\tOwl.prototype.add = function(content, position) {\n\t\tvar current = this.relative(this._current);\n\n\t\tposition = position === undefined ? this._items.length : this.normalize(position, true);\n\t\tcontent = content instanceof jQuery ? content : $(content);\n\n\t\tthis.trigger('add', { content: content, position: position });\n\n\t\tcontent = this.prepare(content);\n\n\t\tif (this._items.length === 0 || position === this._items.length) {\n\t\t\tthis._items.length === 0 && this.$stage.append(content);\n\t\t\tthis._items.length !== 0 && this._items[position - 1].after(content);\n\t\t\tthis._items.push(content);\n\t\t\tthis._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t} else {\n\t\t\tthis._items[position].before(content);\n\t\t\tthis._items.splice(position, 0, content);\n\t\t\tthis._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}\n\n\t\tthis._items[current] && this.reset(this._items[current].index());\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('added', { content: content, position: position });\n\t};\n\n\t/**\n\t * Removes an item by its position.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {Number} position - The relative position of the item to remove.\n\t */\n\tOwl.prototype.remove = function(position) {\n\t\tposition = this.normalize(position, true);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.trigger('remove', { content: this._items[position], position: position });\n\n\t\tthis._items[position].remove();\n\t\tthis._items.splice(position, 1);\n\t\tthis._mergers.splice(position, 1);\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('removed', { content: null, position: position });\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @todo Replace by a more generic approach\n\t * @protected\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(images) {\n\t\timages.each($.proxy(function(i, element) {\n\t\t\tthis.enter('pre-loading');\n\t\t\telement = $(element);\n\t\t\t$(new Image()).one('load', $.proxy(function(e) {\n\t\t\t\telement.attr('src', e.target.src);\n\t\t\t\telement.css('opacity', 1);\n\t\t\t\tthis.leave('pre-loading');\n\t\t\t\t!this.is('pre-loading') && !this.is('initializing') && this.refresh();\n\t\t\t}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tthis.$element.off('.owl.core');\n\t\tthis.$stage.off('.owl.core');\n\t\t$(document).off('.owl.core');\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\twindow.clearTimeout(this.resizeTimer);\n\t\t\tthis.off(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tfor (var i in this._plugins) {\n\t\t\tthis._plugins[i].destroy();\n\t\t}\n\n\t\tthis.$stage.children('.cloned').remove();\n\n\t\tthis.$stage.unwrap();\n\t\tthis.$stage.children().contents().unwrap();\n\t\tthis.$stage.children().unwrap();\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.refreshClass)\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.removeClass(this.options.loadedClass)\n\t\t\t.removeClass(this.options.rtlClass)\n\t\t\t.removeClass(this.options.dragClass)\n\t\t\t.removeClass(this.options.grabClass)\n\t\t\t.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\\\S+\\\\s', 'g'), ''))\n\t\t\t.removeData('owl.carousel');\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\t\tcase '<':\n\t\t\t\treturn rtl ? a > b : a < b;\n\t\t\tcase '>':\n\t\t\t\treturn rtl ? a < b : a > b;\n\t\t\tcase '>=':\n\t\t\t\treturn rtl ? a <= b : a >= b;\n\t\t\tcase '<=':\n\t\t\t\treturn rtl ? a >= b : a <= b;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers a public event.\n\t * @todo Remove `status`, `relatedTarget` should be used instead.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=carousel] - The event namespace.\n\t * @param {String} [state] - The state which is associated with the event.\n\t * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace, state, enter) {\n\t\tvar status = {\n\t\t\titem: { count: this._items.length, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[name]) {\n\t\t\t$.each(this._plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.register({ type: Owl.Type.Event, name: name });\n\t\t\tthis.$element.trigger(event);\n\n\t\t\tif (this.settings && typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].call(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Enters a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.enter = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tif (this._states.current[name] === undefined) {\n\t\t\t\tthis._states.current[name] = 0;\n\t\t\t}\n\n\t\t\tthis._states.current[name]++;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Leaves a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.leave = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tthis._states.current[name]--;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Registers an event or state.\n\t * @public\n\t * @param {Object} object - The event or state to register.\n\t */\n\tOwl.prototype.register = function(object) {\n\t\tif (object.type === Owl.Type.Event) {\n\t\t\tif (!$.event.special[object.name]) {\n\t\t\t\t$.event.special[object.name] = {};\n\t\t\t}\n\n\t\t\tif (!$.event.special[object.name].owl) {\n\t\t\t\tvar _default = $.event.special[object.name]._default;\n\t\t\t\t$.event.special[object.name]._default = function(e) {\n\t\t\t\t\tif (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {\n\t\t\t\t\t\treturn _default.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn e.namespace && e.namespace.indexOf('owl') > -1;\n\t\t\t\t};\n\t\t\t\t$.event.special[object.name].owl = true;\n\t\t\t}\n\t\t} else if (object.type === Owl.Type.State) {\n\t\t\tif (!this._states.tags[object.name]) {\n\t\t\t\tthis._states.tags[object.name] = object.tags;\n\t\t\t} else {\n\t\t\t\tthis._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);\n\t\t\t}\n\n\t\t\tthis._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {\n\t\t\t\treturn $.inArray(tag, this._states.tags[object.name]) === i;\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t};\n\n\t/**\n\t * Gets unified pointer coordinates from event.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} - The `mousedown` or `touchstart` event.\n\t * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.\n\t */\n\tOwl.prototype.pointer = function(event) {\n\t\tvar result = { x: null, y: null };\n\n\t\tevent = event.originalEvent || event || window.event;\n\n\t\tevent = event.touches && event.touches.length ?\n\t\t\tevent.touches[0] : event.changedTouches && event.changedTouches.length ?\n\t\t\t\tevent.changedTouches[0] : event;\n\n\t\tif (event.pageX) {\n\t\t\tresult.x = event.pageX;\n\t\t\tresult.y = event.pageY;\n\t\t} else {\n\t\t\tresult.x = event.clientX;\n\t\t\tresult.y = event.clientY;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Determines if the input is a Number or something that can be coerced to a Number\n\t * @protected\n\t * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested\n\t * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number\n\t */\n\tOwl.prototype.isNumeric = function(number) {\n\t\treturn !isNaN(parseFloat(number));\n\t};\n\n\t/**\n\t * Gets the difference of two vectors.\n\t * @todo #261\n\t * @protected\n\t * @param {Object} - The first vector.\n\t * @param {Object} - The second vector.\n\t * @returns {Object} - The difference.\n\t */\n\tOwl.prototype.difference = function(first, second) {\n\t\treturn {\n\t\t\tx: first.x - second.x,\n\t\t\ty: first.y - second.y\n\t\t};\n\t};\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @todo Navigation plugin `next` and `prev`\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('owl.carousel');\n\n\t\t\tif (!data) {\n\t\t\t\tdata = new Owl(this, typeof option == 'object' && option);\n\t\t\t\t$this.data('owl.carousel', data);\n\n\t\t\t\t$.each([\n\t\t\t\t\t'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'\n\t\t\t\t], function(i, event) {\n\t\t\t\t\tdata.register({ type: Owl.Type.Event, name: event });\n\t\t\t\t\tdata.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {\n\t\t\t\t\t\tif (e.namespace && e.relatedTarget !== this) {\n\t\t\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\t\t\tdata[event].apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, data));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof option == 'string' && option.charAt(0) !== '_') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoRefresh Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto refresh plugin.\n\t * @class The Auto Refresh Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoRefresh = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Refresh interval.\n\t\t * @protected\n\t\t * @type {number}\n\t\t */\n\t\tthis._interval = null;\n\n\t\t/**\n\t\t * Whether the element is currently visible or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._visible = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoRefresh) {\n\t\t\t\t\tthis.watch();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoRefresh.Defaults = {\n\t\tautoRefresh: true,\n\t\tautoRefreshInterval: 500\n\t};\n\n\t/**\n\t * Watches the element.\n\t */\n\tAutoRefresh.prototype.watch = function() {\n\t\tif (this._interval) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = this._core.$element.is(':visible');\n\t\tthis._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);\n\t};\n\n\t/**\n\t * Refreshes the element.\n\t */\n\tAutoRefresh.prototype.refresh = function() {\n\t\tif (this._core.$element.is(':visible') === this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = !this._visible;\n\n\t\tthis._core.$element.toggleClass('owl-hidden', !this._visible);\n\n\t\tthis._visible && (this._core.invalidate('width') && this._core.refresh());\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoRefresh.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this._interval);\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Lazy Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy plugin.\n\t * @class The Lazy Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Lazy = function(carousel) {\n\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Already loaded items.\n\t\t * @protected\n\t\t * @type {Array.<jQuery>}\n\t\t */\n\t\tthis._loaded = [];\n\n\t\t/**\n\t\t * Event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._core.settings || !this._core.settings.lazyLoad) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ((e.property && e.property.name == 'position') || e.type == 'initialized') {\n\t\t\t\t\tvar settings = this._core.settings,\n\t\t\t\t\t\tn = (settings.center && Math.ceil(settings.items / 2) || settings.items),\n\t\t\t\t\t\ti = ((settings.center && n * -1) || 0),\n\t\t\t\t\t\tposition = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,\n\t\t\t\t\t\tclones = this._core.clones().length,\n\t\t\t\t\t\tload = $.proxy(function(i, v) { this.load(v) }, this);\n\n\t\t\t\t\twhile (i++ < n) {\n\t\t\t\t\t\tthis.load(clones / 2 + this._core.relative(position));\n\t\t\t\t\t\tclones && $.each(this._core.clones(this._core.relative(position)), load);\n\t\t\t\t\t\tposition++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set the default options\n\t\tthis._core.options = $.extend({}, Lazy.Defaults, this._core.options);\n\n\t\t// register event handler\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazy.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Loads all resources of an item at the specified position.\n\t * @param {Number} position - The absolute position of the item.\n\t * @protected\n\t */\n\tLazy.prototype.load = function(position) {\n\t\tvar $item = this._core.$stage.children().eq(position),\n\t\t\t$elements = $item && $item.find('.owl-lazy');\n\n\t\tif (!$elements || $.inArray($item.get(0), this._loaded) > -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t$elements.each($.proxy(function(index, element) {\n\t\t\tvar $element = $(element), image,\n\t\t\t\turl = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src');\n\n\t\t\tthis._core.trigger('load', { element: $element, url: url }, 'lazy');\n\n\t\t\tif ($element.is('img')) {\n\t\t\t\t$element.one('load.owl.lazy', $.proxy(function() {\n\t\t\t\t\t$element.css('opacity', 1);\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this)).attr('src', url);\n\t\t\t} else {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = $.proxy(function() {\n\t\t\t\t\t$element.css({\n\t\t\t\t\t\t'background-image': 'url(\"' + url + '\")',\n\t\t\t\t\t\t'opacity': '1'\n\t\t\t\t\t});\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this);\n\t\t\t\timage.src = url;\n\t\t\t}\n\t\t}, this));\n\n\t\tthis._loaded.push($item.get(0));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazy.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis._core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoHeight = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight && e.property.name == 'position'){\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'loaded.owl.lazy': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight\n\t\t\t\t\t&& e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoHeight.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t * Updates the view.\n\t */\n\tAutoHeight.prototype.update = function() {\n\t\tvar start = this._core._current,\n\t\t\tend = start + this._core.settings.items,\n\t\t\tvisible = this._core.$stage.children().toArray().slice(start, end),\n\t\t\theights = [],\n\t\t\tmaxheight = 0;\n\n\t\t$.each(visible, function(index, item) {\n\t\t\theights.push($(item).height());\n\t\t});\n\n\t\tmaxheight = Math.max.apply(null, heights);\n\n\t\tthis._core.$stage.parent()\n\t\t\t.height(maxheight)\n\t\t\t.addClass(this._core.settings.autoHeightClass);\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Video = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Cache all video URLs.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._videos = {};\n\n\t\t/**\n\t\t * Current playing item.\n\t\t * @protected\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis._playing = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @todo The cloned content removale is too late\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis._core.register({ type: 'state', name: 'playing', tags: [ 'interacting' ] });\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.video && this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.is('resizing')) {\n\t\t\t\t\tthis._core.$stage.find('.cloned .owl-video-frame').remove();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position' && this._playing) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $element = $(e.content).find('.owl-video');\n\n\t\t\t\tif ($element.length) {\n\t\t\t\t\t$element.css('display', 'none');\n\t\t\t\t\tthis.fetch($element, $(e.content));\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Video.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\tthis._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.play(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo/vzaar only).\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.fetch = function(target, item) {\n\t\t\tvar type = (function() {\n\t\t\t\t\tif (target.attr('data-vimeo-id')) {\n\t\t\t\t\t\treturn 'vimeo';\n\t\t\t\t\t} else if (target.attr('data-vzaar-id')) {\n\t\t\t\t\t\treturn 'vzaar'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'youtube';\n\t\t\t\t\t}\n\t\t\t\t})(),\n\t\t\t\tid = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'),\n\t\t\t\twidth = target.attr('data-width') || this._core.settings.videoWidth,\n\t\t\t\theight = target.attr('data-height') || this._core.settings.videoHeight,\n\t\t\t\turl = target.attr('href');\n\n\t\tif (url) {\n\n\t\t\t/*\n\t\t\t\t\tParses the id's out of the following urls (and probably more):\n\t\t\t\t\thttps://www.youtube.com/watch?v=:id\n\t\t\t\t\thttps://youtu.be/:id\n\t\t\t\t\thttps://vimeo.com/:id\n\t\t\t\t\thttps://vimeo.com/channels/:channel/:id\n\t\t\t\t\thttps://vimeo.com/groups/:group/videos/:id\n\t\t\t\t\thttps://app.vzaar.com/videos/:id\n\n\t\t\t\t\tVisual example: https://regexper.com/#(http%3A%7Chttps%3A%7C)%5C%2F%5C%2F(player.%7Cwww.%7Capp.)%3F(vimeo%5C.com%7Cyoutu(be%5C.com%7C%5C.be%7Cbe%5C.googleapis%5C.com)%7Cvzaar%5C.com)%5C%2F(video%5C%2F%7Cvideos%5C%2F%7Cembed%5C%2F%7Cchannels%5C%2F.%2B%5C%2F%7Cgroups%5C%2F.%2B%5C%2F%7Cwatch%5C%3Fv%3D%7Cv%5C%2F)%3F(%5BA-Za-z0-9._%25-%5D*)(%5C%26%5CS%2B)%3F\n\t\t\t*/\n\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t} else if (id[3].indexOf('vzaar') > -1) {\n\t\t\t\ttype = 'vzaar';\n\t\t\t} else {\n\t\t\t\tthrow new Error('Video URL not supported.');\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video URL.');\n\t\t}\n\n\t\tthis._videos[url] = {\n\t\t\ttype: type,\n\t\t\tid: id,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\n\t\titem.attr('data-video', url);\n\n\t\tthis.thumbnail(target, this._videos[url]);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `fetch`\n\t */\n\tVideo.prototype.thumbnail = function(target, video) {\n\t\tvar tnLink,\n\t\t\ticon,\n\t\t\tpath,\n\t\t\tdimensions = video.width && video.height ? 'style=\"width:' + video.width + 'px;height:' + video.height + 'px;\"' : '',\n\t\t\tcustomTn = target.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tsettings = this._core.settings,\n\t\t\tcreate = function(path) {\n\t\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\t\tif (settings.lazyLoad) {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn ' + lazyClass + '\" ' + srcType + '=\"' + path + '\"></div>';\n\t\t\t\t} else {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url(' + path + ')\"></div>';\n\t\t\t\t}\n\t\t\t\ttarget.after(tnLink);\n\t\t\t\ttarget.after(icon);\n\t\t\t};\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\ttarget.wrap('<div class=\"owl-video-wrapper\"' + dimensions + '></div>');\n\n\t\tif (this._core.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// custom thumbnail\n\t\tif (customTn.length) {\n\t\t\tcreate(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (video.type === 'youtube') {\n\t\t\tpath = \"//img.youtube.com/vi/\" + video.id + \"/hqdefault.jpg\";\n\t\t\tcreate(path);\n\t\t} else if (video.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vimeo.com/api/v2/video/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (video.type === 'vzaar') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vzaar.com/api/videos/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data.framegrab_url;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stop = function() {\n\t\tthis._core.trigger('stop', null, 'video');\n\t\tthis._playing.find('.owl-video-frame').remove();\n\t\tthis._playing.removeClass('owl-video-playing');\n\t\tthis._playing = null;\n\t\tthis._core.leave('playing');\n\t\tthis._core.trigger('stopped', null, 'video');\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} event - The event arguments.\n\t */\n\tVideo.prototype.play = function(event) {\n\t\tvar target = $(event.target),\n\t\t\titem = target.closest('.' + this._core.settings.itemClass),\n\t\t\tvideo = this._videos[item.attr('data-video')],\n\t\t\twidth = video.width || '100%',\n\t\t\theight = video.height || this._core.$stage.height(),\n\t\t\thtml;\n\n\t\tif (this._playing) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('playing');\n\t\tthis._core.trigger('play', null, 'video');\n\n\t\titem = this._core.items(this._core.relative(item.index()));\n\n\t\tthis._core.reset(item.index());\n\n\t\tif (video.type === 'youtube') {\n\t\t\thtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"//www.youtube.com/embed/' +\n\t\t\t\tvideo.id + '?autoplay=1&rel=0&v=' + video.id + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vimeo') {\n\t\t\thtml = '<iframe src=\"//player.vimeo.com/video/' + video.id +\n\t\t\t\t'?autoplay=1\" width=\"' + width + '\" height=\"' + height +\n\t\t\t\t'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vzaar') {\n\t\t\thtml = '<iframe frameborder=\"0\"' + 'height=\"' + height + '\"' + 'width=\"' + width +\n\t\t\t\t'\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ' +\n\t\t\t\t'src=\"//view.vzaar.com/' + video.id + '/player?autoplay=true\"></iframe>';\n\t\t}\n\n\t\t$('<div class=\"owl-video-frame\">' + html + '</div>').insertAfter(item.find('.owl-video'));\n\n\t\tthis._playing = item.addClass('owl-video-playing');\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @todo Bad style because looks like a readonly method but changes members.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\t\tvar element = document.fullscreenElement || document.mozFullScreenElement ||\n\t\t\t\tdocument.webkitFullscreenElement;\n\n\t\treturn element && $(element).parent().hasClass('owl-video-frame');\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis._core.$element.off('click.owl.video');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Animate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.$element.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!$.support.animation || !$.support.transition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.$stage.children().eq(this.previous),\n\t\t\tnext = this.core.$stage.children().eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.one($.support.animation.end, clear)\n\t\t\t\t.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.one($.support.animation.end, clear)\n\t\t\t\t.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.onTransitionEnd();\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Autoplay = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * The autoplay timeout.\n\t\t * @type {Timeout}\n\t\t */\n\t\tthis._timeout = null;\n\n\t\t/**\n\t\t * Indicates whenever the autoplay is paused.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._paused = false;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'settings') {\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t}\n\t\t\t\t} else if (e.namespace && e.property.name === 'position') {\n\t\t\t\t\t//console.log('play?', e);\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis._setAutoPlayInterval();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoplay) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.play(t, s);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchstart.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchend.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Autoplay.Defaults, this._core.options);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\tthis._paused = false;\n\n\t\tif (this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('rotating');\n\n\t\tthis._setAutoPlayInterval();\n\t};\n\n\t/**\n\t * Gets a new timeout\n\t * @private\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t * @return {Timeout}\n\t */\n\tAutoplay.prototype._getNextTimeout = function(timeout, speed) {\n\t\tif ( this._timeout ) {\n\t\t\twindow.clearTimeout(this._timeout);\n\t\t}\n\t\treturn window.setTimeout($.proxy(function() {\n\t\t\tif (this._paused || this._core.is('busy') || this._core.is('interacting') || document.hidden) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._core.next(speed || this._core.settings.autoplaySpeed);\n\t\t}, this), timeout || this._core.settings.autoplayTimeout);\n\t};\n\n\t/**\n\t * Sets autoplay in motion.\n\t * @private\n\t */\n\tAutoplay.prototype._setAutoPlayInterval = function() {\n\t\tthis._timeout = this._getNextTimeout();\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.clearTimeout(this._timeout);\n\t\tthis._core.leave('rotating');\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._paused = true;\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.stop();\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @protected\n\t\t * @type {Array.<String>}\n\t\t */\n\t\tthis._templates = [];\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._overrides = {\n\t\t\tnext: this._core.next,\n\t\t\tprev: this._core.prev,\n\t\t\tto: this._core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.push('<div class=\"' + this._core.settings.dotClass + '\">' +\n\t\t\t\t\t\t$(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'added.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 0, this._templates.pop());\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'remove.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 1);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && !this._initialized) {\n\t\t\t\t\tthis._core.trigger('initialize', null, 'navigation');\n\t\t\t\t\tthis.initialize();\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._initialized = true;\n\t\t\t\t\tthis._core.trigger('initialized', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._initialized) {\n\t\t\t\t\tthis._core.trigger('refresh', null, 'navigation');\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._core.trigger('refreshed', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Navigation.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavText: [ 'prev', 'next' ],\n\t\tnavSpeed: false,\n\t\tnavElement: 'div',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [ 'owl-prev', 'owl-next' ],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotsData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false\n\t};\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar override,\n\t\t\tsettings = this._core.settings;\n\n\t\t// create DOM structure for relative navigation\n\t\tthis._controls.$relative = (settings.navContainer ? $(settings.navContainer)\n\t\t\t: $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$previous = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[0])\n\t\t\t.html(settings.navText[0])\n\t\t\t.prependTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.prev(settings.navSpeed);\n\t\t\t}, this));\n\t\tthis._controls.$next = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[1])\n\t\t\t.html(settings.navText[1])\n\t\t\t.appendTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.next(settings.navSpeed);\n\t\t\t}, this));\n\n\t\t// create DOM structure for absolute navigation\n\t\tif (!settings.dotsData) {\n\t\t\tthis._templates = [ $('<div>')\n\t\t\t\t.addClass(settings.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML') ];\n\t\t}\n\n\t\tthis._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer)\n\t\t\t: $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$absolute.on('click', 'div', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this._controls.$absolute)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, settings.dotsSpeed);\n\t\t}, this));\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this._overrides) {\n\t\t\tthis._core[override] = $.proxy(this[override], this);\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (control in this._controls) {\n\t\t\tthis._controls[control].remove();\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis._core[override] = this._overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\tlower = this._core.clones().length / 2,\n\t\t\tupper = lower + this._core.items().length,\n\t\t\tmaximum = this._core.maximum(true),\n\t\t\tsettings = this._core.settings,\n\t\t\tsize = settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items;\n\n\t\tif (settings.slideBy !== 'page') {\n\t\t\tsettings.slideBy = Math.min(settings.slideBy, settings.items);\n\t\t}\n\n\t\tif (settings.dots || settings.slideBy == 'page') {\n\t\t\tthis._pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis._pages.push({\n\t\t\t\t\t\tstart: Math.min(maximum, i - lower),\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tif (Math.min(maximum, i - lower) === maximum) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this._core.mergers(this._core.relative(i));\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Draws the user interface.\n\t * @todo The option `dotsData` wont work.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference,\n\t\t\tsettings = this._core.settings,\n\t\t\tdisabled = this._core.items().length <= settings.items,\n\t\t\tindex = this._core.relative(this._core.current()),\n\t\t\tloop = settings.loop || settings.rewind;\n\n\t\tthis._controls.$relative.toggleClass('disabled', !settings.nav || disabled);\n\n\t\tif (settings.nav) {\n\t\t\tthis._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true));\n\t\t\tthis._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true));\n\t\t}\n\n\t\tthis._controls.$absolute.toggleClass('disabled', !settings.dots || disabled);\n\n\t\tif (settings.dots) {\n\t\t\tdifference = this._pages.length - this._controls.$absolute.children().length;\n\n\t\t\tif (settings.dotsData && difference !== 0) {\n\t\t\t\tthis._controls.$absolute.html(this._templates.join(''));\n\t\t\t} else if (difference > 0) {\n\t\t\t\tthis._controls.$absolute.append(new Array(difference + 1).join(this._templates[0]));\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis._controls.$absolute.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis._controls.$absolute.find('.active').removeClass('active');\n\t\t\tthis._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');\n\t\t}\n\t};\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar settings = this._core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this._pages),\n\t\t\tcount: this._pages.length,\n\t\t\tsize: settings && (settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items)\n\t\t};\n\t};\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar current = this._core.relative(this._core.current());\n\t\treturn $.grep(this._pages, $.proxy(function(page, index) {\n\t\t\treturn page.start <= current && page.end >= current;\n\t\t}, this)).pop();\n\t};\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\tsettings = this._core.settings;\n\n\t\tif (settings.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this._pages);\n\t\t\tlength = this._pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this._pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this._core.relative(this._core.current());\n\t\t\tlength = this._core.items().length;\n\t\t\tsuccessor ? position += settings.slideBy : position -= settings.slideBy;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(true), speed);\n\t};\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(false), speed);\n\t};\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard && this._pages.length) {\n\t\t\tlength = this._pages.length;\n\t\t\t$.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this._overrides.to, this._core)(position, speed);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Hash index for the items.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.startPosition === 'URLHash') {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tvar hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash');\n\n\t\t\t\t\tif (!hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._hashes[hash] = e.content;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position') {\n\t\t\t\t\tvar current = this._core.items(this._core.relative(this._core.current())),\n\t\t\t\t\t\thash = $.map(this._hashes, function(item, hash) {\n\t\t\t\t\t\t\treturn item === current ? hash : null;\n\t\t\t\t\t\t}).join();\n\n\t\t\t\t\tif (!hash || window.location.hash.slice(1) === hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location.hash = hash;\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Hash.Defaults, this._core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this._handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function(e) {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this._core.$stage.children(),\n\t\t\t\tposition = this._hashes[hash] && items.index(this._hashes[hash]);\n\n\t\t\tif (position === undefined || position === this._core.current()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._core.to(this._core.relative(position), false, true);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Support Plugin\n *\n * @version 2.1.0\n * @author Vivid Planet Software GmbH\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\tvar style = $('<support>').get(0).style,\n\t\tprefixes = 'Webkit Moz O ms'.split(' '),\n\t\tevents = {\n\t\t\ttransition: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitTransition: 'webkitTransitionEnd',\n\t\t\t\t\tMozTransition: 'transitionend',\n\t\t\t\t\tOTransition: 'oTransitionEnd',\n\t\t\t\t\ttransition: 'transitionend'\n\t\t\t\t}\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitAnimation: 'webkitAnimationEnd',\n\t\t\t\t\tMozAnimation: 'animationend',\n\t\t\t\t\tOAnimation: 'oAnimationEnd',\n\t\t\t\t\tanimation: 'animationend'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttests = {\n\t\t\tcsstransforms: function() {\n\t\t\t\treturn !!test('transform');\n\t\t\t},\n\t\t\tcsstransforms3d: function() {\n\t\t\t\treturn !!test('perspective');\n\t\t\t},\n\t\t\tcsstransitions: function() {\n\t\t\t\treturn !!test('transition');\n\t\t\t},\n\t\t\tcssanimations: function() {\n\t\t\t\treturn !!test('animation');\n\t\t\t}\n\t\t};\n\n\tfunction test(property, prefixed) {\n\t\tvar result = false,\n\t\t\tupper = property.charAt(0).toUpperCase() + property.slice(1);\n\n\t\t$.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function(i, property) {\n\t\t\tif (style[property] !== undefined) {\n\t\t\t\tresult = prefixed ? property : true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction prefixed(property) {\n\t\treturn test(property, true);\n\t}\n\n\tif (tests.csstransitions()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transition = new String(prefixed('transition'))\n\t\t$.support.transition.end = events.transition.end[ $.support.transition ];\n\t}\n\n\tif (tests.cssanimations()) {\n\t\t/* jshint -W053 */\n\t\t$.support.animation = new String(prefixed('animation'))\n\t\t$.support.animation.end = events.animation.end[ $.support.animation ];\n\t}\n\n\tif (tests.csstransforms()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transform = new String(prefixed('transform'));\n\t\t$.support.transform3d = tests.csstransforms3d();\n\t}\n\n})(window.Zepto || window.jQuery, window, document);\n","TemplateMonster_FilmSlider/js/film-slider.js":"define([\n    \"jquery\",\n    \"jquery/ui\",\n    \"sliderInit\",\n], function ($, sliderPro) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.FilmSlider', {\n\n        options: {\n            width: '100%',\n            height: 500\n        },\n\n        _create: function () {\n            var sliderContainer = this.element,\n                sliderObject = this,\n                proContainer = $('.slider-pro-container'),\n                loaderMask = $('.slider-pro-container .loading-mask.for-slider');\n\n            //Layers on first slide\n            var firstAnimatingElems = sliderContainer.find('.sp-slide:first').find(\"[data-animation ^= 'animated']\");\n\n            //Initialize carousel\n            var params = this._optionsCustomize(this.options);\n            var slider = sliderContainer.sliderPro(params).hide().fadeIn(500, function () {\n                proContainer.css('height', 'auto');\n            });\n            loaderMask.fadeOut(500);\n\n            //Animate captions in first slide on page load\n            this._doAnimations(firstAnimatingElems);\n\n            //Other slides to be animated on carousel slide event\n            this._getCurrentLayers(sliderObject, sliderContainer, slider);\n\n            sliderContainer.on('gotoSlide sliderResize', function () {\n                sliderObject._customOffsetLayer(sliderObject, sliderContainer);\n            }).trigger('gotoSlide');\n\n        },\n\n        _customOffsetLayer: function (sliderObject, sliderContainer) {\n            $('.sp-layer', sliderContainer).each(function () {\n                if ($(this).data('position') == 'topCenter' || $(this).data('position') == 'bottomCenter' || $(this).data('position') == 'centerCenter') {\n                    sliderObject._makeOffset(sliderObject, $(this));\n                } else {\n                    return;\n                }\n            })\n        },\n\n        _makeOffset: function (sliderContainer, layer) {\n            var windowWidth = $(window).width();\n            var layerWidth = parseInt(layer.css('width'));\n            // var originOffset = parseInt(layer.css('left'));\n            if (layerWidth >= windowWidth) {\n                layer.css('left', -1 * (layerWidth - windowWidth) / 2);\n            }\n        },\n\n        _doAnimations: function (elems) {\n\n            //Cache the animationend event in a variable\n            var animEndEv = 'webkitAnimationEnd animationend';\n\n            elems.each(function () {\n                var $this = $(this),\n                    $animationType = $this.data('animation'),\n                    $delay = $this.data('show-delay');\n\n                // Animation after delay\n                setTimeout(function () {\n                    $this.addClass($animationType).one(animEndEv, function () {\n                        $this.removeClass($animationType);\n                    });\n                }, $delay);\n            });\n        },\n\n        _getCurrentLayers: function (sliderObject, sliderContainer, slider) {\n            slider.on('gotoSlide', function (event) {\n                var animatingElems = $('.sp-slide.sp-selected', sliderContainer).find(\"[data-animation ^= 'animated']\");\n                sliderObject._doAnimations(animatingElems);\n            });\n        },\n\n        _optionsCustomize: function (options) {\n\n            var params = JSON.parse(JSON.stringify(options), function (name, value) {\n\n                value = (value === \"true\") ? true : value;\n                value = (value === \"false\") ? false : value;\n\n                if (!isNaN(parseInt(value))) {\n                    if (( name == 'width' || name == 'height') && value[value.length - 1] == '%') {\n                        return value;\n                    } else {\n                        value = Number(value);\n                    }\n                }\n                return value;\n            });\n            return params;\n        }\n\n    });\n\n    return $.TemplateMonster.FilmSlider;\n\n});","TemplateMonster_FilmSlider/js/jquery.sliderPro.js":"/*!\r\n*  - v1.2.5\r\n* Homepage: http://bqworks.com/slider-pro/\r\n* Author: bqworks\r\n* Author URL: http://bqworks.com/\r\n*/\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\t// Static methods for Slider Pro\r\n\t$.SliderPro = {\r\n\r\n\t\t// List of added modules\r\n\t\tmodules: [],\r\n\r\n\t\t// Add a module by extending the core prototype\r\n\t\taddModule: function( name, module ) {\r\n\t\t\tthis.modules.push( name );\r\n\t\t\t$.extend( SliderPro.prototype, module );\r\n\t\t}\r\n\t};\r\n\r\n\t// namespace\r\n\tvar NS = $.SliderPro.namespace = 'SliderPro';\r\n\r\n\tvar SliderPro = function( instance, options ) {\r\n\r\n\t\t// Reference to the slider instance\r\n\t\tthis.instance = instance;\r\n\r\n\t\t// Reference to the slider jQuery element\r\n\t\tthis.$slider = $( this.instance );\r\n\r\n\t\t// Reference to the slides (sp-slides) jQuery element\r\n\t\tthis.$slides = null;\r\n\r\n\t\t// Reference to the mask (sp-mask) jQuery element\r\n\t\tthis.$slidesMask = null;\r\n\r\n\t\t// Reference to the slides (sp-slides-container) jQuery element\r\n\t\tthis.$slidesContainer = null;\r\n\r\n\t\t// Array of SliderProSlide objects, ordered by their DOM index\r\n\t\tthis.slides = [];\r\n\r\n\t\t// Array of SliderProSlide objects, ordered by their left/top position in the slider.\r\n\t\t// This will be updated continuously if the slider is loopable.\r\n\t\tthis.slidesOrder = [];\r\n\r\n\t\t// Holds the options passed to the slider when it was instantiated\r\n\t\tthis.options = options;\r\n\r\n\t\t// Holds the final settings of the slider after merging the specified\r\n\t\t// ones with the default ones.\r\n\t\tthis.settings = {};\r\n\r\n\t\t// Another reference to the settings which will not be altered by breakpoints or by other means\r\n\t\tthis.originalSettings = {};\r\n\r\n\t\t// Reference to the original 'gotoSlide' method\r\n\t\tthis.originalGotoSlide = null;\r\n\r\n\t\t// The index of the currently selected slide (starts with 0)\r\n\t\tthis.selectedSlideIndex = 0;\r\n\r\n\t\t// The index of the previously selected slide\r\n\t\tthis.previousSlideIndex = 0;\r\n\r\n\t\t// Indicates the position of the slide considered to be in the middle.\r\n\t\t// If there are 5 slides (0, 1, 2, 3, 4) the middle position will be 2.\r\n\t\t// If there are 6 slides (0, 1, 2, 3, 4, 5) the middle position will be approximated to 2.\r\n\t\tthis.middleSlidePosition = 0;\r\n\r\n\t\t// Indicates the type of supported transition (CSS3 2D, CSS3 3D or JavaScript)\r\n\t\tthis.supportedAnimation = null;\r\n\r\n\t\t// Indicates the required vendor prefix for CSS (i.e., -webkit, -moz, etc.)\r\n\t\tthis.vendorPrefix = null;\r\n\r\n\t\t// Indicates the name of the CSS transition's complete event (i.e., transitionend, webkitTransitionEnd, etc.)\r\n\t\tthis.transitionEvent = null;\r\n\r\n\t\t// Indicates the 'left' or 'top' position\r\n\t\tthis.positionProperty = null;\r\n\r\n\t\t// Indicates if the current browser is IE\r\n\t\tthis.isIE = null;\r\n\r\n\t\t// The position of the slides container\r\n\t\tthis.slidesPosition = 0;\r\n\r\n\t\t// The width of the individual slide\r\n\t\tthis.slideWidth = 0;\r\n\r\n\t\t// The height of the individual slide\r\n\t\tthis.slideHeight = 0;\r\n\r\n\t\t// The width or height, depending on the orientation, of the individual slide\r\n\t\tthis.slideSize = 0;\r\n\r\n\t\t// Reference to the old slide width, used to check if the width has changed\r\n\t\tthis.previousSlideWidth = 0;\r\n\r\n\t\t// Reference to the old slide height, used to check if the height has changed\r\n\t\tthis.previousSlideHeight = 0;\r\n\t\t\r\n\t\t// Reference to the old window width, used to check if the window width has changed\r\n\t\tthis.previousWindowWidth = 0;\r\n\t\t\r\n\t\t// Reference to the old window height, used to check if the window height has changed\r\n\t\tthis.previousWindowHeight = 0;\r\n\r\n\t\t// The distance from the margin of the slider to the left/top of the selected slide.\r\n\t\t// This is useful in calculating the position of the selected slide when there are \r\n\t\t// more visible slides.\r\n\t\tthis.visibleOffset = 0;\r\n\r\n\t\t// Property used for deferring the resizing of the slider\r\n\t\tthis.allowResize = true;\r\n\r\n\t\t// Unique ID to be used for event listening\r\n\t\tthis.uniqueId = new Date().valueOf();\r\n\r\n\t\t// Stores size breakpoints\r\n\t\tthis.breakpoints = [];\r\n\r\n\t\t// Indicates the current size breakpoint\r\n\t\tthis.currentBreakpoint = -1;\r\n\r\n\t\t// An array of shuffled indexes, based on which the slides will be shuffled\r\n\t\tthis.shuffledIndexes = [];\r\n\r\n\t\t// Initialize the slider\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tSliderPro.prototype = {\r\n\r\n\t\t// The starting place for the slider\r\n\t\t_init: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.supportedAnimation = SliderProUtils.getSupportedAnimation();\r\n\t\t\tthis.vendorPrefix = SliderProUtils.getVendorPrefix();\r\n\t\t\tthis.transitionEvent = SliderProUtils.getTransitionEvent();\r\n\t\t\tthis.isIE = SliderProUtils.checkIE();\r\n\r\n\t\t\t// Remove the 'sp-no-js' when the slider's JavaScript code starts running\r\n\t\t\tthis.$slider.removeClass( 'sp-no-js' );\r\n\r\n\t\t\t// Add the 'ios' class if it's an iOS device\r\n\t\t\tif ( window.navigator.userAgent.match( /(iPad|iPhone|iPod)/g ) ) {\r\n\t\t\t\tthis.$slider.addClass( 'ios' );\r\n\t\t\t}\r\n\r\n\t\t\t// Check if IE (older than 11) is used and add the version number as a class to the slider since\r\n\t\t\t// older IE versions might need CSS tweaks.\r\n\t\t\tvar rmsie = /(msie) ([\\w.]+)/,\r\n\t\t\t\tieVersion = rmsie.exec( window.navigator.userAgent.toLowerCase() );\r\n\t\t\t\r\n\t\t\tif ( this.isIE ) {\r\n\t\t\t\tthis.$slider.addClass( 'ie' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( ieVersion !== null ) {\r\n\t\t\t\tthis.$slider.addClass( 'ie' + parseInt( ieVersion[2], 10 ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Set up the slides containers\r\n\t\t\t// slider-pro > sp-slides-container > sp-mask > sp-slides > sp-slide\r\n\t\t\tthis.$slidesContainer = $( '<div class=\"sp-slides-container\"></div>' ).appendTo( this.$slider );\r\n\t\t\tthis.$slidesMask = $( '<div class=\"sp-mask\"></div>' ).appendTo( this.$slidesContainer );\r\n\t\t\tthis.$slides = this.$slider.find( '.sp-slides' ).appendTo( this.$slidesMask );\r\n\t\t\tthis.$slider.find( '.sp-slide' ).appendTo( this.$slides );\r\n\t\t\t\r\n\t\t\tvar modules = $.SliderPro.modules;\r\n\r\n\t\t\t// Merge the modules' default settings with the core's default settings\r\n\t\t\tif ( typeof modules !== 'undefined' ) {\r\n\t\t\t\tfor ( var i = 0; i < modules.length; i++ ) {\r\n\t\t\t\t\tvar defaults = modules[ i ].substring( 0, 1 ).toLowerCase() + modules[ i ].substring( 1 ) + 'Defaults';\r\n\r\n\t\t\t\t\tif ( typeof this[ defaults ] !== 'undefined' ) {\r\n\t\t\t\t\t\t$.extend( this.defaults, this[ defaults ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Merge the specified setting with the default ones\r\n\t\t\tthis.settings = $.extend( {}, this.defaults, this.options );\r\n\r\n\t\t\t// Initialize the modules\r\n\t\t\tif ( typeof modules !== 'undefined' ) {\r\n\t\t\t\tfor ( var j = 0; j < modules.length; j++ ) {\r\n\t\t\t\t\tif ( typeof this[ 'init' + modules[ j ] ] !== 'undefined' ) {\r\n\t\t\t\t\t\tthis[ 'init' + modules[ j ] ]();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Keep a reference of the original settings and use it\r\n\t\t\t// to restore the settings when the breakpoints are used.\r\n\t\t\tthis.originalSettings = $.extend( {}, this.settings );\r\n\r\n\t\t\t// Get the reference to the 'gotoSlide' method\r\n\t\t\tthis.originalGotoSlide = this.gotoSlide;\r\n\r\n\t\t\t// Parse the breakpoints object and store the values into an array,\r\n\t\t\t// sorting them in ascending order based on the specified size.\r\n\t\t\tif ( this.settings.breakpoints !== null ) {\r\n\t\t\t\tfor ( var sizes in this.settings.breakpoints ) {\r\n\t\t\t\t\tthis.breakpoints.push({ size: parseInt( sizes, 10 ), properties:this.settings.breakpoints[ sizes ] });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.breakpoints = this.breakpoints.sort(function( a, b ) {\r\n\t\t\t\t\treturn a.size >= b.size ? 1: -1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Set which slide should be selected initially\r\n\t\t\tthis.selectedSlideIndex = this.settings.startSlide;\r\n\r\n\t\t\t// Shuffle/randomize the slides\r\n\t\t\tif ( this.settings.shuffle === true ) {\r\n\t\t\t\tvar slides = this.$slides.find( '.sp-slide' ),\r\n\t\t\t\t\tshuffledSlides = [];\r\n\r\n\t\t\t\t// Populate the 'shuffledIndexes' with index numbers\r\n\t\t\t\tslides.each(function( index ) {\r\n\t\t\t\t\tthat.shuffledIndexes.push( index );\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor ( var k = this.shuffledIndexes.length - 1; k > 0; k-- ) {\r\n\t\t\t\t\tvar l = Math.floor( Math.random() * ( k + 1 ) ),\r\n\t\t\t\t\t\ttemp = this.shuffledIndexes[ k ];\r\n\r\n\t\t\t\t\tthis.shuffledIndexes[ k ] = this.shuffledIndexes[ l ];\r\n\t\t\t\t\tthis.shuffledIndexes[ l ] = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reposition the slides based on the order of the indexes in the\r\n\t\t\t\t// 'shuffledIndexes' array\r\n\t\t\t\t$.each( this.shuffledIndexes, function( index, element ) {\r\n\t\t\t\t\tshuffledSlides.push( slides[ element ] );\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// Append the sorted slides to the slider\r\n\t\t\t\tthis.$slides.empty().append( shuffledSlides ) ;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Resize the slider when the browser window resizes.\r\n\t\t\t// Also, deffer the resizing in order to not allow multiple\r\n\t\t\t// resizes in a 200 milliseconds interval.\r\n\t\t\t$( window ).on( 'resize.' + this.uniqueId + '.' + NS, function() {\r\n\t\t\t\r\n\t\t\t\t// Get the current width and height of the window\r\n\t\t\t\tvar newWindowWidth = $( window ).width(),\r\n\t\t\t\t\tnewWindowHeight = $( window ).height();\r\n\t\t\t\t\r\n\t\t\t\t// If the resize is not allowed yet or if the window size hasn't changed (this needs to be verified\r\n\t\t\t\t// because in IE8 and lower the resize event is triggered whenever an element from the page changes\r\n\t\t\t\t// its size) return early.\r\n\t\t\t\tif ( that.allowResize === false ||\r\n\t\t\t\t\t( that.previousWindowWidth === newWindowWidth && that.previousWindowHeight === newWindowHeight ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Asign the new values for the window width and height\r\n\t\t\t\tthat.previousWindowWidth = newWindowWidth;\r\n\t\t\t\tthat.previousWindowHeight = newWindowHeight;\r\n\t\t\t\r\n\t\t\t\tthat.allowResize = false;\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat.resize();\r\n\t\t\t\t\tthat.allowResize = true;\r\n\t\t\t\t}, 200 );\r\n\t\t\t});\r\n\r\n\t\t\t// Resize the slider when the 'update' method is called.\r\n\t\t\tthis.on( 'update.' + NS, function() {\r\n\r\n\t\t\t\t// Reset the previous slide width\r\n\t\t\t\tthat.previousSlideWidth = 0;\r\n\r\n\t\t\t\t// Some updates might require a resize\r\n\t\t\t\tthat.resize();\r\n\t\t\t});\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t\t// add the 'sp-selected' class to the initially selected slide\r\n\t\t\tthis.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected' );\r\n\r\n\t\t\t// Fire the 'init' event\r\n\t\t\tthis.trigger({ type: 'init' });\r\n\t\t\tif ( $.isFunction( this.settings.init ) ) {\r\n\t\t\t\tthis.settings.init.call( this, { type: 'init' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Update the slider by checking for setting changes and for slides\r\n\t\t// that weren't initialized yet.\r\n\t\tupdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Check the current slider orientation and reset CSS that might have been\r\n\t\t\t// added for a different orientation, since the orientation can be changed\r\n\t\t\t// at runtime.\r\n\t\t\tif ( this.settings.orientation === 'horizontal' ) {\r\n\t\t\t\tthis.$slider.removeClass( 'sp-vertical' ).addClass( 'sp-horizontal' );\r\n\t\t\t\tthis.$slider.css({ 'height': '', 'max-height': '' });\r\n\t\t\t\tthis.$slides.find( '.sp-slide' ).css( 'top', '' );\r\n\t\t\t} else if ( this.settings.orientation === 'vertical' ) {\r\n\t\t\t\tthis.$slider.removeClass( 'sp-horizontal' ).addClass( 'sp-vertical' );\r\n\t\t\t\tthis.$slides.find( '.sp-slide' ).css( 'left', '' );\r\n\t\t\t}\r\n\r\n\t\t\t// Set the position that will be used to arrange elements, like the slides,\r\n\t\t\t// based on the orientation.\r\n\t\t\tthis.positionProperty = this.settings.orientation === 'horizontal' ? 'left' : 'top';\r\n\r\n\t\t\t// Reset the 'gotoSlide' method\r\n\t\t\tthis.gotoSlide = this.originalGotoSlide;\r\n\r\n\t\t\t// Loop through the array of SliderProSlide objects and if a stored slide is found\r\n\t\t\t// which is not in the DOM anymore, destroy that slide.\r\n\t\t\tfor ( var i = this.slides.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tif ( this.$slider.find( '.sp-slide[data-index=\"' + i + '\"]' ).length === 0 ) {\r\n\t\t\t\t\tvar slide = this.slides[ i ];\r\n\r\n\t\t\t\t\tslide.destroy();\r\n\t\t\t\t\tthis.slides.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.slidesOrder.length = 0;\r\n\r\n\t\t\t// Loop through the list of slides and initialize newly added slides if any,\r\n\t\t\t// and reset the index of each slide.\r\n\t\t\tthis.$slider.find( '.sp-slide' ).each(function( index ) {\r\n\t\t\t\tvar $slide = $( this );\r\n\r\n\t\t\t\tif ( typeof $slide.attr( 'data-init' ) === 'undefined' ) {\r\n\t\t\t\t\tthat._createSlide( index, $slide );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.slides[ index ].setIndex( index );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.slidesOrder.push( index );\r\n\t\t\t});\r\n\r\n\t\t\t// Calculate the position/index of the middle slide\r\n\t\t\tthis.middleSlidePosition = parseInt( ( that.slidesOrder.length - 1 ) / 2, 10 );\r\n\r\n\t\t\t// Arrange the slides in a loop\r\n\t\t\tif ( this.settings.loop === true ) {\r\n\t\t\t\tthis._updateSlidesOrder();\r\n\t\t\t}\r\n\r\n\t\t\t// Fire the 'update' event\r\n\t\t\tthis.trigger({ type: 'update' });\r\n\t\t\tif ( $.isFunction( this.settings.update ) ) {\r\n\t\t\t\tthis.settings.update.call( this, { type: 'update' } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create a SliderProSlide instance for the slide passed as a jQuery element\r\n\t\t_createSlide: function( index, element ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tslide = new SliderProSlide( $( element ), index, this.settings );\r\n\r\n\t\t\tthis.slides.splice( index, 0, slide );\r\n\t\t},\r\n\r\n\t\t// Arrange the slide elements in a loop inside the 'slidesOrder' array\r\n\t\t_updateSlidesOrder: function() {\r\n\t\t\tvar\tslicedItems,\r\n\t\t\t\ti,\r\n\r\n\t\t\t\t// Calculate the distance between the selected element and the middle position\r\n\t\t\t\tdistance = $.inArray( this.selectedSlideIndex, this.slidesOrder ) - this.middleSlidePosition;\r\n\r\n\t\t\t// If the distance is negative it means that the selected slider is before the middle position, so\r\n\t\t\t// slides from the end of the array will be added at the beginning, in order to shift the selected slide\r\n\t\t\t// forward.\r\n\t\t\t// \r\n\t\t\t// If the distance is positive, slides from the beginning of the array will be added at the end.\r\n\t\t\tif ( distance < 0 ) {\r\n\t\t\t\tslicedItems = this.slidesOrder.splice( distance, Math.abs( distance ) );\r\n\r\n\t\t\t\tfor ( i = slicedItems.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis.slidesOrder.unshift( slicedItems[ i ] );\r\n\t\t\t\t}\r\n\t\t\t} else if ( distance > 0 ) {\r\n\t\t\t\tslicedItems = this.slidesOrder.splice( 0, distance );\r\n\r\n\t\t\t\tfor ( i = 0; i <= slicedItems.length - 1; i++ ) {\r\n\t\t\t\t\tthis.slidesOrder.push( slicedItems[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Set the left/top position of the slides based on their position in the 'slidesOrder' array\r\n\t\t_updateSlidesPosition: function() {\r\n\t\t\tvar selectedSlidePixelPosition = parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 );\r\n\r\n\t\t\tfor ( var slideIndex = 0; slideIndex < this.slidesOrder.length; slideIndex++ ) {\r\n\t\t\t\tvar slide = this.$slides.find( '.sp-slide' ).eq( this.slidesOrder[ slideIndex ] );\r\n\t\t\t\tslide.css( this.positionProperty, selectedSlidePixelPosition + ( slideIndex - this.middleSlidePosition  ) * ( this.slideSize + this.settings.slideDistance ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Set the left/top position of the slides based on their position in the 'slidesOrder' array,\r\n\t\t// and also set the position of the slides container.\r\n\t\t_resetSlidesPosition: function() {\r\n\t\t\tfor ( var slideIndex = 0; slideIndex < this.slidesOrder.length; slideIndex++ ) {\r\n\t\t\t\tvar slide = this.$slides.find( '.sp-slide' ).eq( this.slidesOrder[ slideIndex ] );\r\n\t\t\t\tslide.css( this.positionProperty, slideIndex * ( this.slideSize + this.settings.slideDistance ) );\r\n\t\t\t}\r\n\r\n\t\t\tvar newSlidesPosition = - parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 ) + this.visibleOffset;\r\n\t\t\tthis._moveTo( newSlidesPosition, true );\r\n\t\t},\r\n\r\n\t\t// Called when the slider needs to resize\r\n\t\tresize: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Check if the current window width is bigger than the biggest breakpoint\r\n\t\t\t// and if necessary reset the properties to the original settings.\r\n\t\t\t// \r\n\t\t\t// If the window width is smaller than a certain breakpoint, apply the settings specified\r\n\t\t\t// for that breakpoint but only after merging them with the original settings\r\n\t\t\t// in order to make sure that only the specified settings for the breakpoint are applied\r\n\t\t\tif ( this.settings.breakpoints !== null && this.breakpoints.length > 0 ) {\r\n\t\t\t\tif ( $( window ).width() > this.breakpoints[ this.breakpoints.length - 1 ].size && this.currentBreakpoint !== -1 ) {\r\n\t\t\t\t\tthis.currentBreakpoint = -1;\r\n\t\t\t\t\tthis._setProperties( this.originalSettings, false );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( var i = 0, n = this.breakpoints.length; i < n; i++ ) {\r\n\t\t\t\t\t\tif ( $( window ).width() <= this.breakpoints[ i ].size ) {\r\n\t\t\t\t\t\t\tif ( this.currentBreakpoint !== this.breakpoints[ i ].size ) {\r\n\t\t\t\t\t\t\t\tvar eventObject = { type: 'breakpointReach', size: this.breakpoints[ i ].size, settings: this.breakpoints[ i ].properties };\r\n\t\t\t\t\t\t\t\tthis.trigger( eventObject );\r\n\t\t\t\t\t\t\t\tif ( $.isFunction( this.settings.breakpointReach ) )\r\n\t\t\t\t\t\t\t\t\tthis.settings.breakpointReach.call( this, eventObject );\r\n\r\n\t\t\t\t\t\t\t\tthis.currentBreakpoint = this.breakpoints[ i ].size;\r\n\t\t\t\t\t\t\t\tvar settings = $.extend( {}, this.originalSettings, this.breakpoints[ i ].properties );\r\n\t\t\t\t\t\t\t\tthis._setProperties( settings, false );\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set the width of the main slider container based on whether or not the slider is responsive,\r\n\t\t\t// full width or full size\r\n\t\t\tif ( this.settings.responsive === true ) {\r\n\t\t\t\tif ( ( this.settings.forceSize === 'fullWidth' || this.settings.forceSize === 'fullWindow' ) &&\r\n\t\t\t\t\t( this.settings.visibleSize === 'auto' || this.settings.visibleSize !== 'auto' && this.settings.orientation === 'vertical' )\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.$slider.css( 'margin', 0 );\r\n\t\t\t\t\tthis.$slider.css({ 'width': $( window ).width(), 'max-width': '', 'marginLeft': - this.$slider.offset().left });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$slider.css({ 'width': '100%', 'max-width': this.settings.width, 'marginLeft': '' });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slider.css({ 'width': this.settings.width });\r\n\t\t\t}\r\n\r\n\t\t\t// Calculate the aspect ratio of the slider\r\n\t\t\tif ( this.settings.aspectRatio === -1 ) {\r\n\t\t\t\tthis.settings.aspectRatio = this.settings.width / this.settings.height;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Initially set the slide width to the size of the slider.\r\n\t\t\t// Later, this will be set to less if there are multiple visible slides.\r\n\t\t\tthis.slideWidth = this.$slider.width();\r\n\r\n\t\t\t// Set the height to the same size as the browser window if the slider is set to be 'fullWindow',\r\n\t\t\t// or calculate the height based on the width and the aspect ratio.\r\n\t\t\tif ( this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\tthis.slideHeight = $( window ).height();\r\n\t\t\t} else {\r\n\t\t\t\tthis.slideHeight = isNaN( this.settings.aspectRatio ) ? this.settings.height : this.slideWidth / this.settings.aspectRatio;\r\n\t\t\t}\r\n\r\n\t\t\t// Resize the slider only if the size of the slider has changed\r\n\t\t\t// If it hasn't, return.\r\n\t\t\tif ( this.previousSlideWidth !== this.slideWidth ||\r\n\t\t\t\tthis.previousSlideHeight !== this.slideHeight ||\r\n\t\t\t\tthis.settings.visibleSize !== 'auto' ||\r\n\t\t\t\tthis.$slider.outerWidth() > this.$slider.parent().width() ||\r\n\t\t\t\tthis.$slider.width() !== this.$slidesMask.width()\r\n\t\t\t) {\r\n\t\t\t\tthis.previousSlideWidth = this.slideWidth;\r\n\t\t\t\tthis.previousSlideHeight = this.slideHeight;\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// The slide width or slide height is needed for several calculation, so create a reference to it\r\n\t\t\t// based on the current orientation.\r\n\t\t\tthis.slideSize = this.settings.orientation === 'horizontal' ? this.slideWidth : this.slideHeight;\r\n\t\t\t\r\n\t\t\t// Initially set the visible size of the slides and the offset of the selected slide as if there is only\r\n\t\t\t// on visible slide.\r\n\t\t\t// If there will be multiple visible slides (when 'visibleSize' is different than 'auto'), these will\r\n\t\t\t// be updated accordingly.\r\n\t\t\tthis.visibleSlidesSize = this.slideSize;\r\n\t\t\tthis.visibleOffset = 0;\r\n\r\n\t\t\t// Loop through the existing slides and reset their size.\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\telement.setSize( that.slideWidth, that.slideHeight );\r\n\t\t\t});\r\n\r\n\t\t\t// Set the initial size of the mask container to the size of an individual slide\r\n\t\t\tthis.$slidesMask.css({ 'width': this.slideWidth, 'height': this.slideHeight });\r\n\r\n\t\t\t// Adjust the height if it's set to 'auto'\r\n\t\t\tif ( this.settings.autoHeight === true ) {\r\n\r\n\t\t\t\t// Delay the resizing of the height to allow for other resize handlers\r\n\t\t\t\t// to execute first before calculating the final height of the slide\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\tthat._resizeHeight();\r\n\t\t\t\t}, 1 );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slidesMask.css( this.vendorPrefix + 'transition', '' );\r\n\t\t\t}\r\n\r\n\t\t\t// The 'visibleSize' option can be set to fixed or percentage size to make more slides\r\n\t\t\t// visible at a time.\r\n\t\t\t// By default it's set to 'auto'.\r\n\t\t\tif ( this.settings.visibleSize !== 'auto' ) {\r\n\t\t\t\tif ( this.settings.orientation === 'horizontal' ) {\r\n\r\n\t\t\t\t\t// If the size is forced to full width or full window, the 'visibleSize' option will be\r\n\t\t\t\t\t// ignored and the slider will become as wide as the browser window.\r\n\t\t\t\t\tif ( this.settings.forceSize === 'fullWidth' || this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\t\tthis.$slider.css( 'margin', 0 );\r\n\t\t\t\t\t\tthis.$slider.css({ 'width': $( window ).width(), 'max-width': '', 'marginLeft': - this.$slider.offset().left });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$slider.css({ 'width': this.settings.visibleSize, 'max-width': '100%', 'marginLeft': 0 });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$slidesMask.css( 'width', this.$slider.width() );\r\n\r\n\t\t\t\t\tthis.visibleSlidesSize = this.$slidesMask.width();\r\n\t\t\t\t\tthis.visibleOffset = Math.round( ( this.$slider.width() - this.slideWidth ) / 2 );\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// If the size is forced to full window, the 'visibleSize' option will be\r\n\t\t\t\t\t// ignored and the slider will become as high as the browser window.\r\n\t\t\t\t\tif ( this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\t\tthis.$slider.css({ 'height': $( window ).height(), 'max-height': '' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$slider.css({ 'height': this.settings.visibleSize, 'max-height': '100%' });\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$slidesMask.css( 'height', this.$slider.height() );\r\n\r\n\t\t\t\t\tthis.visibleSlidesSize = this.$slidesMask.height();\r\n\t\t\t\t\tthis.visibleOffset = Math.round( ( this.$slider.height() - this.slideHeight ) / 2 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._resetSlidesPosition();\r\n\r\n\t\t\t// Fire the 'sliderResize' event\r\n\t\t\tthis.trigger({ type: 'sliderResize' });\r\n\t\t\tif ( $.isFunction( this.settings.sliderResize ) ) {\r\n\t\t\t\tthis.settings.sliderResize.call( this, { type: 'sliderResize' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Resize the height of the slider to the height of the selected slide.\r\n\t\t// It's used when the 'autoHeight' option is set to 'true'.\r\n\t\t_resizeHeight: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tselectedSlide = this.getSlideAt( this.selectedSlideIndex ),\r\n\t\t\t\tsize = selectedSlide.getSize();\r\n\r\n\t\t\tselectedSlide.off( 'imagesLoaded.' + NS );\r\n\t\t\tselectedSlide.on( 'imagesLoaded.' + NS, function( event ) {\r\n\t\t\t\tif ( event.index === that.selectedSlideIndex ) {\r\n\t\t\t\t\tvar size = selectedSlide.getSize();\r\n\t\t\t\t\tthat._resizeHeightTo( size.height );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If the selected slide contains images which are still loading,\r\n\t\t\t// wait for the loading to complete and then request the size again.\r\n\t\t\tif ( size !== 'loading' ) {\r\n\t\t\t\tthis._resizeHeightTo( size.height );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Open the slide at the specified index\r\n\t\tgotoSlide: function( index ) {\r\n\t\t\tif ( index === this.selectedSlideIndex || typeof this.slides[ index ] === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.previousSlideIndex = this.selectedSlideIndex;\r\n\t\t\tthis.selectedSlideIndex = index;\r\n\r\n\t\t\t// Re-assign the 'sp-selected' class to the currently selected slide\r\n\t\t\tthis.$slides.find( '.sp-selected' ).removeClass( 'sp-selected' );\r\n\t\t\tthis.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected' );\r\n\r\n\t\t\t// If the slider is loopable reorder the slides to have the selected slide in the middle\r\n\t\t\t// and update the slides' position.\r\n\t\t\tif ( this.settings.loop === true ) {\r\n\t\t\t\tthis._updateSlidesOrder();\r\n\t\t\t\tthis._updateSlidesPosition();\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust the height of the slider\r\n\t\t\tif ( this.settings.autoHeight === true ) {\r\n\t\t\t\tthis._resizeHeight();\r\n\t\t\t}\r\n\r\n\t\t\t// Calculate the new position that the slides container need to take\r\n\t\t\tvar newSlidesPosition = - parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 ) + this.visibleOffset;\r\n\r\n\t\t\t// Move the slides container to the new position\r\n\t\t\tthis._moveTo( newSlidesPosition, false, function() {\r\n\t\t\t\tif ( that.settings.loop === true ) {\r\n\t\t\t\t\tthat._resetSlidesPosition();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'gotoSlideComplete' event\r\n\t\t\t\tthat.trigger({ type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex });\r\n\t\t\t\tif ( $.isFunction( that.settings.gotoSlideComplete ) ) {\r\n\t\t\t\t\tthat.settings.gotoSlideComplete.call( that, { type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex } );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Fire the 'gotoSlide' event\r\n\t\t\tthis.trigger({ type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex });\r\n\t\t\tif ( $.isFunction( this.settings.gotoSlide ) ) {\r\n\t\t\t\tthis.settings.gotoSlide.call( this, { type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Open the next slide\r\n\t\tnextSlide: function() {\r\n\t\t\tvar index = ( this.selectedSlideIndex >= this.getTotalSlides() - 1 ) ? 0 : ( this.selectedSlideIndex + 1 );\r\n\t\t\tthis.gotoSlide( index );\r\n\t\t},\r\n\r\n\t\t// Open the previous slide\r\n\t\tpreviousSlide: function() {\r\n\t\t\tvar index = this.selectedSlideIndex <= 0 ? ( this.getTotalSlides() - 1 ) : ( this.selectedSlideIndex - 1 );\r\n\t\t\tthis.gotoSlide( index );\r\n\t\t},\r\n\r\n\t\t// Move the slides container to the specified position.\r\n\t\t// The movement can be instant or animated.\r\n\t\t_moveTo: function( position, instant, callback ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcss = {};\r\n\r\n\t\t\tif ( position === this.slidesPosition ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.slidesPosition = position;\r\n\t\t\t\r\n\t\t\tif ( ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) && this.isIE === false ) {\r\n\t\t\t\tvar transition,\r\n\t\t\t\t\tleft = this.settings.orientation === 'horizontal' ? position : 0,\r\n\t\t\t\t\ttop = this.settings.orientation === 'horizontal' ? 0 : position;\r\n\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\ttransition = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$slides.addClass( 'sp-animated' );\r\n\t\t\t\t\ttransition = this.vendorPrefix + 'transform ' + this.settings.slideAnimationDuration / 1000 + 's';\r\n\r\n\t\t\t\t\tthis.$slides.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.$slides.off( that.transitionEvent );\r\n\t\t\t\t\t\tthat.$slides.removeClass( 'sp-animated' );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = transition;\r\n\r\n\t\t\t\tthis.$slides.css( css );\r\n\t\t\t} else {\r\n\t\t\t\tcss[ 'margin-' + this.positionProperty ] = position;\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\tthis.$slides.css( css );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$slides.addClass( 'sp-animated' );\r\n\t\t\t\t\tthis.$slides.animate( css, this.settings.slideAnimationDuration, function() {\r\n\t\t\t\t\t\tthat.$slides.removeClass( 'sp-animated' );\r\n\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Stop the movement of the slides\r\n\t\t_stopMovement: function() {\r\n\t\t\tvar css = {};\r\n\r\n\t\t\tif ( ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) && this.isIE === false) {\r\n\r\n\t\t\t\t// Get the current position of the slides by parsing the 'transform' property\r\n\t\t\t\tvar\tmatrixString = this.$slides.css( this.vendorPrefix + 'transform' ),\r\n\t\t\t\t\tmatrixType = matrixString.indexOf( 'matrix3d' ) !== -1 ? 'matrix3d' : 'matrix',\r\n\t\t\t\t\tmatrixArray = matrixString.replace( matrixType, '' ).match( /-?[0-9\\.]+/g ),\r\n\t\t\t\t\tleft = matrixType === 'matrix3d' ? parseInt( matrixArray[ 12 ], 10 ) : parseInt( matrixArray[ 4 ], 10 ),\r\n\t\t\t\t\ttop = matrixType === 'matrix3d' ? parseInt( matrixArray[ 13 ], 10 ) : parseInt( matrixArray[ 5 ], 10 );\r\n\t\t\t\t\t\r\n\t\t\t\t// Set the transform property to the value that the transform had when the function was called\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = '';\r\n\r\n\t\t\t\tthis.$slides.css( css );\r\n\t\t\t\tthis.$slides.off( this.transitionEvent );\r\n\t\t\t\tthis.slidesPosition = this.settings.orientation === 'horizontal' ? left : top;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slides.stop();\r\n\t\t\t\tthis.slidesPosition = parseInt( this.$slides.css( 'margin-' + this.positionProperty ), 10 );\r\n\t\t\t}\r\n\r\n\t\t\tthis.$slides.removeClass( 'sp-animated' );\r\n\t\t},\r\n\r\n\t\t// Resize the height of the slider to the specified value\r\n\t\t_resizeHeightTo: function( height ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcss = { 'height': height };\r\n\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = 'height ' + this.settings.heightAnimationDuration / 1000 + 's';\r\n\r\n\t\t\t\tthis.$slidesMask.off( this.transitionEvent );\r\n\t\t\t\tthis.$slidesMask.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$slidesMask.off( that.transitionEvent );\r\n\r\n\t\t\t\t\t// Fire the 'resizeHeightComplete' event\r\n\t\t\t\t\tthat.trigger({ type: 'resizeHeightComplete' });\r\n\t\t\t\t\tif ( $.isFunction( that.settings.resizeHeightComplete ) ) {\r\n\t\t\t\t\t\tthat.settings.resizeHeightComplete.call( that, { type: 'resizeHeightComplete' } );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$slidesMask.css( css );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slidesMask.stop().animate( css, this.settings.heightAnimationDuration, function( event ) {\r\n\t\t\t\t\t// Fire the 'resizeHeightComplete' event\r\n\t\t\t\t\tthat.trigger({ type: 'resizeHeightComplete' });\r\n\t\t\t\t\tif ( $.isFunction( that.settings.resizeHeightComplete ) ) {\r\n\t\t\t\t\t\tthat.settings.resizeHeightComplete.call( that, { type: 'resizeHeightComplete' } );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the slider instance\r\n\t\tdestroy: function() {\r\n\t\t\t// Remove the stored reference to this instance\r\n\t\t\tthis.$slider.removeData( 'sliderPro' );\r\n\t\t\t\r\n\t\t\t// Clean the CSS\r\n\t\t\tthis.$slider.removeAttr( 'style' );\r\n\t\t\tthis.$slides.removeAttr( 'style' );\r\n\r\n\t\t\t// Remove event listeners\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\t$( window ).off( 'resize.' + this.uniqueId + '.' + NS );\r\n\r\n\t\t\t// Destroy modules\r\n\t\t\tvar modules = $.SliderPro.modules;\r\n\r\n\t\t\tif ( typeof modules !== 'undefined' ) {\r\n\t\t\t\tfor ( var i = 0; i < modules.length; i++ ) {\r\n\t\t\t\t\tif ( typeof this[ 'destroy' + modules[ i ] ] !== 'undefined' ) {\r\n\t\t\t\t\t\tthis[ 'destroy' + modules[ i ] ]();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Destroy all slides\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\telement.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.slides.length = 0;\r\n\r\n\t\t\t// Move the slides to their initial position in the DOM and \r\n\t\t\t// remove the container elements created dynamically.\r\n\t\t\tthis.$slides.prependTo( this.$slider );\r\n\t\t\tthis.$slidesContainer.remove();\r\n\t\t},\r\n\r\n\t\t// Set properties on runtime\r\n\t\t_setProperties: function( properties, store ) {\r\n\t\t\t// Parse the properties passed as an object\r\n\t\t\tfor ( var prop in properties ) {\r\n\t\t\t\tthis.settings[ prop ] = properties[ prop ];\r\n\r\n\t\t\t\t// Alter the original settings as well unless 'false' is passed to the 'store' parameter\r\n\t\t\t\tif ( store !== false ) {\r\n\t\t\t\t\tthis.originalSettings[ prop ] = properties[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\t// Attach an event handler to the slider\r\n\t\ton: function( type, callback ) {\r\n\t\t\treturn this.$slider.on( type, callback );\r\n\t\t},\r\n\r\n\t\t// Detach an event handler\r\n\t\toff: function( type ) {\r\n\t\t\treturn this.$slider.off( type );\r\n\t\t},\r\n\r\n\t\t// Trigger an event on the slider\r\n\t\ttrigger: function( data ) {\r\n\t\t\treturn this.$slider.triggerHandler( data );\r\n\t\t},\r\n\r\n\t\t// Return the slide at the specified index\r\n\t\tgetSlideAt: function( index ) {\r\n\t\t\treturn this.slides[ index ];\r\n\t\t},\r\n\r\n\t\t// Return the index of the currently opened slide\r\n\t\tgetSelectedSlide: function() {\r\n\t\t\treturn this.selectedSlideIndex;\r\n\t\t},\r\n\r\n\t\t// Return the total amount of slides\r\n\t\tgetTotalSlides: function() {\r\n\t\t\treturn this.slides.length;\r\n\t\t},\r\n\r\n\t\t// The default options of the slider\r\n\t\tdefaults: {\r\n\t\t\t// Width of the slide\r\n\t\t\twidth: 500,\r\n\r\n\t\t\t// Height of the slide\r\n\t\t\theight: 300,\r\n\r\n\t\t\t// Indicates if the slider is responsive\r\n\t\t\tresponsive: true,\r\n\r\n\t\t\t// The aspect ratio of the slider (width/height)\r\n\t\t\taspectRatio: -1,\r\n\r\n\t\t\t// The scale mode for images (cover, contain, exact and none)\r\n\t\t\timageScaleMode: 'cover',\r\n\r\n\t\t\t// Indicates if the image will be centered\r\n\t\t\tcenterImage: true,\r\n\r\n\t\t\t// Indicates if the image can be scaled up more than its original size\r\n\t\t\tallowScaleUp: true,\r\n\r\n\t\t\t// Indicates if height of the slider will be adjusted to the\r\n\t\t\t// height of the selected slide\r\n\t\t\tautoHeight: false,\r\n\r\n\t\t\t// Indicates the initially selected slide\r\n\t\t\tstartSlide: 0,\r\n\r\n\t\t\t// Indicates if the slides will be shuffled\r\n\t\t\tshuffle: false,\r\n\r\n\t\t\t// Indicates whether the slides will be arranged horizontally\r\n\t\t\t// or vertically. Can be set to 'horizontal' or 'vertical'.\r\n\t\t\torientation: 'horizontal',\r\n\r\n\t\t\t// Indicates if the size of the slider will be forced to 'fullWidth' or 'fullWindow'\r\n\t\t\tforceSize: 'none',\r\n\r\n\t\t\t// Indicates if the slider will be loopable\r\n\t\t\tloop: true,\r\n\r\n\t\t\t// The distance between slides\r\n\t\t\tslideDistance: 10,\r\n\r\n\t\t\t// The duration of the slide animation\r\n\t\t\tslideAnimationDuration: 700,\r\n\r\n\t\t\t// The duration of the height animation\r\n\t\t\theightAnimationDuration: 700,\r\n\r\n\t\t\t// Sets the size of the visible area, allowing the increase of it in order\r\n\t\t\t// to make more slides visible.\r\n\t\t\t// By default, only the selected slide will be visible. \r\n\t\t\tvisibleSize: 'auto',\r\n\r\n\t\t\t// Breakpoints for allowing the slider's options to be changed\r\n\t\t\t// based on the size of the window.\r\n\t\t\tbreakpoints: null,\r\n\r\n\t\t\t// Called when the slider is initialized\r\n\t\t\tinit: function() {},\r\n\r\n\t\t\t// Called when the slider is updates\r\n\t\t\tupdate: function() {},\r\n\r\n\t\t\t// Called when the slider is resized\r\n\t\t\tsliderResize: function() {},\r\n\r\n\t\t\t// Called when a new slide is selected\r\n\t\t\tgotoSlide: function() {},\r\n\r\n\t\t\t// Called when the navigation to the newly selected slide is complete\r\n\t\t\tgotoSlideComplete: function() {},\r\n\r\n\t\t\t// Called when the height animation of the slider is complete\r\n\t\t\tresizeHeightComplete: function() {},\r\n\r\n\t\t\t// Called when a breakpoint is reached\r\n\t\t\tbreakpointReach: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\tvar SliderProSlide = function( slide, index, settings ) {\r\n\r\n\t\t// Reference to the slide jQuery element\r\n\t\tthis.$slide = slide;\r\n\r\n\t\t// Reference to the main slide image\r\n\t\tthis.$mainImage = null;\r\n\r\n\t\t// Reference to the container that will hold the main image\r\n\t\tthis.$imageContainer = null;\r\n\r\n\t\t// Indicates whether the slide has a main image\r\n\t\tthis.hasMainImage = false;\r\n\r\n\t\t// Indicates whether the main image is loaded\r\n\t\tthis.isMainImageLoaded = false;\r\n\r\n\t\t// Indicates whether the main image is in the process of being loaded\r\n\t\tthis.isMainImageLoading = false;\r\n\r\n\t\t// Indicates whether the slide has any image. There could be other images (i.e., in layers)\r\n\t\t// besides the main slide image.\r\n\t\tthis.hasImages = false;\r\n\r\n\t\t// Indicates if all the images in the slide are loaded\r\n\t\tthis.areImagesLoaded = false;\r\n\r\n\t\t// The width and height of the slide\r\n\t\tthis.width = 0;\r\n\t\tthis.height = 0;\r\n\r\n\t\t// Reference to the global settings of the slider\r\n\t\tthis.settings = settings;\r\n\r\n\t\t// Set the index of the slide\r\n\t\tthis.setIndex( index );\r\n\r\n\t\t// Initialize the slide\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tSliderProSlide.prototype = {\r\n\r\n\t\t// The starting point for the slide\r\n\t\t_init: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Mark the slide as initialized\r\n\t\t\tthis.$slide.attr( 'data-init', true );\r\n\r\n\t\t\t// Get the main slide image if there is one\r\n\t\t\tthis.$mainImage = this.$slide.find( '.sp-image' ).length !== 0 ? this.$slide.find( '.sp-image' ) : null;\r\n\r\n\t\t\t// If there is a main slide image, create a container for it and add the image to this container.\r\n\t\t\t// The container will allow the isolation of the image from the rest of the slide's content. This is\r\n\t\t\t// helpful when you want to show some content below the image and not cover it.\r\n\t\t\tif ( this.$mainImage !== null ) {\r\n\t\t\t\tthis.hasMainImage = true;\r\n\r\n\t\t\t\tthis.$imageContainer = $( '<div class=\"sp-image-container\"></div>' ).prependTo( this.$slide );\r\n\r\n\t\t\t\tif ( this.$mainImage.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\t\tthis.$mainImage.parent( 'a' ).appendTo( this.$imageContainer );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$mainImage.appendTo( this.$imageContainer );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.hasImages = this.$slide.find( 'img' ).length !== 0 ? true : false;\r\n\t\t},\r\n\r\n\t\t// Set the size of the slide\r\n\t\tsetSize: function( width, height ) {\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = this.settings.autoHeight === true ? 'auto' : height;\r\n\r\n\t\t\tthis.$slide.css({\r\n\t\t\t\t'width': this.width,\r\n\t\t\t\t'height': this.height\r\n\t\t\t});\r\n\r\n\t\t\tif ( this.hasMainImage === true ) {\r\n\t\t\t\tthis.$imageContainer.css({\r\n\t\t\t\t\t'width': this.width,\r\n\t\t\t\t\t'height': this.height\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Resize the main image if it's loaded. If the 'data-src' attribute is present it means\r\n\t\t\t\t// that the image will be lazy-loaded\r\n\t\t\t\tif ( typeof this.$mainImage.attr( 'data-src' ) === 'undefined' ) {\r\n\t\t\t\t\tthis.resizeMainImage();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get the size (width and height) of the slide\r\n\t\tgetSize: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tsize;\r\n\r\n\t\t\t// Check if all images have loaded, and if they have, return the size, else, return 'loading'\r\n\t\t\tif ( this.hasImages === true && this.areImagesLoaded === false && typeof this.$slide.attr( 'data-loading' ) === 'undefined' ) {\r\n\t\t\t\tthis.$slide.attr( 'data-loading', true );\r\n\r\n\t\t\t\tvar status = SliderProUtils.checkImagesComplete( this.$slide, function() {\r\n\t\t\t\t\tthat.areImagesLoaded = true;\r\n\t\t\t\t\tthat.$slide.removeAttr( 'data-loading' );\r\n\t\t\t\t\tthat.trigger({ type: 'imagesLoaded.' + NS, index: that.index });\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( status === 'complete' ) {\r\n\t\t\t\t\tsize = this.calculateSize();\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t'width': size.width,\r\n\t\t\t\t\t\t'height': size.height\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'loading';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsize = this.calculateSize();\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t'width': size.width,\r\n\t\t\t\t\t'height': size.height\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Calculate the width and height of the slide by going\r\n\t\t// through all the child elements and measuring their 'bottom'\r\n\t\t// and 'right' properties. The element with the biggest\r\n\t\t// 'right'/'bottom' property will determine the slide's\r\n\t\t// width/height.\r\n\t\tcalculateSize: function() {\r\n\t\t\tvar width = this.$slide.width(),\r\n\t\t\t\theight = this.$slide.height();\r\n\r\n\t\t\tthis.$slide.children().each(function( index, element ) {\r\n\t\t\t\tvar child = $( element );\r\n\r\n\t\t\t\tif ( child.is( ':hidden' ) === true ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar\trect = element.getBoundingClientRect(),\r\n\t\t\t\t\tbottom = child.position().top + ( rect.bottom - rect.top ),\r\n\t\t\t\t\tright = child.position().left + ( rect.right - rect.left );\r\n\r\n\t\t\t\tif ( bottom > height ) {\r\n\t\t\t\t\theight = bottom;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( right > width ) {\r\n\t\t\t\t\twidth = right;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn { width: width, height: height };\r\n\t\t},\r\n\r\n\t\t// Resize the main image.\r\n\t\t// \r\n\t\t// Call this when the slide resizes or when the main image has changed to a different image.\r\n\t\tresizeMainImage: function( isNewImage ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// If the main image has changed, reset the 'flags'\r\n\t\t\tif ( isNewImage === true ) {\r\n\t\t\t\tthis.isMainImageLoaded = false;\r\n\t\t\t\tthis.isMainImageLoading = false;\r\n\t\t\t}\r\n\r\n\t\t\t// If the image was not loaded yet and it's not in the process of being loaded, load it\r\n\t\t\tif ( this.isMainImageLoaded === false && this.isMainImageLoading === false ) {\r\n\t\t\t\tthis.isMainImageLoading = true;\r\n\r\n\t\t\t\tSliderProUtils.checkImagesComplete( this.$mainImage, function() {\r\n\t\t\t\t\tthat.isMainImageLoaded = true;\r\n\t\t\t\t\tthat.isMainImageLoading = false;\r\n\t\t\t\t\tthat.resizeMainImage();\r\n\t\t\t\t\tthat.trigger({ type: 'imagesLoaded.' + NS, index: that.index });\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.allowScaleUp === false ) {\r\n\t\t\t\tthis.$mainImage.css({ 'width': '', 'height': '', 'maxWidth': '', 'maxHeight': '' });\r\n\r\n\t\t\t\tvar naturalWidth = this.$mainImage.width(),\r\n\t\t\t\t\tnaturalHeight = this.$mainImage.height();\r\n\r\n\t\t\t\tthis.$mainImage.css({ 'maxWidth': naturalWidth, 'maxHeight': naturalHeight });\r\n\t\t\t}\r\n\r\n\t\t\t// After the main image has loaded, resize it\r\n\t\t\tif ( this.settings.autoHeight === true ) {\r\n\t\t\t\tthis.$mainImage.css({ width: '100%', height: 'auto' });\r\n\t\t\t} else {\r\n\t\t\t\tif ( this.settings.imageScaleMode === 'cover' ) {\r\n\t\t\t\t\tif ( this.$mainImage.width() / this.$mainImage.height() <= this.width / this.height ) {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: '100%', height: 'auto' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: 'auto', height: '100%' });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( this.settings.imageScaleMode === 'contain' ) {\r\n\t\t\t\t\tif ( this.$mainImage.width() / this.$mainImage.height() >= this.width / this.height ) {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: '100%', height: 'auto' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: 'auto', height: '100%' });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( this.settings.imageScaleMode === 'exact' ) {\r\n\t\t\t\t\tthis.$mainImage.css({ width: '100%', height: '100%' });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.centerImage === true ) {\r\n\t\t\t\tthis.$mainImage.css({ 'marginLeft': ( this.$imageContainer.width() - this.$mainImage.width() ) * 0.5, 'marginTop': ( this.$imageContainer.height() - this.$mainImage.height() ) * 0.5 });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the slide\r\n\t\tdestroy: function() {\r\n\t\t\t// Clean the slide element from attached styles and data\r\n\t\t\tthis.$slide.removeAttr( 'style' );\r\n\t\t\tthis.$slide.removeAttr( 'data-init' );\r\n\t\t\tthis.$slide.removeAttr( 'data-index' );\r\n\t\t\tthis.$slide.removeAttr( 'data-loaded' );\r\n\r\n\t\t\t// If there is a main image, remove its container\r\n\t\t\tif ( this.hasMainImage === true ) {\r\n\t\t\t\tthis.$slide.find( '.sp-image' )\r\n\t\t\t\t\t.removeAttr( 'style' )\r\n\t\t\t\t\t.appendTo( this.$slide );\r\n\r\n\t\t\t\tthis.$slide.find( '.sp-image-container' ).remove();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Return the index of the slide\r\n\t\tgetIndex: function() {\r\n\t\t\treturn this.index;\r\n\t\t},\r\n\r\n\t\t// Set the index of the slide\r\n\t\tsetIndex: function( index ) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.$slide.attr( 'data-index', this.index );\r\n\t\t},\r\n\r\n\t\t// Attach an event handler to the slide\r\n\t\ton: function( type, callback ) {\r\n\t\t\treturn this.$slide.on( type, callback );\r\n\t\t},\r\n\r\n\t\t// Detach an event handler to the slide\r\n\t\toff: function( type ) {\r\n\t\t\treturn this.$slide.off( type );\r\n\t\t},\r\n\r\n\t\t// Trigger an event on the slide\r\n\t\ttrigger: function( data ) {\r\n\t\t\treturn this.$slide.triggerHandler( data );\r\n\t\t}\r\n\t};\r\n\r\n\twindow.SliderPro = SliderPro;\r\n\twindow.SliderProSlide = SliderProSlide;\r\n\r\n\t$.fn.sliderPro = function( options ) {\r\n\t\tvar args = Array.prototype.slice.call( arguments, 1 );\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\t// Instantiate the slider or alter it\r\n\t\t\tif ( typeof $( this ).data( 'sliderPro' ) === 'undefined' ) {\r\n\t\t\t\tvar newInstance = new SliderPro( this, options );\r\n\r\n\t\t\t\t// Store a reference to the instance created\r\n\t\t\t\t$( this ).data( 'sliderPro', newInstance );\r\n\t\t\t} else if ( typeof options !== 'undefined' ) {\r\n\t\t\t\tvar\tcurrentInstance = $( this ).data( 'sliderPro' );\r\n\r\n\t\t\t\t// Check the type of argument passed\r\n\t\t\t\tif ( typeof currentInstance[ options ] === 'function' ) {\r\n\t\t\t\t\tcurrentInstance[ options ].apply( currentInstance, args );\r\n\t\t\t\t} else if ( typeof currentInstance.settings[ options ] !== 'undefined' ) {\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tobj[ options ] = args[ 0 ];\r\n\t\t\t\t\tcurrentInstance._setProperties( obj );\r\n\t\t\t\t} else if ( typeof options === 'object' ) {\r\n\t\t\t\t\tcurrentInstance._setProperties( options );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.error( options + ' does not exist in sliderPro.' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// Contains useful utility functions\r\n\tvar SliderProUtils = {\r\n\r\n\t\t// Indicates what type of animations are supported in the current browser\r\n\t\t// Can be CSS 3D, CSS 2D or JavaScript\r\n\t\tsupportedAnimation: null,\r\n\r\n\t\t// Indicates the required vendor prefix for the current browser\r\n\t\tvendorPrefix: null,\r\n\r\n\t\t// Indicates the name of the transition's complete event for the current browser\r\n\t\ttransitionEvent: null,\r\n\r\n\t\t// Indicates if the current browser is Internet Explorer (any version)\r\n\t\tisIE: null,\r\n\r\n\t\t// Check whether CSS3 3D or 2D transforms are supported. If they aren't, use JavaScript animations\r\n\t\tgetSupportedAnimation: function() {\r\n\t\t\tif ( this.supportedAnimation !== null ) {\r\n\t\t\t\treturn this.supportedAnimation;\r\n\t\t\t}\r\n\r\n\t\t\tvar element = document.body || document.documentElement,\r\n\t\t\t\telementStyle = element.style,\r\n\t\t\t\tisCSSTransitions = typeof elementStyle.transition !== 'undefined' ||\r\n\t\t\t\t\t\t\t\t\ttypeof elementStyle.WebkitTransition !== 'undefined' ||\r\n\t\t\t\t\t\t\t\t\ttypeof elementStyle.MozTransition !== 'undefined' ||\r\n\t\t\t\t\t\t\t\t\ttypeof elementStyle.OTransition !== 'undefined';\r\n\r\n\t\t\tif ( isCSSTransitions === true ) {\r\n\t\t\t\tvar div = document.createElement( 'div' );\r\n\r\n\t\t\t\t// Check if 3D transforms are supported\r\n\t\t\t\tif ( typeof div.style.WebkitPerspective !== 'undefined' || typeof div.style.perspective !== 'undefined' ) {\r\n\t\t\t\t\tthis.supportedAnimation = 'css-3d';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Additional checks for Webkit\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' && typeof div.styleWebkitPerspective !== 'undefined' ) {\r\n\t\t\t\t\tvar style = document.createElement( 'style' );\r\n\t\t\t\t\tstyle.textContent = '@media (transform-3d),(-webkit-transform-3d){#test-3d{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0;}}';\r\n\t\t\t\t\tdocument.getElementsByTagName( 'head' )[0].appendChild( style );\r\n\r\n\t\t\t\t\tdiv.id = 'test-3d';\r\n\t\t\t\t\tdocument.body.appendChild( div );\r\n\r\n\t\t\t\t\tif ( ! ( div.offsetLeft === 9 && div.offsetHeight === 5 ) ) {\r\n\t\t\t\t\t\tthis.supportedAnimation = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstyle.parentNode.removeChild( style );\r\n\t\t\t\t\tdiv.parentNode.removeChild( div );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If CSS 3D transforms are not supported, check if 2D transforms are supported\r\n\t\t\t\tif ( this.supportedAnimation === null && ( typeof div.style['-webkit-transform'] !== 'undefined' || typeof div.style.transform !== 'undefined' ) ) {\r\n\t\t\t\t\tthis.supportedAnimation = 'css-2d';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.supportedAnimation = 'javascript';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this.supportedAnimation;\r\n\t\t},\r\n\r\n\t\t// Check what vendor prefix should be used in the current browser\r\n\t\tgetVendorPrefix: function() {\r\n\t\t\tif ( this.vendorPrefix !== null ) {\r\n\t\t\t\treturn this.vendorPrefix;\r\n\t\t\t}\r\n\r\n\t\t\tvar div = document.createElement( 'div' ),\r\n\t\t\t\tprefixes = [ 'Webkit', 'Moz', 'ms', 'O' ];\r\n\t\t\t\r\n\t\t\tif ( 'transform' in div.style ) {\r\n\t\t\t\tthis.vendorPrefix = '';\r\n\t\t\t\treturn this.vendorPrefix;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor ( var i = 0; i < prefixes.length; i++ ) {\r\n\t\t\t\tif ( ( prefixes[ i ] + 'Transform' ) in div.style ) {\r\n\t\t\t\t\tthis.vendorPrefix = '-' + prefixes[ i ].toLowerCase() + '-';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this.vendorPrefix;\r\n\t\t},\r\n\r\n\t\t// Check the name of the transition's complete event in the current browser\r\n\t\tgetTransitionEvent: function() {\r\n\t\t\tif ( this.transitionEvent !== null ) {\r\n\t\t\t\treturn this.transitionEvent;\r\n\t\t\t}\r\n\r\n\t\t\tvar div = document.createElement( 'div' ),\r\n\t\t\t\ttransitions = {\r\n\t\t\t\t\t'transition': 'transitionend',\r\n\t\t\t\t\t'WebkitTransition': 'webkitTransitionEnd',\r\n\t\t\t\t\t'MozTransition': 'transitionend',\r\n\t\t\t\t\t'OTransition': 'oTransitionEnd'\r\n\t\t\t\t};\r\n\r\n\t\t\tfor ( var transition in transitions ) {\r\n\t\t\t\tif ( transition in div.style ) {\r\n\t\t\t\t\tthis.transitionEvent = transitions[ transition ];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this.transitionEvent;\r\n\t\t},\r\n\r\n\t\t// If a single image is passed, check if it's loaded.\r\n\t\t// If a different element is passed, check if there are images\r\n\t\t// inside it, and check if these images are loaded.\r\n\t\tcheckImagesComplete: function( target, callback ) {\r\n\t\t\tvar that = this,\r\n\r\n\t\t\t\t// Check the initial status of the image(s)\r\n\t\t\t\tstatus = this.checkImagesStatus( target );\r\n\r\n\t\t\t// If there are loading images, wait for them to load.\r\n\t\t\t// If the images are loaded, call the callback function directly.\r\n\t\t\tif ( status === 'loading' ) {\r\n\t\t\t\tvar checkImages = setInterval(function() {\r\n\t\t\t\t\tstatus = that.checkImagesStatus( target );\r\n\r\n\t\t\t\t\tif ( status === 'complete' ) {\r\n\t\t\t\t\t\tclearInterval( checkImages );\r\n\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100 );\r\n\t\t\t} else if ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\r\n\t\t\treturn status;\r\n\t\t},\r\n\r\n\t\tcheckImagesStatus: function( target ) {\r\n\t\t\tvar status = 'complete';\r\n\r\n\t\t\tif ( target.is( 'img' ) && target[0].complete === false ) {\r\n\t\t\t\tstatus = 'loading';\r\n\t\t\t} else {\r\n\t\t\t\ttarget.find( 'img' ).each(function( index ) {\r\n\t\t\t\t\tvar image = $( this )[0];\r\n\r\n\t\t\t\t\tif ( image.complete === false ) {\r\n\t\t\t\t\t\tstatus = 'loading';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn status;\r\n\t\t},\r\n\r\n\t\tcheckIE: function() {\r\n\t\t\tif ( this.isIE !== null ) {\r\n\t\t\t\treturn this.isIE;\r\n\t\t\t}\r\n\r\n\t\t\tvar userAgent = window.navigator.userAgent,\r\n\t\t\t\tmsie = userAgent.indexOf( 'MSIE' );\r\n\r\n\t\t\tif ( userAgent.indexOf( 'MSIE' ) !== -1 || userAgent.match( /Trident.*rv\\:11\\./ ) ) {\r\n\t\t\t\tthis.isIE = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isIE = false;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.isIE;\r\n\t\t}\r\n\t};\r\n\r\n\twindow.SliderProUtils = SliderProUtils;\r\n\r\n})( window, jQuery );\r\n\r\n// Thumbnails module for Slider Pro.\r\n// \r\n// Adds the possibility to create a thumbnail scroller, each thumbnail\r\n// corresponding to a slide.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Thumbnails.' + $.SliderPro.namespace;\r\n\r\n\tvar Thumbnails = {\r\n\r\n\t\t// Reference to the thumbnail scroller \r\n\t\t$thumbnails: null,\r\n\r\n\t\t// Reference to the container of the thumbnail scroller\r\n\t\t$thumbnailsContainer: null,\r\n\r\n\t\t// List of Thumbnail objects\r\n\t\tthumbnails: null,\r\n\r\n\t\t// Index of the selected thumbnail\r\n\t\tselectedThumbnailIndex: 0,\r\n\r\n\t\t// Total size (width or height, depending on the orientation) of the thumbnails\r\n\t\tthumbnailsSize: 0,\r\n\r\n\t\t// Size of the thumbnail's container\r\n\t\tthumbnailsContainerSize: 0,\r\n\r\n\t\t// The position of the thumbnail scroller inside its container\r\n\t\tthumbnailsPosition: 0,\r\n\r\n\t\t// Orientation of the thumbnails\r\n\t\tthumbnailsOrientation: null,\r\n\r\n\t\t// Indicates the 'left' or 'top' position based on the orientation of the thumbnails\r\n\t\tthumbnailsPositionProperty: null,\r\n\r\n\t\t// Indicates if there are thumbnails in the slider\r\n\t\tisThumbnailScroller: false,\r\n\r\n\t\tinitThumbnails: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.thumbnails = [];\r\n\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._thumbnailsOnUpdate, this ) );\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._thumbnailsOnResize, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, function( event ) {\r\n\t\t\t\tthat._gotoThumbnail( event.index );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Called when the slider is updated\r\n\t\t_thumbnailsOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail' ).length === 0 && this.thumbnails.length === 0 ) {\r\n\t\t\t\tthis.isThumbnailScroller = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isThumbnailScroller = true;\r\n\r\n\t\t\t// Create the container of the thumbnail scroller, if it wasn't created yet\r\n\t\t\tif ( this.$thumbnailsContainer === null ) {\r\n\t\t\t\tthis.$thumbnailsContainer = $( '<div class=\"sp-thumbnails-container\"></div>' ).insertAfter( this.$slidesContainer );\r\n\t\t\t}\r\n\r\n\t\t\t// If the thumbnails' main container doesn't exist, create it, and get a reference to it\r\n\t\t\tif ( this.$thumbnails === null ) {\r\n\t\t\t\tif ( this.$slider.find( '.sp-thumbnails' ).length !== 0 ) {\r\n\t\t\t\t\tthis.$thumbnails = this.$slider.find( '.sp-thumbnails' ).appendTo( this.$thumbnailsContainer );\r\n\r\n\t\t\t\t\t// Shuffle/randomize the thumbnails\r\n\t\t\t\t\tif ( this.settings.shuffle === true ) {\r\n\t\t\t\t\t\tvar thumbnails = this.$thumbnails.find( '.sp-thumbnail' ),\r\n\t\t\t\t\t\t\tshuffledThumbnails = [];\r\n\r\n\t\t\t\t\t\t// Reposition the thumbnails based on the order of the indexes in the\r\n\t\t\t\t\t\t// 'shuffledIndexes' array\r\n\t\t\t\t\t\t$.each( this.shuffledIndexes, function( index, element ) {\r\n\t\t\t\t\t\t\tvar $thumbnail = $( thumbnails[ element ] );\r\n\r\n\t\t\t\t\t\t\tif ( $thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\t\t\t\t\t$thumbnail = $thumbnail.parent( 'a' );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tshuffledThumbnails.push( $thumbnail );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Append the sorted thumbnails to the thumbnail scroller\r\n\t\t\t\t\t\tthis.$thumbnails.empty().append( shuffledThumbnails ) ;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$thumbnails = $( '<div class=\"sp-thumbnails\"></div>' ).appendTo( this.$thumbnailsContainer );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Check if there are thumbnails inside the slides and move them in the thumbnails container\r\n\t\t\tthis.$slides.find( '.sp-thumbnail' ).each( function( index ) {\r\n\t\t\t\tvar $thumbnail = $( this ),\r\n\t\t\t\t\tthumbnailIndex = $thumbnail.parents( '.sp-slide' ).index(),\r\n\t\t\t\t\tlastThumbnailIndex = that.$thumbnails.find( '.sp-thumbnail' ).length - 1;\r\n\r\n\t\t\t\tif ( $thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\t\t$thumbnail = $thumbnail.parent( 'a' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the index of the slide that contains the thumbnail is greater than the total number\r\n\t\t\t\t// of thumbnails from the thumbnails container, position the thumbnail at the end.\r\n\t\t\t\t// Otherwise, add the thumbnails at the corresponding position.\r\n\t\t\t\tif ( thumbnailIndex > lastThumbnailIndex ) {\r\n\t\t\t\t\t$thumbnail.appendTo( that.$thumbnails );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$thumbnail.insertBefore( that.$thumbnails.find( '.sp-thumbnail' ).eq( thumbnailIndex ) );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Loop through the Thumbnail objects and if a corresponding element is not found in the DOM,\r\n\t\t\t// it means that the thumbnail might have been removed. In this case, destroy that Thumbnail instance.\r\n\t\t\tfor ( var i = this.thumbnails.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tif ( this.$thumbnails.find( '.sp-thumbnail[data-index=\"' + i + '\"]' ).length === 0 ) {\r\n\t\t\t\t\tvar thumbnail = this.thumbnails[ i ];\r\n\r\n\t\t\t\t\tthumbnail.destroy();\r\n\t\t\t\t\tthis.thumbnails.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Loop through the thumbnails and if there is any uninitialized thumbnail,\r\n\t\t\t// initialize it, else update the thumbnail's index.\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail' ).each(function( index ) {\r\n\t\t\t\tvar $thumbnail = $( this );\r\n\r\n\t\t\t\tif ( typeof $thumbnail.attr( 'data-init' ) === 'undefined' ) {\r\n\t\t\t\t\tthat._createThumbnail( $thumbnail, index );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.thumbnails[ index ].setIndex( index );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Remove the previous class that corresponds to the position of the thumbnail scroller\r\n\t\t\tthis.$thumbnailsContainer.removeClass( 'sp-top-thumbnails sp-bottom-thumbnails sp-left-thumbnails sp-right-thumbnails' );\r\n\r\n\t\t\t// Check the position of the thumbnail scroller and assign it the appropriate class and styling\r\n\t\t\tif ( this.settings.thumbnailsPosition === 'top' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-top-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'horizontal';\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'bottom' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-bottom-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'horizontal';\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'left' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-left-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'vertical';\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'right' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-right-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'vertical';\r\n\t\t\t}\r\n\r\n\t\t\t// Check if the pointer needs to be created\r\n\t\t\tif ( this.settings.thumbnailPointer === true ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-has-pointer' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnailsContainer.removeClass( 'sp-has-pointer' );\r\n\t\t\t}\r\n\r\n\t\t\t// Mark the thumbnail that corresponds to the selected slide\r\n\t\t\tthis.selectedThumbnailIndex = this.selectedSlideIndex;\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail-container' ).eq( this.selectedThumbnailIndex ).addClass( 'sp-selected-thumbnail' );\r\n\t\t\t\r\n\t\t\t// Calculate the total size of the thumbnails\r\n\t\t\tthis.thumbnailsSize = 0;\r\n\r\n\t\t\t$.each( this.thumbnails, function( index, thumbnail ) {\r\n\t\t\t\tthumbnail.setSize( that.settings.thumbnailWidth, that.settings.thumbnailHeight );\r\n\t\t\t\tthat.thumbnailsSize += that.thumbnailsOrientation === 'horizontal' ? thumbnail.getSize().width : thumbnail.getSize().height;\r\n\t\t\t});\r\n\r\n\t\t\t// Set the size of the thumbnails\r\n\t\t\tif ( this.thumbnailsOrientation === 'horizontal' ) {\r\n\t\t\t\tthis.$thumbnails.css({ 'width': this.thumbnailsSize, 'height': this.settings.thumbnailHeight });\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'height', '' );\r\n\t\t\t\tthis.thumbnailsPositionProperty = 'left';\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnails.css({ 'width': this.settings.thumbnailWidth, 'height': this.thumbnailsSize });\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'width', '' );\r\n\t\t\t\tthis.thumbnailsPositionProperty = 'top';\r\n\t\t\t}\r\n\r\n\t\t\t// Fire the 'thumbnailsUpdate' event\r\n\t\t\tthis.trigger({ type: 'thumbnailsUpdate' });\r\n\t\t\tif ( $.isFunction( this.settings.thumbnailsUpdate ) ) {\r\n\t\t\t\tthis.settings.thumbnailsUpdate.call( this, { type: 'thumbnailsUpdate' } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create an individual thumbnail\r\n\t\t_createThumbnail: function( element, index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tthumbnail = new Thumbnail( element, this.$thumbnails, index );\r\n\r\n\t\t\t// When the thumbnail is clicked, navigate to the corresponding slide\r\n\t\t\tthumbnail.on( 'thumbnailClick.' + NS, function( event ) {\r\n\t\t\t\tthat.gotoSlide( event.index );\r\n\t\t\t});\r\n\r\n\t\t\t// Add the thumbnail at the specified index\r\n\t\t\tthis.thumbnails.splice( index, 0, thumbnail );\r\n\t\t},\r\n\r\n\t\t// Called when the slider is resized.\r\n\t\t// Resets the size and position of the thumbnail scroller container.\r\n\t\t_thumbnailsOnResize: function() {\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\tnewThumbnailsPosition;\r\n\r\n\t\t\tif ( this.thumbnailsOrientation === 'horizontal' ) {\r\n\t\t\t\tthis.thumbnailsContainerSize = Math.min( this.$slidesMask.width(), this.thumbnailsSize );\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'width', this.thumbnailsContainerSize );\r\n\r\n\t\t\t\t// Reduce the slide mask's height, to make room for the thumbnails\r\n\t\t\t\tif ( this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\tthis.$slidesMask.css( 'height', this.$slidesMask.height() - this.$thumbnailsContainer.outerHeight( true ) );\r\n\r\n\t\t\t\t\t// Resize the slide\r\n\t\t\t\t\tthis.slideHeight = this.$slidesMask.height();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\t\telement.setSize( that.slideWidth, that.slideHeight );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.thumbnailsOrientation === 'vertical' ) {\r\n\r\n\t\t\t\t// Check if the width of the slide mask plus the width of the thumbnail scroller is greater than\r\n\t\t\t\t// the width of the slider's container and if that's the case, reduce the slides container width\r\n\t\t\t\t// in order to make the entire slider fit inside the slider's container.\r\n\t\t\t\tif ( this.$slidesMask.width() + this.$thumbnailsContainer.outerWidth( true ) > this.$slider.parent().width() ) {\r\n\t\t\t\t\t// Reduce the slider's width, to make room for the thumbnails\r\n\t\t\t\t\tif ( this.settings.forceSize === 'fullWidth' || this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\t\tthis.$slider.css( 'max-width', $( window ).width() - this.$thumbnailsContainer.outerWidth( true ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$slider.css( 'max-width', this.$slider.parent().width() - this.$thumbnailsContainer.outerWidth( true ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$slidesMask.css( 'width', this.$slider.width() );\r\n\r\n\t\t\t\t\t// If the slides are horizontally oriented, update the visible size and the offset\r\n\t\t\t\t\t// of the selected slide, since the slider's size was reduced to make room for the thumbnails.\r\n\t\t\t\t\t// \r\n\t\t\t\t\t// If the slides are vertically oriented, update the width and height (to maintain the aspect ratio)\r\n\t\t\t\t\t// of the slides.\r\n\t\t\t\t\tif ( this.settings.orientation === 'horizontal' ) {\r\n\t\t\t\t\t\tthis.visibleOffset = Math.round( ( this.$slider.width() - this.slideSize ) / 2 );\r\n\t\t\t\t\t\tthis.visibleSlidesSize = this.$slidesMask.width();\r\n\t\t\t\t\t} else if ( this.settings.orientation === 'vertical' ) {\r\n\t\t\t\t\t\tthis.slideWidth = this.$slider.width();\r\n\r\n\t\t\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\t\t\telement.setSize( that.slideWidth, that.slideHeight );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Re-arrange the slides\r\n\t\t\t\t\tthis._resetSlidesPosition();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.thumbnailsContainerSize = Math.min( this.$slidesMask.height(), this.thumbnailsSize );\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'height', this.thumbnailsContainerSize );\r\n\t\t\t}\r\n\r\n\t\t\t// If the total size of the thumbnails is smaller than the thumbnail scroller' container (which has\r\n\t\t\t// the same size as the slides container), it means that all the thumbnails will be visible, so set\r\n\t\t\t// the position of the thumbnail scroller to 0.\r\n\t\t\t// \r\n\t\t\t// If that's not the case, the thumbnail scroller will be positioned based on which thumbnail is selected.\r\n\t\t\tif ( this.thumbnailsSize <= this.thumbnailsContainerSize || this.$thumbnails.find( '.sp-selected-thumbnail' ).length === 0 ) {\r\n\t\t\t\tnewThumbnailsPosition = 0;\r\n\t\t\t} else {\r\n\t\t\t\tnewThumbnailsPosition = Math.max( - this.thumbnails[ this.selectedThumbnailIndex ].getPosition()[ this.thumbnailsPositionProperty ], this.thumbnailsContainerSize - this.thumbnailsSize );\r\n\t\t\t}\r\n\r\n\t\t\t// Add a padding to the slider, based on the thumbnail scroller's orientation, to make room\r\n\t\t\t// for the thumbnails.\r\n\t\t\tif ( this.settings.thumbnailsPosition === 'top' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': this.$thumbnailsContainer.outerHeight( true ), 'paddingLeft': '', 'paddingRight': '' });\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'bottom' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': '', 'paddingRight': '' });\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'left' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': this.$thumbnailsContainer.outerWidth( true ), 'paddingRight': '' });\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'right' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': '', 'paddingRight': this.$thumbnailsContainer.outerWidth( true ) });\r\n\t\t\t}\r\n\r\n\t\t\tthis._moveThumbnailsTo( newThumbnailsPosition, true );\r\n\t\t},\r\n\r\n\t\t// Selects the thumbnail at the indicated index and moves the thumbnail scroller\r\n\t\t// accordingly.\r\n\t\t_gotoThumbnail: function( index ) {\r\n\t\t\tif ( this.isThumbnailScroller === false || typeof this.thumbnails[ index ] === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar previousIndex = this.selectedThumbnailIndex,\r\n\t\t\t\tnewThumbnailsPosition = this.thumbnailsPosition;\r\n\r\n\t\t\tthis.selectedThumbnailIndex = index;\r\n\r\n\t\t\t// Set the 'selected' class to the appropriate thumbnail\r\n\t\t\tthis.$thumbnails.find( '.sp-selected-thumbnail' ).removeClass( 'sp-selected-thumbnail' );\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail-container' ).eq( this.selectedThumbnailIndex ).addClass( 'sp-selected-thumbnail' );\r\n\r\n\t\t\t// Calculate the new position that the thumbnail scroller needs to go to.\r\n\t\t\t// \r\n\t\t\t// If the selected thumbnail has a higher index than the previous one, make sure that the thumbnail\r\n\t\t\t// that comes after the selected thumbnail will be visible, if the selected thumbnail is not the\r\n\t\t\t// last thumbnail in the list.\r\n\t\t\t// \r\n\t\t\t// If the selected thumbnail has a lower index than the previous one, make sure that the thumbnail\r\n\t\t\t// that's before the selected thumbnail will be visible, if the selected thumbnail is not the\r\n\t\t\t// first thumbnail in the list.\r\n\t\t\tif ( this.selectedThumbnailIndex >= previousIndex ) {\r\n\t\t\t\tvar nextThumbnailIndex = this.selectedThumbnailIndex === this.thumbnails.length - 1 ? this.selectedThumbnailIndex : this.selectedThumbnailIndex + 1,\r\n\t\t\t\t\tnextThumbnail = this.thumbnails[ nextThumbnailIndex ],\r\n\t\t\t\t\tnextThumbnailPosition = this.thumbnailsOrientation === 'horizontal' ? nextThumbnail.getPosition().right : nextThumbnail.getPosition().bottom,\r\n\t\t\t\t\tthumbnailsRightPosition = - this.thumbnailsPosition + this.thumbnailsContainerSize;\r\n\r\n\t\t\t\tif ( nextThumbnailPosition > thumbnailsRightPosition ) {\r\n\t\t\t\t\tnewThumbnailsPosition = this.thumbnailsPosition - ( nextThumbnailPosition - thumbnailsRightPosition );\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.selectedThumbnailIndex < previousIndex ) {\r\n\t\t\t\tvar previousThumbnailIndex = this.selectedThumbnailIndex === 0 ? this.selectedThumbnailIndex : this.selectedThumbnailIndex - 1,\r\n\t\t\t\t\tpreviousThumbnail = this.thumbnails[ previousThumbnailIndex ],\r\n\t\t\t\t\tpreviousThumbnailPosition = this.thumbnailsOrientation === 'horizontal' ? previousThumbnail.getPosition().left : previousThumbnail.getPosition().top;\r\n\r\n\t\t\t\tif ( previousThumbnailPosition < - this.thumbnailsPosition ) {\r\n\t\t\t\t\tnewThumbnailsPosition = - previousThumbnailPosition;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Move the thumbnail scroller to the calculated position\r\n\t\t\tthis._moveThumbnailsTo( newThumbnailsPosition );\r\n\r\n\t\t\t// Fire the 'gotoThumbnail' event\r\n\t\t\tthis.trigger({ type: 'gotoThumbnail' });\r\n\t\t\tif ( $.isFunction( this.settings.gotoThumbnail ) ) {\r\n\t\t\t\tthis.settings.gotoThumbnail.call( this, { type: 'gotoThumbnail' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Move the thumbnail scroller to the indicated position\r\n\t\t_moveThumbnailsTo: function( position, instant, callback ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcss = {};\r\n\r\n\t\t\t// Return if the position hasn't changed\r\n\t\t\tif ( position === this.thumbnailsPosition ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.thumbnailsPosition = position;\r\n\r\n\t\t\t// Use CSS transitions if they are supported. If not, use JavaScript animation\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\tvar transition,\r\n\t\t\t\t\tleft = this.thumbnailsOrientation === 'horizontal' ? position : 0,\r\n\t\t\t\t\ttop = this.thumbnailsOrientation === 'horizontal' ? 0 : position;\r\n\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\ttransition = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$thumbnails.addClass( 'sp-animated' );\r\n\t\t\t\t\ttransition = this.vendorPrefix + 'transform ' + 700 / 1000 + 's';\r\n\r\n\t\t\t\t\tthis.$thumbnails.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.$thumbnails.off( that.transitionEvent );\r\n\t\t\t\t\t\tthat.$thumbnails.removeClass( 'sp-animated' );\r\n\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Fire the 'thumbnailsMoveComplete' event\r\n\t\t\t\t\t\tthat.trigger({ type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\tif ( $.isFunction( that.settings.thumbnailsMoveComplete ) ) {\r\n\t\t\t\t\t\t\tthat.settings.thumbnailsMoveComplete.call( that, { type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = transition;\r\n\r\n\t\t\t\tthis.$thumbnails.css( css );\r\n\t\t\t} else {\r\n\t\t\t\tcss[ 'margin-' + this.thumbnailsPositionProperty ] = position;\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\tthis.$thumbnails.css( css );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$thumbnails\r\n\t\t\t\t\t\t.addClass( 'sp-animated' )\r\n\t\t\t\t\t\t.animate( css, 700, function() {\r\n\t\t\t\t\t\t\tthat.$thumbnails.removeClass( 'sp-animated' );\r\n\r\n\t\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Fire the 'thumbnailsMoveComplete' event\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\t\tif ( $.isFunction( that.settings.thumbnailsMoveComplete ) ) {\r\n\t\t\t\t\t\t\t\tthat.settings.thumbnailsMoveComplete.call( that, { type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Stop the movement of the thumbnail scroller\r\n\t\t_stopThumbnailsMovement: function() {\r\n\t\t\tvar css = {};\r\n\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\tvar\tmatrixString = this.$thumbnails.css( this.vendorPrefix + 'transform' ),\r\n\t\t\t\t\tmatrixType = matrixString.indexOf( 'matrix3d' ) !== -1 ? 'matrix3d' : 'matrix',\r\n\t\t\t\t\tmatrixArray = matrixString.replace( matrixType, '' ).match( /-?[0-9\\.]+/g ),\r\n\t\t\t\t\tleft = matrixType === 'matrix3d' ? parseInt( matrixArray[ 12 ], 10 ) : parseInt( matrixArray[ 4 ], 10 ),\r\n\t\t\t\t\ttop = matrixType === 'matrix3d' ? parseInt( matrixArray[ 13 ], 10 ) : parseInt( matrixArray[ 5 ], 10 );\r\n\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = '';\r\n\r\n\t\t\t\tthis.$thumbnails.css( css );\r\n\t\t\t\tthis.$thumbnails.off( this.transitionEvent );\r\n\t\t\t\tthis.thumbnailsPosition = this.thumbnailsOrientation === 'horizontal' ? parseInt( matrixArray[ 4 ] , 10 ) : parseInt( matrixArray[ 5 ] , 10 );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnails.stop();\r\n\t\t\t\tthis.thumbnailsPosition = parseInt( this.$thumbnails.css( 'margin-' + this.thumbnailsPositionProperty ), 10 );\r\n\t\t\t}\r\n\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-animated' );\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyThumbnails: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Remove event listeners\r\n\t\t\tthis.off( 'update.' + NS );\r\n\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\t$( window ).off( 'resize.' + this.uniqueId + '.' + NS );\r\n\r\n\t\t\t// Destroy the individual thumbnails\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail' ).each( function() {\r\n\t\t\t\tvar $thumbnail = $( this ),\r\n\t\t\t\t\tindex = parseInt( $thumbnail.attr( 'data-index' ), 10 ),\r\n\t\t\t\t\tthumbnail = that.thumbnails[ index ];\r\n\r\n\t\t\t\tthumbnail.off( 'thumbnailClick.' + NS );\r\n\t\t\t\tthumbnail.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.thumbnails.length = 0;\r\n\r\n\t\t\t// Add the thumbnail scroller directly in the slider and\r\n\t\t\t// remove the thumbnail scroller container\r\n\t\t\tthis.$thumbnails.appendTo( this.$slider );\r\n\t\t\tthis.$thumbnailsContainer.remove();\r\n\t\t\t\r\n\t\t\t// Remove any created padding\r\n\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': '', 'paddingRight': '' });\r\n\t\t},\r\n\r\n\t\tthumbnailsDefaults: {\r\n\r\n\t\t\t// Sets the width of the thumbnail\r\n\t\t\tthumbnailWidth: 100,\r\n\r\n\t\t\t// Sets the height of the thumbnail\r\n\t\t\tthumbnailHeight: 80,\r\n\r\n\t\t\t// Sets the position of the thumbnail scroller (top, bottom, right, left)\r\n\t\t\tthumbnailsPosition: 'bottom',\r\n\r\n\t\t\t// Indicates if a pointer will be displayed for the selected thumbnail\r\n\t\t\tthumbnailPointer: false,\r\n\r\n\t\t\t// Called when the thumbnails are updated\r\n\t\t\tthumbnailsUpdate: function() {},\r\n\r\n\t\t\t// Called when a new thumbnail is selected\r\n\t\t\tgotoThumbnail: function() {},\r\n\r\n\t\t\t// Called when the thumbnail scroller has moved\r\n\t\t\tthumbnailsMoveComplete: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\tvar Thumbnail = function( thumbnail, thumbnails, index ) {\r\n\r\n\t\t// Reference to the thumbnail jQuery element\r\n\t\tthis.$thumbnail = thumbnail;\r\n\r\n\t\t// Reference to the thumbnail scroller\r\n\t\tthis.$thumbnails = thumbnails;\r\n\r\n\t\t// Reference to the thumbnail's container, which will be \r\n\t\t// created dynamically.\r\n\t\tthis.$thumbnailContainer = null;\r\n\r\n\t\t// The width and height of the thumbnail\r\n\t\tthis.width = 0;\r\n\t\tthis.height = 0;\r\n\r\n\t\t// Indicates whether the thumbnail's image is loaded\r\n\t\tthis.isImageLoaded = false;\r\n\r\n\t\t// Set the index of the slide\r\n\t\tthis.setIndex( index );\r\n\r\n\t\t// Initialize the thumbnail\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tThumbnail.prototype = {\r\n\r\n\t\t_init: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Mark the thumbnail as initialized\r\n\t\t\tthis.$thumbnail.attr( 'data-init', true );\r\n\r\n\t\t\t// Create a container for the thumbnail and add the original thumbnail to this container.\r\n\t\t\t// Having a container will help crop the thumbnail image if it's too large.\r\n\t\t\tthis.$thumbnailContainer = $( '<div class=\"sp-thumbnail-container\"></div>' ).appendTo( this.$thumbnails );\r\n\r\n\t\t\tif ( this.$thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\tthis.$thumbnail.parent( 'a' ).appendTo( this.$thumbnailContainer );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnail.appendTo( this.$thumbnailContainer );\r\n\t\t\t}\r\n\r\n\t\t\t// When the thumbnail container is clicked, fire an event\r\n\t\t\tthis.$thumbnailContainer.on( 'click.' + NS, function() {\r\n\t\t\t\tthat.trigger({ type: 'thumbnailClick.' + NS, index: that.index });\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Set the width and height of the thumbnail\r\n\t\tsetSize: function( width, height ) {\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\r\n\t\t\t// Apply the width and height to the thumbnail's container\r\n\t\t\tthis.$thumbnailContainer.css({ 'width': this.width, 'height': this.height });\r\n\r\n\t\t\t// If there is an image, resize it to fit the thumbnail container\r\n\t\t\tif ( this.$thumbnail.is( 'img' ) && typeof this.$thumbnail.attr( 'data-src' ) === 'undefined' ) {\r\n\t\t\t\tthis.resizeImage();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Return the width and height of the thumbnail\r\n\t\tgetSize: function() {\r\n\t\t\treturn {\r\n\t\t\t\twidth: this.$thumbnailContainer.outerWidth( true ),\r\n\t\t\t\theight: this.$thumbnailContainer.outerHeight( true )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Return the top, bottom, left and right position of the thumbnail\r\n\t\tgetPosition: function() {\r\n\t\t\treturn {\r\n\t\t\t\tleft: this.$thumbnailContainer.position().left + parseInt( this.$thumbnailContainer.css( 'marginLeft' ) , 10 ),\r\n\t\t\t\tright: this.$thumbnailContainer.position().left + parseInt( this.$thumbnailContainer.css( 'marginLeft' ) , 10 ) + this.$thumbnailContainer.outerWidth(),\r\n\t\t\t\ttop: this.$thumbnailContainer.position().top + parseInt( this.$thumbnailContainer.css( 'marginTop' ) , 10 ),\r\n\t\t\t\tbottom: this.$thumbnailContainer.position().top + parseInt( this.$thumbnailContainer.css( 'marginTop' ) , 10 ) + this.$thumbnailContainer.outerHeight()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Set the index of the thumbnail\r\n\t\tsetIndex: function( index ) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.$thumbnail.attr( 'data-index', this.index );\r\n\t\t},\r\n\r\n\t\t// Resize the thumbnail's image\r\n\t\tresizeImage: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// If the image is not loaded yet, load it\r\n\t\t\tif ( this.isImageLoaded === false ) {\r\n\t\t\t\tSliderProUtils.checkImagesComplete( this.$thumbnailContainer , function() {\r\n\t\t\t\t\tthat.isImageLoaded = true;\r\n\t\t\t\t\tthat.resizeImage();\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Get the reference to the thumbnail image again because it was replaced by\r\n\t\t\t// another img element during the loading process\r\n\t\t\tthis.$thumbnail = this.$thumbnailContainer.find( '.sp-thumbnail' );\r\n\r\n\t\t\t// Calculate whether the image should stretch horizontally or vertically\r\n\t\t\tvar imageWidth = this.$thumbnail.width(),\r\n\t\t\t\timageHeight = this.$thumbnail.height();\r\n\r\n\t\t\tif ( imageWidth / imageHeight <= this.width / this.height ) {\r\n\t\t\t\tthis.$thumbnail.css({ width: '100%', height: 'auto' });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnail.css({ width: 'auto', height: '100%' });\r\n\t\t\t}\r\n\r\n\t\t\tthis.$thumbnail.css({ 'marginLeft': ( this.$thumbnailContainer.width() - this.$thumbnail.width() ) * 0.5, 'marginTop': ( this.$thumbnailContainer.height() - this.$thumbnail.height() ) * 0.5 });\r\n\t\t},\r\n\r\n\t\t// Destroy the thumbnail\r\n\t\tdestroy: function() {\r\n\t\t\tthis.$thumbnailContainer.off( 'click.' + NS );\r\n\r\n\t\t\t// Remove added attributes\r\n\t\t\tthis.$thumbnail.removeAttr( 'data-init' );\r\n\t\t\tthis.$thumbnail.removeAttr( 'data-index' );\r\n\r\n\t\t\t// Remove the thumbnail's container and add the thumbnail\r\n\t\t\t// back to the thumbnail scroller container\r\n\t\t\tif ( this.$thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\tthis.$thumbnail.parent( 'a' ).insertBefore( this.$thumbnailContainer );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnail.insertBefore( this.$thumbnailContainer );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.$thumbnailContainer.remove();\r\n\t\t},\r\n\r\n\t\t// Attach an event handler to the slide\r\n\t\ton: function( type, callback ) {\r\n\t\t\treturn this.$thumbnailContainer.on( type, callback );\r\n\t\t},\r\n\r\n\t\t// Detach an event handler to the slide\r\n\t\toff: function( type ) {\r\n\t\t\treturn this.$thumbnailContainer.off( type );\r\n\t\t},\r\n\r\n\t\t// Trigger an event on the slide\r\n\t\ttrigger: function( data ) {\r\n\t\t\treturn this.$thumbnailContainer.triggerHandler( data );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Thumbnails', Thumbnails );\r\n\r\n})( window, jQuery );\r\n\r\n// ConditionalImages module for Slider Pro.\r\n// \r\n// Adds the possibility to specify multiple sources for each image and\r\n// load the image that's the most appropriate for the size of the slider.\r\n// For example, instead of loading a large image even if the slider will be small\r\n// you can specify a smaller image that will be loaded instead.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'ConditionalImages.' + $.SliderPro.namespace;\r\n\r\n\tvar ConditionalImages = {\r\n\r\n\t\t// Reference to the previous size\r\n\t\tpreviousImageSize: null,\r\n\r\n\t\t// Reference to the current size\r\n\t\tcurrentImageSize: null,\r\n\r\n\t\t// Indicates if the current display supports high PPI\r\n\t\tisRetinaScreen: false,\r\n\r\n\t\tinitConditionalImages: function() {\r\n\t\t\tthis.currentImageSize = this.previousImageSize = 'default';\r\n\t\t\tthis.isRetinaScreen = ( typeof this._isRetina !== 'undefined' ) && ( this._isRetina() === true );\r\n\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._conditionalImagesOnUpdate, this ) );\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._conditionalImagesOnResize, this ) );\r\n\t\t},\r\n\r\n\t\t// Loop through all the existing images and specify the original path of the image\r\n\t\t// inside the 'data-default' attribute.\r\n\t\t_conditionalImagesOnUpdate: function() {\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\t$slide.find( 'img:not([ data-default ])' ).each(function() {\r\n\t\t\t\t\tvar $image = $( this );\r\n\r\n\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\t\t\t$image.attr( 'data-default', $image.attr( 'data-src' ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$image.attr( 'data-default', $image.attr( 'src' ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// When the window resizes, identify the applyable image size based on the current size of the slider\r\n\t\t// and apply it to all images that have a version of the image specified for this size.\r\n\t\t_conditionalImagesOnResize: function() {\r\n\t\t\tif ( this.slideWidth <= this.settings.smallSize ) {\r\n\t\t\t\tthis.currentImageSize = 'small';\r\n\t\t\t} else if ( this.slideWidth <= this.settings.mediumSize ) {\r\n\t\t\t\tthis.currentImageSize = 'medium';\r\n\t\t\t} else if ( this.slideWidth <= this.settings.largeSize ) {\r\n\t\t\t\tthis.currentImageSize = 'large';\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentImageSize = 'default';\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.previousImageSize !== this.currentImageSize ) {\r\n\t\t\t\tvar that = this;\r\n\r\n\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\t\t$slide.find( 'img' ).each(function() {\r\n\t\t\t\t\t\tvar $image = $( this ),\r\n\t\t\t\t\t\t\timageSource = '';\r\n\r\n\t\t\t\t\t\t// Check if the current display supports high PPI and if a retina version of the current size was specified\r\n\t\t\t\t\t\tif ( that.isRetinaScreen === true && typeof $image.attr( 'data-retina' + that.currentImageSize ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\timageSource = $image.attr( 'data-retina' + that.currentImageSize );\r\n\r\n\t\t\t\t\t\t\t// If the retina image was not loaded yet, replace the default image source with the one\r\n\t\t\t\t\t\t\t// that corresponds to the current slider size\r\n\t\t\t\t\t\t\tif ( typeof $image.attr( 'data-retina' ) !== 'undefined' && $image.attr( 'data-retina' ) !== imageSource ) {\r\n\t\t\t\t\t\t\t\t$image.attr( 'data-retina', imageSource );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if ( ( that.isRetinaScreen === false || that.isRetinaScreen === true && typeof $image.attr( 'data-retina' ) === 'undefined' ) && typeof $image.attr( 'data-' + that.currentImageSize ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\timageSource = $image.attr( 'data-' + that.currentImageSize );\r\n\r\n\t\t\t\t\t\t\t// If the image is set to lazy load, replace the image source with the one\r\n\t\t\t\t\t\t\t// that corresponds to the current slider size\r\n\t\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' && $image.attr( 'data-src' ) !== imageSource ) {\r\n\t\t\t\t\t\t\t\t$image.attr( 'data-src', imageSource );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If a new image was found\r\n\t\t\t\t\t\tif ( imageSource !== '' ) {\r\n\r\n\t\t\t\t\t\t\t// The existence of the 'data-src' attribute indicates that the image\r\n\t\t\t\t\t\t\t// will be lazy loaded, so don't load the new image yet\r\n\t\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) === 'undefined' && $image.attr( 'src' ) !== imageSource  ) {\r\n\t\t\t\t\t\t\t\tthat._loadConditionalImage( $image, imageSource, function( newImage ) {\r\n\t\t\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-image' ) ) {\r\n\t\t\t\t\t\t\t\t\t\telement.$mainImage = newImage;\r\n\t\t\t\t\t\t\t\t\t\telement.resizeMainImage( true );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.previousImageSize = this.currentImageSize;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Replace the target image with a new image\r\n\t\t_loadConditionalImage: function( image, source, callback ) {\r\n\r\n\t\t\t// Create a new image element\r\n\t\t\tvar newImage = $( new Image() );\r\n\r\n\t\t\t// Copy the class(es) and inline style\r\n\t\t\tnewImage.attr( 'class', image.attr( 'class' ) );\r\n\t\t\tnewImage.attr( 'style', image.attr( 'style' ) );\r\n\r\n\t\t\t// Copy the data attributes\r\n\t\t\t$.each( image.data(), function( name, value ) {\r\n\t\t\t\tnewImage.attr( 'data-' + name, value );\r\n\t\t\t});\r\n\r\n\t\t\t// Copy the width and height attributes if they exist\r\n\t\t\tif ( typeof image.attr( 'width' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'width', image.attr( 'width' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'height' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'height', image.attr( 'height' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'alt' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'alt', image.attr( 'alt' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'title' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'title', image.attr( 'title' ) );\r\n\t\t\t}\r\n\r\n\t\t\tnewImage.attr( 'src', source );\r\n\r\n\t\t\t// Add the new image in the same container and remove the older image\r\n\t\t\tnewImage.insertAfter( image );\r\n\t\t\timage.remove();\r\n\t\t\timage = null;\r\n\t\t\t\t\r\n\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback( newImage );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyConditionalImages: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t},\r\n\r\n\t\tconditionalImagesDefaults: {\r\n\r\n\t\t\t// If the slider size is below this size, the small version of the images will be used\r\n\t\t\tsmallSize: 480,\r\n\r\n\t\t\t// If the slider size is below this size, the small version of the images will be used\r\n\t\t\tmediumSize: 768,\r\n\r\n\t\t\t// If the slider size is below this size, the small version of the images will be used\r\n\t\t\tlargeSize: 1024\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'ConditionalImages', ConditionalImages );\r\n\r\n})( window, jQuery );\r\n\r\n// Retina module for Slider Pro.\r\n// \r\n// Adds the possibility to load a different image when the slider is\r\n// viewed on a retina screen.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Retina.' + $.SliderPro.namespace;\r\n\r\n\tvar Retina = {\r\n\r\n\t\tinitRetina: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Return if it's not a retina screen\r\n\t\t\tif ( this._isRetina() === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._checkRetinaImages, this ) );\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail' ).length !== 0 ) {\r\n\t\t\t\tthis.on( 'update.Thumbnails.' + NS, $.proxy( this._checkRetinaThumbnailImages, this ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Checks if the current display supports high PPI\r\n\t\t_isRetina: function() {\r\n\t\t\tif ( window.devicePixelRatio >= 2 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( window.matchMedia && ( window.matchMedia( \"(-webkit-min-device-pixel-ratio: 2),(min-resolution: 2dppx)\" ).matches ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t// Loop through the slides and replace the images with their retina version\r\n\t\t_checkRetinaImages: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\tif ( typeof $slide.attr( 'data-retina-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$slide.attr( 'data-retina-loaded', true );\r\n\r\n\t\t\t\t\t$slide.find( 'img[data-retina]' ).each(function() {\r\n\t\t\t\t\t\tvar $image = $( this );\r\n\r\n\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\t$image.attr( 'data-src', $image.attr( 'data-retina' ) );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._loadRetinaImage( $image, function( newImage ) {\r\n\t\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-image' ) ) {\r\n\t\t\t\t\t\t\t\t\telement.$mainImage = newImage;\r\n\t\t\t\t\t\t\t\t\telement.resizeMainImage( true );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Loop through the thumbnails and replace the images with their retina version\r\n\t\t_checkRetinaThumbnailImages: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t$.each( this.thumbnails, function( index, element ) {\r\n\t\t\t\tvar $thumbnail = element.$thumbnailContainer;\r\n\r\n\t\t\t\tif ( typeof $thumbnail.attr( 'data-retina-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$thumbnail.attr( 'data-retina-loaded', true );\r\n\r\n\t\t\t\t\t$thumbnail.find( 'img[data-retina]' ).each(function() {\r\n\t\t\t\t\t\tvar $image = $( this );\r\n\r\n\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\t$image.attr( 'data-src', $image.attr( 'data-retina' ) );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._loadRetinaImage( $image, function( newImage ) {\r\n\t\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-thumbnail' ) ) {\r\n\t\t\t\t\t\t\t\t\telement.resizeImage();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Load the retina image\r\n\t\t_loadRetinaImage: function( image, callback ) {\r\n\t\t\tvar retinaFound = false,\r\n\t\t\t\tnewImagePath = '';\r\n\r\n\t\t\t// Check if there is a retina image specified\r\n\t\t\tif ( typeof image.attr( 'data-retina' ) !== 'undefined' ) {\r\n\t\t\t\tretinaFound = true;\r\n\r\n\t\t\t\tnewImagePath = image.attr( 'data-retina' );\r\n\t\t\t}\r\n\r\n\t\t\t// Check if there is a lazy loaded, non-retina, image specified\r\n\t\t\tif ( typeof image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\tif ( retinaFound === false ) {\r\n\t\t\t\t\tnewImagePath = image.attr( 'data-src') ;\r\n\t\t\t\t}\r\n\r\n\t\t\t\timage.removeAttr('data-src');\r\n\t\t\t}\r\n\r\n\t\t\t// Return if there isn't a retina or lazy loaded image\r\n\t\t\tif ( newImagePath === '' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Create a new image element\r\n\t\t\tvar newImage = $( new Image() );\r\n\r\n\t\t\t// Copy the class(es) and inline style\r\n\t\t\tnewImage.attr( 'class', image.attr('class') );\r\n\t\t\tnewImage.attr( 'style', image.attr('style') );\r\n\r\n\t\t\t// Copy the data attributes\r\n\t\t\t$.each( image.data(), function( name, value ) {\r\n\t\t\t\tnewImage.attr( 'data-' + name, value );\r\n\t\t\t});\r\n\r\n\t\t\t// Copy the width and height attributes if they exist\r\n\t\t\tif ( typeof image.attr( 'width' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'width', image.attr( 'width' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'height' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'height', image.attr( 'height' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'alt' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'alt', image.attr( 'alt' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'title' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'title', image.attr( 'title' ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Add the new image in the same container and remove the older image\r\n\t\t\tnewImage.insertAfter( image );\r\n\t\t\timage.remove();\r\n\t\t\timage = null;\r\n\r\n\t\t\t// Assign the source of the image\r\n\t\t\tnewImage.attr( 'src', newImagePath );\r\n\r\n\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback( newImage );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyRetina: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'update.Thumbnails.' + NS );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Retina', Retina );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Lazy Loading module for Slider Pro.\r\n// \r\n// Adds the possibility to delay the loading of the images until the slides/thumbnails\r\n// that contain them become visible. This technique improves the initial loading\r\n// performance.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'LazyLoading.' + $.SliderPro.namespace;\r\n\r\n\tvar LazyLoading = {\r\n\r\n\t\tallowLazyLoadingCheck: true,\r\n\r\n\t\tinitLazyLoading: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// The 'resize' event is fired after every update, so it's possible to use it for checking\r\n\t\t\t// if the update made new slides become visible\r\n\t\t\t// \r\n\t\t\t// Also, resizing the slider might make new slides or thumbnails visible\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._lazyLoadingOnResize, this ) );\r\n\r\n\t\t\t// Check visible images when a new slide is selected\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._checkAndLoadVisibleImages, this ) );\r\n\r\n\t\t\t// Check visible thumbnail images when the thumbnails are updated because new thumbnail\r\n\t\t\t// might have been added or the settings might have been changed so that more thumbnail\r\n\t\t\t// images become visible\r\n\t\t\t// \r\n\t\t\t// Also, check visible thumbnail images after the thumbnails have moved because new thumbnails might\r\n\t\t\t// have become visible\r\n\t\t\tthis.on( 'thumbnailsUpdate.' + NS + ' ' + 'thumbnailsMoveComplete.' + NS, $.proxy( this._checkAndLoadVisibleThumbnailImages, this ) );\r\n\t\t},\r\n\r\n\t\t_lazyLoadingOnResize: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tif ( this.allowLazyLoadingCheck === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.allowLazyLoadingCheck = false;\r\n\t\t\t\r\n\t\t\tthis._checkAndLoadVisibleImages();\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail' ).length !== 0 ) {\r\n\t\t\t\tthis._checkAndLoadVisibleThumbnailImages();\r\n\t\t\t}\r\n\r\n\t\t\t// Use a timer to deffer the loading of images in order to prevent too many\r\n\t\t\t// checking attempts\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.allowLazyLoadingCheck = true;\r\n\t\t\t}, 500 );\r\n\t\t},\r\n\r\n\t\t// Check visible slides and load their images\r\n\t\t_checkAndLoadVisibleImages: function() {\r\n\t\t\tif ( this.$slider.find( '.sp-slide:not([ data-loaded ])' ).length === 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\r\n\t\t\t\t// Use either the middle position or the index of the selected slide as a reference, depending on\r\n\t\t\t\t// whether the slider is loopable\r\n\t\t\t\treferencePosition = this.settings.loop === true ? this.middleSlidePosition : this.selectedSlideIndex,\r\n\r\n\t\t\t\t// Calculate how many slides are visible at the sides of the selected slide\r\n\t\t\t\tvisibleOnSides = Math.ceil( ( this.visibleSlidesSize - this.slideSize ) / 2 / this.slideSize ),\r\n\r\n\t\t\t\t// Calculate the indexes of the first and last slide that will be checked\r\n\t\t\t\tfrom = referencePosition - visibleOnSides - 1 > 0 ? referencePosition - visibleOnSides - 1 : 0,\r\n\t\t\t\tto = referencePosition + visibleOnSides + 1 < this.getTotalSlides() - 1 ? referencePosition + visibleOnSides + 1 : this.getTotalSlides() - 1,\r\n\t\t\t\t\r\n\t\t\t\t// Get all the slides that need to be checked\r\n\t\t\t\tslidesToCheck = this.slidesOrder.slice( from, to + 1 );\r\n\r\n\t\t\t// Loop through the selected slides and if the slide is not marked as having\r\n\t\t\t// been loaded yet, loop through its images and load them.\r\n\t\t\t$.each( slidesToCheck, function( index, element ) {\r\n\t\t\t\tvar slide = that.slides[ element ],\r\n\t\t\t\t\t$slide = slide.$slide;\r\n\r\n\t\t\t\tif ( typeof $slide.attr( 'data-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$slide.attr( 'data-loaded', true );\r\n\r\n\t\t\t\t\t$slide.find( 'img[ data-src ]' ).each(function() {\r\n\t\t\t\t\t\tvar image = $( this );\r\n\t\t\t\t\t\tthat._loadImage( image, function( newImage ) {\r\n\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-image' ) ) {\r\n\t\t\t\t\t\t\t\tslide.$mainImage = newImage;\r\n\t\t\t\t\t\t\t\tslide.resizeMainImage( true );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Check visible thumbnails and load their images\r\n\t\t_checkAndLoadVisibleThumbnailImages: function() {\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail-container:not([ data-loaded ])' ).length === 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\tthumbnailSize = this.thumbnailsSize / this.thumbnails.length,\r\n\r\n\t\t\t\t// Calculate the indexes of the first and last thumbnail that will be checked\r\n\t\t\t\tfrom = Math.floor( Math.abs( this.thumbnailsPosition / thumbnailSize ) ),\r\n\t\t\t\tto = Math.floor( ( - this.thumbnailsPosition + this.thumbnailsContainerSize ) / thumbnailSize ),\r\n\r\n\t\t\t\t// Get all the thumbnails that need to be checked\r\n\t\t\t\tthumbnailsToCheck = this.thumbnails.slice( from, to + 1 );\r\n\r\n\t\t\t// Loop through the selected thumbnails and if the thumbnail is not marked as having\r\n\t\t\t// been loaded yet, load its image.\r\n\t\t\t$.each( thumbnailsToCheck, function( index, element ) {\r\n\t\t\t\tvar $thumbnailContainer = element.$thumbnailContainer;\r\n\r\n\t\t\t\tif ( typeof $thumbnailContainer.attr( 'data-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$thumbnailContainer.attr( 'data-loaded', true );\r\n\r\n\t\t\t\t\t$thumbnailContainer.find( 'img[ data-src ]' ).each(function() {\r\n\t\t\t\t\t\tvar image = $( this );\r\n\r\n\t\t\t\t\t\tthat._loadImage( image, function() {\r\n\t\t\t\t\t\t\telement.resizeImage();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Load an image\r\n\t\t_loadImage: function( image, callback ) {\r\n\t\t\t// Create a new image element\r\n\t\t\tvar newImage = $( new Image() );\r\n\r\n\t\t\t// Copy the class(es) and inline style\r\n\t\t\tnewImage.attr( 'class', image.attr( 'class' ) );\r\n\t\t\tnewImage.attr( 'style', image.attr( 'style' ) );\r\n\r\n\t\t\t// Copy the data attributes\r\n\t\t\t$.each( image.data(), function( name, value ) {\r\n\t\t\t\tnewImage.attr( 'data-' + name, value );\r\n\t\t\t});\r\n\r\n\t\t\t// Copy the width and height attributes if they exist\r\n\t\t\tif ( typeof image.attr( 'width' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'width', image.attr( 'width' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'height' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'height', image.attr( 'height' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'alt' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'alt', image.attr( 'alt' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'title' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'title', image.attr( 'title' ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Assign the source of the image\r\n\t\t\tnewImage.attr( 'src', image.attr( 'data-src' ) );\r\n\t\t\tnewImage.removeAttr( 'data-src' );\r\n\r\n\t\t\t// Add the new image in the same container and remove the older image\r\n\t\t\tnewImage.insertAfter( image );\r\n\t\t\timage.remove();\r\n\t\t\timage = null;\r\n\t\t\t\r\n\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback( newImage );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyLazyLoading: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t\tthis.off( 'thumbnailsUpdate.' + NS );\r\n\t\t\tthis.off( 'thumbnailsMoveComplete.' + NS );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'LazyLoading', LazyLoading );\r\n\r\n})( window, jQuery );\r\n\r\n// Layers module for Slider Pro.\r\n// \r\n// Adds support for animated and static layers. The layers can contain any content,\r\n// from simple text for video elements.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Layers.' +  $.SliderPro.namespace;\r\n\r\n\tvar Layers = {\r\n\r\n\t\t// Reference to the original 'gotoSlide' method\r\n\t\tlayersGotoSlideReference: null,\r\n\r\n\t\t// Reference to the timer that will delay the overriding\r\n\t\t// of the 'gotoSlide' method\r\n\t\twaitForLayersTimer: null,\r\n\r\n\t\tinitLayers: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._layersOnUpdate, this ) );\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._layersOnResize, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._layersOnGotoSlide, this ) );\r\n\t\t},\r\n\r\n\t\t// Loop through the slides and initialize all layers\r\n\t\t_layersOnUpdate: function( event ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\t// Initialize the layers\r\n\t\t\t\tthis.$slide.find(\".sp-layer:not([data-layer-init])\").each(function() {\r\n\t\t\t\t\tvar layer = new Layer( $( this ) );\r\n\r\n\t\t\t\t\t// Add the 'layers' array to the slide objects (instance of SliderProSlide)\r\n\t\t\t\t\tif ( typeof element.layers === 'undefined' ) {\r\n\t\t\t\t\t\telement.layers = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telement.layers.push( layer );\r\n\r\n\t\t\t\t\tif ( $( this ).hasClass( 'sp-static' ) === false ) {\r\n\r\n\t\t\t\t\t\t// Add the 'animatedLayers' array to the slide objects (instance of SliderProSlide)\r\n\t\t\t\t\t\tif ( typeof element.animatedLayers === 'undefined' ) {\r\n\t\t\t\t\t\t\telement.animatedLayers = [];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telement.animatedLayers.push( layer );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t// If the 'waitForLayers' option is enabled, the slider will not move to another slide\r\n\t\t\t// until all the layers from the previous slide will be hidden. To achieve this,\r\n\t\t\t// replace the current 'gotoSlide' function with another function that will include the \r\n\t\t\t// required functionality.\r\n\t\t\t// \r\n\t\t\t// Since the 'gotoSlide' method might be overridden by other modules as well, delay this\r\n\t\t\t// override to make sure it's the last override.\r\n\t\t\tif ( this.settings.waitForLayers === true ) {\r\n\t\t\t\tclearTimeout( this.waitForLayersTimer );\r\n\r\n\t\t\t\tthis.waitForLayersTimer = setTimeout(function() {\r\n\t\t\t\t\tthat.layersGotoSlideReference = that.gotoSlide;\r\n\t\t\t\t\tthat.gotoSlide = that._layersGotoSlide;\r\n\t\t\t\t}, 1 );\r\n\t\t\t}\r\n\r\n\t\t\t// Show the layers for the initial slide\r\n\t\t\t// Delay the call in order to make sure the layers\r\n\t\t\t// are scaled properly before displaying them\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.showLayers( that.selectedSlideIndex );\r\n\t\t\t}, 1);\r\n\t\t},\r\n\r\n\t\t// When the slider resizes, try to scale down the layers proportionally. The automatic scaling\r\n\t\t// will make use of an option, 'autoScaleReference', by comparing the current width of the slider\r\n\t\t// with the reference width. So, if the reference width is 1000 pixels and the current width is\r\n\t\t// 500 pixels, it means that the layers will be scaled down to 50% of their size.\r\n\t\t_layersOnResize: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tautoScaleReference,\r\n\t\t\t\tuseAutoScale = this.settings.autoScaleLayers,\r\n\t\t\t\tscaleRatio;\r\n\r\n\t\t\tif ( this.settings.autoScaleLayers === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If there isn't a reference for how the layers should scale down automatically, use the 'width'\r\n\t\t\t// option as a reference, unless the width was set to a percentage. If there isn't a set reference and\r\n\t\t\t// the width was set to a percentage, auto scaling will not be used because it's not possible to\r\n\t\t\t// calculate how much should the layers scale.\r\n\t\t\tif ( this.settings.autoScaleReference === -1 ) {\r\n\t\t\t\tif ( typeof this.settings.width === 'string' && this.settings.width.indexOf( '%' ) !== -1 ) {\r\n\t\t\t\t\tuseAutoScale = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tautoScaleReference = parseInt( this.settings.width, 10 );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tautoScaleReference = this.settings.autoScaleReference;\r\n\t\t\t}\r\n\r\n\t\t\tif ( useAutoScale === true && this.slideWidth < autoScaleReference ) {\r\n\t\t\t\tscaleRatio = that.slideWidth / autoScaleReference;\r\n\t\t\t} else {\r\n\t\t\t\tscaleRatio = 1;\r\n\t\t\t}\r\n\r\n\t\t\t$.each( this.slides, function( index, slide ) {\r\n\t\t\t\tif ( typeof slide.layers !== 'undefined' ) {\r\n\t\t\t\t\t$.each( slide.layers, function( index, layer ) {\r\n\t\t\t\t\t\tlayer.scale( scaleRatio );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Replace the 'gotoSlide' method with this one, which makes it possible to \r\n\t\t// change the slide only after the layers from the previous slide are hidden.\r\n\t\t_layersGotoSlide: function( index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tanimatedLayers = this.slides[ this.selectedSlideIndex ].animatedLayers;\r\n\r\n\t\t\t// If the slider is dragged, don't wait for the layer to hide\r\n\t\t\tif ( this.$slider.hasClass( 'sp-swiping' ) || typeof animatedLayers === 'undefined' || animatedLayers.length === 0  ) {\r\n\t\t\t\tthis.layersGotoSlideReference( index );\r\n\t\t\t} else {\r\n\t\t\t\tthis.on( 'hideLayersComplete.' + NS, function() {\r\n\t\t\t\t\tthat.off( 'hideLayersComplete.' + NS );\r\n\t\t\t\t\tthat.layersGotoSlideReference( index );\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.hideLayers( this.selectedSlideIndex );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// When a new slide is selected, hide the layers from the previous slide\r\n\t\t// and show the layers from the current slide.\r\n\t\t_layersOnGotoSlide: function( event ) {\r\n\t\t\tif ( this.previousSlideIndex !== this.selectedSlideIndex &&  this.settings.waitForLayers === false ) {\r\n\t\t\t\tthis.hideLayers( this.previousSlideIndex );\r\n\t\t\t}\r\n\r\n\t\t\tthis.showLayers( this.selectedSlideIndex );\r\n\t\t},\r\n\r\n\t\t// Show the animated layers from the slide at the specified index,\r\n\t\t// and fire an event when all the layers from the slide become visible.\r\n\t\tshowLayers: function( index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tanimatedLayers = this.slides[ index ].animatedLayers,\r\n\t\t\t\tlayerCounter = 0;\r\n\r\n\t\t\tif ( typeof animatedLayers === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$.each( animatedLayers, function( index, element ) {\r\n\r\n\t\t\t\t// If the layer is already visible, increment the counter directly, else wait \r\n\t\t\t\t// for the layer's showing animation to complete.\r\n\t\t\t\tif ( element.isVisible() === true ) {\r\n\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\tthat.trigger({ type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\tif ( $.isFunction( that.settings.showLayersComplete ) ) {\r\n\t\t\t\t\t\t\tthat.settings.showLayersComplete.call( that, { type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.show(function() {\r\n\t\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\t\tif ( $.isFunction( that.settings.showLayersComplete ) ) {\r\n\t\t\t\t\t\t\t\tthat.settings.showLayersComplete.call( that, { type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Hide the animated layers from the slide at the specified index,\r\n\t\t// and fire an event when all the layers from the slide become invisible.\r\n\t\thideLayers: function( index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tanimatedLayers = this.slides[ index ].animatedLayers,\r\n\t\t\t\tlayerCounter = 0;\r\n\r\n\t\t\tif ( typeof animatedLayers === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$.each( animatedLayers, function( index, element ) {\r\n\r\n\t\t\t\t// If the layer is already invisible, increment the counter directly, else wait \r\n\t\t\t\t// for the layer's hiding animation to complete.\r\n\t\t\t\tif ( element.isVisible() === false ) {\r\n\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\tthat.trigger({ type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\tif ( $.isFunction( that.settings.hideLayersComplete ) ) {\r\n\t\t\t\t\t\t\tthat.settings.hideLayersComplete.call( that, { type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.hide(function() {\r\n\t\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\t\tif ( $.isFunction( that.settings.hideLayersComplete ) ) {\r\n\t\t\t\t\t\t\t\tthat.settings.hideLayersComplete.call( that, { type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyLayers: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'resize.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.off( 'hideLayersComplete.' + NS );\r\n\t\t},\r\n\r\n\t\tlayersDefaults: {\r\n\r\n\t\t\t// Indicates whether the slider will wait for the layers to disappear before\r\n\t\t\t// going to a new slide\r\n\t\t\twaitForLayers: false,\r\n\r\n\t\t\t// Indicates whether the layers will be scaled automatically\r\n\t\t\tautoScaleLayers: true,\r\n\r\n\t\t\t// Sets a reference width which will be compared to the current slider width\r\n\t\t\t// in order to determine how much the layers need to scale down. By default,\r\n\t\t\t// the reference width will be equal to the slide width. However, if the slide width\r\n\t\t\t// is set to a percentage value, then it's necessary to set a specific value for 'autoScaleReference'.\r\n\t\t\tautoScaleReference: -1,\r\n\r\n\t\t\t// Called when all animated layers become visible\r\n\t\t\tshowLayersComplete: function() {},\r\n\r\n\t\t\t// Called when all animated layers become invisible\r\n\t\t\thideLayersComplete: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\t// Override the slide's 'destroy' method in order to destroy the \r\n\t// layers that where added to the slide as well.\r\n\tvar slideDestroy = window.SliderProSlide.prototype.destroy;\r\n\r\n\twindow.SliderProSlide.prototype.destroy = function() {\r\n\t\tif ( typeof this.layers !== 'undefined' ) {\r\n\t\t\t$.each( this.layers, function( index, element ) {\r\n\t\t\t\telement.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.layers.length = 0;\r\n\t\t}\r\n\r\n\t\tif ( typeof this.animatedLayers !== 'undefined' ) {\r\n\t\t\tthis.animatedLayers.length = 0;\r\n\t\t}\r\n\r\n\t\tslideDestroy.apply( this );\r\n\t};\r\n\r\n\tvar Layer = function( layer ) {\r\n\r\n\t\t// Reference to the layer jQuery element\r\n\t\tthis.$layer = layer;\r\n\r\n\t\t// Indicates whether a layer is currently visible or hidden\r\n\t\tthis.visible = false;\r\n\r\n\t\t// Indicates whether the layer was styled\r\n\t\tthis.styled = false;\r\n\r\n\t\t// Holds the data attributes added to the layer\r\n\t\tthis.data = null;\r\n\r\n\t\t// Indicates the layer's reference point (topLeft, bottomLeft, topRight or bottomRight)\r\n\t\tthis.position = null;\r\n\t\t\r\n\t\t// Indicates which CSS property (left or right) will be used for positioning the layer \r\n\t\tthis.horizontalProperty = null;\r\n\t\t\r\n\t\t// Indicates which CSS property (top or bottom) will be used for positioning the layer \r\n\t\tthis.verticalProperty = null;\r\n\r\n\t\t// Indicates the value of the horizontal position\r\n\t\tthis.horizontalPosition = null;\r\n\t\t\r\n\t\t// Indicates the value of the vertical position\r\n\t\tthis.verticalPosition = null;\r\n\r\n\t\t// Indicates how much the layers needs to be scaled\r\n\t\tthis.scaleRatio = 1;\r\n\r\n\t\t// Indicates the type of supported transition (CSS3 2D, CSS3 3D or JavaScript)\r\n\t\tthis.supportedAnimation = SliderProUtils.getSupportedAnimation();\r\n\r\n\t\t// Indicates the required vendor prefix for CSS (i.e., -webkit, -moz, etc.)\r\n\t\tthis.vendorPrefix = SliderProUtils.getVendorPrefix();\r\n\r\n\t\t// Indicates the name of the CSS transition's complete event (i.e., transitionend, webkitTransitionEnd, etc.)\r\n\t\tthis.transitionEvent = SliderProUtils.getTransitionEvent();\r\n\r\n\t\t// Reference to the timer that will be used to hide the layers automatically after a given time interval\r\n\t\tthis.stayTimer = null;\r\n\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tLayer.prototype = {\r\n\r\n\t\t// Initialize the layers\r\n\t\t_init: function() {\r\n\t\t\tthis.$layer.attr( 'data-layer-init', true );\r\n\r\n\t\t\tif ( this.$layer.hasClass( 'sp-static' ) ) {\r\n\t\t\t\tthis._setStyle();\r\n\t\t\t} else {\r\n\t\t\t\tthis.$layer.css({ 'visibility': 'hidden' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Set the size and position of the layer\r\n\t\t_setStyle: function() {\r\n\t\t\tthis.styled = true;\r\n\r\n\t\t\t// Get the data attributes specified in HTML\r\n\t\t\tthis.data = this.$layer.data();\r\n\t\t\t\r\n\t\t\tif ( typeof this.data.width !== 'undefined' ) {\r\n\t\t\t\tthis.$layer.css( 'width', this.data.width );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof this.data.height !== 'undefined' ) {\r\n\t\t\t\tthis.$layer.css( 'height', this.data.height );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof this.data.depth !== 'undefined' ) {\r\n\t\t\t\tthis.$layer.css( 'z-index', this.data.depth );\r\n\t\t\t}\r\n\r\n\t\t\tthis.position = this.data.position ? ( this.data.position ).toLowerCase() : 'topleft';\r\n\r\n\t\t\tif ( this.position.indexOf( 'right' ) !== -1 ) {\r\n\t\t\t\tthis.horizontalProperty = 'right';\r\n\t\t\t} else if ( this.position.indexOf( 'left' ) !== -1 ) {\r\n\t\t\t\tthis.horizontalProperty = 'left';\r\n\t\t\t} else {\r\n\t\t\t\tthis.horizontalProperty = 'center';\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.position.indexOf( 'bottom' ) !== -1 ) {\r\n\t\t\t\tthis.verticalProperty = 'bottom';\r\n\t\t\t} else if ( this.position.indexOf( 'top' ) !== -1 ) {\r\n\t\t\t\tthis.verticalProperty = 'top';\r\n\t\t\t} else {\r\n\t\t\t\tthis.verticalProperty = 'center';\r\n\t\t\t}\r\n\r\n\t\t\tthis._setPosition();\r\n\r\n\t\t\tthis.scale( this.scaleRatio );\r\n\t\t},\r\n\r\n\t\t// Set the position of the layer\r\n\t\t_setPosition: function() {\r\n\t\t\tvar inlineStyle = this.$layer.attr( 'style' );\r\n\r\n\t\t\tthis.horizontalPosition = typeof this.data.horizontal !== 'undefined' ? this.data.horizontal : 0;\r\n\t\t\tthis.verticalPosition = typeof this.data.vertical !== 'undefined' ? this.data.vertical : 0;\r\n\r\n\t\t\t// Set the horizontal position of the layer based on the data set\r\n\t\t\tif ( this.horizontalProperty === 'center' ) {\r\n\t\t\t\t\r\n\t\t\t\t// prevent content wrapping while setting the width\r\n\t\t\t\tif ( this.$layer.is( 'img' ) === false && ( typeof inlineStyle === 'undefined' || ( typeof inlineStyle !== 'undefined' && inlineStyle.indexOf( 'width' ) === -1 ) ) ) {\r\n\t\t\t\t\tthis.$layer.css( 'white-space', 'nowrap' );\r\n\t\t\t\t\tthis.$layer.css( 'width', this.$layer.outerWidth( true ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$layer.css({ 'marginLeft': 'auto', 'marginRight': 'auto', 'left': this.horizontalPosition, 'right': 0 });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$layer.css( this.horizontalProperty, this.horizontalPosition );\r\n\t\t\t}\r\n\r\n\t\t\t// Set the vertical position of the layer based on the data set\r\n\t\t\tif ( this.verticalProperty === 'center' ) {\r\n\r\n\t\t\t\t// prevent content wrapping while setting the height\r\n\t\t\t\tif ( this.$layer.is( 'img' ) === false && ( typeof inlineStyle === 'undefined' || ( typeof inlineStyle !== 'undefined' && inlineStyle.indexOf( 'height' ) === -1 ) ) ) {\r\n\t\t\t\t\tthis.$layer.css( 'white-space', 'nowrap' );\r\n\t\t\t\t\tthis.$layer.css( 'height', this.$layer.outerHeight( true ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$layer.css({ 'marginTop': 'auto', 'marginBottom': 'auto', 'top': this.verticalPosition, 'bottom': 0 });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$layer.css( this.verticalProperty, this.verticalPosition );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Scale the layer\r\n\t\tscale: function( ratio ) {\r\n\r\n\t\t\t// Return if the layer is set to be unscalable\r\n\t\t\tif ( this.$layer.hasClass( 'sp-no-scale' ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Store the ratio (even if the layer is not ready to be scaled yet)\r\n\t\t\tthis.scaleRatio = ratio;\r\n\r\n\t\t\t// Return if the layer is not styled yet\r\n\t\t\tif ( this.styled === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar horizontalProperty = this.horizontalProperty === 'center' ? 'left' : this.horizontalProperty,\r\n\t\t\t\tverticalProperty = this.verticalProperty === 'center' ? 'top' : this.verticalProperty,\r\n\t\t\t\tcss = {};\r\n\r\n\t\t\t// Apply the scaling\r\n\t\t\tcss[ this.vendorPrefix + 'transform-origin' ] = this.horizontalProperty + ' ' + this.verticalProperty;\r\n\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\r\n\t\t\t// If the position is not set to a percentage value, apply the scaling to the position\r\n\t\t\tif ( typeof this.horizontalPosition !== 'string' ) {\r\n\t\t\t\tcss[ horizontalProperty ] = this.horizontalPosition * this.scaleRatio;\r\n\t\t\t}\r\n\r\n\t\t\t// If the position is not set to a percentage value, apply the scaling to the position\r\n\t\t\tif ( typeof this.verticalPosition !== 'string' ) {\r\n\t\t\t\tcss[ verticalProperty ] = this.verticalPosition * this.scaleRatio;\r\n\t\t\t}\r\n\r\n\t\t\t// If the width or height is set to a percentage value, increase the percentage in order to\r\n\t\t\t// maintain the same layer to slide proportions. This is necessary because otherwise the scaling\r\n\t\t\t// transform would minimize the layers more than intended.\r\n\t\t\tif ( typeof this.data.width === 'string' && this.data.width.indexOf( '%' ) !== -1 ) {\r\n\t\t\t\tcss.width = ( parseInt( this.data.width, 10 ) / this.scaleRatio ).toString() + '%';\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof this.data.height === 'string' && this.data.height.indexOf( '%' ) !== -1 ) {\r\n\t\t\t\tcss.height = ( parseInt( this.data.height, 10 ) / this.scaleRatio ).toString() + '%';\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.css( css );\r\n\t\t},\r\n\r\n\t\t// Show the layer\r\n\t\tshow: function( callback ) {\r\n\t\t\tif ( this.visible === true ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.visible = true;\r\n\r\n\t\t\t// First, style the layer if it's not already styled\r\n\t\t\tif ( this.styled === false ) {\r\n\t\t\t\tthis._setStyle();\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\toffset = typeof this.data.showOffset !== 'undefined' ? this.data.showOffset : 50,\r\n\t\t\t\tduration = typeof this.data.showDuration !== 'undefined' ? this.data.showDuration / 1000 : 0.4,\r\n\t\t\t\tdelay = typeof this.data.showDelay !== 'undefined' ? this.data.showDelay : 10,\r\n\t\t\t\tstayDuration = typeof that.data.stayDuration !== 'undefined' ? parseInt( that.data.stayDuration, 10 ) : -1;\r\n\r\n\t\t\t// Animate the layers with CSS3 or with JavaScript\r\n\t\t\tif ( this.supportedAnimation === 'javascript' ) {\r\n\t\t\t\tthis.$layer\r\n\t\t\t\t\t.stop()\r\n\t\t\t\t\t.delay( delay )\r\n\t\t\t\t\t.css({ 'opacity': 0, 'visibility': 'visible' })\r\n\t\t\t\t\t.animate( { 'opacity': 1 }, duration * 1000, function() {\r\n\r\n\t\t\t\t\t\t// Hide the layer after a given time interval\r\n\t\t\t\t\t\tif ( stayDuration !== -1 ) {\r\n\t\t\t\t\t\t\tthat.stayTimer = setTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.hide();\r\n\t\t\t\t\t\t\t\tthat.stayTimer = null;\r\n\t\t\t\t\t\t\t}, stayDuration );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar start = { 'opacity': 0, 'visibility': 'visible' },\r\n\t\t\t\t\ttarget = { 'opacity': 1 },\r\n\t\t\t\t\ttransformValues = '';\r\n\r\n\t\t\t\tstart[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] = 'opacity ' + duration + 's';\r\n\r\n\t\t\t\tif ( typeof this.data.showTransition !== 'undefined' ) {\r\n\t\t\t\t\tif ( this.data.showTransition === 'left' ) {\r\n\t\t\t\t\t\ttransformValues = offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.showTransition === 'right' ) {\r\n\t\t\t\t\t\ttransformValues = '-' + offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.showTransition === 'up' ) {\r\n\t\t\t\t\t\ttransformValues = '0, ' + offset + 'px';\r\n\t\t\t\t\t} else if ( this.data.showTransition === 'down') {\r\n\t\t\t\t\t\ttransformValues = '0, -' + offset + 'px';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstart[ this.vendorPrefix + 'transform' ] += this.supportedAnimation === 'css-3d' ? ' translate3d(' + transformValues + ', 0)' : ' translate(' + transformValues + ')';\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] += this.supportedAnimation === 'css-3d' ? ' translate3d(0, 0, 0)' : ' translate(0, 0)';\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] += ', ' + this.vendorPrefix + 'transform ' + duration + 's';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Listen when the layer animation is complete\r\n\t\t\t\tthis.$layer.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$layer\r\n\t\t\t\t\t\t.off( that.transitionEvent )\r\n\t\t\t\t\t\t.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\t// Hide the layer after a given time interval\r\n\t\t\t\t\tif ( stayDuration !== -1 ) {\r\n\t\t\t\t\t\tthat.stayTimer = setTimeout(function() {\r\n\t\t\t\t\t\t\tthat.hide();\r\n\t\t\t\t\t\t\tthat.stayTimer = null;\r\n\t\t\t\t\t\t}, stayDuration );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$layer.css( start );\r\n\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\tthat.$layer.css( target );\r\n\t\t\t\t}, delay );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Hide the layer\r\n\t\thide: function( callback ) {\r\n\t\t\tif ( this.visible === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\toffset = typeof this.data.hideOffset !== 'undefined' ? this.data.hideOffset : 50,\r\n\t\t\t\tduration = typeof this.data.hideDuration !== 'undefined' ? this.data.hideDuration / 1000 : 0.4,\r\n\t\t\t\tdelay = typeof this.data.hideDelay !== 'undefined' ? this.data.hideDelay : 10;\r\n\r\n\t\t\tthis.visible = false;\r\n\r\n\t\t\t// If the layer is hidden before it hides automatically, clear the timer\r\n\t\t\tif ( this.stayTimer !== null ) {\r\n\t\t\t\tclearTimeout( this.stayTimer );\r\n\t\t\t}\r\n\r\n\t\t\t// Animate the layers with CSS3 or with JavaScript\r\n\t\t\tif ( this.supportedAnimation === 'javascript' ) {\r\n\t\t\t\tthis.$layer\r\n\t\t\t\t\t.stop()\r\n\t\t\t\t\t.delay( delay )\r\n\t\t\t\t\t.animate({ 'opacity': 0 }, duration * 1000, function() {\r\n\t\t\t\t\t\t$( this ).css( 'visibility', 'hidden' );\r\n\r\n\t\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar transformValues = '',\r\n\t\t\t\t\ttarget = { 'opacity': 0 };\r\n\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] = 'opacity ' + duration + 's';\r\n\r\n\t\t\t\tif ( typeof this.data.hideTransition !== 'undefined' ) {\r\n\t\t\t\t\tif ( this.data.hideTransition === 'left' ) {\r\n\t\t\t\t\t\ttransformValues = '-' + offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.hideTransition === 'right' ) {\r\n\t\t\t\t\t\ttransformValues = offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.hideTransition === 'up' ) {\r\n\t\t\t\t\t\ttransformValues = '0, -' + offset + 'px';\r\n\t\t\t\t\t} else if ( this.data.hideTransition === 'down' ) {\r\n\t\t\t\t\t\ttransformValues = '0, ' + offset + 'px';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] += this.supportedAnimation === 'css-3d' ? ' translate3d(' + transformValues + ', 0)' : ' translate(' + transformValues + ')';\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] += ', ' + this.vendorPrefix + 'transform ' + duration + 's';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Listen when the layer animation is complete\r\n\t\t\t\tthis.$layer.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$layer\r\n\t\t\t\t\t\t.off( that.transitionEvent )\r\n\t\t\t\t\t\t.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\t// Hide the layer after transition\r\n\t\t\t\t\tif ( that.visible === false ) {\r\n\t\t\t\t\t\tthat.$layer.css( 'visibility', 'hidden' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\tthat.$layer.css( target );\r\n\t\t\t\t}, delay );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tisVisible: function() {\r\n\t\t\tif ( this.visible === false || this.$layer.is( ':hidden' ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t// Destroy the layer\r\n\t\tdestroy: function() {\r\n\t\t\tthis.$layer.removeAttr( 'style' );\r\n\t\t\tthis.$layer.removeAttr( 'data-layer-init' );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Layers', Layers );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Fade module for Slider Pro.\r\n// \r\n// Adds the possibility to navigate through slides using a cross-fade effect.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Fade.' + $.SliderPro.namespace;\r\n\r\n\tvar Fade = {\r\n\r\n\t\t// Reference to the original 'gotoSlide' method\r\n\t\tfadeGotoSlideReference: null,\r\n\r\n\t\tinitFade: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._fadeOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t// If fade is enabled, store a reference to the original 'gotoSlide' method\r\n\t\t// and then assign a new function to 'gotoSlide'.\r\n\t\t_fadeOnUpdate: function() {\r\n\t\t\tif ( this.settings.fade === true ) {\r\n\t\t\t\tthis.fadeGotoSlideReference = this.gotoSlide;\r\n\t\t\t\tthis.gotoSlide = this._fadeGotoSlide;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Will replace the original 'gotoSlide' function by adding a cross-fade effect\r\n\t\t// between the previous and the next slide.\r\n\t\t_fadeGotoSlide: function( index ) {\r\n\t\t\tif ( index === this.selectedSlideIndex ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// If the slides are being swiped/dragged, don't use fade, but call the original method instead.\r\n\t\t\t// If not, which means that a new slide was selected through a button, arrows or direct call, then\r\n\t\t\t// use fade.\r\n\t\t\tif ( this.$slider.hasClass( 'sp-swiping' ) ) {\r\n\t\t\t\tthis.fadeGotoSlideReference( index );\r\n\t\t\t} else {\r\n\t\t\t\tvar that = this,\r\n\t\t\t\t\t$nextSlide,\r\n\t\t\t\t\t$previousSlide,\r\n\t\t\t\t\tnewIndex = index;\r\n\r\n\t\t\t\t// Loop through all the slides and overlap the the previous and next slide,\r\n\t\t\t\t// and hide the other slides.\r\n\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\tvar slideIndex = element.getIndex(),\r\n\t\t\t\t\t\t$slide = element.$slide;\r\n\r\n\t\t\t\t\tif ( slideIndex === newIndex ) {\r\n\t\t\t\t\t\t$slide.css({ 'opacity': 0, 'left': 0, 'top': 0, 'z-index': 20 });\r\n\t\t\t\t\t\t$nextSlide = $slide;\r\n\t\t\t\t\t} else if ( slideIndex === that.selectedSlideIndex ) {\r\n\t\t\t\t\t\t$slide.css({ 'opacity': 1, 'left': 0, 'top': 0, 'z-index': 10 });\r\n\t\t\t\t\t\t$previousSlide = $slide;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$slide.css( 'visibility', 'hidden' );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Set the new indexes for the previous and selected slides\r\n\t\t\t\tthis.previousSlideIndex = this.selectedSlideIndex;\r\n\t\t\t\tthis.selectedSlideIndex = index;\r\n\r\n\t\t\t\t// Re-assign the 'sp-selected' class to the currently selected slide\r\n\t\t\t\tthis.$slides.find( '.sp-selected' ).removeClass( 'sp-selected' );\r\n\t\t\t\tthis.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected' );\r\n\t\t\t\r\n\t\t\t\t// Rearrange the slides if the slider is loopable\r\n\t\t\t\tif ( that.settings.loop === true ) {\r\n\t\t\t\t\tthat._updateSlidesOrder();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Move the slides container so that the cross-fading slides (which now have the top and left\r\n\t\t\t\t// position set to 0) become visible and in the center of the slider.\r\n\t\t\t\tthis._moveTo( this.visibleOffset, true );\r\n\r\n\t\t\t\t// Fade out the previous slide, if indicated, in addition to fading in the next slide\r\n\t\t\t\tif ( this.settings.fadeOutPreviousSlide === true ) {\r\n\t\t\t\t\tthis._fadeSlideTo( $previousSlide, 0 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fade in the selected slide\r\n\t\t\t\tthis._fadeSlideTo( $nextSlide, 1, function() {\r\n\r\n\t\t\t\t\t// After the animation is over, make all the slides visible again\r\n\t\t\t\t\t$.each( that.slides, function( index, element ) {\r\n\t\t\t\t\t\tvar $slide = element.$slide;\r\n\t\t\t\t\t\t$slide.css({ 'visibility': '', 'opacity': '', 'z-index': '' });\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Reset the position of the slides and slides container\r\n\t\t\t\t\tthat._resetSlidesPosition();\r\n\r\n\t\t\t\t\t// Fire the 'gotoSlideComplete' event\r\n\t\t\t\t\tthat.trigger({ type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex });\r\n\t\t\t\t\tif ( $.isFunction( that.settings.gotoSlideComplete ) ) {\r\n\t\t\t\t\t\tthat.settings.gotoSlideComplete.call( that, { type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex } );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( this.settings.autoHeight === true ) {\r\n\t\t\t\t\tthis._resizeHeight();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'gotoSlide' event\r\n\t\t\t\tthis.trigger({ type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex });\r\n\t\t\t\tif ( $.isFunction( this.settings.gotoSlide ) ) {\r\n\t\t\t\t\tthis.settings.gotoSlide.call( this, { type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Fade the target slide to the specified opacity (0 or 1)\r\n\t\t_fadeSlideTo: function( target, opacity, callback ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Use CSS transitions if they are supported. If not, use JavaScript animation.\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\r\n\t\t\t\t// There needs to be a delay between the moment the opacity is set\r\n\t\t\t\t// and the moment the transitions starts.\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tvar css = { 'opacity': opacity };\r\n\t\t\t\t\tcss[ that.vendorPrefix + 'transition' ] = 'opacity ' + that.settings.fadeDuration / 1000 + 's';\r\n\t\t\t\t\ttarget.css( css );\r\n\t\t\t\t}, 100 );\r\n\r\n\t\t\t\ttarget.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttarget.off( that.transitionEvent );\r\n\t\t\t\t\ttarget.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttarget.stop().animate({ 'opacity': opacity }, this.settings.fadeDuration, function() {\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyFade: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\r\n\t\t\tif ( this.fadeGotoSlideReference !== null ) {\r\n\t\t\t\tthis.gotoSlide = this.fadeGotoSlideReference;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfadeDefaults: {\r\n\r\n\t\t\t// Indicates if fade will be used\r\n\t\t\tfade: false,\r\n\r\n\t\t\t// Indicates if the previous slide will be faded out (in addition to the next slide being faded in)\r\n\t\t\tfadeOutPreviousSlide: true,\r\n\r\n\t\t\t// Sets the duration of the fade effect\r\n\t\t\tfadeDuration: 500\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Fade', Fade );\r\n\r\n})( window, jQuery );\r\n\r\n// Touch Swipe module for Slider Pro.\r\n// \r\n// Adds touch-swipe functionality for slides.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'TouchSwipe.' + $.SliderPro.namespace;\r\n\r\n\tvar TouchSwipe = {\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's starting position\r\n\t\ttouchStartPoint: {x: 0, y: 0},\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's end position\r\n\t\ttouchEndPoint: {x: 0, y: 0},\r\n\r\n\t\t// The distance from the starting to the end position on the x and y axis\r\n\t\ttouchDistance: {x: 0, y: 0},\r\n\r\n\t\t// The position of the slides when the touch swipe starts\r\n\t\ttouchStartPosition: 0,\r\n\r\n\t\t// Indicates if the slides are being swiped\r\n\t\tisTouchMoving: false,\r\n\r\n\t\t// Stores the names of the events\r\n\t\ttouchSwipeEvents: { startEvent: '', moveEvent: '', endEvent: '' },\r\n\r\n\t\tinitTouchSwipe: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// check if touch swipe is enabled\r\n\t\t\tif ( this.settings.touchSwipe === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.touchSwipeEvents.startEvent = 'touchstart' + '.' + NS + ' mousedown' + '.' + NS;\r\n\t\t\tthis.touchSwipeEvents.moveEvent = 'touchmove' + '.' + NS + ' mousemove' + '.' + NS;\r\n\t\t\tthis.touchSwipeEvents.endEvent = 'touchend' + '.' + this.uniqueId + '.' + NS + ' mouseup' + '.' + this.uniqueId + '.' + NS;\r\n\r\n\t\t\t// Listen for touch swipe/mouse move events\r\n\t\t\tthis.$slidesMask.on( this.touchSwipeEvents.startEvent, $.proxy( this._onTouchStart, this ) );\r\n\t\t\tthis.$slidesMask.on( 'dragstart.' + NS, function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Add the grabbing icon\r\n\t\t\tthis.$slidesMask.addClass( 'sp-grab' );\r\n\t\t},\r\n\r\n\t\t// Called when the slides starts being dragged\r\n\t\t_onTouchStart: function( event ) {\r\n\t\t\r\n\t\t\t// Disable dragging if the element is set to allow selections\r\n\t\t\tif ( $( event.target ).closest( '.sp-selectable' ).length >= 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\teventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Prevent default behavior only for mouse events\r\n\t\t\tif ( typeof event.originalEvent.touches === 'undefined' ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\t// Disable click events on links\r\n\t\t\t$( event.target ).parents( '.sp-slide' ).find( 'a' ).one( 'click.' + NS, function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Get the initial position of the mouse pointer and the initial position\r\n\t\t\t// of the slides' container\r\n\t\t\tthis.touchStartPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.touchStartPoint.y = eventObject.pageY || eventObject.clientY;\r\n\t\t\tthis.touchStartPosition = this.slidesPosition;\r\n\r\n\t\t\t// Clear the previous distance values\r\n\t\t\tthis.touchDistance.x = this.touchDistance.y = 0;\r\n\r\n\t\t\t// If the slides are being grabbed while they're still animating, stop the\r\n\t\t\t// current movement\r\n\t\t\tif ( this.$slides.hasClass( 'sp-animated' ) ) {\r\n\t\t\t\tthis.isTouchMoving = true;\r\n\t\t\t\tthis._stopMovement();\r\n\t\t\t\tthis.touchStartPosition = this.slidesPosition;\r\n\t\t\t}\r\n\r\n\t\t\t// Listen for move and end events\r\n\t\t\tthis.$slidesMask.on( this.touchSwipeEvents.moveEvent, $.proxy( this._onTouchMove, this ) );\r\n\t\t\t$( document ).on( this.touchSwipeEvents.endEvent, $.proxy( this._onTouchEnd, this ) );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$slidesMask.removeClass( 'sp-grab' ).addClass( 'sp-grabbing' );\r\n\r\n\t\t\t// Add 'sp-swiping' class to indicate that the slides are being swiped\r\n\t\t\tthis.$slider.addClass( 'sp-swiping' );\r\n\t\t},\r\n\r\n\t\t// Called during the slides' dragging\r\n\t\t_onTouchMove: function( event ) {\r\n\t\t\tvar eventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Indicate that the move event is being fired\r\n\t\t\tthis.isTouchMoving = true;\r\n\r\n\t\t\t// Get the current position of the mouse pointer\r\n\t\t\tthis.touchEndPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.touchEndPoint.y = eventObject.pageY || eventObject.clientY;\r\n\r\n\t\t\t// Calculate the distance of the movement on both axis\r\n\t\t\tthis.touchDistance.x = this.touchEndPoint.x - this.touchStartPoint.x;\r\n\t\t\tthis.touchDistance.y = this.touchEndPoint.y - this.touchStartPoint.y;\r\n\t\t\t\r\n\t\t\t// Calculate the distance of the swipe that takes place in the same direction as the orientation of the slides\r\n\t\t\t// and calculate the distance from the opposite direction.\r\n\t\t\t// \r\n\t\t\t// For a swipe to be valid there should more distance in the same direction as the orientation of the slides.\r\n\t\t\tvar distance = this.settings.orientation === 'horizontal' ? this.touchDistance.x : this.touchDistance.y,\r\n\t\t\t\toppositeDistance = this.settings.orientation === 'horizontal' ? this.touchDistance.y : this.touchDistance.x;\r\n\r\n\t\t\t// If the movement is in the same direction as the orientation of the slides, the swipe is valid\r\n\t\t\tif ( Math.abs( distance ) > Math.abs( oppositeDistance ) ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.loop === false ) {\r\n\t\t\t\t// Make the slides move slower if they're dragged outside its bounds\r\n\t\t\t\tif ( ( this.slidesPosition > this.touchStartPosition && this.selectedSlideIndex === 0 ) ||\r\n\t\t\t\t\t( this.slidesPosition < this.touchStartPosition && this.selectedSlideIndex === this.getTotalSlides() - 1 )\r\n\t\t\t\t) {\r\n\t\t\t\t\tdistance = distance * 0.2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._moveTo( this.touchStartPosition + distance, true );\r\n\t\t},\r\n\r\n\t\t// Called when the slides are released\r\n\t\t_onTouchEnd: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\ttouchDistance = this.settings.orientation === 'horizontal' ? this.touchDistance.x : this.touchDistance.y;\r\n\r\n\t\t\t// Remove the move and end listeners\r\n\t\t\tthis.$slidesMask.off( this.touchSwipeEvents.moveEvent );\r\n\t\t\t$( document ).off( this.touchSwipeEvents.endEvent );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$slidesMask.removeClass( 'sp-grabbing' ).addClass( 'sp-grab' );\r\n\r\n\t\t\t// Check if there is intention for a tap\r\n\t\t\tif ( this.isTouchMoving === false || this.isTouchMoving === true && Math.abs( this.touchDistance.x ) < 10 && Math.abs( this.touchDistance.y ) < 10 ) {\r\n\t\t\t\t// Re-enable click events on links\r\n\t\t\t\t$( event.target ).parents( '.sp-slide' ).find( 'a' ).off( 'click.' + NS );\r\n\t\t\t\tthis.$slider.removeClass( 'sp-swiping' );\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the 'sp-swiping' class but with a delay\r\n\t\t\t// because there might be other event listeners that check\r\n\t\t\t// the existence of this class, and this class should still be \r\n\t\t\t// applied for those listeners, since there was a swipe event\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.$slider.removeClass( 'sp-swiping' );\r\n\t\t\t}, 1 );\r\n\r\n\t\t\t// Return if the slides didn't move\r\n\t\t\tif ( this.isTouchMoving === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isTouchMoving = false;\r\n\r\n\t\t\t$( event.target ).parents( '.sp-slide' ).one( 'click', function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Calculate the old position of the slides in order to return to it if the swipe\r\n\t\t\t// is below the threshold\r\n\t\t\tvar oldSlidesPosition = - parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 ) + this.visibleOffset;\r\n\r\n\t\t\tif ( Math.abs( touchDistance ) < this.settings.touchSwipeThreshold ) {\r\n\t\t\t\tthis._moveTo( oldSlidesPosition );\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Calculate by how many slides the slides container has moved\r\n\t\t\t\tvar slideArrayDistance = touchDistance / ( this.slideSize + this.settings.slideDistance );\r\n\r\n\t\t\t\t// Floor the obtained value and add or subtract 1, depending on the direction of the swipe\r\n\t\t\t\tslideArrayDistance = parseInt( slideArrayDistance, 10 ) + ( slideArrayDistance > 0 ? 1 : - 1 );\r\n\r\n\t\t\t\t// Get the index of the currently selected slide and subtract the position index in order to obtain\r\n\t\t\t\t// the new index of the selected slide. \r\n\t\t\t\tvar nextSlideIndex = this.slidesOrder[ $.inArray( this.selectedSlideIndex, this.slidesOrder ) - slideArrayDistance ];\r\n\r\n\t\t\t\tif ( this.settings.loop === true ) {\r\n\t\t\t\t\tthis.gotoSlide( nextSlideIndex );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( typeof nextSlideIndex !== 'undefined' ) {\r\n\t\t\t\t\t\tthis.gotoSlide( nextSlideIndex );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._moveTo( oldSlidesPosition );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyTouchSwipe: function() {\r\n\t\t\tthis.$slidesMask.off( this.touchSwipeEvents.startEvent );\r\n\t\t\tthis.$slidesMask.off( this.touchSwipeEvents.moveEvent );\r\n\t\t\tthis.$slidesMask.off( 'dragstart.' + NS );\r\n\t\t\t$( document ).off( this.touchSwipeEvents.endEvent );\r\n\t\t\tthis.$slidesMask.removeClass( 'sp-grab' );\r\n\t\t},\r\n\r\n\t\ttouchSwipeDefaults: {\r\n\t\t\t\r\n\t\t\t// Indicates whether the touch swipe will be enabled\r\n\t\t\ttouchSwipe: true,\r\n\r\n\t\t\t// Sets the minimum amount that the slides should move\r\n\t\t\ttouchSwipeThreshold: 50\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'TouchSwipe', TouchSwipe );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Caption module for Slider Pro.\r\n// \r\n// Adds a corresponding caption for each slide. The caption\r\n// will appear and disappear with the slide.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Caption.' + $.SliderPro.namespace;\r\n\r\n\tvar Caption = {\r\n\r\n\t\t// Reference to the container element that will hold the caption\r\n\t\t$captionContainer: null,\r\n\r\n\t\t// The caption content/text\r\n\t\tcaptionContent: '',\r\n\r\n\t\tinitCaption: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._captionOnUpdate, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._updateCaptionContent, this ) );\r\n\t\t},\r\n\r\n\t\t// Create the caption container and hide the captions inside the slides\r\n\t\t_captionOnUpdate: function() {\r\n\t\t\tthis.$captionContainer = this.$slider.find( '.sp-caption-container' );\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-caption' ).length && this.$captionContainer.length === 0 ) {\r\n\t\t\t\tthis.$captionContainer = $( '<div class=\"sp-caption-container\"></div>' ).appendTo( this.$slider );\r\n\r\n\t\t\t\t// Show the caption for the selected slide\r\n\t\t\t\tthis._updateCaptionContent();\r\n\t\t\t}\r\n\r\n\t\t\t// Hide the captions inside the slides\r\n\t\t\tthis.$slides.find( '.sp-caption' ).each(function() {\r\n\t\t\t\t$( this ).css( 'display', 'none' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Show the caption content for the selected slide\r\n\t\t_updateCaptionContent: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tnewCaptionField = this.$slider.find( '.sp-slide' ).eq( this.selectedSlideIndex ).find( '.sp-caption' ),\r\n\t\t\t\tnewCaptionContent = newCaptionField.length !== 0 ? newCaptionField.html() : '';\r\n\r\n\t\t\t// Either use a fade effect for swapping the captions or use an instant change\r\n\t\t\tif ( this.settings.fadeCaption === true ) {\r\n\t\t\t\t\r\n\t\t\t\t// If the previous slide had a caption, fade out that caption first and when the animation is over\r\n\t\t\t\t// fade in the current caption.\r\n\t\t\t\t// If the previous slide didn't have a caption, fade in the current caption directly.\r\n\t\t\t\tif ( this.captionContent !== '' ) {\r\n\r\n\t\t\t\t\t// If the caption container has 0 opacity when the fade out transition starts, set it\r\n\t\t\t\t\t// to 1 because the transition wouldn't work if the initial and final values are the same,\r\n\t\t\t\t\t// and the callback functions wouldn't fire in this case.\r\n\t\t\t\t\tif ( parseFloat( this.$captionContainer.css( 'opacity' ), 10 ) === 0 ) {\r\n\t\t\t\t\t\tthis.$captionContainer.css( this.vendorPrefix + 'transition', '' );\r\n\t\t\t\t\t\tthis.$captionContainer.css( 'opacity', 1 );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._fadeCaptionTo( 0, function() {\r\n\t\t\t\t\t\tthat.captionContent = newCaptionContent;\r\n\r\n\t\t\t\t\t\tif ( newCaptionContent !== '' ) {\r\n\t\t\t\t\t\t\tthat.$captionContainer.html( that.captionContent );\r\n\t\t\t\t\t\t\tthat._fadeCaptionTo( 1 );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.$captionContainer.empty();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.captionContent = newCaptionContent;\r\n\t\t\t\t\tthis.$captionContainer.html( this.captionContent );\r\n\t\t\t\t\tthis.$captionContainer.css( 'opacity', 0 );\r\n\t\t\t\t\tthis._fadeCaptionTo( 1 );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.captionContent = newCaptionContent;\r\n\t\t\t\tthis.$captionContainer.html( this.captionContent );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Fade the caption container to the specified opacity\r\n\t\t_fadeCaptionTo: function( opacity, callback ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Use CSS transitions if they are supported. If not, use JavaScript animation.\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\t\r\n\t\t\t\t// There needs to be a delay between the moment the opacity is set\r\n\t\t\t\t// and the moment the transitions starts.\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tvar css = { 'opacity': opacity };\r\n\t\t\t\t\tcss[ that.vendorPrefix + 'transition' ] = 'opacity ' + that.settings.captionFadeDuration / 1000 + 's';\r\n\t\t\t\t\tthat.$captionContainer.css( css );\r\n\t\t\t\t}, 1 );\r\n\r\n\t\t\t\tthis.$captionContainer.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$captionContainer.off( that.transitionEvent );\r\n\t\t\t\t\tthat.$captionContainer.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$captionContainer.stop().animate({ 'opacity': opacity }, this.settings.captionFadeDuration, function() {\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyCaption: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\r\n\t\t\tthis.$captionContainer.remove();\r\n\r\n\t\t\tthis.$slider.find( '.sp-caption' ).each(function() {\r\n\t\t\t\t$( this ).css( 'display', '' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tcaptionDefaults: {\r\n\r\n\t\t\t// Indicates whether or not the captions will be faded\r\n\t\t\tfadeCaption: true,\r\n\r\n\t\t\t// Sets the duration of the fade animation\r\n\t\t\tcaptionFadeDuration: 500\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Caption', Caption );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Deep Linking module for Slider Pro.\r\n// \r\n// Updates the hash of the URL as the user navigates through the slides.\r\n// Also, allows navigating to a specific slide by indicating it in the hash.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'DeepLinking.' + $.SliderPro.namespace;\r\n\r\n\tvar DeepLinking = {\r\n\r\n\t\tinitDeepLinking: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Parse the initial hash\r\n\t\t\tthis.on( 'init.' + NS, function() {\r\n\t\t\t\tthat._gotoHash( window.location.hash );\r\n\t\t\t});\r\n\r\n\t\t\t// Update the hash when a new slide is selected\r\n\t\t\tthis.on( 'gotoSlide.' + NS, function( event ) {\r\n\t\t\t\tif ( that.settings.updateHash === true ) {\r\n\r\n\t\t\t\t\t// get the 'id' attribute of the slide\r\n\t\t\t\t\tvar slideId = that.$slider.find( '.sp-slide' ).eq( event.index ).attr( 'id' );\r\n\r\n\t\t\t\t\t// if the slide doesn't have an 'id' attribute, use the slide index\r\n\t\t\t\t\tif ( typeof slideId === 'undefined' ) {\r\n\t\t\t\t\t\tslideId = event.index;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twindow.location.hash = that.$slider.attr( 'id' ) + '/' + slideId;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Check when the hash changes and navigate to the indicated slide\r\n\t\t\t$( window ).on( 'hashchange.' + this.uniqueId + '.' + NS, function() {\r\n\t\t\t\tthat._gotoHash( window.location.hash );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Parse the hash and return the slider id and the slide id\r\n\t\t_parseHash: function( hash ) {\r\n\t\t\tif ( hash !== '' ) {\r\n\t\t\t\t// Eliminate the # symbol\r\n\t\t\t\thash = hash.substring(1);\r\n\r\n\t\t\t\t// Get the specified slider id and slide id\r\n\t\t\t\tvar values = hash.split( '/' ),\r\n\t\t\t\t\tslideId = values.pop(),\r\n\t\t\t\t\tsliderId = hash.slice( 0, - slideId.toString().length - 1 );\r\n\r\n\t\t\t\tif ( this.$slider.attr( 'id' ) === sliderId ) {\r\n\t\t\t\t\treturn { 'sliderID': sliderId, 'slideId': slideId };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t// Navigate to the appropriate slide, based on the specified hash\r\n\t\t_gotoHash: function( hash ) {\r\n\t\t\tvar result = this._parseHash( hash );\r\n\r\n\t\t\tif ( result === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar slideId = result.slideId,\r\n\t\t\t\tslideIdNumber = parseInt( slideId, 10 );\r\n\r\n\t\t\t// check if the specified slide id is a number or string\r\n\t\t\tif ( isNaN( slideIdNumber ) ) {\r\n\t\t\t\t// get the index of the slide based on the specified id\r\n\t\t\t\tvar slideIndex = this.$slider.find( '.sp-slide#' + slideId ).index();\r\n\r\n\t\t\t\tif ( slideIndex !== -1 && slideIndex !== this.selectedSlideIndex ) {\r\n\t\t\t\t\tthis.gotoSlide( slideIndex );\r\n\t\t\t\t}\r\n\t\t\t} else if ( slideIdNumber !== this.selectedSlideIndex ) {\r\n\t\t\t\tthis.gotoSlide( slideIdNumber );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyDeepLinking: function() {\r\n\t\t\tthis.off( 'init.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\t$( window ).off( 'hashchange.' + this.uniqueId + '.' + NS );\r\n\t\t},\r\n\r\n\t\tdeepLinkingDefaults: {\r\n\r\n\t\t\t// Indicates whether the hash will be updated when a new slide is selected\r\n\t\t\tupdateHash: false\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'DeepLinking', DeepLinking );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Autoplay module for Slider Pro.\r\n// \r\n// Adds automatic navigation through the slides by calling the\r\n// 'nextSlide' or 'previousSlide' methods at certain time intervals.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Autoplay.' + $.SliderPro.namespace;\r\n\r\n\tvar Autoplay = {\r\n\r\n\t\tautoplayTimer: null,\r\n\r\n\t\tisTimerRunning: false,\r\n\r\n\t\tisTimerPaused: false,\r\n\r\n\t\tinitAutoplay: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._autoplayOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t// Start the autoplay if it's enabled, or stop it if it's disabled but running \r\n\t\t_autoplayOnUpdate: function( event ) {\r\n\t\t\tif ( this.settings.autoplay === true ) {\r\n\t\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._autoplayOnGotoSlide, this ) );\r\n\t\t\t\tthis.on( 'mouseenter.' + NS, $.proxy( this._autoplayOnMouseEnter, this ) );\r\n\t\t\t\tthis.on( 'mouseleave.' + NS, $.proxy( this._autoplayOnMouseLeave, this ) );\r\n\r\n\t\t\t\tthis.startAutoplay();\r\n\t\t\t} else {\r\n\t\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\t\tthis.off( 'mouseenter.' + NS );\r\n\t\t\t\tthis.off( 'mouseleave.' + NS );\r\n\r\n\t\t\t\tthis.stopAutoplay();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Restart the autoplay timer when a new slide is selected\r\n\t\t_autoplayOnGotoSlide: function( event ) {\r\n\t\t\t// stop previous timers before starting a new one\r\n\t\t\tif ( this.isTimerRunning === true ) {\r\n\t\t\t\tthis.stopAutoplay();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( this.isTimerPaused === false ) {\r\n\t\t\t\tthis.startAutoplay();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Pause the autoplay when the slider is hovered\r\n\t\t_autoplayOnMouseEnter: function( event ) {\r\n\t\t\tif ( this.isTimerRunning && ( this.settings.autoplayOnHover === 'pause' || this.settings.autoplayOnHover === 'stop' ) ) {\r\n\t\t\t\tthis.stopAutoplay();\r\n\t\t\t\tthis.isTimerPaused = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Start the autoplay when the mouse moves away from the slider\r\n\t\t_autoplayOnMouseLeave: function( event ) {\r\n\t\t\tif ( this.settings.autoplay === true && this.isTimerRunning === false && this.settings.autoplayOnHover !== 'stop' ) {\r\n\t\t\t\tthis.startAutoplay();\r\n\t\t\t\tthis.isTimerPaused = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Starts the autoplay\r\n\t\tstartAutoplay: function() {\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t\tthis.isTimerRunning = true;\r\n\r\n\t\t\tthis.autoplayTimer = setTimeout(function() {\r\n\t\t\t\tif ( that.settings.autoplayDirection === 'normal' ) {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t} else if ( that.settings.autoplayDirection === 'backwards' ) {\r\n\t\t\t\t\tthat.previousSlide();\r\n\t\t\t\t}\r\n\t\t\t}, this.settings.autoplayDelay );\r\n\t\t},\r\n\r\n\t\t// Stops the autoplay\r\n\t\tstopAutoplay: function() {\r\n\t\t\tthis.isTimerRunning = false;\r\n\t\t\tthis.isTimerPaused = false;\r\n\r\n\t\t\tclearTimeout( this.autoplayTimer );\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyAutoplay: function() {\r\n\t\t\tclearTimeout( this.autoplayTimer );\r\n\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.off( 'mouseenter.' + NS );\r\n\t\t\tthis.off( 'mouseleave.' + NS );\r\n\t\t},\r\n\r\n\t\tautoplayDefaults: {\r\n\t\t\t// Indicates whether or not autoplay will be enabled\r\n\t\t\tautoplay: true,\r\n\r\n\t\t\t// Sets the delay/interval at which the autoplay will run\r\n\t\t\tautoplayDelay: 5000,\r\n\r\n\t\t\t// Indicates whether autoplay will navigate to the next slide or previous slide\r\n\t\t\tautoplayDirection: 'normal',\r\n\r\n\t\t\t// Indicates if the autoplay will be paused or stopped when the slider is hovered.\r\n\t\t\t// Possible values are 'pause', 'stop' or 'none'.\r\n\t\t\tautoplayOnHover: 'pause'\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Autoplay', Autoplay );\r\n\t\r\n})(window, jQuery);\r\n\r\n// Keyboard module for Slider Pro.\r\n// \r\n// Adds the possibility to navigate through slides using the keyboard arrow keys, or\r\n// open the link attached to the main slide image by using the Enter key.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Keyboard.' + $.SliderPro.namespace;\r\n\r\n\tvar Keyboard = {\r\n\r\n\t\tinitKeyboard: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\thasFocus = false;\r\n\r\n\t\t\tif ( this.settings.keyboard === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Detect when the slide is in focus and when it's not, and, optionally, make it\r\n\t\t\t// responsive to keyboard input only when it's in focus\r\n\t\t\tthis.$slider.on( 'focus.' + NS, function() {\r\n\t\t\t\thasFocus = true;\r\n\t\t\t});\r\n\r\n\t\t\tthis.$slider.on( 'blur.' + NS, function() {\r\n\t\t\t\thasFocus = false;\r\n\t\t\t});\r\n\r\n\t\t\t$( document ).on( 'keydown.' + this.uniqueId + '.' + NS, function( event ) {\r\n\t\t\t\tif ( that.settings.keyboardOnlyOnFocus === true && hasFocus === false ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the left arrow key is pressed, go to the previous slide.\r\n\t\t\t\t// If the right arrow key is pressed, go to the next slide.\r\n\t\t\t\t// If the Enter key is pressed, open the link attached to the main slide image.\r\n\t\t\t\tif ( event.which === 37 ) {\r\n\t\t\t\t\tthat.previousSlide();\r\n\t\t\t\t} else if ( event.which === 39 ) {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t} else if ( event.which === 13 ) {\r\n\t\t\t\t\tthat.$slider.find( '.sp-slide' ).eq( that.selectedSlideIndex ).find( '.sp-image-container a' )[0].click();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyKeyboard: function() {\r\n\t\t\tthis.$slider.off( 'focus.' + NS );\r\n\t\t\tthis.$slider.off( 'blur.' + NS );\r\n\t\t\t$( document ).off( 'keydown.' + this.uniqueId + '.' + NS );\r\n\t\t},\r\n\r\n\t\tkeyboardDefaults: {\r\n\r\n\t\t\t// Indicates whether keyboard navigation will be enabled\r\n\t\t\tkeyboard: true,\r\n\r\n\t\t\t// Indicates whether the slider will respond to keyboard input only when\r\n\t\t\t// the slider is in focus.\r\n\t\t\tkeyboardOnlyOnFocus: false\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Keyboard', Keyboard );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Full Screen module for Slider Pro.\r\n// \r\n// Adds the possibility to open the slider full-screen, using the HMTL5 FullScreen API.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'FullScreen.' + $.SliderPro.namespace;\r\n\r\n\tvar FullScreen = {\r\n\r\n\t\t// Indicates whether the slider is currently in full-screen mode\r\n\t\tisFullScreen: false,\r\n\r\n\t\t// Reference to the full-screen button\r\n\t\t$fullScreenButton: null,\r\n\r\n\t\t// Reference to a set of settings that influence the slider's size\r\n\t\t// before it goes full-screen\r\n\t\tsizeBeforeFullScreen: {},\r\n\r\n\t\tinitFullScreen: function() {\r\n\t\t\tif ( ! ( document.fullscreenEnabled ||\r\n\t\t\t\tdocument.webkitFullscreenEnabled ||\r\n\t\t\t\tdocument.mozFullScreenEnabled ||\r\n\t\t\t\tdocument.msFullscreenEnabled ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._fullScreenOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t// Create or remove the full-screen button depending on the value of the 'fullScreen' option\r\n\t\t_fullScreenOnUpdate: function() {\r\n\t\t\tif ( this.settings.fullScreen === true && this.$fullScreenButton === null ) {\r\n\t\t\t\tthis._addFullScreen();\r\n\t\t\t} else if ( this.settings.fullScreen === false && this.$fullScreenButton !== null ) {\r\n\t\t\t\tthis._removeFullScreen();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.fullScreen === true ) {\r\n\t\t\t\tif ( this.settings.fadeFullScreen === true ) {\r\n\t\t\t\t\tthis.$fullScreenButton.addClass( 'sp-fade-full-screen' );\r\n\t\t\t\t} else if ( this.settings.fadeFullScreen === false ) {\r\n\t\t\t\t\tthis.$fullScreenButton.removeClass( 'sp-fade-full-screen' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create the full-screen button\r\n\t\t_addFullScreen: function() {\r\n\t\t\tthis.$fullScreenButton = $('<div class=\"sp-full-screen-button\"></div>').appendTo( this.$slider );\r\n\t\t\tthis.$fullScreenButton.on( 'click.' + NS, $.proxy( this._onFullScreenButtonClick, this ) );\r\n\r\n\t\t\tdocument.addEventListener( 'fullscreenchange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t\tdocument.addEventListener( 'mozfullscreenchange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t\tdocument.addEventListener( 'webkitfullscreenchange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t\tdocument.addEventListener( 'MSFullscreenChange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t},\r\n\r\n\t\t// Remove the full-screen button\r\n\t\t_removeFullScreen: function() {\r\n\t\t\tif ( this.$fullScreenButton !== null ) {\r\n\t\t\t\tthis.$fullScreenButton.off( 'click.' + NS );\r\n\t\t\t\tthis.$fullScreenButton.remove();\r\n\t\t\t\tthis.$fullScreenButton = null;\r\n\t\t\t\tdocument.removeEventListener( 'fullscreenchange', this._onFullScreenChange );\r\n\t\t\t\tdocument.removeEventListener( 'mozfullscreenchange', this._onFullScreenChange );\r\n\t\t\t\tdocument.removeEventListener( 'webkitfullscreenchange', this._onFullScreenChange );\r\n\t\t\t\tdocument.removeEventListener( 'MSFullscreenChange', this._onFullScreenChange );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// When the full-screen button is clicked, put the slider into full-screen mode, and\r\n\t\t// take it out of the full-screen mode when it's clicked again.\r\n\t\t_onFullScreenButtonClick: function() {\r\n\t\t\tif ( this.isFullScreen === false ) {\r\n\t\t\t\tif ( this.instance.requestFullScreen ) {\r\n\t\t\t\t\tthis.instance.requestFullScreen();\r\n\t\t\t\t} else if ( this.instance.mozRequestFullScreen ) {\r\n\t\t\t\t\tthis.instance.mozRequestFullScreen();\r\n\t\t\t\t} else if ( this.instance.webkitRequestFullScreen ) {\r\n\t\t\t\t\tthis.instance.webkitRequestFullScreen();\r\n\t\t\t\t} else if ( this.instance.msRequestFullscreen ) {\r\n\t\t\t\t\tthis.instance.msRequestFullscreen();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ( document.exitFullScreen ) {\r\n\t\t\t\t\tdocument.exitFullScreen();\r\n\t\t\t\t} else if ( document.mozCancelFullScreen ) {\r\n\t\t\t\t\tdocument.mozCancelFullScreen();\r\n\t\t\t\t} else if ( document.webkitCancelFullScreen ) {\r\n\t\t\t\t\tdocument.webkitCancelFullScreen();\r\n\t\t\t\t} else if ( document.msExitFullscreen ) {\r\n\t\t\t\t\tdocument.msExitFullscreen();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// This will be called whenever the full-screen mode changes.\r\n\t\t// If the slider is in full-screen mode, set it to 'full window', and if it's\r\n\t\t// not in full-screen mode anymore, set it back to the original size.\r\n\t\t_onFullScreenChange: function() {\r\n\t\t\tthis.isFullScreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement ? true : false;\r\n\r\n\t\t\tif ( this.isFullScreen === true ) {\r\n\t\t\t\tthis.sizeBeforeFullScreen = { forceSize: this.settings.forceSize, autoHeight: this.settings.autoHeight };\r\n\t\t\t\tthis.$slider.addClass( 'sp-full-screen' );\r\n\t\t\t\tthis.settings.forceSize = 'fullWindow';\r\n\t\t\t\tthis.settings.autoHeight = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slider.css( 'margin', '' );\r\n\t\t\t\tthis.$slider.removeClass( 'sp-full-screen' );\r\n\t\t\t\tthis.settings.forceSize = this.sizeBeforeFullScreen.forceSize;\r\n\t\t\t\tthis.settings.autoHeight = this.sizeBeforeFullScreen.autoHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyFullScreen: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis._removeFullScreen();\r\n\t\t},\r\n\r\n\t\tfullScreenDefaults: {\r\n\r\n\t\t\t// Indicates whether the full-screen button is enabled\r\n\t\t\tfullScreen: false,\r\n\r\n\t\t\t// Indicates whether the button will fade in only on hover\r\n\t\t\tfadeFullScreen: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'FullScreen', FullScreen );\r\n\r\n})( window, jQuery );\r\n\r\n// Buttons module for Slider Pro.\r\n// \r\n// Adds navigation buttons at the bottom of the slider.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Buttons.' + $.SliderPro.namespace;\r\n\r\n\tvar Buttons = {\r\n\r\n\t\t// Reference to the buttons container\r\n\t\t$buttons: null,\r\n\r\n\t\tinitButtons: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._buttonsOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t_buttonsOnUpdate: function() {\r\n\t\t\tthis.$buttons = this.$slider.find('.sp-buttons');\r\n\t\t\t\r\n\t\t\t// If there is more that one slide but the buttons weren't created yet, create the buttons.\r\n\t\t\t// If the buttons were created but their number differs from the total number of slides, re-create the buttons.\r\n\t\t\t// If the buttons were created but there are less than one slide, remove the buttons.s\r\n\t\t\tif ( this.settings.buttons === true && this.getTotalSlides() > 1 && this.$buttons.length === 0 ) {\r\n\t\t\t\tthis._createButtons();\r\n\t\t\t} else if ( this.settings.buttons === true && this.getTotalSlides() !== this.$buttons.find( '.sp-button' ).length && this.$buttons.length !== 0 ) {\r\n\t\t\t\tthis._adjustButtons();\r\n\t\t\t} else if ( this.settings.buttons === false || ( this.getTotalSlides() <= 1 && this.$buttons.length !== 0 ) ) {\r\n\t\t\t\tthis._removeButtons();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create the buttons\r\n\t\t_createButtons: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Create the buttons' container\r\n\t\t\tthis.$buttons = $( '<div class=\"sp-buttons\"></div>' ).appendTo( this.$slider );\r\n\r\n\t\t\t// Create the buttons\r\n\t\t\tfor ( var i = 0; i < this.getTotalSlides(); i++ ) {\r\n\t\t\t\t$( '<div class=\"sp-button\"></div>' ).appendTo( this.$buttons );\r\n\t\t\t}\r\n\r\n\t\t\t// Listen for button clicks \r\n\t\t\tthis.$buttons.on( 'click.' + NS, '.sp-button', function() {\r\n\t\t\t\tthat.gotoSlide( $( this ).index() );\r\n\t\t\t});\r\n\r\n\t\t\t// Set the initially selected button\r\n\t\t\tthis.$buttons.find( '.sp-button' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected-button' );\r\n\r\n\t\t\t// Select the corresponding button when the slide changes\r\n\t\t\tthis.on( 'gotoSlide.' + NS, function( event ) {\r\n\t\t\t\tthat.$buttons.find( '.sp-selected-button' ).removeClass( 'sp-selected-button' );\r\n\t\t\t\tthat.$buttons.find( '.sp-button' ).eq( event.index ).addClass( 'sp-selected-button' );\r\n\t\t\t});\r\n\r\n\t\t\t// Indicate that the slider has buttons \r\n\t\t\tthis.$slider.addClass( 'sp-has-buttons' );\r\n\t\t},\r\n\r\n\t\t// Re-create the buttons. This is calles when the number of slides changes.\r\n\t\t_adjustButtons: function() {\r\n\t\t\tthis.$buttons.empty();\r\n\r\n\t\t\t// Create the buttons\r\n\t\t\tfor ( var i = 0; i < this.getTotalSlides(); i++ ) {\r\n\t\t\t\t$( '<div class=\"sp-button\"></div>' ).appendTo( this.$buttons );\r\n\t\t\t}\r\n\r\n\t\t\t// Change the selected the buttons\r\n\t\t\tthis.$buttons.find( '.sp-selected-button' ).removeClass( 'sp-selected-button' );\r\n\t\t\tthis.$buttons.find( '.sp-button' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected-button' );\r\n\t\t},\r\n\r\n\t\t// Remove the buttons\r\n\t\t_removeButtons: function() {\r\n\t\t\tthis.$buttons.off( 'click.' + NS, '.sp-button' );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.$buttons.remove();\r\n\t\t\tthis.$slider.removeClass( 'sp-has-buttons' );\r\n\t\t},\r\n\r\n\t\tdestroyButtons: function() {\r\n\t\t\tthis._removeButtons();\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t},\r\n\r\n\t\tbuttonsDefaults: {\r\n\t\t\t\r\n\t\t\t// Indicates whether the buttons will be created\r\n\t\t\tbuttons: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Buttons', Buttons );\r\n\r\n})( window, jQuery );\r\n\r\n// Arrows module for Slider Pro.\r\n// \r\n// Adds arrows for navigating to the next or previous slide.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Arrows.' + $.SliderPro.namespace;\r\n\r\n\tvar Arrows = {\r\n\r\n\t\t// Reference to the arrows container\r\n\t\t$arrows: null,\r\n\r\n\t\t// Reference to the previous arrow\r\n\t\t$previousArrow: null,\r\n\r\n\t\t// Reference to the next arrow\r\n\t\t$nextArrow: null,\r\n\r\n\t\tinitArrows: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._arrowsOnUpdate, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._checkArrowsVisibility, this ) );\r\n\t\t},\r\n\r\n\t\t_arrowsOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Create the arrows if the 'arrows' option is set to true\r\n\t\t\tif ( this.settings.arrows === true && this.$arrows === null ) {\r\n\t\t\t\tthis.$arrows = $( '<div class=\"sp-arrows\"></div>' ).appendTo( this.$slidesContainer );\r\n\t\t\t\t\r\n\t\t\t\tthis.$previousArrow = $( '<div class=\"sp-arrow sp-previous-arrow\"></div>' ).appendTo( this.$arrows );\r\n\t\t\t\tthis.$nextArrow = $( '<div class=\"sp-arrow sp-next-arrow\"></div>' ).appendTo( this.$arrows );\r\n\r\n\t\t\t\tthis.$previousArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tthat.previousSlide();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$nextArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis._checkArrowsVisibility();\r\n\t\t\t} else if ( this.settings.arrows === false && this.$arrows !== null ) {\r\n\t\t\t\tthis._removeArrows();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.arrows === true ) {\r\n\t\t\t\tif ( this.settings.fadeArrows === true ) {\r\n\t\t\t\t\tthis.$arrows.addClass( 'sp-fade-arrows' );\r\n\t\t\t\t} else if ( this.settings.fadeArrows === false ) {\r\n\t\t\t\t\tthis.$arrows.removeClass( 'sp-fade-arrows' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Show or hide the arrows depending on the position of the selected slide\r\n\t\t_checkArrowsVisibility: function() {\r\n\t\t\tif ( this.settings.arrows === false || this.settings.loop === true ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.selectedSlideIndex === 0 ) {\r\n\t\t\t\tthis.$previousArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$previousArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.selectedSlideIndex === this.getTotalSlides() - 1 ) {\r\n\t\t\t\tthis.$nextArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$nextArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t_removeArrows: function() {\r\n\t\t\tif ( this.$arrows !== null ) {\r\n\t\t\t\tthis.$previousArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$nextArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$arrows.remove();\r\n\t\t\t\tthis.$arrows = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroyArrows: function() {\r\n\t\t\tthis._removeArrows();\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t},\r\n\r\n\t\tarrowsDefaults: {\r\n\r\n\t\t\t// Indicates whether the arrow buttons will be created\r\n\t\t\tarrows: false,\r\n\r\n\t\t\t// Indicates whether the arrows will fade in only on hover\r\n\t\t\tfadeArrows: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Arrows', Arrows );\r\n\r\n})( window, jQuery );\r\n\r\n// Thumbnail Touch Swipe module for Slider Pro.\r\n// \r\n// Adds touch-swipe functionality for thumbnails.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'ThumbnailTouchSwipe.' + $.SliderPro.namespace;\r\n\r\n\tvar ThumbnailTouchSwipe = {\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's starting position\r\n\t\tthumbnailTouchStartPoint: { x: 0, y: 0 },\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's end position\r\n\t\tthumbnailTouchEndPoint: { x: 0, y: 0 },\r\n\r\n\t\t// The distance from the starting to the end position on the x and y axis\r\n\t\tthumbnailTouchDistance: { x: 0, y: 0 },\r\n\r\n\t\t// The position of the thumbnail scroller when the touch swipe starts\r\n\t\tthumbnailTouchStartPosition: 0,\r\n\r\n\t\t// Indicates if the thumbnail scroller is being swiped\r\n\t\tisThumbnailTouchMoving: false,\r\n\r\n\t\t// Indicates if the touch swipe was initialized\r\n\t\tisThumbnailTouchSwipe: false,\r\n\r\n\t\t// Stores the names of the events\r\n\t\tthumbnailTouchSwipeEvents: { startEvent: '', moveEvent: '', endEvent: '' },\r\n\r\n\t\tinitThumbnailTouchSwipe: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._thumbnailTouchSwipeOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t_thumbnailTouchSwipeOnUpdate: function() {\r\n\r\n\t\t\t// Return if there are no thumbnails\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Initialize the touch swipe functionality if it wasn't initialized yet\r\n\t\t\tif ( this.settings.thumbnailTouchSwipe === true && this.isThumbnailTouchSwipe === false ) {\r\n\t\t\t\tthis.isThumbnailTouchSwipe = true;\r\n\r\n\t\t\t\tthis.thumbnailTouchSwipeEvents.startEvent = 'touchstart' + '.' + NS + ' mousedown' + '.' + NS;\r\n\t\t\t\tthis.thumbnailTouchSwipeEvents.moveEvent = 'touchmove' + '.' + NS + ' mousemove' + '.' + NS;\r\n\t\t\t\tthis.thumbnailTouchSwipeEvents.endEvent = 'touchend' + '.' + this.uniqueId + '.' + NS + ' mouseup' + '.' + this.uniqueId + '.' + NS;\r\n\t\t\t\t\r\n\t\t\t\t// Listen for touch swipe/mouse move events\r\n\t\t\t\tthis.$thumbnails.on( this.thumbnailTouchSwipeEvents.startEvent, $.proxy( this._onThumbnailTouchStart, this ) );\r\n\t\t\t\tthis.$thumbnails.on( 'dragstart.' + NS, function( event ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t// Add the grabbing icon\r\n\t\t\t\tthis.$thumbnails.addClass( 'sp-grab' );\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the default thumbnailClick\r\n\t\t\t$.each( this.thumbnails, function( index, thumbnail ) {\r\n\t\t\t\tthumbnail.off( 'thumbnailClick' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Called when the thumbnail scroller starts being dragged\r\n\t\t_onThumbnailTouchStart: function( event ) {\r\n\t\t\t// Disable dragging if the element is set to allow selections\r\n\t\t\tif ( $( event.target ).closest( '.sp-selectable' ).length >= 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\teventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Prevent default behavior for mouse events\r\n\t\t\tif ( typeof event.originalEvent.touches === 'undefined' ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\t// Disable click events on links\r\n\t\t\t$( event.target ).parents( '.sp-thumbnail-container' ).find( 'a' ).one( 'click.' + NS, function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Get the initial position of the mouse pointer and the initial position\r\n\t\t\t// of the thumbnail scroller\r\n\t\t\tthis.thumbnailTouchStartPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.thumbnailTouchStartPoint.y = eventObject.pageY || eventObject.clientY;\r\n\t\t\tthis.thumbnailTouchStartPosition = this.thumbnailsPosition;\r\n\r\n\t\t\t// Clear the previous distance values\r\n\t\t\tthis.thumbnailTouchDistance.x = this.thumbnailTouchDistance.y = 0;\r\n\r\n\t\t\t// If the thumbnail scroller is being grabbed while it's still animating, stop the\r\n\t\t\t// current movement\r\n\t\t\tif ( this.$thumbnails.hasClass( 'sp-animated' ) ) {\r\n\t\t\t\tthis.isThumbnailTouchMoving = true;\r\n\t\t\t\tthis._stopThumbnailsMovement();\r\n\t\t\t\tthis.thumbnailTouchStartPosition = this.thumbnailsPosition;\r\n\t\t\t}\r\n\r\n\t\t\t// Listen for move and end events\r\n\t\t\tthis.$thumbnails.on( this.thumbnailTouchSwipeEvents.moveEvent, $.proxy( this._onThumbnailTouchMove, this ) );\r\n\t\t\t$( document ).on( this.thumbnailTouchSwipeEvents.endEvent, $.proxy( this._onThumbnailTouchEnd, this ) );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-grab' ).addClass( 'sp-grabbing' );\r\n\r\n\t\t\t// Add 'sp-swiping' class to indicate that the thumbnail scroller is being swiped\r\n\t\t\tthis.$thumbnailsContainer.addClass( 'sp-swiping' );\r\n\t\t},\r\n\r\n\t\t// Called during the thumbnail scroller's dragging\r\n\t\t_onThumbnailTouchMove: function( event ) {\r\n\t\t\tvar eventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Indicate that the move event is being fired\r\n\t\t\tthis.isThumbnailTouchMoving = true;\r\n\r\n\t\t\t// Get the current position of the mouse pointer\r\n\t\t\tthis.thumbnailTouchEndPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.thumbnailTouchEndPoint.y = eventObject.pageY || eventObject.clientY;\r\n\r\n\t\t\t// Calculate the distance of the movement on both axis\r\n\t\t\tthis.thumbnailTouchDistance.x = this.thumbnailTouchEndPoint.x - this.thumbnailTouchStartPoint.x;\r\n\t\t\tthis.thumbnailTouchDistance.y = this.thumbnailTouchEndPoint.y - this.thumbnailTouchStartPoint.y;\r\n\t\t\t\r\n\t\t\t// Calculate the distance of the swipe that takes place in the same direction as the orientation of the thumbnails\r\n\t\t\t// and calculate the distance from the opposite direction.\r\n\t\t\t// \r\n\t\t\t// For a swipe to be valid there should more distance in the same direction as the orientation of the thumbnails.\r\n\t\t\tvar distance = this.thumbnailsOrientation === 'horizontal' ? this.thumbnailTouchDistance.x : this.thumbnailTouchDistance.y,\r\n\t\t\t\toppositeDistance = this.thumbnailsOrientation === 'horizontal' ? this.thumbnailTouchDistance.y : this.thumbnailTouchDistance.x;\r\n\r\n\t\t\t// If the movement is in the same direction as the orientation of the thumbnails, the swipe is valid\r\n\t\t\tif ( Math.abs( distance ) > Math.abs( oppositeDistance ) ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Make the thumbnail scroller move slower if it's dragged outside its bounds\r\n\t\t\tif ( this.thumbnailsPosition >= 0 ) {\r\n\t\t\t\tvar infOffset = - this.thumbnailTouchStartPosition;\r\n\t\t\t\tdistance = infOffset + ( distance - infOffset ) * 0.2;\r\n\t\t\t} else if ( this.thumbnailsPosition <= - this.thumbnailsSize + this.thumbnailsContainerSize ) {\r\n\t\t\t\tvar supOffset = this.thumbnailsSize - this.thumbnailsContainerSize + this.thumbnailTouchStartPosition;\r\n\t\t\t\tdistance = - supOffset + ( distance + supOffset ) * 0.2;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._moveThumbnailsTo( this.thumbnailTouchStartPosition + distance, true );\r\n\t\t},\r\n\r\n\t\t// Called when the thumbnail scroller is released\r\n\t\t_onThumbnailTouchEnd: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tthumbnailTouchDistance = this.thumbnailsOrientation === 'horizontal' ? this.thumbnailTouchDistance.x : this.thumbnailTouchDistance.y;\r\n\r\n\t\t\t// Remove the move and end listeners\r\n\t\t\tthis.$thumbnails.off( this.thumbnailTouchSwipeEvents.moveEvent );\r\n\t\t\t$( document ).off( this.thumbnailTouchSwipeEvents.endEvent );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-grabbing' ).addClass( 'sp-grab' );\r\n\r\n\t\t\t// Check if there is intention for a tap/click\r\n\t\t\tif ( this.isThumbnailTouchMoving === false ||\r\n\t\t\t\tthis.isThumbnailTouchMoving === true &&\r\n\t\t\t\tMath.abs( this.thumbnailTouchDistance.x ) < 10 &&\r\n\t\t\t\tMath.abs( this.thumbnailTouchDistance.y ) < 10\r\n\t\t\t) {\r\n\t\t\t\tvar targetThumbnail = $( event.target ).hasClass( 'sp-thumbnail-container' ) ? $( event.target ) : $( event.target ).parents( '.sp-thumbnail-container' ),\r\n\t\t\t\t\tindex = targetThumbnail.index();\r\n\r\n\t\t\t\t// If a link is cliked, navigate to that link, else navigate to the slide that corresponds to the thumbnail\r\n\t\t\t\tif ( $( event.target ).parents( 'a' ).length !== 0 ) {\r\n\t\t\t\t\t$( event.target ).parents( 'a' ).off( 'click.' + NS );\r\n\t\t\t\t\tthis.$thumbnailsContainer.removeClass( 'sp-swiping' );\r\n\t\t\t\t} else if ( index !== this.selectedThumbnailIndex && index !== -1 ) {\r\n\t\t\t\t\tthis.gotoSlide( index );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isThumbnailTouchMoving = false;\r\n\r\n\t\t\t$( event.target ).parents( '.sp-thumbnail' ).one( 'click', function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Remove the 'sp-swiping' class but with a delay\r\n\t\t\t// because there might be other event listeners that check\r\n\t\t\t// the existence of this class, and this class should still be \r\n\t\t\t// applied for those listeners, since there was a swipe event\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.$thumbnailsContainer.removeClass( 'sp-swiping' );\r\n\t\t\t}, 1 );\r\n\r\n\t\t\t// Keep the thumbnail scroller inside the bounds\r\n\t\t\tif ( this.thumbnailsPosition > 0 ) {\r\n\t\t\t\tthis._moveThumbnailsTo( 0 );\r\n\t\t\t} else if ( this.thumbnailsPosition < this.thumbnailsContainerSize - this.thumbnailsSize ) {\r\n\t\t\t\tthis._moveThumbnailsTo( this.thumbnailsContainerSize - this.thumbnailsSize );\r\n\t\t\t}\r\n\r\n\t\t\t// Fire the 'thumbnailsMoveComplete' event\r\n\t\t\tthis.trigger({ type: 'thumbnailsMoveComplete' });\r\n\t\t\tif ( $.isFunction( this.settings.thumbnailsMoveComplete ) ) {\r\n\t\t\t\tthis.settings.thumbnailsMoveComplete.call( this, { type: 'thumbnailsMoveComplete' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyThumbnailTouchSwipe: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$thumbnails.off( this.thumbnailTouchSwipeEvents.startEvent );\r\n\t\t\tthis.$thumbnails.off( this.thumbnailTouchSwipeEvents.moveEvent );\r\n\t\t\tthis.$thumbnails.off( 'dragstart.' + NS );\r\n\t\t\t$( document ).off( this.thumbnailTouchSwipeEvents.endEvent );\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-grab' );\r\n\t\t},\r\n\r\n\t\tthumbnailTouchSwipeDefaults: {\r\n\r\n\t\t\t// Indicates whether the touch swipe will be enabled for thumbnails\r\n\t\t\tthumbnailTouchSwipe: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'ThumbnailTouchSwipe', ThumbnailTouchSwipe );\r\n\r\n})( window, jQuery );\r\n\r\n// Thumbnail Arrows module for Slider Pro.\r\n// \r\n// Adds thumbnail arrows for moving the thumbnail scroller.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'ThumbnailArrows.' + $.SliderPro.namespace;\r\n\r\n\tvar ThumbnailArrows = {\r\n\r\n\t\t// Reference to the arrows container\r\n\t\t$thumbnailArrows: null,\r\n\r\n\t\t// Reference to the 'previous' thumbnail arrow\r\n\t\t$previousThumbnailArrow: null,\r\n\r\n\t\t// Reference to the 'next' thumbnail arrow\r\n\t\t$nextThumbnailArrow: null,\r\n\r\n\t\tinitThumbnailArrows: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._thumbnailArrowsOnUpdate, this ) );\r\n\t\t\t\r\n\t\t\t// Check if the arrows need to be visible or invisible when the thumbnail scroller\r\n\t\t\t// resizes and when the thumbnail scroller moves.\r\n\t\t\tthis.on( 'sliderResize.' + NS + ' ' + 'thumbnailsMoveComplete.' + NS, function() {\r\n\t\t\t\tif ( that.isThumbnailScroller === true && that.settings.thumbnailArrows === true ) {\r\n\t\t\t\t\tthat._checkThumbnailArrowsVisibility();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// Called when the slider is updated\r\n\t\t_thumbnailArrowsOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Create or remove the thumbnail scroller arrows\r\n\t\t\tif ( this.settings.thumbnailArrows === true && this.$thumbnailArrows === null ) {\r\n\t\t\t\tthis.$thumbnailArrows = $( '<div class=\"sp-thumbnail-arrows\"></div>' ).appendTo( this.$thumbnailsContainer );\r\n\t\t\t\t\r\n\t\t\t\tthis.$previousThumbnailArrow = $( '<div class=\"sp-thumbnail-arrow sp-previous-thumbnail-arrow\"></div>' ).appendTo( this.$thumbnailArrows );\r\n\t\t\t\tthis.$nextThumbnailArrow = $( '<div class=\"sp-thumbnail-arrow sp-next-thumbnail-arrow\"></div>' ).appendTo( this.$thumbnailArrows );\r\n\r\n\t\t\t\tthis.$previousThumbnailArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tvar previousPosition = Math.min( 0, that.thumbnailsPosition + that.thumbnailsContainerSize );\r\n\t\t\t\t\tthat._moveThumbnailsTo( previousPosition );\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$nextThumbnailArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tvar nextPosition = Math.max( that.thumbnailsContainerSize - that.thumbnailsSize, that.thumbnailsPosition - that.thumbnailsContainerSize );\r\n\t\t\t\t\tthat._moveThumbnailsTo( nextPosition );\r\n\t\t\t\t});\r\n\t\t\t} else if ( this.settings.thumbnailArrows === false && this.$thumbnailArrows !== null ) {\r\n\t\t\t\tthis._removeThumbnailArrows();\r\n\t\t\t}\r\n\r\n\t\t\t// Add fading functionality and check if the arrows need to be visible or not\r\n\t\t\tif ( this.settings.thumbnailArrows === true ) {\r\n\t\t\t\tif ( this.settings.fadeThumbnailArrows === true ) {\r\n\t\t\t\t\tthis.$thumbnailArrows.addClass( 'sp-fade-thumbnail-arrows' );\r\n\t\t\t\t} else if ( this.settings.fadeThumbnailArrows === false ) {\r\n\t\t\t\t\tthis.$thumbnailArrows.removeClass( 'sp-fade-thumbnail-arrows' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._checkThumbnailArrowsVisibility();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Checks if the 'next' or 'previous' arrows need to be visible or hidden,\r\n\t\t// based on the position of the thumbnail scroller\r\n\t\t_checkThumbnailArrowsVisibility: function() {\r\n\t\t\tif ( this.thumbnailsPosition === 0 ) {\r\n\t\t\t\tthis.$previousThumbnailArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$previousThumbnailArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.thumbnailsPosition === this.thumbnailsContainerSize - this.thumbnailsSize ) {\r\n\t\t\t\tthis.$nextThumbnailArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$nextThumbnailArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Remove the thumbnail arrows\r\n\t\t_removeThumbnailArrows: function() {\r\n\t\t\tif ( this.$thumbnailArrows !== null ) {\r\n\t\t\t\tthis.$previousThumbnailArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$nextThumbnailArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$thumbnailArrows.remove();\r\n\t\t\t\tthis.$thumbnailArrows = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyThumbnailArrows: function() {\r\n\t\t\tthis._removeThumbnailArrows();\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t\tthis.off( 'thumbnailsMoveComplete.' + NS );\r\n\t\t},\r\n\r\n\t\tthumbnailArrowsDefaults: {\r\n\r\n\t\t\t// Indicates whether the thumbnail arrows will be enabled\r\n\t\t\tthumbnailArrows: false,\r\n\r\n\t\t\t// Indicates whether the thumbnail arrows will be faded\r\n\t\t\tfadeThumbnailArrows: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'ThumbnailArrows', ThumbnailArrows );\r\n\r\n})( window, jQuery );\r\n\r\n// Video module for Slider Pro\r\n//\r\n// Adds automatic control for several video players and providers\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Video.' + $.SliderPro.namespace;\r\n\t\r\n\tvar Video = {\r\n\r\n\t\tfirstInit: false,\r\n\r\n\t\tinitVideo: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._videoOnUpdate, this ) );\r\n\t\t\tthis.on( 'gotoSlideComplete.' + NS, $.proxy( this._videoOnGotoSlideComplete, this ) );\r\n\t\t},\r\n\r\n\t\t_videoOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Find all the inline videos and initialize them\r\n\t\t\tthis.$slider.find( '.sp-video' ).not( 'a, [data-video-init]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tthat._initVideo( video );\r\n\t\t\t});\r\n\r\n\t\t\t// Find all the lazy-loaded videos and preinitialize them. They will be initialized\r\n\t\t\t// only when their play button is clicked.\r\n\t\t\tthis.$slider.find( 'a.sp-video' ).not( '[data-video-preinit]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tthat._preinitVideo( video );\r\n\t\t\t});\r\n\r\n\t\t\t// call the 'gotoSlideComplete' method in case the first slide contains a video that\r\n\t\t\t// needs to play automatically\r\n\t\t\tif ( this.firstInit === false ) {\r\n\t\t\t\tthis.firstInit = true;\r\n\t\t\t\tthis._videoOnGotoSlideComplete({ index: this.selectedSlideIndex, previousIndex: -1 });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Initialize the target video\r\n\t\t_initVideo: function( video ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvideo.attr( 'data-video-init', true )\r\n\t\t\t\t.videoController();\r\n\r\n\t\t\t// When the video starts playing, pause the autoplay if it's running\r\n\t\t\tvideo.on( 'videoPlay.' + NS, function() {\r\n\t\t\t\tif ( that.settings.playVideoAction === 'stopAutoplay' && typeof that.stopAutoplay !== 'undefined' ) {\r\n\t\t\t\t\tthat.stopAutoplay();\r\n\t\t\t\t\tthat.settings.autoplay = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'videoPlay' event\r\n\t\t\t\tvar eventObject = { type: 'videoPlay', video: video };\r\n\t\t\t\tthat.trigger( eventObject );\r\n\t\t\t\tif ( $.isFunction( that.settings.videoPlay ) ) {\r\n\t\t\t\t\tthat.settings.videoPlay.call( that, eventObject );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// When the video is paused, restart the autoplay\r\n\t\t\tvideo.on( 'videoPause.' + NS, function() {\r\n\t\t\t\tif ( that.settings.pauseVideoAction === 'startAutoplay' && typeof that.startAutoplay !== 'undefined' ) {\r\n\t\t\t\t\tthat.startAutoplay();\r\n\t\t\t\t\tthat.settings.autoplay = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'videoPause' event\r\n\t\t\t\tvar eventObject = { type: 'videoPause', video: video };\r\n\t\t\t\tthat.trigger( eventObject );\r\n\t\t\t\tif ( $.isFunction( that.settings.videoPause ) ) {\r\n\t\t\t\t\tthat.settings.videoPause.call( that, eventObject );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// When the video ends, restart the autoplay (which was paused during the playback), or\r\n\t\t\t// go to the next slide, or replay the video\r\n\t\t\tvideo.on( 'videoEnded.' + NS, function() {\r\n\t\t\t\tif ( that.settings.endVideoAction === 'startAutoplay' && typeof that.startAutoplay !== 'undefined' ) {\r\n\t\t\t\t\tthat.startAutoplay();\r\n\t\t\t\t\tthat.settings.autoplay = true;\r\n\t\t\t\t} else if ( that.settings.endVideoAction === 'nextSlide' ) {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t} else if ( that.settings.endVideoAction === 'replayVideo' ) {\r\n\t\t\t\t\tvideo.videoController( 'replay' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'videoEnd' event\r\n\t\t\t\tvar eventObject = { type: 'videoEnd', video: video };\r\n\t\t\t\tthat.trigger( eventObject );\r\n\t\t\t\tif ( $.isFunction(that.settings.videoEnd ) ) {\r\n\t\t\t\t\tthat.settings.videoEnd.call( that, eventObject );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Pre-initialize the video. This is for lazy loaded videos.\r\n\t\t_preinitVideo: function( video ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvideo.attr( 'data-video-preinit', true );\r\n\r\n\t\t\t// When the video poster is clicked, remove the poster and create\r\n\t\t\t// the inline video\r\n\t\t\tvideo.on( 'click.' + NS, function( event ) {\r\n\r\n\t\t\t\t// If the video is being dragged, don't start the video\r\n\t\t\t\tif ( that.$slider.hasClass( 'sp-swiping' ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tvar href = video.attr( 'href' ),\r\n\t\t\t\t\tiframe,\r\n\t\t\t\t\tprovider,\r\n\t\t\t\t\tregExp,\r\n\t\t\t\t\tmatch,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tsrc,\r\n\t\t\t\t\tvideoAttributes,\r\n\t\t\t\t\tvideoWidth = video.children( 'img' ).attr( 'width' ) || video.children( 'img' ).width(),\r\n\t\t\t\t\tvideoHeight = video.children( 'img' ).attr( 'height') || video.children( 'img' ).height();\r\n\r\n\t\t\t\t// Check if it's a youtube or vimeo video\r\n\t\t\t\tif ( href.indexOf( 'youtube' ) !== -1 || href.indexOf( 'youtu.be' ) !== -1 ) {\r\n\t\t\t\t\tprovider = 'youtube';\r\n\t\t\t\t} else if ( href.indexOf( 'vimeo' ) !== -1 ) {\r\n\t\t\t\t\tprovider = 'vimeo';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get the id of the video\r\n\t\t\t\tregExp = provider === 'youtube' ? /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/ : /http:\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;\r\n\t\t\t\tmatch = href.match( regExp );\r\n\t\t\t\tid = match[2];\r\n\r\n\t\t\t\t// Get the source of the iframe that will be created\r\n\t\t\t\tsrc = provider === 'youtube' ? '//www.youtube.com/embed/' + id + '?enablejsapi=1&wmode=opaque' : '//player.vimeo.com/video/'+ id +'?api=1';\r\n\t\t\t\t\r\n\t\t\t\t// Get the attributes passed to the video link and then pass them to the iframe's src\r\n\t\t\t\tvideoAttributes = href.split( '?' )[ 1 ];\r\n\r\n\t\t\t\tif ( typeof videoAttributes !== 'undefined' ) {\r\n\t\t\t\t\tvideoAttributes = videoAttributes.split( '&' );\r\n\r\n\t\t\t\t\t$.each( videoAttributes, function( index, value ) {\r\n\t\t\t\t\t\tif ( value.indexOf( id ) === -1 ) {\r\n\t\t\t\t\t\t\tsrc += '&' + value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create the iframe\r\n\t\t\t\tiframe = $( '<iframe></iframe>' )\r\n\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t'src': src,\r\n\t\t\t\t\t\t'width': videoWidth,\r\n\t\t\t\t\t\t'height': videoHeight,\r\n\t\t\t\t\t\t'class': video.attr( 'class' ),\r\n\t\t\t\t\t\t'frameborder': 0,\r\n\t\t\t\t\t\t'allowfullscreen': 'allowfullscreen'\r\n\t\t\t\t\t}).insertBefore( video );\r\n\r\n\t\t\t\t// Initialize the video and play it\r\n\t\t\t\tthat._initVideo( iframe );\r\n\t\t\t\tiframe.videoController( 'play' );\r\n\r\n\t\t\t\t// Hide the video poster\r\n\t\t\t\tvideo.css( 'display', 'none' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Called when a new slide is selected\r\n\t\t_videoOnGotoSlideComplete: function( event ) {\r\n\r\n\t\t\t// Get the video from the previous slide\r\n\t\t\tvar previousVideo = this.$slides.find( '.sp-slide' ).eq( event.previousIndex ).find( '.sp-video[data-video-init]' );\r\n\r\n\t\t\t// Handle the video from the previous slide by stopping it, or pausing it,\r\n\t\t\t// or remove it, depending on the value of the 'leaveVideoAction' option.\r\n\t\t\tif ( event.previousIndex !== -1 && previousVideo.length !== 0 ) {\r\n\t\t\t\tif ( this.settings.leaveVideoAction === 'stopVideo' ) {\r\n\t\t\t\t\tpreviousVideo.videoController( 'stop' );\r\n\t\t\t\t} else if ( this.settings.leaveVideoAction === 'pauseVideo' ) {\r\n\t\t\t\t\tpreviousVideo.videoController( 'pause' );\r\n\t\t\t\t} else if ( this.settings.leaveVideoAction === 'removeVideo'  ) {\r\n\t\t\t\t\t// If the video was lazy-loaded, remove it and show the poster again. If the video\r\n\t\t\t\t\t// was not lazy-loaded, but inline, stop the video.\r\n\t\t\t\t\tif ( previousVideo.siblings( 'a.sp-video' ).length !== 0 ) {\r\n\t\t\t\t\t\tpreviousVideo.siblings( 'a.sp-video' ).css( 'display', '' );\r\n\t\t\t\t\t\tpreviousVideo.videoController( 'destroy' );\r\n\t\t\t\t\t\tpreviousVideo.remove();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpreviousVideo.videoController( 'stop' );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Handle the video from the selected slide\r\n\t\t\tif ( this.settings.reachVideoAction === 'playVideo' ) {\r\n\t\t\t\tvar loadedVideo = this.$slides.find( '.sp-slide' ).eq( event.index ).find( '.sp-video[data-video-init]' ),\r\n\t\t\t\t\tunloadedVideo = this.$slides.find( '.sp-slide' ).eq( event.index ).find( '.sp-video[data-video-preinit]' );\r\n\r\n\t\t\t\t// If the video was already initialized, play it. If it's not initialized (because\r\n\t\t\t\t// it's lazy loaded) initialize it and play it.\r\n\t\t\t\tif ( loadedVideo.length !== 0 ) {\r\n\t\t\t\t\tloadedVideo.videoController( 'play' );\r\n\t\t\t\t} else if ( unloadedVideo.length !== 0 ) {\r\n\t\t\t\t\tunloadedVideo.trigger( 'click.' + NS );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyVideo: function() {\r\n\t\t\tthis.$slider.find( '.sp-video[ data-video-preinit ]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tvideo.removeAttr( 'data-video-preinit' );\r\n\t\t\t\tvideo.off( 'click.' + NS );\r\n\t\t\t});\r\n\r\n\t\t\t// Loop through the all the videos and destroy them\r\n\t\t\tthis.$slider.find( '.sp-video[ data-video-init ]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tvideo.removeAttr( 'data-video-init' );\r\n\t\t\t\tvideo.off( 'Video' );\r\n\t\t\t\tvideo.videoController( 'destroy' );\r\n\t\t\t});\r\n\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlideComplete.' + NS );\r\n\t\t},\r\n\r\n\t\tvideoDefaults: {\r\n\r\n\t\t\t// Sets the action that the video will perform when its slide container is selected\r\n\t\t\t// ( 'playVideo' and 'none' )\r\n\t\t\treachVideoAction: 'none',\r\n\r\n\t\t\t// Sets the action that the video will perform when another slide is selected\r\n\t\t\t// ( 'stopVideo', 'pauseVideo', 'removeVideo' and 'none' )\r\n\t\t\tleaveVideoAction: 'pauseVideo',\r\n\r\n\t\t\t// Sets the action that the slider will perform when the video starts playing\r\n\t\t\t// ( 'stopAutoplay' and 'none' )\r\n\t\t\tplayVideoAction: 'stopAutoplay',\r\n\r\n\t\t\t// Sets the action that the slider will perform when the video is paused\r\n\t\t\t// ( 'startAutoplay' and 'none' )\r\n\t\t\tpauseVideoAction: 'none',\r\n\r\n\t\t\t// Sets the action that the slider will perform when the video ends\r\n\t\t\t// ( 'startAutoplay', 'nextSlide', 'replayVideo' and 'none' )\r\n\t\t\tendVideoAction: 'none',\r\n\r\n\t\t\t// Called when the video starts playing\r\n\t\t\tvideoPlay: function() {},\r\n\r\n\t\t\t// Called when the video is paused\r\n\t\t\tvideoPause: function() {},\r\n\r\n\t\t\t// Called when the video ends\r\n\t\t\tvideoEnd: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Video', Video );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Video Controller jQuery plugin\r\n// Creates a universal controller for multiple video types and providers\r\n;(function( $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n// Check if an iOS device is used.\r\n// This information is important because a video can not be\r\n// controlled programmatically unless the user has started the video manually.\r\nvar\tisIOS = window.navigator.userAgent.match( /(iPad|iPhone|iPod)/g ) ? true : false;\r\n\r\nvar VideoController = function( instance, options ) {\r\n\tthis.$video = $( instance );\r\n\tthis.options = options;\r\n\tthis.settings = {};\r\n\tthis.player = null;\r\n\r\n\tthis._init();\r\n};\r\n\r\nVideoController.prototype = {\r\n\r\n\t_init: function() {\r\n\t\tthis.settings = $.extend( {}, this.defaults, this.options );\r\n\r\n\t\tvar that = this,\r\n\t\t\tplayers = $.VideoController.players,\r\n\t\t\tvideoID = this.$video.attr( 'id' );\r\n\r\n\t\t// Loop through the available video players\r\n\t\t// and check if the targeted video element is supported by one of the players.\r\n\t\t// If a compatible type is found, store the video type.\r\n\t\tfor ( var name in players ) {\r\n\t\t\tif ( typeof players[ name ] !== 'undefined' && players[ name ].isType( this.$video ) ) {\r\n\t\t\t\tthis.player = new players[ name ]( this.$video );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Return if the player could not be instantiated\r\n\t\tif ( this.player === null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Add event listeners\r\n\t\tvar events = [ 'ready', 'start', 'play', 'pause', 'ended' ];\r\n\t\t\r\n\t\t$.each( events, function( index, element ) {\r\n\t\t\tvar event = 'video' + element.charAt( 0 ).toUpperCase() + element.slice( 1 );\r\n\r\n\t\t\tthat.player.on( element, function() {\r\n\t\t\t\tthat.trigger({ type: event, video: videoID });\r\n\t\t\t\tif ( $.isFunction( that.settings[ event ] ) ) {\r\n\t\t\t\t\tthat.settings[ event ].call( that, { type: event, video: videoID } );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t\r\n\tplay: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false || this.player.getState() === 'playing' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.player.play();\r\n\t},\r\n\t\r\n\tstop: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false || this.player.getState() === 'stopped' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.player.stop();\r\n\t},\r\n\t\r\n\tpause: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false || this.player.getState() === 'paused' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.player.pause();\r\n\t},\r\n\r\n\treplay: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.player.replay();\r\n\t},\r\n\r\n\ton: function( type, callback ) {\r\n\t\treturn this.$video.on( type, callback );\r\n\t},\r\n\t\r\n\toff: function( type ) {\r\n\t\treturn this.$video.off( type );\r\n\t},\r\n\r\n\ttrigger: function( data ) {\r\n\t\treturn this.$video.triggerHandler( data );\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tif ( this.player.isStarted() === true ) {\r\n\t\t\tthis.stop();\r\n\t\t}\r\n\r\n\t\tthis.player.off( 'ready' );\r\n\t\tthis.player.off( 'start' );\r\n\t\tthis.player.off( 'play' );\r\n\t\tthis.player.off( 'pause' );\r\n\t\tthis.player.off( 'ended' );\r\n\r\n\t\tthis.$video.removeData( 'videoController' );\r\n\t},\r\n\r\n\tdefaults: {\r\n\t\tvideoReady: function() {},\r\n\t\tvideoStart: function() {},\r\n\t\tvideoPlay: function() {},\r\n\t\tvideoPause: function() {},\r\n\t\tvideoEnded: function() {}\r\n\t}\r\n};\r\n\r\n$.VideoController = {\r\n\tplayers: {},\r\n\r\n\taddPlayer: function( name, player ) {\r\n\t\tthis.players[ name ] = player;\r\n\t}\r\n};\r\n\r\n$.fn.videoController = function( options ) {\r\n\tvar args = Array.prototype.slice.call( arguments, 1 );\r\n\r\n\treturn this.each(function() {\r\n\t\t// Instantiate the video controller or call a function on the current instance\r\n\t\tif ( typeof $( this ).data( 'videoController' ) === 'undefined' ) {\r\n\t\t\tvar newInstance = new VideoController( this, options );\r\n\r\n\t\t\t// Store a reference to the instance created\r\n\t\t\t$( this ).data( 'videoController', newInstance );\r\n\t\t} else if ( typeof options !== 'undefined' ) {\r\n\t\t\tvar\tcurrentInstance = $( this ).data( 'videoController' );\r\n\r\n\t\t\t// Check the type of argument passed\r\n\t\t\tif ( typeof currentInstance[ options ] === 'function' ) {\r\n\t\t\t\tcurrentInstance[ options ].apply( currentInstance, args );\r\n\t\t\t} else {\r\n\t\t\t\t$.error( options + ' does not exist in videoController.' );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Base object for the video players\r\nvar Video = function( video ) {\r\n\tthis.$video = video;\r\n\tthis.player = null;\r\n\tthis.ready = false;\r\n\tthis.started = false;\r\n\tthis.state = '';\r\n\tthis.events = $({});\r\n\r\n\tthis._init();\r\n};\r\n\r\nVideo.prototype = {\r\n\t_init: function() {},\r\n\r\n\tplay: function() {},\r\n\r\n\tpause: function() {},\r\n\r\n\tstop: function() {},\r\n\r\n\treplay: function() {},\r\n\r\n\tisType: function() {},\r\n\r\n\tisReady: function() {\r\n\t\treturn this.ready;\r\n\t},\r\n\r\n\tisStarted: function() {\r\n\t\treturn this.started;\r\n\t},\r\n\r\n\tgetState: function() {\r\n\t\treturn this.state;\r\n\t},\r\n\r\n\ton: function( type, callback ) {\r\n\t\treturn this.events.on( type, callback );\r\n\t},\r\n\t\r\n\toff: function( type ) {\r\n\t\treturn this.events.off( type );\r\n\t},\r\n\r\n\ttrigger: function( data ) {\r\n\t\treturn this.events.triggerHandler( data );\r\n\t}\r\n};\r\n\r\n// YouTube video\r\nvar YoutubeVideoHelper = {\r\n\tyoutubeAPIAdded: false,\r\n\tyoutubeVideos: []\r\n};\r\n\r\nvar YoutubeVideo = function( video ) {\r\n\tthis.init = false;\r\n\tvar youtubeAPILoaded = window.YT && window.YT.Player;\r\n\r\n\tif ( typeof youtubeAPILoaded !== 'undefined' ) {\r\n\t\tVideo.call( this, video );\r\n\t} else {\r\n\t\tYoutubeVideoHelper.youtubeVideos.push({ 'video': video, 'scope': this });\r\n\t\t\r\n\t\tif ( YoutubeVideoHelper.youtubeAPIAdded === false ) {\r\n\t\t\tYoutubeVideoHelper.youtubeAPIAdded = true;\r\n\r\n\t\t\tvar tag = document.createElement( 'script' );\r\n\t\t\ttag.src = \"//www.youtube.com/player_api\";\r\n\t\t\tvar firstScriptTag = document.getElementsByTagName( 'script' )[0];\r\n\t\t\tfirstScriptTag.parentNode.insertBefore( tag, firstScriptTag );\r\n\r\n\t\t\twindow.onYouTubePlayerAPIReady = function() {\r\n\t\t\t\t$.each( YoutubeVideoHelper.youtubeVideos, function( index, element ) {\r\n\t\t\t\t\tVideo.call( element.scope, element.video );\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nYoutubeVideo.prototype = new Video();\r\nYoutubeVideo.prototype.constructor = YoutubeVideo;\r\n$.VideoController.addPlayer( 'YoutubeVideo', YoutubeVideo );\r\n\r\nYoutubeVideo.isType = function( video ) {\r\n\tif ( video.is( 'iframe' ) ) {\r\n\t\tvar src = video.attr( 'src' );\r\n\r\n\t\tif ( src.indexOf( 'youtube.com' ) !== -1 || src.indexOf( 'youtu.be' ) !== -1 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nYoutubeVideo.prototype._init = function() {\r\n\tthis.init = true;\r\n\tthis._setup();\r\n};\r\n\t\r\nYoutubeVideo.prototype._setup = function() {\r\n\tvar that = this;\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = new YT.Player( this.$video[0], {\r\n\t\tevents: {\r\n\t\t\t'onReady': function() {\r\n\t\t\t\tthat.trigger({ type: 'ready' });\r\n\t\t\t\tthat.ready = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t'onStateChange': function( event ) {\r\n\t\t\t\tswitch ( event.data ) {\r\n\t\t\t\t\tcase YT.PlayerState.PLAYING:\r\n\t\t\t\t\t\tif (that.started === false) {\r\n\t\t\t\t\t\t\tthat.started = true;\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.state = 'playing';\r\n\t\t\t\t\t\tthat.trigger({ type: 'play' });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase YT.PlayerState.PAUSED:\r\n\t\t\t\t\t\tthat.state = 'paused';\r\n\t\t\t\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase YT.PlayerState.ENDED:\r\n\t\t\t\t\t\tthat.state = 'ended';\r\n\t\t\t\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\nYoutubeVideo.prototype.play = function() {\r\n\tvar that = this;\r\n\r\n\tif ( this.ready === true ) {\r\n\t\tthis.player.playVideo();\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.ready === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tthat.player.playVideo();\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\nYoutubeVideo.prototype.pause = function() {\r\n\t// On iOS, simply pausing the video can make other videos unresponsive\r\n\t// so we stop the video instead.\r\n\tif ( isIOS === true ) {\r\n\t\tthis.stop();\r\n\t} else {\r\n\t\tthis.player.pauseVideo();\r\n\t}\r\n};\r\n\r\nYoutubeVideo.prototype.stop = function() {\r\n\tthis.player.seekTo( 1 );\r\n\tthis.player.stopVideo();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nYoutubeVideo.prototype.replay = function() {\r\n\tthis.player.seekTo( 1 );\r\n\tthis.player.playVideo();\r\n};\r\n\r\nYoutubeVideo.prototype.on = function( type, callback ) {\r\n\tvar that = this;\r\n\r\n\tif ( this.init === true ) {\r\n\t\tVideo.prototype.on.call( this, type, callback );\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.init === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tVideo.prototype.on.call( that, type, callback );\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\n// Vimeo video\r\nvar VimeoVideoHelper = {\r\n\tvimeoAPIAdded: false,\r\n\tvimeoVideos: []\r\n};\r\n\r\nvar VimeoVideo = function( video ) {\r\n\tthis.init = false;\r\n\r\n\tif ( typeof window.Froogaloop !== 'undefined' ) {\r\n\t\tVideo.call( this, video );\r\n\t} else {\r\n\t\tVimeoVideoHelper.vimeoVideos.push({ 'video': video, 'scope': this });\r\n\r\n\t\tif ( VimeoVideoHelper.vimeoAPIAdded === false ) {\r\n\t\t\tVimeoVideoHelper.vimeoAPIAdded = true;\r\n\r\n\t\t\tvar tag = document.createElement('script');\r\n\t\t\ttag.src = \"//a.vimeocdn.com/js/froogaloop2.min.js\";\r\n\t\t\tvar firstScriptTag = document.getElementsByTagName( 'script' )[0];\r\n\t\t\tfirstScriptTag.parentNode.insertBefore( tag, firstScriptTag );\r\n\t\t\r\n\t\t\tvar checkVimeoAPITimer = setInterval(function() {\r\n\t\t\t\tif ( typeof window.Froogaloop !== 'undefined' ) {\r\n\t\t\t\t\tclearInterval( checkVimeoAPITimer );\r\n\t\t\t\t\t\r\n\t\t\t\t\t$.each( VimeoVideoHelper.vimeoVideos, function( index, element ) {\r\n\t\t\t\t\t\tVideo.call( element.scope, element.video );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 100 );\r\n\t\t}\r\n\t}\r\n};\r\n\r\nVimeoVideo.prototype = new Video();\r\nVimeoVideo.prototype.constructor = VimeoVideo;\r\n$.VideoController.addPlayer( 'VimeoVideo', VimeoVideo );\r\n\r\nVimeoVideo.isType = function( video ) {\r\n\tif ( video.is( 'iframe' ) ) {\r\n\t\tvar src = video.attr('src');\r\n\r\n\t\tif ( src.indexOf( 'vimeo.com' ) !== -1 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nVimeoVideo.prototype._init = function() {\r\n\tthis.init = true;\r\n\tthis._setup();\r\n};\r\n\r\nVimeoVideo.prototype._setup = function() {\r\n\tvar that = this;\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = $f( this.$video[0] );\r\n\t\r\n\tthis.player.addEvent( 'ready', function() {\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\t\t\r\n\t\tthat.player.addEvent( 'play', function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.addEvent( 'pause', function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.addEvent( 'finish', function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nVimeoVideo.prototype.play = function() {\r\n\tvar that = this;\r\n\r\n\tif ( this.ready === true ) {\r\n\t\tthis.player.api( 'play' );\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.ready === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tthat.player.api( 'play' );\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\nVimeoVideo.prototype.pause = function() {\r\n\tthis.player.api( 'pause' );\r\n};\r\n\r\nVimeoVideo.prototype.stop = function() {\r\n\tthis.player.api( 'seekTo', 0 );\r\n\tthis.player.api( 'pause' );\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nVimeoVideo.prototype.replay = function() {\r\n\tthis.player.api( 'seekTo', 0 );\r\n\tthis.player.api( 'play' );\r\n};\r\n\r\nVimeoVideo.prototype.on = function( type, callback ) {\r\n\tvar that = this;\r\n\r\n\tif ( this.init === true ) {\r\n\t\tVideo.prototype.on.call( this, type, callback );\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.init === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tVideo.prototype.on.call( that, type, callback );\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\n// HTML5 video\r\nvar HTML5Video = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nHTML5Video.prototype = new Video();\r\nHTML5Video.prototype.constructor = HTML5Video;\r\n$.VideoController.addPlayer( 'HTML5Video', HTML5Video );\r\n\r\nHTML5Video.isType = function( video ) {\r\n\tif ( video.is( 'video' ) && video.hasClass( 'video-js' ) === false && video.hasClass( 'sublime' ) === false ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nHTML5Video.prototype._init = function() {\r\n\tvar that = this;\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = this.$video[0];\r\n\t\r\n\tvar checkVideoReady = setInterval(function() {\r\n\t\tif ( that.player.readyState === 4 ) {\r\n\t\t\tclearInterval( checkVideoReady );\r\n\r\n\t\t\tthat.ready = true;\r\n\t\t\tthat.trigger({ type: 'ready' });\r\n\r\n\t\t\tthat.player.addEventListener( 'play', function() {\r\n\t\t\t\tif ( that.started === false ) {\r\n\t\t\t\t\tthat.started = true;\r\n\t\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.state = 'playing';\r\n\t\t\t\tthat.trigger({ type: 'play' });\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthat.player.addEventListener( 'pause', function() {\r\n\t\t\t\tthat.state = 'paused';\r\n\t\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthat.player.addEventListener( 'ended', function() {\r\n\t\t\t\tthat.state = 'ended';\r\n\t\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t\t});\r\n\t\t}\r\n\t}, 100 );\r\n};\r\n\r\nHTML5Video.prototype.play = function() {\r\n\tvar that = this;\r\n\r\n\tif ( this.ready === true ) {\r\n\t\tthis.player.play();\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.ready === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tthat.player.play();\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\nHTML5Video.prototype.pause = function() {\r\n\tthis.player.pause();\r\n};\r\n\r\nHTML5Video.prototype.stop = function() {\r\n\tthis.player.currentTime = 0;\r\n\tthis.player.pause();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nHTML5Video.prototype.replay = function() {\r\n\tthis.player.currentTime = 0;\r\n\tthis.player.play();\r\n};\r\n\r\n// VideoJS video\r\nvar VideoJSVideo = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nVideoJSVideo.prototype = new Video();\r\nVideoJSVideo.prototype.constructor = VideoJSVideo;\r\n$.VideoController.addPlayer( 'VideoJSVideo', VideoJSVideo );\r\n\r\nVideoJSVideo.isType = function( video ) {\r\n\tif ( ( typeof video.attr( 'data-videojs-id' ) !== 'undefined' || video.hasClass( 'video-js' ) ) && typeof videojs !== 'undefined' ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nVideoJSVideo.prototype._init = function() {\r\n\tvar that = this,\r\n\t\tvideoID = this.$video.hasClass( 'video-js' ) ? this.$video.attr( 'id' ) : this.$video.attr( 'data-videojs-id' );\r\n\t\r\n\tthis.player = videojs( videoID );\r\n\r\n\tthis.player.ready(function() {\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\r\n\t\tthat.player.on( 'play', function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.on( 'pause', function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.on( 'ended', function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nVideoJSVideo.prototype.play = function() {\r\n\tthis.player.play();\r\n};\r\n\r\nVideoJSVideo.prototype.pause = function() {\r\n\tthis.player.pause();\r\n};\r\n\r\nVideoJSVideo.prototype.stop = function() {\r\n\tthis.player.currentTime( 0 );\r\n\tthis.player.pause();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nVideoJSVideo.prototype.replay = function() {\r\n\tthis.player.currentTime( 0 );\r\n\tthis.player.play();\r\n};\r\n\r\n// Sublime video\r\nvar SublimeVideo = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nSublimeVideo.prototype = new Video();\r\nSublimeVideo.prototype.constructor = SublimeVideo;\r\n$.VideoController.addPlayer( 'SublimeVideo', SublimeVideo );\r\n\r\nSublimeVideo.isType = function( video ) {\r\n\tif ( video.hasClass( 'sublime' ) && typeof sublime !== 'undefined' ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nSublimeVideo.prototype._init = function() {\r\n\tvar that = this;\r\n\r\n\tsublime.ready(function() {\r\n\t\t// Get a reference to the player\r\n\t\tthat.player = sublime.player( that.$video.attr( 'id' ) );\r\n\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\r\n\t\tthat.player.on( 'play', function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\r\n\t\tthat.player.on( 'pause', function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\r\n\t\tthat.player.on( 'stop', function() {\r\n\t\t\tthat.state = 'stopped';\r\n\t\t\tthat.trigger({ type: 'stop' });\r\n\t\t});\r\n\r\n\t\tthat.player.on( 'end', function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nSublimeVideo.prototype.play = function() {\r\n\tthis.player.play();\r\n};\r\n\r\nSublimeVideo.prototype.pause = function() {\r\n\tthis.player.pause();\r\n};\r\n\r\nSublimeVideo.prototype.stop = function() {\r\n\tthis.player.stop();\r\n};\r\n\r\nSublimeVideo.prototype.replay = function() {\r\n\tthis.player.stop();\r\n\tthis.player.play();\r\n};\r\n\r\n// JWPlayer video\r\nvar JWPlayerVideo = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nJWPlayerVideo.prototype = new Video();\r\nJWPlayerVideo.prototype.constructor = JWPlayerVideo;\r\n$.VideoController.addPlayer( 'JWPlayerVideo', JWPlayerVideo );\r\n\r\nJWPlayerVideo.isType = function( video ) {\r\n\tif ( ( typeof video.attr( 'data-jwplayer-id' ) !== 'undefined' || video.hasClass( 'jwplayer' ) || video.find( \"object[data*='jwplayer']\" ).length !== 0 ) &&\r\n\t\ttypeof jwplayer !== 'undefined') {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nJWPlayerVideo.prototype._init = function() {\r\n\tvar that = this,\r\n\t\tvideoID;\r\n\r\n\tif ( this.$video.hasClass( 'jwplayer' ) ) {\r\n\t\tvideoID = this.$video.attr( 'id' );\r\n\t} else if ( typeof this.$video.attr( 'data-jwplayer-id' ) !== 'undefined' ) {\r\n\t\tvideoID = this.$video.attr( 'data-jwplayer-id');\r\n\t} else if ( this.$video.find( \"object[data*='jwplayer']\" ).length !== 0 ) {\r\n\t\tvideoID = this.$video.find( 'object' ).attr( 'id' );\r\n\t}\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = jwplayer( videoID );\r\n\r\n\tthis.player.onReady(function() {\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\t\r\n\t\tthat.player.onPlay(function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\r\n\t\tthat.player.onPause(function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.onComplete(function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nJWPlayerVideo.prototype.play = function() {\r\n\tthis.player.play( true );\r\n};\r\n\r\nJWPlayerVideo.prototype.pause = function() {\r\n\tthis.player.pause( true );\r\n};\r\n\r\nJWPlayerVideo.prototype.stop = function() {\r\n\tthis.player.stop();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nJWPlayerVideo.prototype.replay = function() {\r\n\tthis.player.seek( 0 );\r\n\tthis.player.play( true );\r\n};\r\n\r\n})( jQuery );","TemplateMonster_GoogleMap/js/google-map-page-plugin.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\n\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'text!TemplateMonster_GoogleMap/templates/plugin.html',\r\n    'jquery/ui',\r\n    'domReady!'\r\n], function($, mageTemplate ,pluginTemplate) {\r\n    'use strict';\r\n\r\n    $.widget('TemplateMonster.googleMapPagePlugin', {\r\n\r\n        options: {\r\n            pluginPageData: {},\r\n            pagetype: {\r\n                home: 'cms-index-index',\r\n                contacts: 'contact-index-index'\r\n            },\r\n            contactSelector: '.page-title-wrapper',\r\n            template: pluginTemplate,\r\n            group: {}\r\n        },\r\n\r\n        _create: function() {\r\n            var pageData = this.options.pluginPageData;\r\n\r\n            if(!pageData) {\r\n                return false;\r\n            }\r\n\r\n            var $this = this;\r\n            var page = $this._getCurrentPageType();\r\n\r\n            if(page || pageData.footer) {\r\n                var pageType = (page) ? page.type : pageData.footer;\r\n                var selector = '';\r\n                $.each(pageData, function(group, data){\r\n                    if(group == pageType || group == 'footer') {\r\n                        data.group = group;\r\n                        $this._setWidth(data);\r\n                        $this._setHeight(data);\r\n                        selector = $this._getSelector(group);\r\n                        if(!selector){ return false;}\r\n                        $this._insertMap(selector, group, data);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        _setWidth: function(data) {\r\n            if (data.width.slice(-1) != '%'){\r\n                data.width += 'px';\r\n            }\r\n        },\r\n\r\n        _setHeight: function(data) {\r\n            if (data.height.slice(-1) != '%'){\r\n                data.height += 'px';\r\n            }\r\n        },\r\n\r\n        _insertMap: function(selector, group, data) {\r\n            if(selector == 'before_footer') {\r\n                $('footer').prepend(this._googleMapPluginCode(data));\r\n            } else if (selector == 'after_footer'){\r\n                $('footer').append(this._googleMapPluginCode(data));\r\n            } else {\r\n                $(selector).append(this._googleMapPluginCode(data));\r\n            }\r\n        },\r\n\r\n        _getSelector: function(group) {\r\n            switch (group) {\r\n                case 'home':\r\n                    return this.options.pluginPageData.home.show_on;\r\n                case 'contacts':\r\n                    return this.options.contactSelector;\r\n                case 'footer':\r\n                    return 'footer ' + this.options.pluginPageData.footer.selector;\r\n                default:\r\n                    return false;\r\n            }\r\n        },\r\n\r\n        _getCurrentPageType: function() {\r\n            var body = $('body');\r\n            var pageType = null;\r\n            $.each(this.options.pagetype, function(index, value){\r\n                if(body.hasClass(value)) {\r\n                    pageType = {class: value, type: index};\r\n                }\r\n            });\r\n            return pageType;\r\n        },\r\n\r\n        _googleMapPluginCode: function(pageData) {\r\n            var source = this.options.template;\r\n            var data = pageData;\r\n            var template = mageTemplate(source);\r\n            return template({\r\n                data: data\r\n            });\r\n        },\r\n\r\n    });\r\n\r\n    return $.TemplateMonster.googleMapPagePlugin;\r\n});","TemplateMonster_LayoutSwitcher/js/customization-tool.js":"define([\n    \"jquery\"\n], function ($, mediaCheck) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.customizationTool', {\n\n        options: {\n            blockId: '#customization_tool',\n            toggleId: '#ls-icon',\n            width: '270px'\n        },\n\n        _create: function () {\n            var obj = this;\n            var customizationBlock = $(this.options.blockId);\n            this._setBlockWidth(customizationBlock);\n\n            $(this.options.toggleId).on('click', function (e) {\n                var showBlock = !customizationBlock.hasClass('on');\n                obj._showBlock(customizationBlock, showBlock);\n            });\n        },\n\n        _setBlockWidth: function (customizationBlock) {\n            var blockWidth = this.options.width;\n            customizationBlock.css({\n                \"width\": blockWidth,\n                \"left\": \"-\" + blockWidth\n            });\n            customizationBlock.show();\n        },\n\n        _showBlock: function (customizationBlock, showBlock) {\n            var blockWidth = this.options.width;\n            $(this.options.toggleId).toggleClass('fa-close fa-cogs');\n            customizationBlock.toggleClass('on').animate({\n                left: showBlock ? 0 : \"-\" + blockWidth\n            }, 300);\n        }\n\n    });\n\n    return $.TemplateMonster.customizationTool;\n});","TemplateMonster_Megamenu/js/megamenu.js":"define([\n    \"jquery\",\n    \"matchMedia\",\n    \"menu\"\n], function ($, mediaCheck) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.megamenu', $.mage.menu, {\n\n        _create: function() {\n            var megamenu = $('.tm-megamenu', this.element);\n\n            this._mobileMenu();\n            this._super();\n            this._toggleClass(megamenu);\n            this._setWidthMegamenu(megamenu);\n        },\n\n        _setOption: function( key, value ) {\n            this._super( \"_setOption\", key, value );\n        },\n\n        toggle: function () {\n            if($(this.element).parent('.desktop-only').length){\n                return false;\n            }\n            this._super();\n        },\n\n        _mobileMenu: function () {\n            var topmenu = $('nav.tm-top-navigation');\n            if(topmenu.length) return false;\n\n            var nav = $('nav.mobile-only');\n            var navDesktop = $(this.element).parent('.desktop-only');\n\n            console.log('ddd')\n\n            mediaCheck({\n                media: '(min-width: 767px)',\n                entry: function () {\n                    nav.removeClass('active');\n                    navDesktop.addClass('active');\n                },\n                exit: function ()  {\n                    nav.addClass('active');\n                    navDesktop.removeClass('active');\n                }\n            });\n        },\n\n        _open: function( submenu ) {\n            this._super( submenu );\n\n            if (submenu.is(this.options.differentPositionMenus)) {\n                var position = $.extend({\n                    of: this.active\n                }, this.options.differentPosition );\n                submenu.position( position );\n            }\n        },\n\n        _toggleClass: function( selector ) {\n            var ownClass = 'megamenu-wrapper';\n            mediaCheck({\n                media: '(max-width: 767px)',\n                entry: function () { \n                    selector.removeClass(ownClass);\n                },\n                exit: function ()  {\n                    if( !selector.hasClass(ownClass) ) {\n                        selector.addClass(ownClass);\n                    }\n                }\n            });\n        },\n\n        _setWidthMegamenu: function( selector ) {\n            if(selector.hasClass('in-sidebar')){\n                $(window).on('resize.menu', function(){\n                    var pageWidth = $('.columns').innerWidth();\n                    var sidebarWidth = $('.sidebar .navigation').innerWidth();\n                    selector.css('min-width', pageWidth - sidebarWidth);\n                }).trigger('resize.menu');\n            }\n        }\n\n    });\n\n    return $.TemplateMonster.megamenu;\n});","TemplateMonster_Megamenu/js/subMenuViewMode.js":"define([\n    \"jquery\",\n    \"matchMedia\",\n], function ($, mediaCheck) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.subMenuViewMode', {\n\n        _create: function() {\n            this._toggleSubCategories(this.element);\n        },\n\n        _toggleSubCategories: function ( mmSubmenu ) {\n            mmSubmenu.each(function () {\n                var submenu = $(this)\n                if ( submenu.hasClass('vm-pop-up') || submenu.hasClass('vm-easing')) {\n                    mediaCheck({\n                        media: '(max-width: 767px)',\n                        entry: function () {\n                            submenu.show();\n                            submenu.parent('li').unbind('hover');\n                        },\n                        exit: function () {\n                            submenu.hide();\n                            submenu.parent('li').hover(function () {\n                                setTimeout(function () {\n                                    submenu.fadeIn(0);\n                                }, 200);\n\n                            }, function () {\n                                setTimeout(function () {\n                                    submenu.fadeOut(0);\n                                }, 300);\n                            });\n                        }\n                    });\n                } else { return; }\n            });\n        }\n    });\n\n    return $.TemplateMonster.subMenuViewMode;\n});","TemplateMonster_NewsletterPopup/js/popup.js":"define([\n    'jquery',\n    'underscore',\n    'text!TemplateMonster_NewsletterPopup/templates/modal-popup.html',\n    'jquery/validate',\n    'jquery/jquery.cookie',\n    'Magento_Ui/js/modal/modal',\n    'mage/loader'\n], function ($, _, popupTpl) {\n    'use strict';\n\n    $.widget('tm.newsletterPopup', {\n        options: {\n            title: '',\n            content: '',\n            submit: '',\n            cancel: '',\n            cookieName: 'tm-newsletter-popup',\n            footerLinkSelector: '.newsletter-popup-link',\n            customClass: '',\n            isShowSpinner: true,\n            timeout: 0,\n            isShowOnStartup: true,\n            isShowOnFooter: true,\n            popupTpl: popupTpl,\n            socialLinks: []\n        },\n        STATE_SUBSCRIBED: 2,\n        STATE_STARTUP_SHOWN: 4,\n        STATE_FOOTER_SHOWN: 8,\n        _currentState: null,\n        _modal: null,\n\n        _create: function() {\n            this._bind();\n            this._modal = this._createModal();\n            setTimeout(this._showOnStartup, this.options.timeout * 1000);\n        },\n\n        _bind: function() {\n            _.bindAll(this, '_windowScrollHandler', '_linkClickHandler', '_formSubmitHandler', '_showOnStartup', '_showModal', '_closeModal', '_onClose', '_subscribe', '_cancel', '_successHandler');\n            $('form', this.element).submit(this._formSubmitHandler);\n            $(this.options.footerLinkSelector).click(this._linkClickHandler);\n            if (this.options.isShowOnFooter) {\n                $(window).scroll(this._windowScrollHandler);\n            }\n        },\n\n        _createModal: function () {\n            return $(this.element).modal({\n                title: this.options.title,\n                content: this.options.content,\n                buttons: [\n                    {\n                        text: this.options.submit,\n                        class: 'subscribe',\n                        click: this._subscribe\n                    },\n                    {\n                        text: this.options.cancel,\n                        click: this._cancel\n                    }\n                ],\n                closed: this._onClose,\n                modalClass: 'newsletter-popup ' + this.options.customClass,\n                popupTpl: popupTpl,\n                socialLinks: this.options.socialLinks,\n                clickableOverlay: true\n            });\n        },\n\n        _windowScrollHandler: function() {\n            if (!this._isScrolledToFooter()) {\n                return;\n            }\n\n            if (!this._isHasState(this.STATE_FOOTER_SHOWN, this.STATE_SUBSCRIBED)) {\n                this._currentState = this.STATE_FOOTER_SHOWN;\n                this._showModal();\n            }\n        },\n\n        _linkClickHandler: function(event) {\n            this._showModal();\n            event.preventDefault();\n        },\n\n        _formSubmitHandler: function(event) {\n            var form = $(event.currentTarget);\n\n            if (!form.validation('isValid')) {\n                return;\n            }\n\n            var url = form.attr('action'),\n                params = form.serialize();\n\n            $.ajax(url, {\n                method: 'POST',\n                data: params,\n                showLoader: this.options.isShowSpinner\n            }).done(this._successHandler).fail(this._closeModal);\n\n            event.preventDefault();\n        },\n\n        _showOnStartup: function() {\n            if (!this.options.isShowOnStartup) {\n                return;\n            }\n\n            if (!this._isHasState(this.STATE_STARTUP_SHOWN, this.STATE_SUBSCRIBED)) {\n                this._currentState = this.STATE_STARTUP_SHOWN;\n                this._showModal();\n            }\n        },\n\n        _showModal: function() {\n            this._modal.trigger('openModal');\n        },\n\n        _closeModal: function() {\n            this._modal.trigger('closeModal');\n        },\n\n        _onClose: function() {\n            this._updateState(this._currentState);\n        },\n\n        _subscribe: function() {\n            this.element.find('form').submit();\n        },\n\n        _cancel: function() {\n            this._updateState(this._currentState);\n            this._closeModal();\n        },\n\n        _isScrolledToFooter: function() {\n            var page = $(window),\n                footer = $('footer');\n\n            var pageTop = page.scrollTop(),\n                pageBottom = pageTop + page.height();\n\n            var footerTop = footer.offset().top,\n                footerBottom = footerTop + footer.height();\n\n            return footerTop >= pageTop && footerBottom <= pageBottom;\n        },\n\n        _successHandler: function() {\n            this._updateState(this.STATE_SUBSCRIBED);\n            this._closeModal();\n        },\n\n        _updateState: function(state) {\n            if (!state) {\n                return;\n            }\n\n            var currentState = Number($.cookie(this.options.cookieName));\n            var newState = currentState | state;\n\n            var options = {};\n            if (newState & this.STATE_SUBSCRIBED) {\n                options.expires = 365;\n            }\n\n            $.cookie(this.options.cookieName, newState, options);\n        },\n\n        _isHasState: function() {\n            var currentState = Number($.cookie(this.options.cookieName));\n\n            return _.any(_.map(arguments, function(state) {\n                return (currentState & state) == state;\n            }))\n        }\n    });\n\n    return $.tm.newsletterPopup;\n});","TemplateMonster_Parallax/js/parallax.js":"define([\n    'jquery',\n    'jquery.rd-parallax',\n    'jquery.youtubebackground',\n    'jquery.vide'\n], function ($) {\n    'use strict';\n\n    $.widget('tm.parallax', {\n        options: {\n            staticVideoSelector: '.static-video',\n            youtubeVideoSelector: '.youtube-video',\n            videDefaultOptions: {\n                postType: 'detect',\n                loop: true,\n                autoplay: true,\n                position: '0, 0'\n            }\n        },\n\n        _create: function() {\n            var self = this;\n            var elem = this.element;\n            $(this.options.staticVideoSelector).each(function() {\n                var paths = {\n                    mp4: $(this).data('mp4'),\n                    webm: $(this).data('webm'),\n                    poster: $(this).data('poster')\n                };\n                $(this).vide(paths, self.options.videDefaultOptions);\n            });\n\n            $(this.options.youtubeVideoSelector).each(function() {\n                $(this).YTPlayer({\n                    fitToBackground: false,\n                    videoId: $(this).data('video-id'),\n                    width: '100%',\n                    playerVars: {\n                        wmode: 'transparent',\n                    },\n                });\n            });\n            $.RDParallax();\n            $('.rd-parallax').css({'visibility' : 'visible'});\n        }\n    });\n\n    return $.tm.parallax;\n});","TemplateMonster_Parallax/js/jquery-vide/jquery.vide.js":"/*\n *  Vide - v0.5.0\n *  Easy as hell jQuery plugin for video backgrounds.\n *  http://vodkabears.github.io/vide/\n *\n *  Made by Ilya Makarov\n *  Under MIT License\n */\n!(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    factory(root.jQuery);\n  }\n})(this, function($) {\n\n  'use strict';\n\n  /**\n   * Name of the plugin\n   * @private\n   * @const\n   * @type {String}\n   */\n  var PLUGIN_NAME = 'vide';\n\n  /**\n   * Default settings\n   * @private\n   * @const\n   * @type {Object}\n   */\n  var DEFAULTS = {\n    volume: 1,\n    playbackRate: 1,\n    muted: true,\n    loop: true,\n    autoplay: true,\n    position: '50% 50%',\n    posterType: 'detect',\n    resizing: true,\n    bgColor: 'transparent',\n    className: ''\n  };\n\n  /**\n   * Not implemented error message\n   * @private\n   * @const\n   * @type {String}\n   */\n  var NOT_IMPLEMENTED_MSG = 'Not implemented';\n\n  /**\n   * Parse a string with options\n   * @private\n   * @param {String} str\n   * @returns {Object|String}\n   */\n  function parseOptions(str) {\n    var obj = {};\n    var delimiterIndex;\n    var option;\n    var prop;\n    var val;\n    var arr;\n    var len;\n    var i;\n\n    // Remove spaces around delimiters and split\n    arr = str.replace(/\\s*:\\s*/g, ':').replace(/\\s*,\\s*/g, ',').split(',');\n\n    // Parse a string\n    for (i = 0, len = arr.length; i < len; i++) {\n      option = arr[i];\n\n      // Ignore urls and a string without colon delimiters\n      if (\n        option.search(/^(http|https|ftp):\\/\\//) !== -1 ||\n        option.search(':') === -1\n      ) {\n        break;\n      }\n\n      delimiterIndex = option.indexOf(':');\n      prop = option.substring(0, delimiterIndex);\n      val = option.substring(delimiterIndex + 1);\n\n      // If val is an empty string, make it undefined\n      if (!val) {\n        val = undefined;\n      }\n\n      // Convert a string value if it is like a boolean\n      if (typeof val === 'string') {\n        val = val === 'true' || (val === 'false' ? false : val);\n      }\n\n      // Convert a string value if it is like a number\n      if (typeof val === 'string') {\n        val = !isNaN(val) ? +val : val;\n      }\n\n      obj[prop] = val;\n    }\n\n    // If nothing is parsed\n    if (prop == null && val == null) {\n      return str;\n    }\n\n    return obj;\n  }\n\n  /**\n   * Parse a position option\n   * @private\n   * @param {String} str\n   * @returns {Object}\n   */\n  function parsePosition(str) {\n    str = '' + str;\n\n    // Default value is a center\n    var args = str.split(/\\s+/);\n    var x = '50%';\n    var y = '50%';\n    var len;\n    var arg;\n    var i;\n\n    for (i = 0, len = args.length; i < len; i++) {\n      arg = args[i];\n\n      // Convert values\n      if (arg === 'left') {\n        x = '0%';\n      } else if (arg === 'right') {\n        x = '100%';\n      } else if (arg === 'top') {\n        y = '0%';\n      } else if (arg === 'bottom') {\n        y = '100%';\n      } else if (arg === 'center') {\n        if (i === 0) {\n          x = '50%';\n        } else {\n          y = '50%';\n        }\n      } else {\n        if (i === 0) {\n          x = arg;\n        } else {\n          y = arg;\n        }\n      }\n    }\n\n    return { x: x, y: y };\n  }\n\n  /**\n   * Search a poster\n   * @private\n   * @param {String} path\n   * @param {Function} callback\n   */\n  function findPoster(path, callback) {\n    var onLoad = function() {\n      callback(this.src);\n    };\n\n    $('<img src=\"' + path + '\">').load(onLoad);\n    //$('<img src=\"' + path + '.jpg\">').load(onLoad);\n    //$('<img src=\"' + path + '.jpeg\">').load(onLoad);\n    //$('<img src=\"' + path + '.png\">').load(onLoad);\n  }\n\n  /**\n   * Vide constructor\n   * @param {HTMLElement} element\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @constructor\n   */\n  function Vide(element, path, options) {\n    this.$element = $(element);\n\n    // Parse path\n    if (typeof path === 'string') {\n      path = parseOptions(path);\n    }\n\n    // Parse options\n    if (!options) {\n      options = {};\n    } else if (typeof options === 'string') {\n      options = parseOptions(options);\n    }\n\n    // Remove an extension\n    if (typeof path === 'string') {\n      path = path.replace(/\\.\\w*$/, '');\n    } else if (typeof path === 'object') {\n      for (var i in path) {\n        if (path.hasOwnProperty(i)) {\n          var tempPath = path[i];\n          var ext = tempPath.slice(tempPath.lastIndexOf('.') + 1);\n          if (ext != \"png\" && ext != \"jpg\" && ext != \"jpeg\" && ext != \"gif\") {\n            path[i] = path[i].replace(/\\.\\w*$/, '');\n          }\n        }\n      }\n    }\n\n    this.settings = $.extend({}, DEFAULTS, options);\n    this.path = path;\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      this.init();\n    } catch (e) {\n      if (e.message !== NOT_IMPLEMENTED_MSG) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Initialization\n   * @public\n   */\n  Vide.prototype.init = function() {\n    var vide = this;\n    var path = vide.path;\n    var poster = path;\n    var sources = '';\n    var $element = vide.$element;\n    var settings = vide.settings;\n    var position = parsePosition(settings.position);\n    var posterType = settings.posterType;\n    var $video;\n    var $wrapper;\n\n    // Set styles of a video wrapper\n    $wrapper = vide.$wrapper = $('<div>')\n      .addClass(settings.className)\n      .css({\n        position: 'absolute',\n        'z-index': -1,\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        overflow: 'hidden',\n        '-webkit-background-size': 'cover',\n        '-moz-background-size': 'cover',\n        '-o-background-size': 'cover',\n        'background-size': 'cover',\n        'background-color': settings.bgColor,\n        'background-repeat': 'no-repeat',\n        'background-position': position.x + ' ' + position.y\n      });\n\n    // Get a poster path\n    if (typeof path === 'object') {\n      if (path.poster) {\n        poster = path.poster;\n      } else {\n        if (path.mp4) {\n          poster = path.mp4;\n        } else if (path.webm) {\n          poster = path.webm;\n        } else if (path.ogv) {\n          poster = path.ogv;\n        }\n      }\n    }\n\n    // Set a video poster\n    if (posterType === 'detect') {\n      findPoster(poster, function(url) {\n        $wrapper.css('background-image', 'url(' + url + ')');\n      });\n    } else if (posterType !== 'none') {\n      $wrapper.css('background-image', 'url(' + poster + '.' + posterType + ')');\n    }\n\n    // If a parent element has a static position, make it relative\n    if ($element.css('position') === 'static') {\n      $element.css('position', 'relative');\n    }\n\n    $element.prepend($wrapper);\n\n    if (typeof path === 'object') {\n      if (path.mp4) {\n        sources += '<source src=\"' + path.mp4 + '.mp4\" type=\"video/mp4\">';\n      }\n\n      if (path.webm) {\n        sources += '<source src=\"' + path.webm + '.webm\" type=\"video/webm\">';\n      }\n\n      if (path.ogv) {\n        sources += '<source src=\"' + path.ogv + '.ogv\" type=\"video/ogg\">';\n      }\n\n      $video = vide.$video = $('<video>' + sources + '</video>');\n    } else {\n      $video = vide.$video = $('<video>' +\n        '<source src=\"' + path + '.mp4\" type=\"video/mp4\">' +\n        '<source src=\"' + path + '.webm\" type=\"video/webm\">' +\n        '<source src=\"' + path + '.ogv\" type=\"video/ogg\">' +\n        '</video>');\n    }\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      $video\n\n        // Set video properties\n        .prop({\n          autoplay: settings.autoplay,\n          loop: settings.loop,\n          volume: settings.volume,\n          muted: settings.muted,\n          defaultMuted: settings.muted,\n          playbackRate: settings.playbackRate,\n          defaultPlaybackRate: settings.playbackRate\n        });\n    } catch (e) {\n      throw new Error(NOT_IMPLEMENTED_MSG);\n    }\n\n    // Video alignment\n    $video.css({\n      margin: 'auto',\n      position: 'absolute',\n      'z-index': -1,\n      top: position.y,\n      left: position.x,\n      '-webkit-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-ms-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-moz-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      transform: 'translate(-' + position.x + ', -' + position.y + ')',\n\n      // Disable visibility, while loading\n      visibility: 'hidden',\n      opacity: 0\n    })\n\n    // Resize a video, when it's loaded\n    .one('canplaythrough.' + PLUGIN_NAME, function() {\n      vide.resize();\n    })\n\n    // Make it visible, when it's already playing\n    .one('playing.' + PLUGIN_NAME, function() {\n      $video.css({\n        visibility: 'visible',\n        opacity: 1\n      });\n      $wrapper.css('background-image', 'none');\n    });\n\n    // Resize event is available only for 'window'\n    // Use another code solutions to detect DOM elements resizing\n    $element.on('resize.' + PLUGIN_NAME, function() {\n      if (settings.resizing) {\n        vide.resize();\n      }\n    });\n\n    // Append a video\n    $wrapper.append($video);\n  };\n\n  /**\n   * Get a video element\n   * @public\n   * @returns {HTMLVideoElement}\n   */\n  Vide.prototype.getVideoObject = function() {\n    return this.$video[0];\n  };\n\n  /**\n   * Resize a video background\n   * @public\n   */\n  Vide.prototype.resize = function() {\n    if (!this.$video) {\n      return;\n    }\n\n    var $wrapper = this.$wrapper;\n    var $video = this.$video;\n    var video = $video[0];\n\n    // Get a native video size\n    var videoHeight = video.videoHeight;\n    var videoWidth = video.videoWidth;\n\n    // Get a wrapper size\n    var wrapperHeight = $wrapper.height();\n    var wrapperWidth = $wrapper.width();\n\n    if (wrapperWidth / videoWidth > wrapperHeight / videoHeight) {\n      $video.css({\n\n        // +2 pixels to prevent an empty space after transformation\n        width: wrapperWidth + 2,\n        height: 'auto'\n      });\n    } else {\n      $video.css({\n        width: 'auto',\n\n        // +2 pixels to prevent an empty space after transformation\n        height: wrapperHeight + 2\n      });\n    }\n  };\n\n  /**\n   * Destroy a video background\n   * @public\n   */\n  Vide.prototype.destroy = function() {\n    delete $[PLUGIN_NAME].lookup[this.index];\n    this.$video && this.$video.off(PLUGIN_NAME);\n    this.$element.off(PLUGIN_NAME).removeData(PLUGIN_NAME);\n    this.$wrapper.remove();\n  };\n\n  /**\n   * Special plugin object for instances.\n   * @public\n   * @type {Object}\n   */\n  $[PLUGIN_NAME] = {\n    lookup: []\n  };\n\n  /**\n   * Plugin constructor\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @returns {JQuery}\n   * @constructor\n   */\n  $.fn[PLUGIN_NAME] = function(path, options) {\n    var instance;\n\n    this.each(function() {\n      instance = $.data(this, PLUGIN_NAME);\n\n      // Destroy the plugin instance if exists\n      instance && instance.destroy();\n\n      // Create the plugin instance\n      instance = new Vide(this, path, options);\n      instance.index = $[PLUGIN_NAME].lookup.push(instance) - 1;\n      $.data(this, PLUGIN_NAME, instance);\n    });\n\n    return this;\n  };\n\n  $(document).ready(function() {\n    var $window = $(window);\n\n    // Window resize event listener\n    $window.on('resize.' + PLUGIN_NAME, function() {\n      for (var len = $[PLUGIN_NAME].lookup.length, i = 0, instance; i < len; i++) {\n        instance = $[PLUGIN_NAME].lookup[i];\n\n        if (instance && instance.settings.resizing) {\n          instance.resize();\n        }\n      }\n    });\n\n    // https://github.com/VodkaBears/Vide/issues/68\n    $window.on('unload.' + PLUGIN_NAME, function() {\n      return false;\n    });\n\n    // Auto initialization\n    // Add 'data-vide-bg' attribute with a path to the video without extension\n    // Also you can pass options throw the 'data-vide-options' attribute\n    // 'data-vide-options' must be like 'muted: false, volume: 0.5'\n    $(document).find('[data-' + PLUGIN_NAME + '-bg]').each(function(i, element) {\n      var $element = $(element);\n      var options = $element.data(PLUGIN_NAME + '-options');\n      var path = $element.data(PLUGIN_NAME + '-bg');\n\n      $element[PLUGIN_NAME](path, options);\n    });\n  });\n\n});\n","TemplateMonster_Parallax/js/jquery-vide/jquery.vide.min.js":"/*\n *  Vide - v0.5.0\n *  Easy as hell jQuery plugin for video backgrounds.\n *  http://vodkabears.github.io/vide/\n *\n *  Made by Ilya Makarov\n *  Under MIT License\n */\n!function(a,b){\"function\"==typeof define&&define.amd?define([\"jquery\"],b):b(\"object\"==typeof exports?require(\"jquery\"):a.jQuery)}(this,function(a){\"use strict\";function b(a){var b,c,d,e,f,g,h,i={};for(f=a.replace(/\\s*:\\s*/g,\":\").replace(/\\s*,\\s*/g,\",\").split(\",\"),h=0,g=f.length;g>h&&(c=f[h],-1===c.search(/^(http|https|ftp):\\/\\//)&&-1!==c.search(\":\"));h++)b=c.indexOf(\":\"),d=c.substring(0,b),e=c.substring(b+1),e||(e=void 0),\"string\"==typeof e&&(e=\"true\"===e||(\"false\"===e?!1:e)),\"string\"==typeof e&&(e=isNaN(e)?e:+e),i[d]=e;return null==d&&null==e?a:i}function c(a){a=\"\"+a;var b,c,d,e=a.split(/\\s+/),f=\"50%\",g=\"50%\";for(d=0,b=e.length;b>d;d++)c=e[d],\"left\"===c?f=\"0%\":\"right\"===c?f=\"100%\":\"top\"===c?g=\"0%\":\"bottom\"===c?g=\"100%\":\"center\"===c?0===d?f=\"50%\":g=\"50%\":0===d?f=c:g=c;return{x:f,y:g}}function d(b,c){var d=function(){c(this.src)};a('<img src=\"'+b+'.gif\">').load(d),a('<img src=\"'+b+'.jpg\">').load(d),a('<img src=\"'+b+'.jpeg\">').load(d),a('<img src=\"'+b+'.png\">').load(d)}function e(c,d,e){if(this.$element=a(c),\"string\"==typeof d&&(d=b(d)),e?\"string\"==typeof e&&(e=b(e)):e={},\"string\"==typeof d)d=d.replace(/\\.\\w*$/,\"\");else if(\"object\"==typeof d)for(var f in d)d.hasOwnProperty(f)&&(d[f]=d[f].replace(/\\.\\w*$/,\"\"));this.settings=a.extend({},g,e),this.path=d;try{this.init()}catch(i){if(i.message!==h)throw i}}var f=\"vide\",g={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:\"50% 50%\",posterType:\"detect\",resizing:!0,bgColor:\"transparent\",className:\"\"},h=\"Not implemented\";e.prototype.init=function(){var b,e,g=this,i=g.path,j=i,k=\"\",l=g.$element,m=g.settings,n=c(m.position),o=m.posterType;e=g.$wrapper=a(\"<div>\").addClass(m.className).css({position:\"absolute\",\"z-index\":-1,top:0,left:0,bottom:0,right:0,overflow:\"hidden\",\"-webkit-background-size\":\"cover\",\"-moz-background-size\":\"cover\",\"-o-background-size\":\"cover\",\"background-size\":\"cover\",\"background-color\":m.bgColor,\"background-repeat\":\"no-repeat\",\"background-position\":n.x+\" \"+n.y}),\"object\"==typeof i&&(i.poster?j=i.poster:i.mp4?j=i.mp4:i.webm?j=i.webm:i.ogv&&(j=i.ogv)),\"detect\"===o?d(j,function(a){e.css(\"background-image\",\"url(\"+a+\")\")}):\"none\"!==o&&e.css(\"background-image\",\"url(\"+j+\".\"+o+\")\"),\"static\"===l.css(\"position\")&&l.css(\"position\",\"relative\"),l.prepend(e),\"object\"==typeof i?(i.mp4&&(k+='<source src=\"'+i.mp4+'.mp4\" type=\"video/mp4\">'),i.webm&&(k+='<source src=\"'+i.webm+'.webm\" type=\"video/webm\">'),i.ogv&&(k+='<source src=\"'+i.ogv+'.ogv\" type=\"video/ogg\">'),b=g.$video=a(\"<video>\"+k+\"</video>\")):b=g.$video=a('<video><source src=\"'+i+'.mp4\" type=\"video/mp4\"><source src=\"'+i+'.webm\" type=\"video/webm\"><source src=\"'+i+'.ogv\" type=\"video/ogg\"></video>');try{b.prop({autoplay:m.autoplay,loop:m.loop,volume:m.volume,muted:m.muted,defaultMuted:m.muted,playbackRate:m.playbackRate,defaultPlaybackRate:m.playbackRate})}catch(p){throw new Error(h)}b.css({margin:\"auto\",position:\"absolute\",\"z-index\":-1,top:n.y,left:n.x,\"-webkit-transform\":\"translate(-\"+n.x+\", -\"+n.y+\")\",\"-ms-transform\":\"translate(-\"+n.x+\", -\"+n.y+\")\",\"-moz-transform\":\"translate(-\"+n.x+\", -\"+n.y+\")\",transform:\"translate(-\"+n.x+\", -\"+n.y+\")\",visibility:\"hidden\",opacity:0}).one(\"canplaythrough.\"+f,function(){g.resize()}).one(\"playing.\"+f,function(){b.css({visibility:\"visible\",opacity:1}),e.css(\"background-image\",\"none\")}),l.on(\"resize.\"+f,function(){m.resizing&&g.resize()}),e.append(b)},e.prototype.getVideoObject=function(){return this.$video[0]},e.prototype.resize=function(){if(this.$video){var a=this.$wrapper,b=this.$video,c=b[0],d=c.videoHeight,e=c.videoWidth,f=a.height(),g=a.width();g/e>f/d?b.css({width:g+2,height:\"auto\"}):b.css({width:\"auto\",height:f+2})}},e.prototype.destroy=function(){delete a[f].lookup[this.index],this.$video&&this.$video.off(f),this.$element.off(f).removeData(f),this.$wrapper.remove()},a[f]={lookup:[]},a.fn[f]=function(b,c){var d;return this.each(function(){d=a.data(this,f),d&&d.destroy(),d=new e(this,b,c),d.index=a[f].lookup.push(d)-1,a.data(this,f,d)}),this},a(document).ready(function(){var b=a(window);b.on(\"resize.\"+f,function(){for(var b,c=a[f].lookup.length,d=0;c>d;d++)b=a[f].lookup[d],b&&b.settings.resizing&&b.resize()}),b.on(\"unload.\"+f,function(){return!1}),a(document).find(\"[data-\"+f+\"-bg]\").each(function(b,c){var d=a(c),e=d.data(f+\"-options\"),g=d.data(f+\"-bg\");d[f](g,e)})})});","TemplateMonster_Parallax/js/jquery-youtubebackground/jquery.youtubebackground.js":"/*\n * YoutubeBackground - A wrapper for the Youtube API - Great for fullscreen background videos or just regular videos.\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n *\n * Version:  1.0.5\n *\n */\n\n// Chain of Responsibility pattern. Creates base class that can be overridden.\nif (typeof Object.create !== \"function\") {\n  Object.create = function(obj) {\n    function F() {}\n    F.prototype = obj;\n    return new F();\n  };\n}\n\n(function($, window, document) {\n  var\n    loadAPI = function loadAPI(callback) {\n\n      // Load Youtube API\n      var tag = document.createElement('script'),\n      head = document.getElementsByTagName('head')[0];\n      \n      if(window.location.origin == 'file://') {\n        tag.src = 'http://www.youtube.com/iframe_api';\n      } else {\n        tag.src = '//www.youtube.com/iframe_api';\n      }\n      \n      head.appendChild(tag);\n\n      // Clean up Tags.\n      head = null;\n      tag = null;\n\n      iframeIsReady(callback);\n    },\n    iframeIsReady = function iframeIsReady(callback) {\n      // Listen for Gobal YT player callback\n      if (typeof YT === 'undefined' && typeof window.loadingPlayer === 'undefined') {\n        // Prevents Ready Event from being called twice\n        window.loadingPlayer = true;\n\n        \n        // Creates deferred so, other players know when to wait.\n        window.dfd = $.Deferred();\n        window.onYouTubeIframeAPIReady = function() {\n          window.onYouTubeIframeAPIReady = null;\n          window.dfd.resolve( \"done\" );\n          callback();\n        };\n      } else if (typeof YT === 'object')  {\n        callback();\n      } else {\n        window.dfd.done(function( name ) {\n          callback();\n        });\n      }\n    };\n\n  // YTPlayer Object\n  YTPlayer = {\n    player: null,\n\n    // Defaults\n    defaults: {\n      ratio: 16 / 9,\n      videoId: 'LSmgKRx5pBo',\n      mute: true,\n      repeat: true,\n      width: $(window).width(),\n      playButtonClass: 'YTPlayer-play',\n      pauseButtonClass: 'YTPlayer-pause',\n      muteButtonClass: 'YTPlayer-mute',\n      volumeUpClass: 'YTPlayer-volume-up',\n      volumeDownClass: 'YTPlayer-volume-down',\n      start: 0,\n      pauseOnScroll: false,\n      fitToBackground: true,\n      playerVars: {\n        iv_load_policy: 3,\n        modestbranding: 1,\n        autoplay: 1,\n        controls: 0,\n        showinfo: 0,\n        wmode: 'opaque',\n        branding: 0,\n        autohide: 0\n      },\n      events: null\n    },\n\n    /**\n     * @function init\n     * Intializes YTPlayer object\n     */\n    init: function init(node, userOptions) {\n      var self = this;\n\n      self.userOptions = userOptions;\n\n      self.$body = $('body'),\n      self.$node = $(node),\n      self.$window = $(window);\n\n      // Setup event defaults with the reference to this\n      self.defaults.events = {\n        'onReady': function(e) {\n          self.onPlayerReady(e);\n\n          // setup up pause on scroll\n          if (self.options.pauseOnScroll) {\n            self.pauseOnScroll();\n          }\n\n          // Callback for when finished\n          if (typeof self.options.callback == 'function') {\n            self.options.callback.call(this);\n          }\n        },\n        'onStateChange': function(e) {\n          if (e.data === 1) {\n\n            self.$node.find('img').fadeOut(400);\n            self.$node.addClass('loaded');\n          } else if (e.data === 0 && self.options.repeat) { // video ended and repeat option is set true\n            self.player.seekTo(self.options.start);\n          }\n        }\n      }\n\n\n      self.options = $.extend(true, {}, self.defaults, self.userOptions);\n      self.options.height = Math.ceil(self.options.width / self.options.ratio);\n      self.ID = (new Date()).getTime();\n      self.holderID = 'YTPlayer-ID-' + self.ID;\n\n      if (self.options.fitToBackground) {\n        self.createBackgroundVideo();\n      } else {\n        self.createContainerVideo();\n      }\n      // Listen for Resize Event\n      self.$window.on('resize.YTplayer' + self.ID, function() {\n        self.resize(self);\n      });\n\n      loadAPI(self.onYouTubeIframeAPIReady.bind(self));\n\n      self.resize(self);\n\n      return self;\n    },\n\n\n    /**\n     * @function pauseOnScroll\n     * Adds window events to pause video on scroll.\n     */\n    pauseOnScroll: function pauseOnScroll() {\n      var self = this;\n      self.$window.on('scroll.YTplayer' + self.ID, function() {\n        var state = self.player.getPlayerState();\n        if (state === 1) {\n          self.player.pauseVideo();\n        }\n      });\n      self.$window.scrollStopped(function(){\n        var state = self.player.getPlayerState();\n        if (state === 2) {\n          self.player.playVideo();\n        }\n      });\n    },\n    /**\n     * @function createContainerVideo\n     * Adds HTML for video in a container\n     */\n    createContainerVideo: function createContainerVideo() {\n      var self = this;\n\n      /*jshint multistr: true */\n      var $YTPlayerString = $('<div id=\"ytplayer-container' + self.ID + '\" >\\\n                                    <div id=\"' + self.holderID + '\" class=\"ytplayer-player-inline\"></div> \\\n                                    </div> \\\n                                    <div id=\"ytplayer-shield\" class=\"ytplayer-shield\"></div>');\n\n      self.$node.append($YTPlayerString);\n      self.$YTPlayerString = $YTPlayerString;\n      $YTPlayerString = null;\n    },\n\n    /**\n     * @function createBackgroundVideo\n     * Adds HTML for video background\n     */\n    createBackgroundVideo: function createBackgroundVideo() {\n      /*jshint multistr: true */\n      var self = this,\n        $YTPlayerString = $('<div id=\"ytplayer-container' + self.ID + '\" class=\"ytplayer-container background\">\\\n                                    <div id=\"' + self.holderID + '\" class=\"ytplayer-player\"></div>\\\n                                    </div>\\\n                                    <div id=\"ytplayer-shield\" class=\"ytplayer-shield\"></div>');\n\n      self.$node.append($YTPlayerString);\n      self.$YTPlayerString = $YTPlayerString;\n      $YTPlayerString = null;\n    },\n\n    /**\n     * @function resize\n     * Resize event to change video size\n     */\n    resize: function resize(self) {\n      //var self = this;\n      var container = $(window);\n\n      if (!self.options.fitToBackground) {\n        container = self.$node;\n      }\n\n      var width = container.width(),\n        pWidth, // player width, to be defined\n        height = container.height(),\n        pHeight, // player height, tbd\n        $YTPlayerPlayer = $('#' + self.holderID);\n\n      // when screen aspect ratio differs from video, video must center and underlay one dimension\n      if (width / self.options.ratio < height) {\n        pWidth = Math.ceil(height * self.options.ratio); // get new player width\n        $YTPlayerPlayer.width(pWidth).height(height).css({\n          left: (width - pWidth) / 2,\n          top: 0\n        }); // player width is greater, offset left; reset top\n      } else { // new video width < window width (gap to right)\n        pHeight = Math.ceil(width / self.options.ratio); // get new player height\n        $YTPlayerPlayer.width(width).height(pHeight).css({\n          left: 0,\n          top: (height - pHeight) / 2\n        }); // player height is greater, offset top; reset left\n      }\n\n      $YTPlayerPlayer = null;\n      container = null;\n    },\n\n    /**\n     * @function onYouTubeIframeAPIReady\n     * @ params {object} YTPlayer object for access to options\n     * Youtube API calls this function when the player is ready.\n     */\n    onYouTubeIframeAPIReady: function onYouTubeIframeAPIReady() {\n      var self = this;\n      self.player = new window.YT.Player(self.holderID, self.options);  \n    },\n\n    /**\n     * @function onPlayerReady\n     * @ params {event} window event from youtube player\n     */\n    onPlayerReady: function onPlayerReady(e) {\n      if (this.options.mute) {\n        e.target.mute();\n      }\n      e.target.playVideo();\n    },\n\n    /**\n     * @function getPlayer\n     * returns youtube player\n     */\n    getPlayer: function getPlayer() {\n      return this.player;\n    },\n\n    /**\n     * @function destroy\n     * destroys all!\n     */\n    destroy: function destroy() {\n      var self = this;\n\n      self.$node\n        .removeData('yt-init')\n        .removeData('ytPlayer')\n        .removeClass('loaded');\n\n      self.$YTPlayerString.remove();\n\n      $(window).off('resize.YTplayer' + self.ID);\n      $(window).off('scroll.YTplayer' + self.ID);\n      self.$body = null;\n      self.$node = null;\n      self.$YTPlayerString = null;\n      self.player.destroy();\n      self.player = null;\n    }\n  };\n\n  // Scroll Stopped event.\n  $.fn.scrollStopped = function(callback) {\n    var $this = $(this), self = this;\n    $this.scroll(function(){\n      if ($this.data('scrollTimeout')) {\n        clearTimeout($this.data('scrollTimeout'));\n      }\n      $this.data('scrollTimeout', setTimeout(callback,250,self));\n    });\n  };\n\n  // Create plugin\n  $.fn.YTPlayer = function(options) {\n\n    return this.each(function() {\n      var el = this;\n\n      $(el).data(\"yt-init\", true);\n      var player = Object.create(YTPlayer);\n      player.init(el, options);\n      $.data(el, \"ytPlayer\", player);\n    });\n  };\n\n})(jQuery, window, document);\n","TemplateMonster_Parallax/js/rd-parallax/jquery.rd-parallax.js":"\n/**\n * @module       RD Parallax\n * @author       Evgeniy Gusarov\n * @see          https://ua.linkedin.com/pub/evgeniy-gusarov/8a/a40/54a\n * @version      3.6.5\n */\n\n(function() {\n  (function($, document, window) {\n\n    /**\n     * Compatibility flags\n     */\n    var RDParallax, chromeVersion, hasClassList, isChrome, isChromeIOS, isChromeNew, isIE, isMobile, isSafariIOS, isWebkit, isWin8;\n    isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    isChrome = /Chrome/.test(navigator.userAgent);\n    isWebkit = (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) || (/Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor));\n    isChromeIOS = isMobile && /crios/i.test(navigator.userAgent);\n    isSafariIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent) && !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/);\n    isIE = navigator.appVersion.indexOf(\"MSIE\") !== -1 || navigator.appVersion.indexOf('Trident/') > -1;\n    isWin8 = /windows nt 6.2/.test(navigator.userAgent.toLowerCase()) || /windows nt 6.3/.test(navigator.userAgent.toLowerCase());\n    hasClassList = document.body.classList != null;\n    chromeVersion = isChrome ? navigator.userAgent.replace(/^.*Chrome\\/([\\d\\.]+).*$/i, '$1') : false;\n    isChromeNew = chromeVersion >= '55.0.2883.75';\n\n    /**\n     * The requestAnimationFrame polyfill\n     * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n     */\n    (function() {\n      var k, lastTime, len, vendor, vendors;\n      lastTime = 0;\n      vendors = ['ms', 'moz', 'webkit', 'o'];\n      for (k = 0, len = vendors.length; k < len; k++) {\n        vendor = vendors[k];\n        window.requestAnimationFrame = window[vendor + \"RequestAnimationFrame\"];\n        window.cancelAnimationFrame = window[vendor + \"CancelAnimationFrame\"] || window[vendor + \"CancelRequestAnimationFrame\"];\n      }\n      if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback, element) {\n          var currTime, id, timeToCall;\n          currTime = new Date().getTime();\n          timeToCall = Math.max(0, 16 - (currTime - lastTime));\n          id = window.setTimeout(function() {\n            callback(currTime + timeToCall);\n          }, timeToCall);\n          lastTime = currTime + timeToCall;\n          return id;\n        };\n      }\n      if (!window.cancelAnimationFrame) {\n        return window.cancelAnimationFrame = function(id) {\n          return clearTimeout(id);\n        };\n      }\n    });\n\n    /**\n     * Creates a parallax.\n     * @class RDParallax.\n     * @public\n     * @param {HTMLElement} element - The element to create the parallax for.\n     * @param {Object} [options] - The options\n     */\n    RDParallax = (function() {\n\n      /**\n       * Creates a parallax layer.\n       * @class Layer.\n       * @public\n       * @param {HTMLElement} element - The element to create a layer for.\n       * @param {object} aliases - An object with width breakpoints aliases\n       * @param {numbeer} windowWidth - current window width\n       */\n      var Layer, Scene;\n\n      Layer = (function() {\n        function Layer(element, aliases, windowWidth, windowHeight, sceneOffset, sceneHeight, sceneOn) {\n          var ref, ref1;\n          this.amend = (ref = (ref1 = isWebkit || isIE || isMobile) != null ? ref1 : isChromeNew) != null ? ref : {\n            0: {\n              60: 0\n            }\n          };\n          this.element = element;\n          this.aliases = aliases;\n          this.type = element.getAttribute(\"data-type\") || \"html\";\n          if (this.type === \"html\") {\n            this.holder = this.createHolder();\n          }\n          this.direction = element.getAttribute(\"data-direction\") === \"normal\" || (element.getAttribute(\"data-direction\") == null) ? 1 : -1;\n          this.fade = element.getAttribute(\"data-fade\") === \"true\";\n          this.blur = element.getAttribute(\"data-blur\") === \"true\";\n          this.boundTo = document.querySelector(element.getAttribute(\"data-bound-to\"));\n          if (this.type === \"media\") {\n            this.url = element.getAttribute(\"data-url\");\n          }\n          this.responsive = this.getResponsiveOptions();\n          if ((!isIE && !isMobile) || isMobile || (isWin8 && isIE)) {\n            this.element.style[\"position\"] = \"absolute\";\n          } else {\n            this.element.style[\"position\"] = \"fixed\";\n          }\n          switch (this.type) {\n            case \"media\":\n              if (this.url != null) {\n                this.element.style[\"background-image\"] = \"url(\" + this.url + \")\";\n              }\n              break;\n            case \"html\":\n              if (isIE && isMobile) {\n                this.element.style[\"z-index\"] = 1;\n              }\n          }\n          this.refresh(windowWidth, windowHeight, sceneOffset, sceneHeight, sceneOn);\n          return;\n        }\n\n\n        /**\n        * Refresh layer size statements\n        * @param {number} window width\n        * @public\n         */\n\n        Layer.prototype.refresh = function(windowWidth, windowHeight, sceneOffset, sceneHeight, sceneOn) {\n          var layer;\n          layer = this;\n          layer.speed = layer.getOption(\"speed\", windowWidth) || 0;\n          layer.offset = layer.getOption(\"offset\", windowWidth) || 0;\n          if (!isMobile && !(isWin8 && isIE)) {\n            if (sceneOn) {\n              layer.element.style[\"position\"] = \"fixed\";\n            } else {\n              layer.element.style[\"position\"] = \"absolute\";\n            }\n          }\n          if (isIE && layer.type === \"html\") {\n            layer.element.style[\"position\"] = \"absolute\";\n          }\n          switch (layer.type) {\n            case \"media\":\n              if (!isIE) {\n                layer.offsetHeight = layer.getMediaHeight(windowHeight, sceneHeight, layer.speed, layer.direction);\n                return layer.element.style[\"height\"] = layer.offsetHeight + \"px\";\n              }\n              break;\n            case \"html\":\n              layer.element.style[\"width\"] = this.holder.offsetWidth + \"px\";\n              layer.offsetHeight = layer.element.offsetHeight;\n              layer.holder.style[\"height\"] = layer.offsetHeight + \"px\";\n              if ((!isIE && !isMobile) || isMobile || (isWin8 && isIE)) {\n\n              } else {\n                if (isIE) {\n                  layer.element.style[\"position\"] = \"static\";\n                } else if (sceneOn) {\n                  layer.element.style[\"left\"] = (layer.getOffset(layer.holder).left) + \"px\";\n                  layer.element.style[\"top\"] = (layer.getOffset(layer.holder).top - sceneOffset) + \"px\";\n                }\n                return layer.holder.style[\"position\"] = \"static\";\n              }\n              break;\n            case \"custom\":\n              return layer.offsetHeight = layer.element.offsetHeight;\n          }\n        };\n\n\n        /**\n        * Creates a static layer holder element\n        * @public\n        * @returns {element} holder\n         */\n\n        Layer.prototype.createHolder = function() {\n          var holder, layer;\n          layer = this;\n          holder = document.createElement(\"div\");\n          if (hasClassList) {\n            holder.classList.add(\"rd-parallax-layer-holder\");\n          } else {\n            holder.className = \"rd-parallax-layer-holder\";\n          }\n          layer.element.parentNode.insertBefore(holder, layer.element);\n          holder.appendChild(layer.element);\n          if ((!isIE && !isMobile) || isChromeIOS) {\n            holder.style[\"position\"] = \"relative\";\n          }\n          return holder;\n        };\n\n\n        /**\n        * Creates a static layer holder element\n        * @public\n        * @returns {element} holder\n         */\n\n        Layer.prototype.isHolderWrong = function() {\n          var layer;\n          layer = this;\n          if (layer.type === \"html\") {\n            if (layer.holder.offsetHeight !== layer.element.offsetHeight) {\n              return true;\n            }\n          }\n          return false;\n        };\n\n\n        /**\n        * Gets specific option of layer\n        * @public\n        * @param {string} key\n        * @param {number} window width\n        * @returns {object} value\n         */\n\n        Layer.prototype.getOption = function(key, windowWidth) {\n          var layer, point, targetPoint;\n          layer = this;\n          for (point in layer.responsive) {\n            if (point <= windowWidth) {\n              targetPoint = point;\n            }\n          }\n          return layer.responsive[targetPoint][key];\n        };\n\n\n        /**\n        * Creates a set of responsive options of the layer\n        * @public\n        * @returns {object} options\n         */\n\n        Layer.prototype.getResponsiveOptions = function() {\n          var alias, aliases, i, j, k, len, point, ref, resolutions, responsive, value;\n          responsive = {};\n          resolutions = [];\n          aliases = [];\n          ref = this.aliases;\n          for (i in ref) {\n            alias = ref[i];\n            resolutions.push(i);\n            aliases.push(alias);\n          }\n          for (i = k = 0, len = resolutions.length; k < len; i = ++k) {\n            point = resolutions[i];\n            responsive[point] = {};\n            while ((j = i) >= -1) {\n              if (!responsive[point][\"speed\"] && (value = this.element.getAttribute(\"data\" + aliases[j] + \"speed\"))) {\n                responsive[point][\"speed\"] = this.getSpeed(value);\n              }\n              if (!responsive[point][\"offset\"] && (value = this.element.getAttribute(\"data\" + aliases[j] + \"offset\"))) {\n                responsive[point][\"offset\"] = parseInt(value);\n              }\n              if (!responsive[point][\"fade\"] && (value = this.element.getAttribute(\"data\" + aliases[j] + \"fade\"))) {\n                responsive[point][\"fade\"] = value === 'true';\n              }\n              i--;\n            }\n          }\n          return responsive;\n        };\n\n\n        /**\n        * Fade layer according to its position in scene\n        * @public\n        * @param {number} sceneOffset - current scene offset\n        * @param {number} sceneHeight - current scene height\n         */\n\n        Layer.prototype.fuse = function(sceneOffset, sceneHeight) {\n          var layer, layerDevider, offsetTop, opacity, pos, sceneDevider;\n          layer = this;\n          offsetTop = layer.getOffset(layer.element).top + layer.element.getBoundingClientRect().top;\n          sceneDevider = sceneOffset + sceneHeight / 2.0;\n          layerDevider = offsetTop + layer.offsetHeight / 2.0;\n          pos = sceneHeight / 6.0;\n          if (sceneDevider + pos > layerDevider && sceneDevider - pos < layerDevider) {\n            layer.element.style[\"opacity\"] = 1;\n          } else {\n            if (sceneDevider - pos < layerDevider) {\n              opacity = 1 + ((sceneDevider + pos - layerDevider) / sceneHeight / 3.0 * 10);\n            } else {\n              opacity = 1 - ((sceneDevider - pos - layerDevider) / sceneHeight / 3.0 * 10);\n            }\n            layer.element.style[\"opacity\"] = opacity < 0 ? 0 : opacity > 1 ? 1 : opacity.toFixed(2);\n          }\n        };\n\n\n        /**\n        * Move layer in scene\n        * @public\n        * @param {number} scrollY - current scroll top\n        * @param {number} windowWidth - current window width\n        * @param {number} windowHeight - current window height\n        * @param {number} sceneOffset - current scene offset top\n        * @param {number} sceneHeight - current scene height\n        * @param {number} documentHeight - current scene height\n        * @param {number} agentOffset - current agent offset\n         */\n\n        Layer.prototype.move = function(scrollY, windowWidth, windowHeight, sceneOffset, sceneHeight, documentHeight, sceneOn, agentOffset, inputFocus) {\n          var dy, h, layer, pos, v;\n          layer = this;\n          if (isIE && layer.type === \"media\") {\n            return;\n          }\n          if (isMobile || (isWin8 && isIE)) {\n            return;\n          }\n          if (!sceneOn) {\n            if (isWebkit) {\n              layer.element.style[\"-webkit-transform\"] = \"translate3d(0,0,0)\";\n            }\n            layer.element.style[\"transform\"] = \"translate3d(0,0,0)\";\n            return;\n          }\n          if ((!isMobile) || (layer.type === \"html\" && inputFocus) || isChromeIOS) {\n            v = layer.speed * layer.direction;\n          } else {\n            v = layer.speed * layer.direction - 1;\n          }\n          h = layer.offsetHeight;\n          if (agentOffset != null) {\n            dy = (sceneOffset + windowHeight - (agentOffset + windowHeight)) / (windowHeight - sceneHeight);\n          } else if (layer.type !== \"media\") {\n            if (sceneOffset < windowHeight || sceneOffset > documentHeight - windowHeight) {\n              if (sceneOffset < windowHeight) {\n                dy = sceneOffset / (windowHeight - sceneHeight);\n              } else {\n                dy = (sceneOffset + windowHeight - documentHeight) / (windowHeight - sceneHeight);\n              }\n              if (!isFinite(dy)) {\n                dy = 0;\n              }\n            } else {\n              dy = 0.5;\n            }\n          } else {\n            dy = 0.5;\n          }\n          if (isChromeIOS || isIE) {\n            pos = (sceneHeight - h) / 2 + (windowHeight - sceneHeight) * dy * v + layer.offset;\n          } else if (isMobile) {\n            pos = -(sceneOffset - scrollY) * v + (sceneHeight - h) / 2 + (windowHeight - sceneHeight) * dy * (v + 1) + layer.offset;\n          } else {\n            pos = -(sceneOffset - scrollY) * v + (sceneHeight - h) / 2 + (windowHeight - sceneHeight) * dy * v + layer.offset;\n          }\n          if (isMobile) {\n            if (agentOffset != null) {\n              layer.element.style[\"top\"] = (sceneOffset - agentOffset) + \"px\";\n            }\n          }\n          if (isWebkit) {\n            this.element.style[\"-webkit-transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n          }\n          this.element.style[\"transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n        };\n\n\n        /**\n        * Normalize layer speed\n        * @public\n        * @param {number} value - speed\n        * @returns {number} normalized speed\n         */\n\n        Layer.prototype.getSpeed = function(value) {\n          return Math.min(Math.max(parseFloat(value), 0), 2.0);\n        };\n\n\n        /**\n        * Calculate media layer height\n        * @public\n        * @param {number} windowHeight - current window height\n        * @param {number} sceneHeight - current scene height\n        * @param {number} speed - current speed\n        * @param {number} direction - movement direction\n        * @returns {number} media layer height\n         */\n\n        Layer.prototype.getMediaHeight = function(windowHeight, sceneHeight, speed, direction) {\n          var directionModifier;\n          directionModifier = direction === -1 ? (sceneHeight + windowHeight) * speed : 0;\n          return (sceneHeight + directionModifier + (speed <= 1 ? Math.abs(windowHeight - sceneHeight) * speed : windowHeight * speed)) + this.amend * 2;\n        };\n\n\n        /**\n         * Calc the element offset relative to document. Method is similar to $.offset()\n         * @public\n         * @param {element} element - HTML Element\n         * @returns {object} top and left offsets\n         */\n\n        Layer.prototype.getOffset = function(element) {\n          var bound, left, top;\n          bound = element.getBoundingClientRect();\n          left = bound.left + (window.scrollX || window.pageXOffset);\n          top = bound.top + (window.scrollY || window.pageYOffset);\n          return {\n            top: top,\n            left: left\n          };\n        };\n\n        return Layer;\n\n      })();\n\n\n      /**\n       * Creates a parallax scene.\n       * @class Scene.\n       * @public\n       * @param {HTMLElement} element - The element to create a scene for.\n       * @param {object} aliases - An object with width breakpoints aliases\n       * @param {numbeer} windowWidth - current window width\n       */\n\n      Scene = (function() {\n        function Scene(element, aliases, windowWidth, windowHeight) {\n          var ref, scene;\n          scene = this;\n          scene.amend = (ref = isWebkit != null ? isWebkit : isChromeNew) != null ? ref : {\n            0: {\n              60: 0\n            }\n          };\n          scene.element = element;\n          scene.aliases = aliases;\n          scene.on = true;\n          scene.agent = document.querySelector(element.getAttribute(\"data-agent\"));\n          scene.anchor = scene.findAnchor();\n          scene.canvas = scene.createCanvas();\n          scene.layers = scene.createLayers(windowWidth);\n          scene.fitTo = scene.getFitElement();\n          scene.responsive = scene.getResponsiveOptions();\n          scene.refresh(windowWidth, windowHeight);\n        }\n\n\n        /**\n         * Finds an element that layer will fit to\n         * @public\n         * @returns {element} fit element\n         */\n\n        Scene.prototype.getFitElement = function() {\n          var fitTo, scene;\n          scene = this;\n          if ((fitTo = scene.element.getAttribute(\"data-fit-to\")) != null) {\n            if (fitTo === \"parent\") {\n              return scene.element.parentNode;\n            } else {\n              return document.querySelector(fitTo);\n            }\n          } else {\n            return null;\n          }\n        };\n\n\n        /**\n         * Checks if parallax scene is inside of element with CSS Transform\n         * @public\n         * @returns {element} Parent element with CSS Transform or null\n         */\n\n        Scene.prototype.findAnchor = function() {\n          var parent, scene;\n          scene = this;\n          parent = scene.element.parentNode;\n          while ((parent != null) && parent !== document) {\n            if (scene.isTransformed.call(parent)) {\n              return parent;\n            }\n            parent = parent.parentNode;\n          }\n          return null;\n        };\n\n\n        /**\n         * Creates a parallax canvas element\n         * @public\n         * @returns {element} canvas\n         */\n\n        Scene.prototype.createCanvas = function() {\n          var canvas, scene;\n          scene = this;\n          canvas = document.createElement(\"div\");\n          if (hasClassList) {\n            canvas.classList.add(\"rd-parallax-inner\");\n          } else {\n            canvas.className = \"rd-parallax-inner\";\n          }\n          scene.element.appendChild(canvas);\n          while (scene.element.firstChild !== canvas) {\n            canvas.appendChild(scene.element.firstChild);\n          }\n          scene.element.style[\"position\"] = \"relative\";\n          scene.element.style[\"overflow\"] = \"hidden\";\n          if (!isIE && !isMobile) {\n            canvas.style[\"position\"] = \"fixed\";\n          } else {\n            canvas.style[\"position\"] = \"absolute\";\n            if (!(isWin8 && isIE)) {\n              canvas.style[\"clip\"] = \"rect(0, auto, auto, 0)\";\n            }\n            if (isIE) {\n              canvas.style[\"transform\"] = \"translate3d(0,0,0)\";\n            } else {\n              canvas.style[\"transform\"] = \"none\";\n            }\n          }\n          canvas.style[\"left\"] = scene.offsetLeft + \"px\";\n          canvas.style[\"top\"] = 0;\n          if (isWebkit) {\n            canvas.style[\"margin-top\"] = \"-\" + scene.amend + \"px\";\n            canvas.style[\"padding\"] = scene.amend + \"px 0\";\n            scene.element.style[\"z-index\"] = 0;\n          }\n          return canvas;\n        };\n\n\n        /**\n        * Gets specific option of layer\n        * @public\n        * @param {string} key\n        * @param {number} window width\n        * @returns {object} value\n         */\n\n        Scene.prototype.getOption = function(key, windowWidth) {\n          var point, targetPoint;\n          for (point in this.responsive) {\n            if (point <= windowWidth) {\n              targetPoint = point;\n            }\n          }\n          return this.responsive[targetPoint][key];\n        };\n\n\n        /**\n         * Creates a set of responsive options of the layer\n         * @public\n         * @returns {object} options\n         */\n\n        Scene.prototype.getResponsiveOptions = function() {\n          var alias, aliases, i, j, k, len, point, ref, resolutions, responsive, value;\n          responsive = {};\n          resolutions = [];\n          aliases = [];\n          ref = this.aliases;\n          for (i in ref) {\n            alias = ref[i];\n            resolutions.push(i);\n            aliases.push(alias);\n          }\n          for (i = k = 0, len = resolutions.length; k < len; i = ++k) {\n            point = resolutions[i];\n            responsive[point] = {};\n            while ((j = i) >= -1) {\n              if (!responsive[point][\"on\"] && ((value = this.element.getAttribute(\"data\" + aliases[j] + \"on\")) != null)) {\n                responsive[point][\"on\"] = value !== \"false\";\n              }\n              if ((responsive[point][\"on\"] == null) && j === 0) {\n                responsive[point][\"on\"] = true;\n              }\n              i--;\n            }\n          }\n          return responsive;\n        };\n\n\n        /**\n         * Creates the layers of parallax\n         * @public\n         * @param {number} window width\n         * @returns {array} List of layers\n         */\n\n        Scene.prototype.createLayers = function(windowWidth, windowHeight) {\n          var element, elements, i, k, layers, len, scene;\n          scene = this;\n          elements = $(scene.element).find(\".rd-parallax-layer\").get();\n          layers = [];\n          for (i = k = 0, len = elements.length; k < len; i = ++k) {\n            element = elements[i];\n            layers.push(new Layer(element, scene.aliases, windowWidth, windowHeight, scene.offsetTop, scene.offsetHeight, scene.on));\n          }\n          return layers;\n        };\n\n\n        /**\n         * Update scene position\n         * @public\n         */\n\n        Scene.prototype.move = function(scrollY) {\n          var pos, scene;\n          scene = this;\n          if (scene.anchor != null) {\n            pos = scene.positionTop;\n          } else {\n            pos = scene.offsetTop - scrollY;\n          }\n          if (isWebkit) {\n            scene.canvas.style[\"-webkit-transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n          }\n          return scene.canvas.style[\"transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n        };\n\n\n        /**\n         * Refresh scene dimensions\n         * @param {number} windowWidth - current window width\n         * @param {number} windowHeight - current window height\n         * @public\n         */\n\n        Scene.prototype.refresh = function(windowWidth, windowHeight) {\n          var k, l, layer, len, len1, mediaLayers, ref, scene;\n          scene = this;\n          mediaLayers = [];\n          scene.on = scene.getOption(\"on\", windowWidth);\n          scene.offsetTop = scene.getOffset(scene.element).top;\n          scene.offsetLeft = scene.getOffset(scene.element).left;\n          scene.width = scene.element.offsetWidth;\n          scene.canvas.style[\"width\"] = scene.width + \"px\";\n          if (scene.anchor != null) {\n            scene.positionTop = scene.element.offsetTop;\n          }\n          if (scene.agent != null) {\n            scene.agentOffset = scene.getOffset(scene.agent).top;\n            scene.agentHeight = scene.agent.offsetHeight;\n          } else {\n            scene.agentOffset = scene.agentHeight = null;\n          }\n          ref = scene.layers;\n          for (k = 0, len = ref.length; k < len; k++) {\n            layer = ref[k];\n            if (layer.type === \"media\") {\n              mediaLayers.push(layer);\n            } else {\n              layer.refresh(windowWidth, windowHeight, scene.offsetTop, scene.offsetHeight, scene.on);\n            }\n          }\n          scene.offsetHeight = scene.canvas.offsetHeight - scene.amend * 2;\n          scene.element.style[\"height\"] = scene.offsetHeight + \"px\";\n          for (l = 0, len1 = mediaLayers.length; l < len1; l++) {\n            layer = mediaLayers[l];\n            layer.refresh(windowWidth, windowHeight, scene.offsetTop, scene.offsetHeight, scene.on);\n          }\n        };\n\n\n        /**\n         * Update scene act\n         * @public\n         */\n\n        Scene.prototype.update = function(scrollY, windowWidth, windowHeight, documentHeight, inputFocus) {\n          var k, layer, len, ref, results, scene, sceneHeight, sceneOffset;\n          scene = this;\n          sceneOffset = scene.offsetTop;\n          sceneHeight = scene.offsetHeight;\n          if (!isIE && (!isMobile)) {\n            scene.move(scrollY);\n          }\n          ref = scene.layers;\n          results = [];\n          for (k = 0, len = ref.length; k < len; k++) {\n            layer = ref[k];\n            layer.move(scrollY, windowWidth, windowHeight, sceneOffset, sceneHeight, documentHeight, scene.on, scene.agentOffset, inputFocus);\n            layer.fade = layer.getOption(\"fade\", windowWidth) || false;\n            if (layer.fade && !isMobile && !isIE) {\n              results.push(layer.fuse(sceneOffset, sceneHeight));\n            } else {\n              results.push(void 0);\n            }\n          }\n          return results;\n        };\n\n\n        /**\n         * Checks if element is transformed\n         * @public\n         * @returns {boolean}\n         */\n\n        Scene.prototype.isTransformed = function() {\n          var el, t, transformed, transforms;\n          el = this;\n          transforms = {\n            'webkitTransform': '-webkit-transform',\n            'OTransform': '-o-transform',\n            'msTransform': '-ms-transform',\n            'MozTransform': '-moz-transform',\n            'transform': 'transform'\n          };\n          for (t in transforms) {\n            if (transforms.hasOwnProperty(t)) {\n              if (el.style[t] != null) {\n                transformed = window.getComputedStyle(el).getPropertyValue(transforms[t]);\n              }\n            }\n          }\n          if ((transformed != null) && transformed.length > 0 && transformed !== \"none\") {\n            return true;\n          } else {\n            return false;\n          }\n        };\n\n\n        /**\n         * Calc the element offset relative to document. Method is similar to $.offset()\n         * @public\n         * @param {element} element - HTML Element\n         * @returns {object} top and left offsets\n         */\n\n        Scene.prototype.getOffset = function(element) {\n          var bound, left, top;\n          bound = element.getBoundingClientRect();\n          left = bound.left + (window.scrollX || window.pageYOffset);\n          top = bound.top + (window.scrollY || window.pageYOffset);\n          return {\n            top: top,\n            left: left\n          };\n        };\n\n        return Scene;\n\n      })();\n\n\n      /**\n       * Default options for parallax.\n       * @public\n       */\n\n      RDParallax.prototype.Defaults = {\n        selector: '.rd-parallax',\n        screenAliases: {\n          0: '-',\n          480: '-xs-',\n          768: '-sm-',\n          992: '-md-',\n          1200: '-lg-',\n          1920: '-xl-',\n          2560: '-xxl-'\n        }\n      };\n\n      function RDParallax(options) {\n        this.options = $.extend(true, {}, this.Defaults, options);\n        this.scenes = [];\n        this.initialize();\n        this.scrollY = window.scrollY || window.pageYOffset;\n        this.lastScrollY = -1;\n        this.lastDocHeight = 0;\n        this.inputFocus = false;\n        this.checkLayerHeight = false;\n      }\n\n\n      /**\n       * Initializes the Parallax.\n       * @public\n       */\n\n      RDParallax.prototype.initialize = function() {\n        var ctx, element, elements, i, k, len, windowHeight, windowWidth;\n        ctx = this;\n        elements = document.querySelectorAll(ctx.options.selector);\n        windowWidth = window.innerWidth;\n        windowHeight = window.innerHeight;\n        for (i = k = 0, len = elements.length; k < len; i = ++k) {\n          element = elements[i];\n          ctx.scenes.push(new Scene(element, ctx.options.screenAliases, windowWidth, windowHeight));\n        }\n        $(window).on(\"resize\", $.proxy(ctx.resize, ctx));\n        if (isSafariIOS) {\n          $('input').on(\"focusin focus\", function(e) {\n            e.preventDefault();\n            ctx.activeOffset = $(this).offset().top;\n            return window.scrollTo(window.scrollX || window.pageXOffset, ctx.activeOffset - this.offsetHeight - 100);\n          });\n        }\n        $(window).trigger(\"resize\");\n        ctx.update();\n        ctx.checkResize();\n      };\n\n\n      /**\n       * Resize all scenes\n       * @public\n       */\n\n      RDParallax.prototype.resize = function(forceResize) {\n        var ctx, currentWindowWidth, k, len, ref, scene;\n        ctx = this;\n        if ((currentWindowWidth = window.innerWidth) !== ctx.windowWidth || !isMobile || forceResize) {\n          ctx.windowWidth = currentWindowWidth;\n          ctx.windowHeight = window.innerHeight;\n          ctx.documentHeight = document.body.offsetHeight;\n          ref = ctx.scenes;\n          for (k = 0, len = ref.length; k < len; k++) {\n            scene = ref[k];\n            scene.refresh(ctx.windowWidth, ctx.windowHeight);\n          }\n          return ctx.update(true);\n        }\n      };\n\n\n      /**\n       * Update all parallax scenes\n       * @param {boolean} forceUpdate - force scenes update if scroll wasnt triggered\n       * @public\n       */\n\n      RDParallax.prototype.update = function(forceUpdate) {\n        var activeElement, ctx, deltaHeight, deltaScroll, documentHeight, k, len, ref, scene, scrollY, windowHeight, windowWidth;\n        ctx = this;\n        if (!forceUpdate) {\n          requestAnimationFrame(function() {\n            ctx.update();\n          });\n        }\n        scrollY = window.scrollY || window.pageYOffset;\n        if (isSafariIOS) {\n          if ((activeElement = document.activeElement) != null) {\n            if (activeElement.tagName.match(/(input)|(select)|(textarea)/i)) {\n              ctx.activeElement = activeElement;\n              ctx.inputFocus = true;\n            } else {\n              ctx.activeElement = null;\n              ctx.inputFocus = false;\n              forceUpdate = true;\n            }\n          }\n        }\n        if (isMobile && isChrome) {\n          deltaHeight = window.innerHeight - ctx.windowHeight;\n          ctx.deltaHeight = deltaHeight;\n          scrollY -= ctx.deltaHeight;\n        }\n        if (((scrollY !== ctx.lastScrollY) || forceUpdate) && !ctx.isActing) {\n          ctx.isActing = true;\n          windowWidth = ctx.windowWidth;\n          windowHeight = ctx.windowHeight;\n          documentHeight = ctx.documentHeight;\n          deltaScroll = scrollY - ctx.lastScrollY;\n          if (isSafariIOS) {\n            if (ctx.activeElement != null) {\n              ctx.activeElement.value = ctx.activeElement.value + \" \";\n              ctx.activeElement.value = ctx.activeElement.value.trim();\n            }\n          }\n          ref = ctx.scenes;\n          for (k = 0, len = ref.length; k < len; k++) {\n            scene = ref[k];\n            if (ctx.inputFocus || forceUpdate || (scrollY + windowHeight >= (scene.agentOffset || scene.offsetTop) + deltaScroll && scrollY <= (scene.agentOffset || scene.offsetTop) + (scene.agentHeight || scene.offsetHeight) + deltaScroll)) {\n              scene.update(scrollY, windowWidth, windowHeight, documentHeight, ctx.inputFocus);\n            }\n          }\n          ctx.lastScrollY = scrollY;\n          return ctx.isActing = false;\n        }\n      };\n\n      RDParallax.prototype.checkResize = function() {\n        var ctx;\n        ctx = this;\n        setInterval(function() {\n          var docHeight, k, l, layer, len, len1, ref, ref1, scene;\n          docHeight = document.body.offsetHeight;\n          ref = ctx.scenes;\n          for (k = 0, len = ref.length; k < len; k++) {\n            scene = ref[k];\n            ref1 = scene.layers;\n            for (l = 0, len1 = ref1.length; l < len1; l++) {\n              layer = ref1[l];\n              if (layer.isHolderWrong()) {\n                ctx.checkLayerHeight = true;\n                break;\n              }\n            }\n            if (ctx.checkLayerHeight) {\n              break;\n            }\n          }\n          if (ctx.checkLayerHeight || docHeight !== ctx.lastDocHeight) {\n            ctx.resize(true);\n            ctx.lastDocHeight = docHeight;\n            return ctx.checkLayerHeight = false;\n          }\n        }, 500);\n      };\n\n      return RDParallax;\n\n    })();\n\n    /**\n     * The jQuery Plugin for the RD Parallax\n     * @public\n     */\n    $.RDParallax = function(options) {\n      var $doc;\n      $doc = $(document);\n      if (!$doc.data('RDParallax')) {\n        return $doc.data('RDParallax', new RDParallax(options));\n      }\n    };\n    return window.RDParallax = RDParallax;\n  })(window.jQuery, document, window);\n\n\n  /**\n   * The Plugin AMD export\n   * @public\n   */\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = window.RDParallax;\n  } else if (typeof define === 'function' && define.amd) {\n    define([\"jquery\"], function() {\n      'use strict';\n      return window.RDParallax;\n    });\n  }\n\n}).call(this);\n","TemplateMonster_Parallax/js/rd-parallax/jquery.rd-parallax.min.js":"/**\n * @module       RD Parallax\n * @author       Evgeniy Gusarov\n * @see          https://ua.linkedin.com/pub/evgeniy-gusarov/8a/a40/54a\n * @version      3.6.5\n */\n(function(){!function($,document,window){var RDParallax,chromeVersion,hasClassList,isChrome,isChromeIOS,isChromeNew,isIE,isMobile,isSafariIOS,isWebkit,isWin8;return isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isChrome=/Chrome/.test(navigator.userAgent),isWebkit=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),isChromeIOS=isMobile&&/crios/i.test(navigator.userAgent),isSafariIOS=/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/),isIE=navigator.appVersion.indexOf(\"MSIE\")!==-1||navigator.appVersion.indexOf(\"Trident/\")>-1,isWin8=/windows nt 6.2/.test(navigator.userAgent.toLowerCase())||/windows nt 6.3/.test(navigator.userAgent.toLowerCase()),hasClassList=null!=document.body.classList,chromeVersion=!!isChrome&&navigator.userAgent.replace(/^.*Chrome\\/([\\d\\.]+).*$/i,\"$1\"),isChromeNew=chromeVersion>=\"55.0.2883.75\",RDParallax=function(){function RDParallax(options){this.options=$.extend(!0,{},this.Defaults,options),this.scenes=[],this.initialize(),this.scrollY=window.scrollY||window.pageYOffset,this.lastScrollY=-1,this.lastDocHeight=0,this.inputFocus=!1,this.checkLayerHeight=!1}var Layer,Scene;return Layer=function(){function Layer(element,aliases,windowWidth,windowHeight,sceneOffset,sceneHeight,sceneOn){var ref,ref1;switch(this.amend=null!=(ref=null!=(ref1=isWebkit||isIE||isMobile)?ref1:isChromeNew)?ref:{0:{60:0}},this.element=element,this.aliases=aliases,this.type=element.getAttribute(\"data-type\")||\"html\",\"html\"===this.type&&(this.holder=this.createHolder()),this.direction=\"normal\"===element.getAttribute(\"data-direction\")||null==element.getAttribute(\"data-direction\")?1:-1,this.fade=\"true\"===element.getAttribute(\"data-fade\"),this.blur=\"true\"===element.getAttribute(\"data-blur\"),this.boundTo=document.querySelector(element.getAttribute(\"data-bound-to\")),\"media\"===this.type&&(this.url=element.getAttribute(\"data-url\")),this.responsive=this.getResponsiveOptions(),!isIE&&!isMobile||isMobile||isWin8&&isIE?this.element.style.position=\"absolute\":this.element.style.position=\"fixed\",this.type){case\"media\":null!=this.url&&(this.element.style[\"background-image\"]=\"url(\"+this.url+\")\");break;case\"html\":isIE&&isMobile&&(this.element.style[\"z-index\"]=1)}this.refresh(windowWidth,windowHeight,sceneOffset,sceneHeight,sceneOn)}return Layer.prototype.refresh=function(windowWidth,windowHeight,sceneOffset,sceneHeight,sceneOn){var layer;switch(layer=this,layer.speed=layer.getOption(\"speed\",windowWidth)||0,layer.offset=layer.getOption(\"offset\",windowWidth)||0,isMobile||isWin8&&isIE||(sceneOn?layer.element.style.position=\"fixed\":layer.element.style.position=\"absolute\"),isIE&&\"html\"===layer.type&&(layer.element.style.position=\"absolute\"),layer.type){case\"media\":if(!isIE)return layer.offsetHeight=layer.getMediaHeight(windowHeight,sceneHeight,layer.speed,layer.direction),layer.element.style.height=layer.offsetHeight+\"px\";break;case\"html\":if(layer.element.style.width=this.holder.offsetWidth+\"px\",layer.offsetHeight=layer.element.offsetHeight,layer.holder.style.height=layer.offsetHeight+\"px\",!(!isIE&&!isMobile||isMobile||isWin8&&isIE))return isIE?layer.element.style.position=\"static\":sceneOn&&(layer.element.style.left=layer.getOffset(layer.holder).left+\"px\",layer.element.style.top=layer.getOffset(layer.holder).top-sceneOffset+\"px\"),layer.holder.style.position=\"static\";break;case\"custom\":return layer.offsetHeight=layer.element.offsetHeight}},Layer.prototype.createHolder=function(){var holder,layer;return layer=this,holder=document.createElement(\"div\"),hasClassList?holder.classList.add(\"rd-parallax-layer-holder\"):holder.className=\"rd-parallax-layer-holder\",layer.element.parentNode.insertBefore(holder,layer.element),holder.appendChild(layer.element),(!isIE&&!isMobile||isChromeIOS)&&(holder.style.position=\"relative\"),holder},Layer.prototype.isHolderWrong=function(){var layer;return layer=this,\"html\"===layer.type&&layer.holder.offsetHeight!==layer.element.offsetHeight},Layer.prototype.getOption=function(key,windowWidth){var layer,point,targetPoint;layer=this;for(point in layer.responsive)point<=windowWidth&&(targetPoint=point);return layer.responsive[targetPoint][key]},Layer.prototype.getResponsiveOptions=function(){var alias,aliases,i,j,k,len,point,ref,resolutions,responsive,value;responsive={},resolutions=[],aliases=[],ref=this.aliases;for(i in ref)alias=ref[i],resolutions.push(i),aliases.push(alias);for(i=k=0,len=resolutions.length;k<len;i=++k)for(point=resolutions[i],responsive[point]={};(j=i)>=-1;)!responsive[point].speed&&(value=this.element.getAttribute(\"data\"+aliases[j]+\"speed\"))&&(responsive[point].speed=this.getSpeed(value)),!responsive[point].offset&&(value=this.element.getAttribute(\"data\"+aliases[j]+\"offset\"))&&(responsive[point].offset=parseInt(value)),!responsive[point].fade&&(value=this.element.getAttribute(\"data\"+aliases[j]+\"fade\"))&&(responsive[point].fade=\"true\"===value),i--;return responsive},Layer.prototype.fuse=function(sceneOffset,sceneHeight){var layer,layerDevider,offsetTop,opacity,pos,sceneDevider;layer=this,offsetTop=layer.getOffset(layer.element).top+layer.element.getBoundingClientRect().top,sceneDevider=sceneOffset+sceneHeight/2,layerDevider=offsetTop+layer.offsetHeight/2,pos=sceneHeight/6,sceneDevider+pos>layerDevider&&sceneDevider-pos<layerDevider?layer.element.style.opacity=1:(opacity=sceneDevider-pos<layerDevider?1+(sceneDevider+pos-layerDevider)/sceneHeight/3*10:1-(sceneDevider-pos-layerDevider)/sceneHeight/3*10,layer.element.style.opacity=opacity<0?0:opacity>1?1:opacity.toFixed(2))},Layer.prototype.move=function(scrollY,windowWidth,windowHeight,sceneOffset,sceneHeight,documentHeight,sceneOn,agentOffset,inputFocus){var dy,h,layer,pos,v;if(layer=this,!(isIE&&\"media\"===layer.type||isMobile||isWin8&&isIE)){if(!sceneOn)return isWebkit&&(layer.element.style[\"-webkit-transform\"]=\"translate3d(0,0,0)\"),void(layer.element.style.transform=\"translate3d(0,0,0)\");v=!isMobile||\"html\"===layer.type&&inputFocus||isChromeIOS?layer.speed*layer.direction:layer.speed*layer.direction-1,h=layer.offsetHeight,null!=agentOffset?dy=(sceneOffset+windowHeight-(agentOffset+windowHeight))/(windowHeight-sceneHeight):\"media\"!==layer.type&&(sceneOffset<windowHeight||sceneOffset>documentHeight-windowHeight)?(dy=sceneOffset<windowHeight?sceneOffset/(windowHeight-sceneHeight):(sceneOffset+windowHeight-documentHeight)/(windowHeight-sceneHeight),isFinite(dy)||(dy=0)):dy=.5,pos=isChromeIOS||isIE?(sceneHeight-h)/2+(windowHeight-sceneHeight)*dy*v+layer.offset:isMobile?-(sceneOffset-scrollY)*v+(sceneHeight-h)/2+(windowHeight-sceneHeight)*dy*(v+1)+layer.offset:-(sceneOffset-scrollY)*v+(sceneHeight-h)/2+(windowHeight-sceneHeight)*dy*v+layer.offset,isMobile&&null!=agentOffset&&(layer.element.style.top=sceneOffset-agentOffset+\"px\"),isWebkit&&(this.element.style[\"-webkit-transform\"]=\"translate3d(0,\"+pos+\"px,0)\"),this.element.style.transform=\"translate3d(0,\"+pos+\"px,0)\"}},Layer.prototype.getSpeed=function(value){return Math.min(Math.max(parseFloat(value),0),2)},Layer.prototype.getMediaHeight=function(windowHeight,sceneHeight,speed,direction){var directionModifier;return directionModifier=direction===-1?(sceneHeight+windowHeight)*speed:0,sceneHeight+directionModifier+(speed<=1?Math.abs(windowHeight-sceneHeight)*speed:windowHeight*speed)+2*this.amend},Layer.prototype.getOffset=function(element){var bound,left,top;return bound=element.getBoundingClientRect(),left=bound.left+(window.scrollX||window.pageXOffset),top=bound.top+(window.scrollY||window.pageYOffset),{top:top,left:left}},Layer}(),Scene=function(){function Scene(element,aliases,windowWidth,windowHeight){var ref,scene;scene=this,scene.amend=null!=(ref=null!=isWebkit?isWebkit:isChromeNew)?ref:{0:{60:0}},scene.element=element,scene.aliases=aliases,scene.on=!0,scene.agent=document.querySelector(element.getAttribute(\"data-agent\")),scene.anchor=scene.findAnchor(),scene.canvas=scene.createCanvas(),scene.layers=scene.createLayers(windowWidth),scene.fitTo=scene.getFitElement(),scene.responsive=scene.getResponsiveOptions(),scene.refresh(windowWidth,windowHeight)}return Scene.prototype.getFitElement=function(){var fitTo,scene;return scene=this,null!=(fitTo=scene.element.getAttribute(\"data-fit-to\"))?\"parent\"===fitTo?scene.element.parentNode:document.querySelector(fitTo):null},Scene.prototype.findAnchor=function(){var parent,scene;for(scene=this,parent=scene.element.parentNode;null!=parent&&parent!==document;){if(scene.isTransformed.call(parent))return parent;parent=parent.parentNode}return null},Scene.prototype.createCanvas=function(){var canvas,scene;for(scene=this,canvas=document.createElement(\"div\"),hasClassList?canvas.classList.add(\"rd-parallax-inner\"):canvas.className=\"rd-parallax-inner\",scene.element.appendChild(canvas);scene.element.firstChild!==canvas;)canvas.appendChild(scene.element.firstChild);return scene.element.style.position=\"relative\",scene.element.style.overflow=\"hidden\",isIE||isMobile?(canvas.style.position=\"absolute\",isWin8&&isIE||(canvas.style.clip=\"rect(0, auto, auto, 0)\"),isIE?canvas.style.transform=\"translate3d(0,0,0)\":canvas.style.transform=\"none\"):canvas.style.position=\"fixed\",canvas.style.left=scene.offsetLeft+\"px\",canvas.style.top=0,isWebkit&&(canvas.style[\"margin-top\"]=\"-\"+scene.amend+\"px\",canvas.style.padding=scene.amend+\"px 0\",scene.element.style[\"z-index\"]=0),canvas},Scene.prototype.getOption=function(key,windowWidth){var point,targetPoint;for(point in this.responsive)point<=windowWidth&&(targetPoint=point);return this.responsive[targetPoint][key]},Scene.prototype.getResponsiveOptions=function(){var alias,aliases,i,j,k,len,point,ref,resolutions,responsive,value;responsive={},resolutions=[],aliases=[],ref=this.aliases;for(i in ref)alias=ref[i],resolutions.push(i),aliases.push(alias);for(i=k=0,len=resolutions.length;k<len;i=++k)for(point=resolutions[i],responsive[point]={};(j=i)>=-1;)responsive[point].on||null==(value=this.element.getAttribute(\"data\"+aliases[j]+\"on\"))||(responsive[point].on=\"false\"!==value),null==responsive[point].on&&0===j&&(responsive[point].on=!0),i--;return responsive},Scene.prototype.createLayers=function(windowWidth,windowHeight){var element,elements,i,k,layers,len,scene;for(scene=this,elements=$(scene.element).find(\".rd-parallax-layer\").get(),layers=[],i=k=0,len=elements.length;k<len;i=++k)element=elements[i],layers.push(new Layer(element,scene.aliases,windowWidth,windowHeight,scene.offsetTop,scene.offsetHeight,scene.on));return layers},Scene.prototype.move=function(scrollY){var pos,scene;return scene=this,pos=null!=scene.anchor?scene.positionTop:scene.offsetTop-scrollY,isWebkit&&(scene.canvas.style[\"-webkit-transform\"]=\"translate3d(0,\"+pos+\"px,0)\"),scene.canvas.style.transform=\"translate3d(0,\"+pos+\"px,0)\"},Scene.prototype.refresh=function(windowWidth,windowHeight){var k,l,layer,len,len1,mediaLayers,ref,scene;for(scene=this,mediaLayers=[],scene.on=scene.getOption(\"on\",windowWidth),scene.offsetTop=scene.getOffset(scene.element).top,scene.offsetLeft=scene.getOffset(scene.element).left,scene.width=scene.element.offsetWidth,scene.canvas.style.width=scene.width+\"px\",null!=scene.anchor&&(scene.positionTop=scene.element.offsetTop),null!=scene.agent?(scene.agentOffset=scene.getOffset(scene.agent).top,scene.agentHeight=scene.agent.offsetHeight):scene.agentOffset=scene.agentHeight=null,ref=scene.layers,k=0,len=ref.length;k<len;k++)layer=ref[k],\"media\"===layer.type?mediaLayers.push(layer):layer.refresh(windowWidth,windowHeight,scene.offsetTop,scene.offsetHeight,scene.on);for(scene.offsetHeight=scene.canvas.offsetHeight-2*scene.amend,scene.element.style.height=scene.offsetHeight+\"px\",l=0,len1=mediaLayers.length;l<len1;l++)layer=mediaLayers[l],layer.refresh(windowWidth,windowHeight,scene.offsetTop,scene.offsetHeight,scene.on)},Scene.prototype.update=function(scrollY,windowWidth,windowHeight,documentHeight,inputFocus){var k,layer,len,ref,results,scene,sceneHeight,sceneOffset;for(scene=this,sceneOffset=scene.offsetTop,sceneHeight=scene.offsetHeight,isIE||isMobile||scene.move(scrollY),ref=scene.layers,results=[],k=0,len=ref.length;k<len;k++)layer=ref[k],layer.move(scrollY,windowWidth,windowHeight,sceneOffset,sceneHeight,documentHeight,scene.on,scene.agentOffset,inputFocus),layer.fade=layer.getOption(\"fade\",windowWidth)||!1,!layer.fade||isMobile||isIE?results.push(void 0):results.push(layer.fuse(sceneOffset,sceneHeight));return results},Scene.prototype.isTransformed=function(){var el,t,transformed,transforms;el=this,transforms={webkitTransform:\"-webkit-transform\",OTransform:\"-o-transform\",msTransform:\"-ms-transform\",MozTransform:\"-moz-transform\",transform:\"transform\"};for(t in transforms)transforms.hasOwnProperty(t)&&null!=el.style[t]&&(transformed=window.getComputedStyle(el).getPropertyValue(transforms[t]));return null!=transformed&&transformed.length>0&&\"none\"!==transformed},Scene.prototype.getOffset=function(element){var bound,left,top;return bound=element.getBoundingClientRect(),left=bound.left+(window.scrollX||window.pageYOffset),top=bound.top+(window.scrollY||window.pageYOffset),{top:top,left:left}},Scene}(),RDParallax.prototype.Defaults={selector:\".rd-parallax\",screenAliases:{0:\"-\",480:\"-xs-\",768:\"-sm-\",992:\"-md-\",1200:\"-lg-\",1920:\"-xl-\",2560:\"-xxl-\"}},RDParallax.prototype.initialize=function(){var ctx,element,elements,i,k,len,windowHeight,windowWidth;for(ctx=this,elements=document.querySelectorAll(ctx.options.selector),windowWidth=window.innerWidth,windowHeight=window.innerHeight,i=k=0,len=elements.length;k<len;i=++k)element=elements[i],ctx.scenes.push(new Scene(element,ctx.options.screenAliases,windowWidth,windowHeight));$(window).on(\"resize\",$.proxy(ctx.resize,ctx)),isSafariIOS&&$(\"input\").on(\"focusin focus\",function(e){return e.preventDefault(),ctx.activeOffset=$(this).offset().top,window.scrollTo(window.scrollX||window.pageXOffset,ctx.activeOffset-this.offsetHeight-100)}),$(window).trigger(\"resize\"),ctx.update(),ctx.checkResize()},RDParallax.prototype.resize=function(forceResize){var ctx,currentWindowWidth,k,len,ref,scene;if(ctx=this,(currentWindowWidth=window.innerWidth)!==ctx.windowWidth||!isMobile||forceResize){for(ctx.windowWidth=currentWindowWidth,ctx.windowHeight=window.innerHeight,ctx.documentHeight=document.body.offsetHeight,ref=ctx.scenes,k=0,len=ref.length;k<len;k++)scene=ref[k],scene.refresh(ctx.windowWidth,ctx.windowHeight);return ctx.update(!0)}},RDParallax.prototype.update=function(forceUpdate){var activeElement,ctx,deltaHeight,deltaScroll,documentHeight,k,len,ref,scene,scrollY,windowHeight,windowWidth;if(ctx=this,forceUpdate||requestAnimationFrame(function(){ctx.update()}),scrollY=window.scrollY||window.pageYOffset,isSafariIOS&&null!=(activeElement=document.activeElement)&&(activeElement.tagName.match(/(input)|(select)|(textarea)/i)?(ctx.activeElement=activeElement,ctx.inputFocus=!0):(ctx.activeElement=null,ctx.inputFocus=!1,forceUpdate=!0)),isMobile&&isChrome&&(deltaHeight=window.innerHeight-ctx.windowHeight,ctx.deltaHeight=deltaHeight,scrollY-=ctx.deltaHeight),(scrollY!==ctx.lastScrollY||forceUpdate)&&!ctx.isActing){for(ctx.isActing=!0,windowWidth=ctx.windowWidth,windowHeight=ctx.windowHeight,documentHeight=ctx.documentHeight,deltaScroll=scrollY-ctx.lastScrollY,isSafariIOS&&null!=ctx.activeElement&&(ctx.activeElement.value=ctx.activeElement.value+\" \",ctx.activeElement.value=ctx.activeElement.value.trim()),ref=ctx.scenes,k=0,len=ref.length;k<len;k++)scene=ref[k],(ctx.inputFocus||forceUpdate||scrollY+windowHeight>=(scene.agentOffset||scene.offsetTop)+deltaScroll&&scrollY<=(scene.agentOffset||scene.offsetTop)+(scene.agentHeight||scene.offsetHeight)+deltaScroll)&&scene.update(scrollY,windowWidth,windowHeight,documentHeight,ctx.inputFocus);return ctx.lastScrollY=scrollY,ctx.isActing=!1}},RDParallax.prototype.checkResize=function(){var ctx;ctx=this,setInterval(function(){var docHeight,k,l,layer,len,len1,ref,ref1,scene;for(docHeight=document.body.offsetHeight,ref=ctx.scenes,k=0,len=ref.length;k<len;k++){for(scene=ref[k],ref1=scene.layers,l=0,len1=ref1.length;l<len1;l++)if(layer=ref1[l],layer.isHolderWrong()){ctx.checkLayerHeight=!0;break}if(ctx.checkLayerHeight)break}if(ctx.checkLayerHeight||docHeight!==ctx.lastDocHeight)return ctx.resize(!0),ctx.lastDocHeight=docHeight,ctx.checkLayerHeight=!1},500)},RDParallax}(),$.RDParallax=function(options){var $doc;if($doc=$(document),!$doc.data(\"RDParallax\"))return $doc.data(\"RDParallax\",new RDParallax(options))},window.RDParallax=RDParallax}(window.jQuery,document,window),\"undefined\"!=typeof module&&null!==module?module.exports=window.RDParallax:\"function\"==typeof define&&define.amd&&define([\"jquery\"],function(){\"use strict\";return window.RDParallax})}).call(this);","TemplateMonster_ProductLabels/js/smart-labels.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.smartLabels', {\n\n        options: {\n            container: '.product-item',\n            catalogParent: '.product-item',\n            productContainer: '.product.media',\n            productParent: '.product.media',\n        },\n\n        _create: function() {\n            this._productLabel();\n            this._categoryLabel();\n        },\n\n        _categoryLabel: function () {\n            var container = this.options.container;\n            var parent = this.options.catalogParent;\n\n            var labelParent = $(container).parents(parent);\n            var defineParent = Boolean(labelParent.length);\n            var wrapper = this.element.parents(parent);\n            if(!defineParent) container = wrapper;\n            var anchor = (!container.length) ? wrapper : $(container, wrapper);\n            this.element.prependTo(anchor).show();\n        },\n\n        _productLabel: function () {\n            var productContainer = this.options.productContainer;\n            var productParent = this.options.productParent;\n            if(!productContainer.length) {\n                productContainer = productParent;\n            }\n            this.element.prependTo($(productContainer, '.catalog-product-view')).show();\n        }\n    });\n\n    return $.TemplateMonster.smartLabels;\n\n});\n","TemplateMonster_ShopByBrand/js/brand-add-product-page.js":"define([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'text!TemplateMonster_ShopByBrand/templates/brand/image.html'\n],function($, _, mageTemplate, brandTemplate) {\n    'use strict';\n\n    $.widget('tm.brandAddProductPage', {\n        options: {\n            template: brandTemplate,\n            showLogo: true,\n            showName: true,\n            logoWidth: 200,\n            selector: '',\n            brand: {\n                name: null,\n                image: null,\n                url: null\n            }\n        },\n\n        _create: function() {\n            if (this._isNeedToShow) {\n                $(this.options.selector).after(this._renderBrandLogo());\n            }\n        },\n\n        _isNeedToShow: function() {\n            var o = this.options;\n\n            // check if all options is initialized\n            return _.any([o.showLogo, o.showName]) && _.all(o.brand);\n        },\n\n        _renderBrandLogo: function() {\n            var template = mageTemplate(this.options.template);\n            var o = this.options;\n\n            return template({\n                data: {\n                    showLogo: o.showLogo,\n                    showName: o.showName,\n                    logoWidth: o.logoWidth,\n                    brand: o.brand\n                }\n            });\n        }\n    });\n\n    return $.tm.brandAddProductPage;\n});","TemplateMonster_ShopByBrand/js/brand-carousel.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'brandOwlCarousel'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.brandCarousel', {\n\n\n        options: {\n            items: 3,\n            itemsDesktop: [1199,5],\n            itemsDesktopSmall: [979,4],\n            itemsTablet: [768,3],\n            itemsMobile: [400,2],\n            autoPlay: false,\n            navigation:true,\n            pagination: false,\n            addClassActive: true,\n            navigationText: [],\n        },\n\n        _create: function() {\n            this.element.owlCarousel(this.options);\n        },\n        \n    });\n\n    return $.TemplateMonster.brandCarousel;\n\n});\n","TemplateMonster_ShopByBrand/js/owl.carousel.js":"/*\n *  jQuery OwlCarousel v1.3.3\n *\n *  Copyright (c) 2013 Bartosz Wojciechowski\n *  http://www.owlgraphic.com/owlcarousel/\n *\n *  Licensed under MIT\n *\n */\n\n/*JS Lint helpers: */\n/*global dragMove: false, dragEnd: false, $, jQuery, alert, window, document */\n/*jslint nomen: true, continue:true */\n\nif (typeof Object.create !== \"function\") {\n    Object.create = function (obj) {\n        function F() {}\n        F.prototype = obj;\n        return new F();\n    };\n}\n(function ($, window, document) {\n\n    var Carousel = {\n        init : function (options, el) {\n            var base = this;\n\n            base.$elem = $(el);\n            base.options = $.extend({}, $.fn.owlCarousel.options, base.$elem.data(), options);\n\n            base.userOptions = options;\n            base.loadContent();\n        },\n\n        loadContent : function () {\n            var base = this, url;\n\n            function getData(data) {\n                var i, content = \"\";\n                if (typeof base.options.jsonSuccess === \"function\") {\n                    base.options.jsonSuccess.apply(this, [data]);\n                } else {\n                    for (i in data.owl) {\n                        if (data.owl.hasOwnProperty(i)) {\n                            content += data.owl[i].item;\n                        }\n                    }\n                    base.$elem.html(content);\n                }\n                base.logIn();\n            }\n\n            if (typeof base.options.beforeInit === \"function\") {\n                base.options.beforeInit.apply(this, [base.$elem]);\n            }\n\n            if (typeof base.options.jsonPath === \"string\") {\n                url = base.options.jsonPath;\n                $.getJSON(url, getData);\n            } else {\n                base.logIn();\n            }\n        },\n\n        logIn : function () {\n            var base = this;\n\n            base.$elem.data(\"owl-originalStyles\", base.$elem.attr(\"style\"));\n            base.$elem.data(\"owl-originalClasses\", base.$elem.attr(\"class\"));\n\n            base.$elem.css({opacity: 0});\n            base.orignalItems = base.options.items;\n            base.checkBrowser();\n            base.wrapperWidth = 0;\n            base.checkVisible = null;\n            base.setVars();\n        },\n\n        setVars : function () {\n            var base = this;\n            if (base.$elem.children().length === 0) {return false; }\n            base.baseClass();\n            base.eventTypes();\n            base.$userItems = base.$elem.children();\n            base.itemsAmount = base.$userItems.length;\n            base.wrapItems();\n            base.$owlItems = base.$elem.find(\".owl-item\");\n            base.$owlWrapper = base.$elem.find(\".owl-wrapper\");\n            base.playDirection = \"next\";\n            base.prevItem = 0;\n            base.prevArr = [0];\n            base.currentItem = 0;\n            base.customEvents();\n            base.onStartup();\n        },\n\n        onStartup : function () {\n            var base = this;\n            base.updateItems();\n            base.calculateAll();\n            base.buildControls();\n            base.updateControls();\n            base.response();\n            base.moveEvents();\n            base.stopOnHover();\n            base.owlStatus();\n\n            if (base.options.transitionStyle !== false) {\n                base.transitionTypes(base.options.transitionStyle);\n            }\n            if (base.options.autoPlay === true) {\n                base.options.autoPlay = 5000;\n            }\n            base.play();\n\n            base.$elem.find(\".owl-wrapper\").css(\"display\", \"block\");\n\n            if (!base.$elem.is(\":visible\")) {\n                base.watchVisibility();\n            } else {\n                base.$elem.css(\"opacity\", 1);\n            }\n            base.onstartup = false;\n            base.eachMoveUpdate();\n            if (typeof base.options.afterInit === \"function\") {\n                base.options.afterInit.apply(this, [base.$elem]);\n            }\n        },\n\n        eachMoveUpdate : function () {\n            var base = this;\n\n            if (base.options.lazyLoad === true) {\n                base.lazyLoad();\n            }\n            if (base.options.autoHeight === true) {\n                base.autoHeight();\n            }\n            base.onVisibleItems();\n\n            if (typeof base.options.afterAction === \"function\") {\n                base.options.afterAction.apply(this, [base.$elem]);\n            }\n        },\n\n        updateVars : function () {\n            var base = this;\n            if (typeof base.options.beforeUpdate === \"function\") {\n                base.options.beforeUpdate.apply(this, [base.$elem]);\n            }\n            base.watchVisibility();\n            base.updateItems();\n            base.calculateAll();\n            base.updatePosition();\n            base.updateControls();\n            base.eachMoveUpdate();\n            if (typeof base.options.afterUpdate === \"function\") {\n                base.options.afterUpdate.apply(this, [base.$elem]);\n            }\n        },\n\n        reload : function () {\n            var base = this;\n            window.setTimeout(function () {\n                base.updateVars();\n            }, 0);\n        },\n\n        watchVisibility : function () {\n            var base = this;\n\n            if (base.$elem.is(\":visible\") === false) {\n                base.$elem.css({opacity: 0});\n                window.clearInterval(base.autoPlayInterval);\n                window.clearInterval(base.checkVisible);\n            } else {\n                return false;\n            }\n            base.checkVisible = window.setInterval(function () {\n                if (base.$elem.is(\":visible\")) {\n                    base.reload();\n                    base.$elem.animate({opacity: 1}, 200);\n                    window.clearInterval(base.checkVisible);\n                }\n            }, 500);\n        },\n\n        wrapItems : function () {\n            var base = this;\n            base.$userItems.wrapAll(\"<div class=\\\"owl-wrapper\\\">\").wrap(\"<div class=\\\"owl-item\\\"></div>\");\n            base.$elem.find(\".owl-wrapper\").wrap(\"<div class=\\\"owl-wrapper-outer\\\">\");\n            base.wrapperOuter = base.$elem.find(\".owl-wrapper-outer\");\n            base.$elem.css(\"display\", \"block\");\n        },\n\n        baseClass : function () {\n            var base = this,\n                hasBaseClass = base.$elem.hasClass(base.options.baseClass),\n                hasThemeClass = base.$elem.hasClass(base.options.theme);\n\n            if (!hasBaseClass) {\n                base.$elem.addClass(base.options.baseClass);\n            }\n\n            if (!hasThemeClass) {\n                base.$elem.addClass(base.options.theme);\n            }\n        },\n\n        updateItems : function () {\n            var base = this, width, i;\n\n            if (base.options.responsive === false) {\n                return false;\n            }\n            if (base.options.singleItem === true) {\n                base.options.items = base.orignalItems = 1;\n                base.options.itemsCustom = false;\n                base.options.itemsDesktop = false;\n                base.options.itemsDesktopSmall = false;\n                base.options.itemsTablet = false;\n                base.options.itemsTabletSmall = false;\n                base.options.itemsMobile = false;\n                return false;\n            }\n\n            width = $(base.options.responsiveBaseWidth).width();\n\n            if (width > (base.options.itemsDesktop[0] || base.orignalItems)) {\n                base.options.items = base.orignalItems;\n            }\n            if (base.options.itemsCustom !== false) {\n                //Reorder array by screen size\n                base.options.itemsCustom.sort(function (a, b) {return a[0] - b[0]; });\n\n                for (i = 0; i < base.options.itemsCustom.length; i += 1) {\n                    if (base.options.itemsCustom[i][0] <= width) {\n                        base.options.items = base.options.itemsCustom[i][1];\n                    }\n                }\n\n            } else {\n\n                if (width <= base.options.itemsDesktop[0] && base.options.itemsDesktop !== false) {\n                    base.options.items = base.options.itemsDesktop[1];\n                }\n\n                if (width <= base.options.itemsDesktopSmall[0] && base.options.itemsDesktopSmall !== false) {\n                    base.options.items = base.options.itemsDesktopSmall[1];\n                }\n\n                if (width <= base.options.itemsTablet[0] && base.options.itemsTablet !== false) {\n                    base.options.items = base.options.itemsTablet[1];\n                }\n\n                if (width <= base.options.itemsTabletSmall[0] && base.options.itemsTabletSmall !== false) {\n                    base.options.items = base.options.itemsTabletSmall[1];\n                }\n\n                if (width <= base.options.itemsMobile[0] && base.options.itemsMobile !== false) {\n                    base.options.items = base.options.itemsMobile[1];\n                }\n            }\n\n            //if number of items is less than declared\n            if (base.options.items > base.itemsAmount && base.options.itemsScaleUp === true) {\n                base.options.items = base.itemsAmount;\n            }\n        },\n\n        response : function () {\n            var base = this,\n                smallDelay,\n                lastWindowWidth;\n\n            if (base.options.responsive !== true) {\n                return false;\n            }\n            lastWindowWidth = $(window).width();\n\n            base.resizer = function () {\n                if ($(window).width() !== lastWindowWidth) {\n                    if (base.options.autoPlay !== false) {\n                        window.clearInterval(base.autoPlayInterval);\n                    }\n                    window.clearTimeout(smallDelay);\n                    smallDelay = window.setTimeout(function () {\n                        lastWindowWidth = $(window).width();\n                        base.updateVars();\n                    }, base.options.responsiveRefreshRate);\n                }\n            };\n            $(window).resize(base.resizer);\n        },\n\n        updatePosition : function () {\n            var base = this;\n            base.jumpTo(base.currentItem);\n            if (base.options.autoPlay !== false) {\n                base.checkAp();\n            }\n        },\n\n        appendItemsSizes : function () {\n            var base = this,\n                roundPages = 0,\n                lastItem = base.itemsAmount - base.options.items;\n\n            base.$owlItems.each(function (index) {\n                var $this = $(this);\n                $this\n                    .css({\"width\": base.itemWidth})\n                    .data(\"owl-item\", Number(index));\n\n                if (index % base.options.items === 0 || index === lastItem) {\n                    if (!(index > lastItem)) {\n                        roundPages += 1;\n                    }\n                }\n                $this.data(\"owl-roundPages\", roundPages);\n            });\n        },\n\n        appendWrapperSizes : function () {\n            var base = this,\n                width = base.$owlItems.length * base.itemWidth;\n\n            base.$owlWrapper.css({\n                \"width\": width * 2,\n                \"left\": 0\n            });\n            base.appendItemsSizes();\n        },\n\n        calculateAll : function () {\n            var base = this;\n            base.calculateWidth();\n            base.appendWrapperSizes();\n            base.loops();\n            base.max();\n        },\n\n        calculateWidth : function () {\n            var base = this;\n            base.itemWidth = Math.round(base.$elem.width() / base.options.items);\n        },\n\n        max : function () {\n            var base = this,\n                maximum = ((base.itemsAmount * base.itemWidth) - base.options.items * base.itemWidth) * -1;\n            if (base.options.items > base.itemsAmount) {\n                base.maximumItem = 0;\n                maximum = 0;\n                base.maximumPixels = 0;\n            } else {\n                base.maximumItem = base.itemsAmount - base.options.items;\n                base.maximumPixels = maximum;\n            }\n            return maximum;\n        },\n\n        min : function () {\n            return 0;\n        },\n\n        loops : function () {\n            var base = this,\n                prev = 0,\n                elWidth = 0,\n                i,\n                item,\n                roundPageNum;\n\n            base.positionsInArray = [0];\n            base.pagesInArray = [];\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                elWidth += base.itemWidth;\n                base.positionsInArray.push(-elWidth);\n\n                if (base.options.scrollPerPage === true) {\n                    item = $(base.$owlItems[i]);\n                    roundPageNum = item.data(\"owl-roundPages\");\n                    if (roundPageNum !== prev) {\n                        base.pagesInArray[prev] = base.positionsInArray[i];\n                        prev = roundPageNum;\n                    }\n                }\n            }\n        },\n\n        buildControls : function () {\n            var base = this;\n            if (base.options.navigation === true || base.options.pagination === true) {\n                base.owlControls = $(\"<div class=\\\"owl-controls\\\"/>\").toggleClass(\"clickable\", !base.browser.isTouch).appendTo(base.$elem);\n            }\n            if (base.options.pagination === true) {\n                base.buildPagination();\n            }\n            if (base.options.navigation === true) {\n                base.buildButtons();\n            }\n        },\n\n        buildButtons : function () {\n            var base = this,\n                buttonsWrapper = $(\"<div class=\\\"owl-buttons\\\"/>\");\n            base.owlControls.append(buttonsWrapper);\n\n            base.buttonPrev = $(\"<div/>\", {\n                \"class\" : \"owl-prev\",\n                \"html\" : base.options.navigationText[0] || \"\"\n            });\n\n            base.buttonNext = $(\"<div/>\", {\n                \"class\" : \"owl-next\",\n                \"html\" : base.options.navigationText[1] || \"\"\n            });\n\n            buttonsWrapper\n                .append(base.buttonPrev)\n                .append(base.buttonNext);\n\n            buttonsWrapper.on(\"touchstart.owlControls mousedown.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n            });\n\n            buttonsWrapper.on(\"touchend.owlControls mouseup.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n                if ($(this).hasClass(\"owl-next\")) {\n                    base.next();\n                } else {\n                    base.prev();\n                }\n            });\n        },\n\n        buildPagination : function () {\n            var base = this;\n\n            base.paginationWrapper = $(\"<div class=\\\"owl-pagination\\\"/>\");\n            base.owlControls.append(base.paginationWrapper);\n\n            base.paginationWrapper.on(\"touchend.owlControls mouseup.owlControls\", \".owl-page\", function (event) {\n                event.preventDefault();\n                if (Number($(this).data(\"owl-page\")) !== base.currentItem) {\n                    base.goTo(Number($(this).data(\"owl-page\")), true);\n                }\n            });\n        },\n\n        updatePagination : function () {\n            var base = this,\n                counter,\n                lastPage,\n                lastItem,\n                i,\n                paginationButton,\n                paginationButtonInner;\n\n            if (base.options.pagination === false) {\n                return false;\n            }\n\n            base.paginationWrapper.html(\"\");\n\n            counter = 0;\n            lastPage = base.itemsAmount - base.itemsAmount % base.options.items;\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                if (i % base.options.items === 0) {\n                    counter += 1;\n                    if (lastPage === i) {\n                        lastItem = base.itemsAmount - base.options.items;\n                    }\n                    paginationButton = $(\"<div/>\", {\n                        \"class\" : \"owl-page\"\n                    });\n                    paginationButtonInner = $(\"<span></span>\", {\n                        \"text\": base.options.paginationNumbers === true ? counter : \"\",\n                        \"class\": base.options.paginationNumbers === true ? \"owl-numbers\" : \"\"\n                    });\n                    paginationButton.append(paginationButtonInner);\n\n                    paginationButton.data(\"owl-page\", lastPage === i ? lastItem : i);\n                    paginationButton.data(\"owl-roundPages\", counter);\n\n                    base.paginationWrapper.append(paginationButton);\n                }\n            }\n            base.checkPagination();\n        },\n        checkPagination : function () {\n            var base = this;\n            if (base.options.pagination === false) {\n                return false;\n            }\n            base.paginationWrapper.find(\".owl-page\").each(function () {\n                if ($(this).data(\"owl-roundPages\") === $(base.$owlItems[base.currentItem]).data(\"owl-roundPages\")) {\n                    base.paginationWrapper\n                        .find(\".owl-page\")\n                        .removeClass(\"active\");\n                    $(this).addClass(\"active\");\n                }\n            });\n        },\n\n        checkNavigation : function () {\n            var base = this;\n\n            if (base.options.navigation === false) {\n                return false;\n            }\n            if (base.options.rewindNav === false) {\n                if (base.currentItem === 0 && base.maximumItem === 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem === 0 && base.maximumItem !== 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                } else if (base.currentItem === base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem !== 0 && base.currentItem !== base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                }\n            }\n        },\n\n        updateControls : function () {\n            var base = this;\n            base.updatePagination();\n            base.checkNavigation();\n            if (base.owlControls) {\n                if (base.options.items >= base.itemsAmount) {\n                    base.owlControls.hide();\n                } else {\n                    base.owlControls.show();\n                }\n            }\n        },\n\n        destroyControls : function () {\n            var base = this;\n            if (base.owlControls) {\n                base.owlControls.remove();\n            }\n        },\n\n        next : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            base.currentItem += base.options.scrollPerPage === true ? base.options.items : 1;\n            if (base.currentItem > base.maximumItem + (base.options.scrollPerPage === true ? (base.options.items - 1) : 0)) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = 0;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = base.maximumItem;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        prev : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            if (base.options.scrollPerPage === true && base.currentItem > 0 && base.currentItem < base.options.items) {\n                base.currentItem = 0;\n            } else {\n                base.currentItem -= base.options.scrollPerPage === true ? base.options.items : 1;\n            }\n            if (base.currentItem < 0) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = base.maximumItem;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = 0;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        goTo : function (position, speed, drag) {\n            var base = this,\n                goToPixel;\n\n            if (base.isTransition) {\n                return false;\n            }\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n\n            base.currentItem = base.owl.currentItem = position;\n            if (base.options.transitionStyle !== false && drag !== \"drag\" && base.options.items === 1 && base.browser.support3d === true) {\n                base.swapSpeed(0);\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.positionsInArray[position]);\n                } else {\n                    base.css2slide(base.positionsInArray[position], 1);\n                }\n                base.afterGo();\n                base.singleItemTransition();\n                return false;\n            }\n            goToPixel = base.positionsInArray[position];\n\n            if (base.browser.support3d === true) {\n                base.isCss3Finish = false;\n\n                if (speed === true) {\n                    base.swapSpeed(\"paginationSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.paginationSpeed);\n\n                } else if (speed === \"rewind\") {\n                    base.swapSpeed(base.options.rewindSpeed);\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.rewindSpeed);\n\n                } else {\n                    base.swapSpeed(\"slideSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.slideSpeed);\n                }\n                base.transition3d(goToPixel);\n            } else {\n                if (speed === true) {\n                    base.css2slide(goToPixel, base.options.paginationSpeed);\n                } else if (speed === \"rewind\") {\n                    base.css2slide(goToPixel, base.options.rewindSpeed);\n                } else {\n                    base.css2slide(goToPixel, base.options.slideSpeed);\n                }\n            }\n            base.afterGo();\n        },\n\n        jumpTo : function (position) {\n            var base = this;\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem || position === -1) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n            base.swapSpeed(0);\n            if (base.browser.support3d === true) {\n                base.transition3d(base.positionsInArray[position]);\n            } else {\n                base.css2slide(base.positionsInArray[position], 1);\n            }\n            base.currentItem = base.owl.currentItem = position;\n            base.afterGo();\n        },\n\n        afterGo : function () {\n            var base = this;\n\n            base.prevArr.push(base.currentItem);\n            base.prevItem = base.owl.prevItem = base.prevArr[base.prevArr.length - 2];\n            base.prevArr.shift(0);\n\n            if (base.prevItem !== base.currentItem) {\n                base.checkPagination();\n                base.checkNavigation();\n                base.eachMoveUpdate();\n\n                if (base.options.autoPlay !== false) {\n                    base.checkAp();\n                }\n            }\n            if (typeof base.options.afterMove === \"function\" && base.prevItem !== base.currentItem) {\n                base.options.afterMove.apply(this, [base.$elem]);\n            }\n        },\n\n        stop : function () {\n            var base = this;\n            base.apStatus = \"stop\";\n            window.clearInterval(base.autoPlayInterval);\n        },\n\n        checkAp : function () {\n            var base = this;\n            if (base.apStatus !== \"stop\") {\n                base.play();\n            }\n        },\n\n        play : function () {\n            var base = this;\n            base.apStatus = \"play\";\n            if (base.options.autoPlay === false) {\n                return false;\n            }\n            window.clearInterval(base.autoPlayInterval);\n            base.autoPlayInterval = window.setInterval(function () {\n                base.next(true);\n            }, base.options.autoPlay);\n        },\n\n        swapSpeed : function (action) {\n            var base = this;\n            if (action === \"slideSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed));\n            } else if (action === \"paginationSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed));\n            } else if (typeof action !== \"string\") {\n                base.$owlWrapper.css(base.addCssSpeed(action));\n            }\n        },\n\n        addCssSpeed : function (speed) {\n            return {\n                \"-webkit-transition\": \"all \" + speed + \"ms ease\",\n                \"-moz-transition\": \"all \" + speed + \"ms ease\",\n                \"-o-transition\": \"all \" + speed + \"ms ease\",\n                \"transition\": \"all \" + speed + \"ms ease\"\n            };\n        },\n\n        removeTransition : function () {\n            return {\n                \"-webkit-transition\": \"\",\n                \"-moz-transition\": \"\",\n                \"-o-transition\": \"\",\n                \"transition\": \"\"\n            };\n        },\n\n        doTranslate : function (pixels) {\n            return {\n                \"-webkit-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-moz-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-o-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-ms-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"transform\": \"translate3d(\" + pixels + \"px, 0px,0px)\"\n            };\n        },\n\n        transition3d : function (value) {\n            var base = this;\n            base.$owlWrapper.css(base.doTranslate(value));\n        },\n\n        css2move : function (value) {\n            var base = this;\n            base.$owlWrapper.css({\"left\" : value});\n        },\n\n        css2slide : function (value, speed) {\n            var base = this;\n\n            base.isCssFinish = false;\n            base.$owlWrapper.stop(true, true).animate({\n                \"left\" : value\n            }, {\n                duration : speed || base.options.slideSpeed,\n                complete : function () {\n                    base.isCssFinish = true;\n                }\n            });\n        },\n\n        checkBrowser : function () {\n            var base = this,\n                translate3D = \"translate3d(0px, 0px, 0px)\",\n                tempElem = document.createElement(\"div\"),\n                regex,\n                asSupport,\n                support3d,\n                isTouch;\n\n            tempElem.style.cssText = \"  -moz-transform:\" + translate3D +\n                                  \"; -ms-transform:\"     + translate3D +\n                                  \"; -o-transform:\"      + translate3D +\n                                  \"; -webkit-transform:\" + translate3D +\n                                  \"; transform:\"         + translate3D;\n            regex = /translate3d\\(0px, 0px, 0px\\)/g;\n            asSupport = tempElem.style.cssText.match(regex);\n            support3d = (asSupport !== null && asSupport.length === 1);\n\n            isTouch = \"ontouchstart\" in window || window.navigator.msMaxTouchPoints;\n\n            base.browser = {\n                \"support3d\" : support3d,\n                \"isTouch\" : isTouch\n            };\n        },\n\n        moveEvents : function () {\n            var base = this;\n            if (base.options.mouseDrag !== false || base.options.touchDrag !== false) {\n                base.gestures();\n                base.disabledEvents();\n            }\n        },\n\n        eventTypes : function () {\n            var base = this,\n                types = [\"s\", \"e\", \"x\"];\n\n            base.ev_types = {};\n\n            if (base.options.mouseDrag === true && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl mousedown.owl\",\n                    \"touchmove.owl mousemove.owl\",\n                    \"touchend.owl touchcancel.owl mouseup.owl\"\n                ];\n            } else if (base.options.mouseDrag === false && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl\",\n                    \"touchmove.owl\",\n                    \"touchend.owl touchcancel.owl\"\n                ];\n            } else if (base.options.mouseDrag === true && base.options.touchDrag === false) {\n                types = [\n                    \"mousedown.owl\",\n                    \"mousemove.owl\",\n                    \"mouseup.owl\"\n                ];\n            }\n\n            base.ev_types.start = types[0];\n            base.ev_types.move = types[1];\n            base.ev_types.end = types[2];\n        },\n\n        disabledEvents :  function () {\n            var base = this;\n            base.$elem.on(\"dragstart.owl\", function (event) { event.preventDefault(); });\n            base.$elem.on(\"mousedown.disableTextSelect\", function (e) {\n                return $(e.target).is('input, textarea, select, option');\n            });\n        },\n\n        gestures : function () {\n            /*jslint unparam: true*/\n            var base = this,\n                locals = {\n                    offsetX : 0,\n                    offsetY : 0,\n                    baseElWidth : 0,\n                    relativePos : 0,\n                    position: null,\n                    minSwipe : null,\n                    maxSwipe: null,\n                    sliding : null,\n                    dargging: null,\n                    targetElement : null\n                };\n\n            base.isCssFinish = true;\n\n            function getTouches(event) {\n                if (event.touches !== undefined) {\n                    return {\n                        x : event.touches[0].pageX,\n                        y : event.touches[0].pageY\n                    };\n                }\n\n                if (event.touches === undefined) {\n                    if (event.pageX !== undefined) {\n                        return {\n                            x : event.pageX,\n                            y : event.pageY\n                        };\n                    }\n                    if (event.pageX === undefined) {\n                        return {\n                            x : event.clientX,\n                            y : event.clientY\n                        };\n                    }\n                }\n            }\n\n            function swapEvents(type) {\n                if (type === \"on\") {\n                    $(document).on(base.ev_types.move, dragMove);\n                    $(document).on(base.ev_types.end, dragEnd);\n                } else if (type === \"off\") {\n                    $(document).off(base.ev_types.move);\n                    $(document).off(base.ev_types.end);\n                }\n            }\n\n            function dragStart(event) {\n                var ev = event.originalEvent || event || window.event,\n                    position;\n\n                if (ev.which === 3) {\n                    return false;\n                }\n                if (base.itemsAmount <= base.options.items) {\n                    return;\n                }\n                if (base.isCssFinish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n                if (base.isCss3Finish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n\n                if (base.options.autoPlay !== false) {\n                    window.clearInterval(base.autoPlayInterval);\n                }\n\n                if (base.browser.isTouch !== true && !base.$owlWrapper.hasClass(\"grabbing\")) {\n                    base.$owlWrapper.addClass(\"grabbing\");\n                }\n\n                base.newPosX = 0;\n                base.newRelativeX = 0;\n\n                $(this).css(base.removeTransition());\n\n                position = $(this).position();\n                locals.relativePos = position.left;\n\n                locals.offsetX = getTouches(ev).x - position.left;\n                locals.offsetY = getTouches(ev).y - position.top;\n\n                swapEvents(\"on\");\n\n                locals.sliding = false;\n                locals.targetElement = ev.target || ev.srcElement;\n            }\n\n            function dragMove(event) {\n                var ev = event.originalEvent || event || window.event,\n                    minSwipe,\n                    maxSwipe;\n\n                base.newPosX = getTouches(ev).x - locals.offsetX;\n                base.newPosY = getTouches(ev).y - locals.offsetY;\n                base.newRelativeX = base.newPosX - locals.relativePos;\n\n                if (typeof base.options.startDragging === \"function\" && locals.dragging !== true && base.newRelativeX !== 0) {\n                    locals.dragging = true;\n                    base.options.startDragging.apply(base, [base.$elem]);\n                }\n\n                if ((base.newRelativeX > 8 || base.newRelativeX < -8) && (base.browser.isTouch === true)) {\n                    if (ev.preventDefault !== undefined) {\n                        ev.preventDefault();\n                    } else {\n                        ev.returnValue = false;\n                    }\n                    locals.sliding = true;\n                }\n\n                if ((base.newPosY > 10 || base.newPosY < -10) && locals.sliding === false) {\n                    $(document).off(\"touchmove.owl\");\n                }\n\n                minSwipe = function () {\n                    return base.newRelativeX / 5;\n                };\n\n                maxSwipe = function () {\n                    return base.maximumPixels + base.newRelativeX / 5;\n                };\n\n                base.newPosX = Math.max(Math.min(base.newPosX, minSwipe()), maxSwipe());\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.newPosX);\n                } else {\n                    base.css2move(base.newPosX);\n                }\n            }\n\n            function dragEnd(event) {\n                var ev = event.originalEvent || event || window.event,\n                    newPosition,\n                    handlers,\n                    owlStopEvent;\n\n                ev.target = ev.target || ev.srcElement;\n\n                locals.dragging = false;\n\n                if (base.browser.isTouch !== true) {\n                    base.$owlWrapper.removeClass(\"grabbing\");\n                }\n\n                if (base.newRelativeX < 0) {\n                    base.dragDirection = base.owl.dragDirection = \"left\";\n                } else {\n                    base.dragDirection = base.owl.dragDirection = \"right\";\n                }\n\n                if (base.newRelativeX !== 0) {\n                    newPosition = base.getNewPosition();\n                    base.goTo(newPosition, false, \"drag\");\n                    if (locals.targetElement === ev.target && base.browser.isTouch !== true) {\n                        $(ev.target).on(\"click.disable\", function (ev) {\n                            ev.stopImmediatePropagation();\n                            ev.stopPropagation();\n                            ev.preventDefault();\n                            $(ev.target).off(\"click.disable\");\n                        });\n                        handlers = $._data(ev.target, \"events\").click;\n                        owlStopEvent = handlers.pop();\n                        handlers.splice(0, 0, owlStopEvent);\n                    }\n                }\n                swapEvents(\"off\");\n            }\n            base.$elem.on(base.ev_types.start, \".owl-wrapper\", dragStart);\n        },\n\n        getNewPosition : function () {\n            var base = this,\n                newPosition = base.closestItem();\n\n            if (newPosition > base.maximumItem) {\n                base.currentItem = base.maximumItem;\n                newPosition  = base.maximumItem;\n            } else if (base.newPosX >= 0) {\n                newPosition = 0;\n                base.currentItem = 0;\n            }\n            return newPosition;\n        },\n        closestItem : function () {\n            var base = this,\n                array = base.options.scrollPerPage === true ? base.pagesInArray : base.positionsInArray,\n                goal = base.newPosX,\n                closest = null;\n\n            $.each(array, function (i, v) {\n                if (goal - (base.itemWidth / 20) > array[i + 1] && goal - (base.itemWidth / 20) < v && base.moveDirection() === \"left\") {\n                    closest = v;\n                    if (base.options.scrollPerPage === true) {\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        base.currentItem = i;\n                    }\n                } else if (goal + (base.itemWidth / 20) < v && goal + (base.itemWidth / 20) > (array[i + 1] || array[i] - base.itemWidth) && base.moveDirection() === \"right\") {\n                    if (base.options.scrollPerPage === true) {\n                        closest = array[i + 1] || array[array.length - 1];\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        closest = array[i + 1];\n                        base.currentItem = i + 1;\n                    }\n                }\n            });\n            return base.currentItem;\n        },\n\n        moveDirection : function () {\n            var base = this,\n                direction;\n            if (base.newRelativeX < 0) {\n                direction = \"right\";\n                base.playDirection = \"next\";\n            } else {\n                direction = \"left\";\n                base.playDirection = \"prev\";\n            }\n            return direction;\n        },\n\n        customEvents : function () {\n            /*jslint unparam: true*/\n            var base = this;\n            base.$elem.on(\"owl.next\", function () {\n                base.next();\n            });\n            base.$elem.on(\"owl.prev\", function () {\n                base.prev();\n            });\n            base.$elem.on(\"owl.play\", function (event, speed) {\n                base.options.autoPlay = speed;\n                base.play();\n                base.hoverStatus = \"play\";\n            });\n            base.$elem.on(\"owl.stop\", function () {\n                base.stop();\n                base.hoverStatus = \"stop\";\n            });\n            base.$elem.on(\"owl.goTo\", function (event, item) {\n                base.goTo(item);\n            });\n            base.$elem.on(\"owl.jumpTo\", function (event, item) {\n                base.jumpTo(item);\n            });\n        },\n\n        stopOnHover : function () {\n            var base = this;\n            if (base.options.stopOnHover === true && base.browser.isTouch !== true && base.options.autoPlay !== false) {\n                base.$elem.on(\"mouseover\", function () {\n                    base.stop();\n                });\n                base.$elem.on(\"mouseout\", function () {\n                    if (base.hoverStatus !== \"stop\") {\n                        base.play();\n                    }\n                });\n            }\n        },\n\n        lazyLoad : function () {\n            var base = this,\n                i,\n                $item,\n                itemNumber,\n                $lazyImg,\n                follow;\n\n            if (base.options.lazyLoad === false) {\n                return false;\n            }\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                $item = $(base.$owlItems[i]);\n\n                if ($item.data(\"owl-loaded\") === \"loaded\") {\n                    continue;\n                }\n\n                itemNumber = $item.data(\"owl-item\");\n                $lazyImg = $item.find(\".lazyOwl\");\n\n                if (typeof $lazyImg.data(\"src\") !== \"string\") {\n                    $item.data(\"owl-loaded\", \"loaded\");\n                    continue;\n                }\n                if ($item.data(\"owl-loaded\") === undefined) {\n                    $lazyImg.hide();\n                    $item.addClass(\"loading\").data(\"owl-loaded\", \"checked\");\n                }\n                if (base.options.lazyFollow === true) {\n                    follow = itemNumber >= base.currentItem;\n                } else {\n                    follow = true;\n                }\n                if (follow && itemNumber < base.currentItem + base.options.items && $lazyImg.length) {\n                    base.lazyPreload($item, $lazyImg);\n                }\n            }\n        },\n\n        lazyPreload : function ($item, $lazyImg) {\n            var base = this,\n                iterations = 0,\n                isBackgroundImg;\n\n            if ($lazyImg.prop(\"tagName\") === \"DIV\") {\n                $lazyImg.css(\"background-image\", \"url(\" + $lazyImg.data(\"src\") + \")\");\n                isBackgroundImg = true;\n            } else {\n                $lazyImg[0].src = $lazyImg.data(\"src\");\n            }\n\n            function showImage() {\n                $item.data(\"owl-loaded\", \"loaded\").removeClass(\"loading\");\n                $lazyImg.removeAttr(\"data-src\");\n                if (base.options.lazyEffect === \"fade\") {\n                    $lazyImg.fadeIn(400);\n                } else {\n                    $lazyImg.show();\n                }\n                if (typeof base.options.afterLazyLoad === \"function\") {\n                    base.options.afterLazyLoad.apply(this, [base.$elem]);\n                }\n            }\n\n            function checkLazyImage() {\n                iterations += 1;\n                if (base.completeImg($lazyImg.get(0)) || isBackgroundImg === true) {\n                    showImage();\n                } else if (iterations <= 100) {//if image loads in less than 10 seconds \n                    window.setTimeout(checkLazyImage, 100);\n                } else {\n                    showImage();\n                }\n            }\n\n            checkLazyImage();\n        },\n\n        autoHeight : function () {\n            var base = this,\n                $currentimg = $(base.$owlItems[base.currentItem]).find(\"img\"),\n                iterations;\n\n            function addHeight() {\n                var $currentItem = $(base.$owlItems[base.currentItem]).height();\n                base.wrapperOuter.css(\"height\", $currentItem + \"px\");\n                if (!base.wrapperOuter.hasClass(\"autoHeight\")) {\n                    window.setTimeout(function () {\n                        base.wrapperOuter.addClass(\"autoHeight\");\n                    }, 0);\n                }\n            }\n\n            function checkImage() {\n                iterations += 1;\n                if (base.completeImg($currentimg.get(0))) {\n                    addHeight();\n                } else if (iterations <= 100) { //if image loads in less than 10 seconds \n                    window.setTimeout(checkImage, 100);\n                } else {\n                    base.wrapperOuter.css(\"height\", \"\"); //Else remove height attribute\n                }\n            }\n\n            if ($currentimg.get(0) !== undefined) {\n                iterations = 0;\n                checkImage();\n            } else {\n                addHeight();\n            }\n        },\n\n        completeImg : function (img) {\n            var naturalWidthType;\n\n            if (!img.complete) {\n                return false;\n            }\n            naturalWidthType = typeof img.naturalWidth;\n            if (naturalWidthType !== \"undefined\" && img.naturalWidth === 0) {\n                return false;\n            }\n            return true;\n        },\n\n        onVisibleItems : function () {\n            var base = this,\n                i;\n\n            if (base.options.addClassActive === true) {\n                base.$owlItems.removeClass(\"active\");\n            }\n            base.visibleItems = [];\n            for (i = base.currentItem; i < base.currentItem + base.options.items; i += 1) {\n                base.visibleItems.push(i);\n\n                if (base.options.addClassActive === true) {\n                    $(base.$owlItems[i]).addClass(\"active\");\n                }\n            }\n            base.owl.visibleItems = base.visibleItems;\n        },\n\n        transitionTypes : function (className) {\n            var base = this;\n            //Currently available: \"fade\", \"backSlide\", \"goDown\", \"fadeUp\"\n            base.outClass = \"owl-\" + className + \"-out\";\n            base.inClass = \"owl-\" + className + \"-in\";\n        },\n\n        singleItemTransition : function () {\n            var base = this,\n                outClass = base.outClass,\n                inClass = base.inClass,\n                $currentItem = base.$owlItems.eq(base.currentItem),\n                $prevItem = base.$owlItems.eq(base.prevItem),\n                prevPos = Math.abs(base.positionsInArray[base.currentItem]) + base.positionsInArray[base.prevItem],\n                origin = Math.abs(base.positionsInArray[base.currentItem]) + base.itemWidth / 2,\n                animEnd = 'webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend';\n\n            base.isTransition = true;\n\n            base.$owlWrapper\n                .addClass('owl-origin')\n                .css({\n                    \"-webkit-transform-origin\" : origin + \"px\",\n                    \"-moz-perspective-origin\" : origin + \"px\",\n                    \"perspective-origin\" : origin + \"px\"\n                });\n            function transStyles(prevPos) {\n                return {\n                    \"position\" : \"relative\",\n                    \"left\" : prevPos + \"px\"\n                };\n            }\n\n            $prevItem\n                .css(transStyles(prevPos, 10))\n                .addClass(outClass)\n                .on(animEnd, function () {\n                    base.endPrev = true;\n                    $prevItem.off(animEnd);\n                    base.clearTransStyle($prevItem, outClass);\n                });\n\n            $currentItem\n                .addClass(inClass)\n                .on(animEnd, function () {\n                    base.endCurrent = true;\n                    $currentItem.off(animEnd);\n                    base.clearTransStyle($currentItem, inClass);\n                });\n        },\n\n        clearTransStyle : function (item, classToRemove) {\n            var base = this;\n            item.css({\n                \"position\" : \"\",\n                \"left\" : \"\"\n            }).removeClass(classToRemove);\n\n            if (base.endPrev && base.endCurrent) {\n                base.$owlWrapper.removeClass('owl-origin');\n                base.endPrev = false;\n                base.endCurrent = false;\n                base.isTransition = false;\n            }\n        },\n\n        owlStatus : function () {\n            var base = this;\n            base.owl = {\n                \"userOptions\"   : base.userOptions,\n                \"baseElement\"   : base.$elem,\n                \"userItems\"     : base.$userItems,\n                \"owlItems\"      : base.$owlItems,\n                \"currentItem\"   : base.currentItem,\n                \"prevItem\"      : base.prevItem,\n                \"visibleItems\"  : base.visibleItems,\n                \"isTouch\"       : base.browser.isTouch,\n                \"browser\"       : base.browser,\n                \"dragDirection\" : base.dragDirection\n            };\n        },\n\n        clearEvents : function () {\n            var base = this;\n            base.$elem.off(\".owl owl mousedown.disableTextSelect\");\n            $(document).off(\".owl owl\");\n            $(window).off(\"resize\", base.resizer);\n        },\n\n        unWrap : function () {\n            var base = this;\n            if (base.$elem.children().length !== 0) {\n                base.$owlWrapper.unwrap();\n                base.$userItems.unwrap().unwrap();\n                if (base.owlControls) {\n                    base.owlControls.remove();\n                }\n            }\n            base.clearEvents();\n            base.$elem\n                .attr(\"style\", base.$elem.data(\"owl-originalStyles\") || \"\")\n                .attr(\"class\", base.$elem.data(\"owl-originalClasses\"));\n        },\n\n        destroy : function () {\n            var base = this;\n            base.stop();\n            window.clearInterval(base.checkVisible);\n            base.unWrap();\n            base.$elem.removeData();\n        },\n\n        reinit : function (newOptions) {\n            var base = this,\n                options = $.extend({}, base.userOptions, newOptions);\n            base.unWrap();\n            base.init(options, base.$elem);\n        },\n\n        addItem : function (htmlString, targetPosition) {\n            var base = this,\n                position;\n\n            if (!htmlString) {return false; }\n\n            if (base.$elem.children().length === 0) {\n                base.$elem.append(htmlString);\n                base.setVars();\n                return false;\n            }\n            base.unWrap();\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n            if (position >= base.$userItems.length || position === -1) {\n                base.$userItems.eq(-1).after(htmlString);\n            } else {\n                base.$userItems.eq(position).before(htmlString);\n            }\n\n            base.setVars();\n        },\n\n        removeItem : function (targetPosition) {\n            var base = this,\n                position;\n\n            if (base.$elem.children().length === 0) {\n                return false;\n            }\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n\n            base.unWrap();\n            base.$userItems.eq(position).remove();\n            base.setVars();\n        }\n\n    };\n\n    $.fn.owlCarousel = function (options) {\n        return this.each(function () {\n            if ($(this).data(\"owl-init\") === true) {\n                return false;\n            }\n            $(this).data(\"owl-init\", true);\n            var carousel = Object.create(Carousel);\n            carousel.init(options, this);\n            $.data(this, \"owlCarousel\", carousel);\n        });\n    };\n\n    $.fn.owlCarousel.options = {\n\n        items : 5,\n        itemsCustom : false,\n        itemsDesktop : [1199, 4],\n        itemsDesktopSmall : [979, 3],\n        itemsTablet : [768, 2],\n        itemsTabletSmall : false,\n        itemsMobile : [479, 1],\n        singleItem : false,\n        itemsScaleUp : false,\n\n        slideSpeed : 200,\n        paginationSpeed : 800,\n        rewindSpeed : 1000,\n\n        autoPlay : false,\n        stopOnHover : false,\n\n        navigation : false,\n        navigationText : [\"prev\", \"next\"],\n        rewindNav : true,\n        scrollPerPage : false,\n\n        pagination : true,\n        paginationNumbers : false,\n\n        responsive : true,\n        responsiveRefreshRate : 200,\n        responsiveBaseWidth : window,\n\n        baseClass : \"owl-carousel\",\n        theme : \"owl-theme\",\n\n        lazyLoad : false,\n        lazyFollow : true,\n        lazyEffect : \"fade\",\n\n        autoHeight : false,\n\n        jsonPath : false,\n        jsonSuccess : false,\n\n        dragBeforeAnimFinish : true,\n        mouseDrag : true,\n        touchDrag : true,\n\n        addClassActive : false,\n        transitionStyle : false,\n\n        beforeUpdate : false,\n        afterUpdate : false,\n        beforeInit : false,\n        afterInit : false,\n        beforeMove : false,\n        afterMove : false,\n        afterAction : false,\n        startDragging : false,\n        afterLazyLoad: false\n    };\n}(jQuery, window, document));","TemplateMonster_SiteMaintenance/js/jquery.countdown.js":"/*!\n * The Final Countdown for jQuery v2.1.0 (http://hilios.github.io/jQuery.countdown/)\n * Copyright (c) 2015 Edson Hilios\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n(function(factory) {\n    \"use strict\";\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], factory);\n    } else {\n        factory(jQuery);\n    }\n})(function($) {\n    \"use strict\";\n    var instances = [], matchers = [], defaultOptions = {\n        precision: 100,\n        elapse: false\n    };\n    matchers.push(/^[0-9]*$/.source);\n    matchers.push(/([0-9]{1,2}\\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers.push(/[0-9]{4}([\\/\\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers = new RegExp(matchers.join(\"|\"));\n    function parseDateString(dateString) {\n        if (dateString instanceof Date) {\n            return dateString;\n        }\n        if (String(dateString).match(matchers)) {\n            if (String(dateString).match(/^[0-9]*$/)) {\n                dateString = Number(dateString);\n            }\n            if (String(dateString).match(/\\-/)) {\n                dateString = String(dateString).replace(/\\-/g, \"/\");\n            }\n            return new Date(dateString);\n        } else {\n            throw new Error(\"Couldn't cast `\" + dateString + \"` to a date object.\");\n        }\n    }\n    var DIRECTIVE_KEY_MAP = {\n        Y: \"years\",\n        J: \"months\",\n        n: \"daysToMonth\",\n        w: \"weeks\",\n        d: \"daysToWeek\",\n        D: \"totalDays\",\n        H: \"hours\",\n        M: \"minutes\",\n        S: \"seconds\",\n        h: \"totalHours\",\n        m: \"totalMinutes\",\n        s: \"totalSeconds\"\n    };\n    function escapedRegExp(str) {\n        var sanitize = str.toString().replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        return new RegExp(sanitize);\n    }\n    function strftime(offsetObject) {\n        return function(format) {\n            var directives = format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);\n            if (directives) {\n                for (var i = 0, len = directives.length; i < len; ++i) {\n                    var directive = directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/), regexp = escapedRegExp(directive[0]), modifier = directive[1] || \"\", plural = directive[3] || \"\", value = null;\n                    directive = directive[2];\n                    if (DIRECTIVE_KEY_MAP.hasOwnProperty(directive)) {\n                        value = DIRECTIVE_KEY_MAP[directive];\n                        value = Number(offsetObject[value]);\n                    }\n                    if (value !== null) {\n                        if (modifier === \"!\") {\n                            value = pluralize(plural, value);\n                        }\n                        if (modifier === \"\") {\n                            if (value < 10) {\n                                value = \"0\" + value.toString();\n                            }\n                        }\n                        format = format.replace(regexp, value.toString());\n                    }\n                }\n            }\n            format = format.replace(/%%/, \"%\");\n            return format;\n        };\n    }\n    function pluralize(format, count) {\n        var plural = \"s\", singular = \"\";\n        if (format) {\n            format = format.replace(/(:|;|\\s)/gi, \"\").split(/\\,/);\n            if (format.length === 1) {\n                plural = format[0];\n            } else {\n                singular = format[0];\n                plural = format[1];\n            }\n        }\n        if (Math.abs(count) === 1) {\n            return singular;\n        } else {\n            return plural;\n        }\n    }\n    var Countdown = function(el, finalDate, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.interval = null;\n        this.offset = {};\n        this.options = $.extend({}, defaultOptions);\n        this.instanceNumber = instances.length;\n        instances.push(this);\n        this.$el.data(\"countdown-instance\", this.instanceNumber);\n        if (options) {\n            if (typeof options === \"function\") {\n                this.$el.on(\"update.countdown\", options);\n                this.$el.on(\"stoped.countdown\", options);\n                this.$el.on(\"finish.countdown\", options);\n            } else {\n                this.options = $.extend({}, defaultOptions, options);\n            }\n        }\n        this.setFinalDate(finalDate);\n        this.start();\n    };\n    $.extend(Countdown.prototype, {\n        start: function() {\n            if (this.interval !== null) {\n                clearInterval(this.interval);\n            }\n            var self = this;\n            this.update();\n            this.interval = setInterval(function() {\n                self.update.call(self);\n            }, this.options.precision);\n        },\n        stop: function() {\n            clearInterval(this.interval);\n            this.interval = null;\n            this.dispatchEvent(\"stoped\");\n        },\n        toggle: function() {\n            if (this.interval) {\n                this.stop();\n            } else {\n                this.start();\n            }\n        },\n        pause: function() {\n            this.stop();\n        },\n        resume: function() {\n            this.start();\n        },\n        remove: function() {\n            this.stop.call(this);\n            instances[this.instanceNumber] = null;\n            delete this.$el.data().countdownInstance;\n        },\n        setFinalDate: function(value) {\n            this.finalDate = parseDateString(value);\n        },\n        update: function() {\n            if (this.$el.closest(\"html\").length === 0) {\n                this.remove();\n                return;\n            }\n            var hasEventsAttached = $._data(this.el, \"events\") !== undefined, now = new Date(), newTotalSecsLeft;\n            newTotalSecsLeft = this.finalDate.getTime() - now.getTime();\n            newTotalSecsLeft = Math.ceil(newTotalSecsLeft / 1e3);\n            newTotalSecsLeft = !this.options.elapse && newTotalSecsLeft < 0 ? 0 : Math.abs(newTotalSecsLeft);\n            if (this.totalSecsLeft === newTotalSecsLeft || !hasEventsAttached) {\n                return;\n            } else {\n                this.totalSecsLeft = newTotalSecsLeft;\n            }\n            this.elapsed = now >= this.finalDate;\n            this.offset = {\n                seconds: this.totalSecsLeft % 60,\n                totalSeconds: this.totalSecsLeft,\n                minutes: Math.floor(this.totalSecsLeft / 60) % 60,\n                totalMinutes: Math.floor(this.totalSecsLeft / 60),\n                hours: Math.floor(this.totalSecsLeft / 60 / 60) % 24,\n                totalHours: Math.floor(this.totalSecsLeft / 60 / 60),\n                days: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToWeek: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToMonth: Math.floor(this.totalSecsLeft / 60 / 60 / 24 % 30.4368),\n                totalDays: Math.floor(this.totalSecsLeft / 60 / 60 / 24),\n                weeks: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7),\n                months: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 30.4368),\n                years: Math.abs(this.finalDate.getFullYear() - now.getFullYear())\n            };\n            if (!this.options.elapse && this.totalSecsLeft === 0) {\n                this.stop();\n                this.dispatchEvent(\"finish\");\n            } else {\n                this.dispatchEvent(\"update\");\n            }\n        },\n        dispatchEvent: function(eventName) {\n            var event = $.Event(eventName + \".countdown\");\n            event.finalDate = this.finalDate;\n            event.elapsed = this.elapsed;\n            event.offset = $.extend({}, this.offset);\n            event.strftime = strftime(this.offset);\n            this.$el.trigger(event);\n        }\n    });\n    $.fn.countdown = function() {\n        var argumentsArray = Array.prototype.slice.call(arguments, 0);\n        return this.each(function() {\n            var instanceNumber = $(this).data(\"countdown-instance\");\n            if (instanceNumber !== undefined) {\n                var instance = instances[instanceNumber], method = argumentsArray[0];\n                if (Countdown.prototype.hasOwnProperty(method)) {\n                    instance[method].apply(instance, argumentsArray.slice(1));\n                } else if (String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i) === null) {\n                    instance.setFinalDate.call(instance, method);\n                    instance.start();\n                } else {\n                    $.error(\"Method %s does not exist on jQuery.countdown\".replace(/\\%s/gi, method));\n                }\n            } else {\n                new Countdown(this, argumentsArray[0], argumentsArray[1]);\n            }\n        });\n    };\n});","TemplateMonster_ThemeOptions/js/product-listing-gallery.js":"define([\n    'jquery',\n    'underscore'\n], function ($, _) {\n    'use strict';\n\n    $.widget('TemplateMonster.productListingGallery', {\n\n        options: {},\n\n        _create: function() {\n            $(this.element).closest('a').contents().unwrap();\n            $(this.element).on('fotorama:load', function (e, fotorama) {\n                $('.fotorama__wrap--toggle-arrows', this.element).addClass('fotorama__wrap--no-controls');\n            });\n        },\n\n    });\n\n    return $.TemplateMonster.productListingGallery;\n});","TemplateMonster_ThemeOptions/js/switch-image.js":"define([\n    'jquery',\n    'underscore'\n], function ($, _) {\n    'use strict';\n\n    $.widget('TemplateMonster.switchImage', {\n\n        options: {\n            duration: 300,\n        },\n\n        _create: function() {\n            this._replaceImage();\n            this._playVideo();\n        },\n\n        _replaceImage: function() {\n            var self = this.element;\n            var duration = this.options.duration;\n            $(self).hover(\n                function() {\n                    $('.base', this).fadeTo(duration, 0);\n                    $('.replaced', this).stop(true,false).fadeIn(duration);\n            },\n                function () {\n                    $('.replaced', this).fadeOut(duration);\n                    $('.base', this).stop(true,false).fadeTo(duration, 1);\n                }\n            );\n        },\n\n        _playVideo: function() {\n            if(!$(this.element).hasClass('is-video')) return false;\n\n            console.log('222');\n\n            var self = this.element;\n            var duration = this.options.duration;\n\n            $(self).hover(\n                function() {\n                    $('.base', this).fadeTo(duration, 0);\n                    $('.switch-video', this).fadeIn(duration);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL += \"&autoplay=1\";\n                    $('iframe', self).prop('src',videoURL);\n                },\n                function () {\n                    $('.switch-video', this).fadeOut(duration);\n                    $('.base', this).fadeTo(duration, 1);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL = videoURL.replace(\"&autoplay=1\", \"\");\n                    $('iframe', self).prop('src','');\n                    $('iframe', self).prop('src',videoURL);\n                    $('iframe', self).fadeIn('slow');\n                }\n            );\n\n\n\n\n\n        }\n\n    });\n\n    return $.TemplateMonster.switchImage;\n});","js/navigation-menu.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint jquery:true*/\n\ndefine([\n    \"jquery\",\n    \"matchMedia\",\n    \"mage/template\",\n    \"mage/dropdowns\",\n    \"mage/terms\"\n],function($, mediaCheck, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.navigationMenu', {\n        options: {\n            itemsContainer: '> ul',\n            topLevel: 'li.level0',\n            topLevelSubmenu: '> .submenu',\n            topLevelHoverClass: 'hover',\n            expandedTopLevel: '.more',\n            hoverInTimeout: 300,\n            hoverOutTimeout: 500,\n            submenuAnimationSpeed: 200,\n            collapsable: true,\n            collapsableDropdownTemplate:\n                '<script type=\"text/x-magento-template\">' +\n                    '<li class=\"level0 level-top more parent\">' +\n                        '<div class=\"submenu\">' +\n                            '<ul><%= elems %></ul>' +\n                        '</div>' +\n                    '</li>' +\n                '</script>'\n        },\n\n        _create: function() {\n            this.itemsContainer = $(this.options.itemsContainer, this.element);\n            this.topLevel = $(this.options.topLevel, this.element);\n            this.topLevelSubmenu = $(this.options.topLevelSubmenu, this.topLevel);\n\n            this._bind();\n        },\n\n        _init: function() {\n            if (this.options.collapsable) {\n                setTimeout($.proxy(function() {\n                    this._checkToCollapseOrExpand();\n                }, this), 100);\n            }\n        },\n\n        _bind: function() {\n            this._on({\n                'mouseenter > ul > li.level0': function(e) {\n                    if (!this.entered) { // fix IE bug with 'mouseenter' event\n                        this.timeoutId && clearTimeout(this.timeoutId);\n                        this.timeoutId = setTimeout($.proxy(function() {\n                            this._openSubmenu(e);\n                        }, this), this.options.hoverInTimeout);\n                        this.entered = true;\n                    }\n                },\n                'mouseleave > ul > li.level0': function(e) {\n                    this.entered = null;\n\n                    this.timeoutId && clearTimeout(this.timeoutId);\n                    this.timeoutId = setTimeout($.proxy(function() {\n                        this._closeSubmenu(e.currentTarget);\n                    }, this), this.options.hoverOutTimeout);\n                },\n                'click': function(e) {\n                    e.stopPropagation();\n                }\n            });\n\n            $(document)\n                .on('click.hideMenu', $.proxy(function(e) {\n                    var isOpened = this.topLevel.filter(function() {\n                        return $(this).data('opened');\n                    });\n\n                    if (isOpened) {\n                        this._closeSubmenu(null, false);\n                    }\n                }, this));\n\n            $(window)\n                .on('resize', $.proxy(function() {\n                    this.timeoutOnResize && clearTimeout(this.timeoutOnResize);\n                    this.timeoutOnResize = setTimeout($.proxy(function() {\n                        if (this.options.collapsable) {\n                            if ($(this.options.expandedTopLevel, this.element).length) {\n                                this._expandMenu();\n                            }\n                            this._checkToCollapseOrExpand();\n                        }\n                    }, this), 300);\n                }, this));\n        },\n\n        _openSubmenu: function(e) {\n            var menuItem = e.currentTarget;\n\n            if (!$(menuItem).data('opened')) {\n                this._closeSubmenu(menuItem, true, true);\n\n                $(this.options.topLevelSubmenu, menuItem)\n                    .slideDown(this.options.submenuAnimationSpeed, $.proxy(function() {\n                        $(menuItem).addClass(this.options.topLevelHoverClass);\n                        $(menuItem).data('opened', true);\n                    }, this));\n            } else if ($(e.target).closest(this.options.topLevel)) {\n                $(e.target)\n                    .addClass(this.options.topLevelHoverClass)\n                    .siblings(this.options.topLevel)\n                        .removeClass(this.options.topLevelHoverClass);\n            }\n        },\n\n        _closeSubmenu: function(menuItem, excludeCurrent, fast) {\n            var topLevel = $(this.options.topLevel, this.element),\n                activeSubmenu = $(this.options.topLevelSubmenu, menuItem || null);\n\n            $(this.options.topLevelSubmenu, topLevel)\n                .filter(function() {\n                    return excludeCurrent ? $(this).not(activeSubmenu) : true;\n                })\n                .slideUp(fast ? 0 : this.options.submenuAnimationSpeed);\n\n            topLevel\n                .removeClass(this.options.topLevelHoverClass)\n                .data('opened', false);\n        },\n\n        _checkToCollapseOrExpand: function() {\n            if ($(\"html\").hasClass(\"lt-640\") || $(\"html\").hasClass(\"w-640\")) {\n                return;\n            }\n\n            var navWidth = this.itemsContainer.width(),\n                totalWidth = 0,\n                startCollapseIndex = 0;\n\n            $.each($(this.options.topLevel, this.element), function(index, item) {\n                totalWidth = totalWidth + $(item).outerWidth(true);\n\n                if (totalWidth > navWidth && !startCollapseIndex) {\n                    startCollapseIndex = index - 2;\n                }\n            });\n\n            this[startCollapseIndex ? '_collapseMenu' : '_expandMenu'](startCollapseIndex);\n        },\n\n        _collapseMenu: function(startCollapseIndex) {\n            this.elemsToCollapse = this.topLevel.filter(function(index) {\n                return index > startCollapseIndex;\n            });\n            this.elemsToCollapseClone = $('<div></div>').append(this.elemsToCollapse.clone()).html();\n\n            this.collapsableDropdown = $(\n                mageTemplate(\n                    this.options.collapsableDropdownTemplate,\n                    {elems: this.elemsToCollapseClone}\n                )\n            );\n\n            this.itemsContainer.append(this.collapsableDropdown);\n            this.elemsToCollapse.detach();\n        },\n\n        _expandMenu: function() {\n            this.elemsToCollapse && this.elemsToCollapse.appendTo(this.itemsContainer);\n            this.collapsableDropdown && this.collapsableDropdown.remove();\n        },\n\n        _destroy: function() {\n            this._expandMenu();\n        }\n    });\n\n    /*\n     * Provides \"Continium\" effect for submenu\n     * */\n    $.widget('mage.navigationMenu', $.mage.navigationMenu, {\n        options: {\n            parentLevel: '> ul > li.level0',\n            submenuAnimationSpeed: 150,\n            submenuContiniumEffect: false\n        },\n\n        _init: function() {\n            this._super();\n            this._applySubmenuStyles();\n        },\n\n        _applySubmenuStyles: function() {\n            $(this.options.topLevelSubmenu, $(this.options.topLevel, this.element))\n                .removeAttr('style');\n\n            $(this.options.topLevelSubmenu, $(this.options.parentLevel, this.element))\n                .css({\n                    display: 'block',\n                    height: 0,\n                    overflow: 'hidden'\n                });\n        },\n\n        _openSubmenu: function(e) {\n            var menuItem = e.currentTarget,\n                submenu = $(this.options.topLevelSubmenu, menuItem),\n                openedItems = $(this.options.topLevel, this.element).filter(function() {\n                    return $(this).data('opened');\n                });\n\n            if (submenu.length) {\n                this.heightToAnimate = $(this.options.itemsContainer, submenu).outerHeight(true);\n\n                if (openedItems.length) {\n                    this._closeSubmenu(menuItem, true, this.heightToAnimate, $.proxy(function() {\n                        submenu.css({\n                            height: 'auto'\n                        });\n                        $(menuItem)\n                            .addClass(this.options.topLevelHoverClass);\n                    }, this), e);\n                } else {\n                    submenu.animate({\n                        height: this.heightToAnimate\n                    }, this.options.submenuAnimationSpeed, $.proxy(function() {\n                        $(menuItem)\n                            .addClass(this.options.topLevelHoverClass);\n                    }, this));\n                }\n\n                $(menuItem)\n                    .data('opened', true);\n            } else {\n                this._closeSubmenu(menuItem);\n            }\n        },\n\n        _closeSubmenu: function(menuItem, excludeCurrent, heightToAnimate, callback, e) {\n            var topLevel = $(this.options.topLevel, this.itemsContainer),\n                expandedTopLevel = e && $(e.target).closest(this.options.expandedTopLevel);\n\n            if (!excludeCurrent) {\n                $(this.options.topLevelSubmenu, $(this.options.parentLevel, this.element))\n                    .animate({\n                        height: 0\n                    });\n\n                topLevel\n                    .data('opened', false)\n                    .removeClass(this.options.topLevelHoverClass);\n            } else {\n                var prevOpenedItem = topLevel.filter(function() {\n                        return $(this).data('opened');\n                    }),\n                    prevOpenedSubmenu = $(this.options.topLevelSubmenu, prevOpenedItem);\n\n                prevOpenedSubmenu.animate({\n                    height: heightToAnimate\n                }, this.options.submenuAnimationSpeed, 'linear', function() {\n                    $(this).css({\n                        height: 0\n                    });\n                    callback && callback();\n                });\n\n                prevOpenedItem\n                    .data('opened', false)\n                    .removeClass(this.options.topLevelHoverClass);\n            }\n        },\n\n        _collapseMenu: function() {\n            this._superApply(arguments);\n            this._applySubmenuStyles();\n        }\n    });\n\n    //  Responsive menu\n    $.widget('mage.navigationMenu', $.mage.navigationMenu, {\n        options: {\n            responsive: false,\n            origNavPlaceholder: '.page-header',\n            mainContainer: 'body',\n            pageWrapper: '.page-wrapper',\n            openedMenuClass: 'opened',\n            toggleActionPlaceholder: '.block-search',\n            itemWithSubmenu: 'li.parent',\n            titleWithSubmenu: 'li.parent > a',\n            submenu: 'li.parent > .submenu',\n            toggleActionTemplate:\n                '<script type=\"text/x-magento-template\">' +\n                    '<span data-action=\"toggle-nav\" class=\"action toggle nav\">Toggle Nav</span>' +\n                '</script>',\n            submenuActionsTemplate:\n                '<script type=\"text/x-magento-template\">' +\n                    '<li class=\"action all\">' +\n                        '<a href=\"<%= categoryURL %>\"><span>All <%= category %></span></a>' +\n                    '</li>' +\n                '</script>',\n            navigationSectionsWrapperTemplate:\n                '<script type=\"text/x-magento-template\">' +\n                    '<dl class=\"navigation-tabs\" data-sections=\"tabs\">' +\n                    '</dl>' +\n                '</script>',\n            navigationItemWrapperTemplate:\n                '<script type=\"text/x-magento-template\">' +\n                    '<dt class=\"item title <% if (active) { %>active<% } %>\" data-section=\"title\">' +\n                        '<a class=\"switch\" data-toggle=\"switch\" href=\"#TODO\"><%= title %></a>' +\n                    '</dt>' +\n                    '<dd class=\"item content <% if (active) { %>active<%}%>\" data-section=\"content\">' +\n                    '</dd>' +\n                '</script>'\n        },\n\n        _init: function() {\n            this._super();\n\n            this.mainContainer = $(this.options.mainContainer);\n            this.pageWrapper = $(this.options.pageWrapper);\n            this.toggleAction = $(mageTemplate(this.options.toggleActionTemplate, {}));\n\n            if (this.options.responsive) {\n                mediaCheck({\n                    media: '(min-width: 768px)',\n                    entry: $.proxy(function() {\n                        this._toggleDesktopMode();\n                    }, this),\n                    exit: $.proxy(function() {\n                        this._toggleMobileMode();\n                    }, this)\n                });\n            }\n        },\n\n        _bind: function() {\n            this._super();\n            this._bindDocumentEvents();\n        },\n\n        _bindDocumentEvents: function() {\n            if (!this.eventsBound) {\n                $(document)\n                    .on('click.toggleMenu', '.action.toggle.nav', $.proxy(function(e) {\n                        if ($(this.element).data('opened')) {\n                            this._hideMenu();\n                        } else {\n                            this._showMenu();\n                        }\n                        e.stopPropagation();\n                        this.mobileNav.scrollTop(0);\n                        this._fixedBackLink();\n                    }, this))\n                    .on('click.hideMenu', this.options.pageWrapper, $.proxy(function() {\n                        if ($(this.element).data('opened')) {\n                            this._hideMenu();\n                            this.mobileNav.scrollTop(0);\n                            this._fixedBackLink();\n                        }\n                    }, this))\n                    .on('click.showSubmenu', this.options.titleWithSubmenu, $.proxy(function(e) {\n                        this._showSubmenu(e);\n\n                        e.preventDefault();\n                        this.mobileNav.scrollTop(0);\n                        this._fixedBackLink();\n                    }, this))\n                    .on('click.hideSubmenu', '.action.back', $.proxy(function(e) {\n                        this._hideSubmenu(e);\n                        this.mobileNav.scrollTop(0);\n                        this._fixedBackLink();\n                    }, this));\n\n                this.eventsBound = true;\n            }\n        },\n\n        _showMenu: function() {\n            $(this.element).data('opened', true);\n            this.mainContainer.add( \"html\" ).addClass(this.options.openedMenuClass);\n        },\n\n        _hideMenu: function() {\n            $(this.element).data('opened', false);\n            this.mainContainer.add( \"html\" ).removeClass(this.options.openedMenuClass);\n        },\n\n        _showSubmenu: function(e) {\n            $(e.currentTarget).addClass('action back');\n            var submenu = $(e.currentTarget).siblings('.submenu');\n\n            submenu.addClass('opened');\n        },\n\n        _hideSubmenu: function(e) {\n            var submenuSelector = '.submenu',\n                submenu = $(e.currentTarget).next(submenuSelector);\n            $(e.currentTarget).removeClass('action back');\n            submenu.removeClass('opened');\n        },\n\n        _renderSubmenuActions: function() {\n            $.each(\n                $(this.options.itemWithSubmenu),\n                $.proxy(\n                    function(index, item) {\n                        var actions = $(\n                            mageTemplate(\n                                this.options.submenuActionsTemplate,\n                                {\n                                    category: $('> a > span', item).text(),\n                                    categoryURL: $('> a', item).attr('href')\n                                }\n                            )\n                            ),\n                            submenu = $('> .submenu', item),\n                            items = $('> ul', submenu);\n                            items.prepend(actions);\n                    },\n                    this\n                )\n            );\n        },\n\n        _toggleMobileMode: function() {\n            this._expandMenu();\n\n            $(this.options.topLevelSubmenu, $(this.options.topLevel, this.element))\n                .removeAttr('style');\n\n            this.toggleAction.insertBefore(this.options.toggleActionPlaceholder);\n            this.mobileNav = $(this.element).detach().clone();\n            this.mainContainer.prepend(this.mobileNav);\n            this.mobileNav.find('> ul').addClass('nav');\n            this._insertExtraItems();\n            this._wrapItemsInSections();\n            this.mobileNav.scroll($.proxy(\n                function() {\n                    this._fixedBackLink();\n                }, this\n            ));\n\n            this._renderSubmenuActions();\n            this._bindDocumentEvents();\n        },\n\n        _toggleDesktopMode: function() {\n            this.mobileNav && this.mobileNav.remove();\n            this.toggleAction.detach();\n            $(this.element).insertAfter(this.options.origNavPlaceholder);\n\n            $(document)\n                .off('click.toggleMenu', '.action.toggle.nav')\n                .off('click.hideMenu', this.options.pageWrapper)\n                .off('click.showSubmenu', this.options.titleWithSubmenu)\n                .off('click.hideSubmenu', '.action.back');\n\n            this.eventsBound = false;\n\n            this._applySubmenuStyles();\n        },\n\n        _insertExtraItems: function() {\n            if ($('.header.panel .switcher').length) {\n                var settings = $('.header.panel .switcher')\n                    .clone()\n                    .addClass('settings');\n\n                this.mobileNav.prepend(settings);\n            }\n\n            if ($('.footer .switcher').length) {\n                var footerSettings = $('.footer .switcher')\n                    .clone()\n                    .addClass('settings');\n\n                this.mobileNav.prepend(footerSettings);\n            }\n\n\n            if ($('.header.panel .header.links li').length) {\n                var account = $('.header.panel > .header.links')\n                    .clone()\n                    .addClass('account');\n\n                this.mobileNav.prepend(account);\n            }\n        },\n\n        _wrapItemsInSections: function() {\n            var account = $('> .account', this.mobileNav),\n                settings = $('> .settings', this.mobileNav),\n                nav = $('> .nav', this.mobileNav),\n                navigationSectionsWrapper = $(mageTemplate(this.options.navigationSectionsWrapperTemplate, {})),\n                navigationItemWrapper;\n\n            this.mobileNav.append(navigationSectionsWrapper);\n\n            if (nav.length) {\n                navigationItemWrapper = $(mageTemplate(this.options.navigationItemWrapperTemplate, {title: 'Menu'}));\n                navigationSectionsWrapper.append(navigationItemWrapper);\n                navigationItemWrapper.eq(1).append(nav);\n            }\n\n            if (account.length) {\n                navigationItemWrapper = $(mageTemplate(this.options.navigationItemWrapperTemplate, {title: 'Account'}));\n                navigationSectionsWrapper.append(navigationItemWrapper);\n                navigationItemWrapper.eq(1).append(account);\n            }\n\n            if (settings.length) {\n                navigationItemWrapper = $(\n                    mageTemplate(this.options.navigationItemWrapperTemplate, {title: 'Settings'})\n                );\n                navigationSectionsWrapper.append(navigationItemWrapper);\n                navigationItemWrapper.eq(1).append(settings);\n            }\n\n            navigationSectionsWrapper.addClass(\"navigation-tabs-\" + navigationSectionsWrapper.find('[data-section=\"title\"]').length);\n            navigationSectionsWrapper.terms();\n        },\n\n        _fixedBackLink: function() {\n            var linksBack = this.mobileNav.find('.submenu .action.back');\n            var linkBack = this.mobileNav.find('.submenu.opened > ul > .action.back').last();\n\n            linksBack.removeClass('fixed');\n\n            if(linkBack.length) {\n                var subMenu = linkBack.parent(),\n                    navOffset = this.mobileNav.find('.nav').position().top,\n                    linkBackHeight = linkBack.height();\n\n                if (navOffset <= 0) {\n                    linkBack.addClass('fixed');\n                    subMenu.css({\n                        paddingTop: linkBackHeight\n                    })\n                } else {\n                    linkBack.removeClass('fixed');\n                    subMenu.css({\n                        paddingTop: 0\n                    })\n                }\n            }\n        }\n    });\n\n    return $.mage.navigationMenu;\n});\n","js/responsive.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'matchMedia',\n    'mage/tabs',\n    'domReady!'\n], function ($, mediaCheck) {\n    'use strict';\n\n    mediaCheck({\n        media: '(min-width: 768px)',\n        // Switch to Desktop Version\n        entry: function () {\n            (function () {\n\n                var productInfoMain = $('.product-info-main'),\n                    productInfoAdditional = $('#product-info-additional');\n\n                if (productInfoAdditional.length) {\n                    productInfoAdditional.addClass('hidden');\n                    productInfoMain.removeClass('responsive');\n                }\n\n            })();\n\n            var galleryElement = $('[data-role=media-gallery]');\n\n            if (galleryElement.length && galleryElement.data('mageZoom')) {\n                galleryElement.zoom('enable');\n            }\n\n            if (galleryElement.length && galleryElement.data('mageGallery')) {\n                galleryElement.gallery('option', 'disableLinks', true);\n                galleryElement.gallery('option', 'showNav', false);\n                galleryElement.gallery('option', 'showThumbs', true);\n            }\n        },\n        // Switch to Mobile Version\n        exit: function () {\n            $('.action.toggle.checkout.progress')\n                .on('click.gotoCheckoutProgress', function () {\n                    var myWrapper = '#checkout-progress-wrapper';\n                    scrollTo(myWrapper + ' .title');\n                    $(myWrapper + ' .title').addClass('active');\n                    $(myWrapper + ' .content').show();\n                });\n\n            $('body')\n                .on('click.checkoutProgress', '#checkout-progress-wrapper .title', function () {\n                    $(this).toggleClass('active');\n                    $('#checkout-progress-wrapper .content').toggle();\n                });\n\n            var galleryElement = $('[data-role=media-gallery]');\n\n            setTimeout(function () {\n                if (galleryElement.length && galleryElement.data('mageZoom')) {\n                    galleryElement.zoom('disable');\n                }\n\n                if (galleryElement.length && galleryElement.data('mageGallery')) {\n                    galleryElement.gallery('option', 'disableLinks', false);\n                    galleryElement.gallery('option', 'showNav', true);\n                    galleryElement.gallery('option', 'showThumbs', false);\n                }\n            }, 2000);\n        }\n    });\n});\n","js/theme.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'mage/smart-keyboard-handler',\n    'mage/mage',\n    'mage/ie-class-fixer',\n    'domReady!'\n], function ($, keyboardHandler) {\n    'use strict';\n\n    if ($('body').hasClass('checkout-cart-index')) {\n        if ($('#co-shipping-method-form .fieldset.rates').length > 0 && $('#co-shipping-method-form .fieldset.rates :checked').length === 0) {\n            $('#block-shipping').on('collapsiblecreate', function () {\n                $('#block-shipping').collapsible('forceActivate');\n            });\n        }\n    }\n\n    $('.cart-summary').mage('sticky', {\n        container: '#maincontent'\n    });\n\n    $('.panel.header > .header.links').clone().appendTo('#store\\\\.links');\n\n    keyboardHandler.apply();\n});\n","es6-collections.js":"(function (exports) {'use strict';\n  //shared pointer\n  var i;\n  //shortcuts\n  var defineProperty = Object.defineProperty, is = function(a,b) { return isNaN(a)? isNaN(b): a === b; };\n\n\n  //Polyfill global objects\n  if (typeof WeakMap == 'undefined') {\n    exports.WeakMap = createCollection({\n      // WeakMap#delete(key:void*):boolean\n      'delete': sharedDelete,\n      // WeakMap#clear():\n      clear: sharedClear,\n      // WeakMap#get(key:void*):void*\n      get: sharedGet,\n      // WeakMap#has(key:void*):boolean\n      has: mapHas,\n      // WeakMap#set(key:void*, value:void*):void\n      set: sharedSet\n    }, true);\n  }\n\n  if (typeof Map == 'undefined' || typeof ((new Map).values) !== 'function' || !(new Map).values().next) {\n    exports.Map = createCollection({\n      // WeakMap#delete(key:void*):boolean\n      'delete': sharedDelete,\n      //:was Map#get(key:void*[, d3fault:void*]):void*\n      // Map#has(key:void*):boolean\n      has: mapHas,\n      // Map#get(key:void*):boolean\n      get: sharedGet,\n      // Map#set(key:void*, value:void*):void\n      set: sharedSet,\n      // Map#keys(void):Iterator\n      keys: sharedKeys,\n      // Map#values(void):Iterator\n      values: sharedValues,\n      // Map#entries(void):Iterator\n      entries: mapEntries,\n      // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n      forEach: sharedForEach,\n      // Map#clear():\n      clear: sharedClear\n    });\n  }\n\n  if (typeof Set == 'undefined' || typeof ((new Set).values) !== 'function' || !(new Set).values().next) {\n    exports.Set = createCollection({\n      // Set#has(value:void*):boolean\n      has: setHas,\n      // Set#add(value:void*):boolean\n      add: sharedAdd,\n      // Set#delete(key:void*):boolean\n      'delete': sharedDelete,\n      // Set#clear():\n      clear: sharedClear,\n      // Set#keys(void):Iterator\n      keys: sharedValues, // specs actually say \"the same function object as the initial value of the values property\"\n      // Set#values(void):Iterator\n      values: sharedValues,\n      // Set#entries(void):Iterator\n      entries: setEntries,\n      // Set#forEach(callback:Function, context:void*):void ==> callback.call(context, value, index) === not in specs\n      forEach: sharedForEach\n    });\n  }\n\n  if (typeof WeakSet == 'undefined') {\n    exports.WeakSet = createCollection({\n      // WeakSet#delete(key:void*):boolean\n      'delete': sharedDelete,\n      // WeakSet#add(value:void*):boolean\n      add: sharedAdd,\n      // WeakSet#clear():\n      clear: sharedClear,\n      // WeakSet#has(value:void*):boolean\n      has: setHas\n    }, true);\n  }\n\n\n  /**\n   * ES6 collection constructor\n   * @return {Function} a collection class\n   */\n  function createCollection(proto, objectOnly){\n    function Collection(a){\n      if (!this || this.constructor !== Collection) return new Collection(a);\n      this._keys = [];\n      this._values = [];\n      this._itp = []; // iteration pointers\n      this.objectOnly = objectOnly;\n\n      //parse initial iterable argument passed\n      if (a) init.call(this, a);\n    }\n\n    //define size for non object-only collections\n    if (!objectOnly) {\n      defineProperty(proto, 'size', {\n        get: sharedSize\n      });\n    }\n\n    //set prototype\n    proto.constructor = Collection;\n    Collection.prototype = proto;\n\n    return Collection;\n  }\n\n\n  /** parse initial iterable argument passed */\n  function init(a){\n    var i;\n    //init Set argument, like `[1,2,3,{}]`\n    if (this.add)\n      a.forEach(this.add, this);\n    //init Map argument like `[[1,2], [{}, 4]]`\n    else\n      a.forEach(function(a){this.set(a[0],a[1])}, this);\n  }\n\n\n  /** delete */\n  function sharedDelete(key) {\n    if (this.has(key)) {\n      this._keys.splice(i, 1);\n      this._values.splice(i, 1);\n      // update iteration pointers\n      this._itp.forEach(function(p) { if (i < p[0]) p[0]--; });\n    }\n    // Aurora here does it while Canary doesn't\n    return -1 < i;\n  };\n\n  function sharedGet(key) {\n    return this.has(key) ? this._values[i] : undefined;\n  }\n\n  function has(list, key) {\n    if (this.objectOnly && key !== Object(key))\n      throw new TypeError(\"Invalid value used as weak collection key\");\n    //NaN or 0 passed\n    if (key != key || key === 0) for (i = list.length; i-- && !is(list[i], key);){}\n    else i = list.indexOf(key);\n    return -1 < i;\n  }\n\n  function setHas(value) {\n    return has.call(this, this._values, value);\n  }\n\n  function mapHas(value) {\n    return has.call(this, this._keys, value);\n  }\n\n  /** @chainable */\n  function sharedSet(key, value) {\n    this.has(key) ?\n      this._values[i] = value\n      :\n      this._values[this._keys.push(key) - 1] = value\n    ;\n    return this;\n  }\n\n  /** @chainable */\n  function sharedAdd(value) {\n    if (!this.has(value)) this._values.push(value);\n    return this;\n  }\n\n  function sharedClear() {\n    this._values.length = 0;\n  }\n\n  /** keys, values, and iterate related methods */\n  function sharedKeys() {\n    return sharedIterator(this._itp, this._keys);\n  }\n\n  function sharedValues() {\n    return sharedIterator(this._itp, this._values);\n  }\n\n  function mapEntries() {\n    return sharedIterator(this._itp, this._keys, this._values);\n  }\n\n  function setEntries() {\n    return sharedIterator(this._itp, this._values, this._values);\n  }\n\n  function sharedIterator(itp, array, array2) {\n    var p = [0], done = false;\n    itp.push(p);\n    return {\n      next: function() {\n        var v, k = p[0];\n        if (!done && k < array.length) {\n          v = array2 ? [array[k], array2[k]]: array[k];\n          p[0]++;\n        } else {\n          done = true;\n          itp.splice(itp.indexOf(p), 1);\n        }\n        return { done: done, value: v };\n      }\n    };\n  }\n\n  function sharedSize() {\n    return this._values.length;\n  }\n\n  function sharedForEach(callback, context) {\n    var it = this.entries();\n    for (;;) {\n      var r = it.next();\n      if (r.done) break;\n      callback.call(context, r.value[1], r.value[0], this);\n    }\n  }\n\n})(typeof exports != 'undefined' && typeof global != 'undefined' ? global : window );","FormData.js":"/*\n * FormData for XMLHttpRequest 2  -  Polyfill for Web Worker\n * (c) 2014 Rob Wu <rob@robwu.nl>\n * License: MIT\n * - append(name, value[, filename])\n * - XMLHttpRequest.prototype.send(object FormData)\n * \n * Specification: http://www.w3.org/TR/XMLHttpRequest/#formdata\n *                http://www.w3.org/TR/XMLHttpRequest/#the-send-method\n * The .append() implementation also accepts Uint8Array and ArrayBuffer objects\n * Web Workers do not natively support FormData:\n *                http://dev.w3.org/html5/workers/#apis-available-to-workers\n * Originally released in 2012 as a part of http://stackoverflow.com/a/10002486.\n * Updates since initial release:\n * - Forward-compatibility by testing whether FormData exists before defining it.\n * - Increased robustness of .append.\n * - Allow any typed array in .append.\n * - Remove use of String.prototype.toString to work around a Firefox bug.\n * - Use typed array in xhr.send instead of arraybuffer to get rid of deprecation\n *   warnings.\n **/\n(function(exports) {\n    if (exports.FormData) {\n        // Don't replace FormData if it already exists\n        return;\n    }\n    // Export variable to the global scope\n    exports.FormData = FormData;\n\n    var ___send$rw = XMLHttpRequest.prototype.send;\n    XMLHttpRequest.prototype.send = function(data) {\n        if (data instanceof FormData) {\n            if (!data.__endedMultipart) data.__append('--' + data.boundary + '--\\r\\n');\n            data.__endedMultipart = true;\n            this.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + data.boundary);\n            data = new Uint8Array(data.data);\n        }\n        // Invoke original XHR.send\n        return ___send$rw.call(this, data);\n    };\n\n    function FormData() {\n        // Force a Constructor\n        if (!(this instanceof FormData)) return new FormData();\n        // Generate a random boundary - This must be unique with respect to the form's contents.\n        this.boundary = '------RWWorkerFormDataBoundary' + Math.random().toString(36);\n        var internal_data = this.data = [];\n        /**\n         * Internal method.\n         * @param inp String | ArrayBuffer | Uint8Array  Input\n         */\n        this.__append = function(inp) {\n            var i = 0, len;\n            if (typeof inp == 'string') {\n                for (len = inp.length; i < len; ++i)\n                    internal_data.push(inp.charCodeAt(i) & 0xff);\n            } else if (inp && inp.byteLength) {/*If ArrayBuffer or typed array */\n                if (!('byteOffset' in inp))   /* If ArrayBuffer, wrap in view */\n                    inp = new Uint8Array(inp);\n                for (len = inp.byteLength; i < len; ++i)\n                    internal_data.push(inp[i] & 0xff);\n            }\n        };\n    }\n    /**\n     * @param name     String                                   Key name\n     * @param value    String|Blob|File|typed array|ArrayBuffer Value\n     * @param filename String                                   Optional File name (when value is not a string).\n     **/\n    FormData.prototype.append = function(name, value, filename) {\n        if (this.__endedMultipart) {\n            // Truncate the closing boundary\n            this.data.length -= this.boundary.length + 6;\n            this.__endedMultipart = false;\n        }\n        if (arguments.length < 2) {\n            throw new SyntaxError('Not enough arguments');\n        }\n        var part = '--' + this.boundary + '\\r\\n' +\n            'Content-Disposition: form-data; name=\"' + name + '\"';\n\n        if (value instanceof File || value instanceof Blob) {\n            return this.append(name,\n                new Uint8Array(new FileReaderSync().readAsArrayBuffer(value)),\n                filename || value.name);\n        } else if (typeof value.byteLength == 'number') {\n            // Duck-typed typed array or array buffer\n            part += '; filename=\"'+ (filename || 'blob').replace(/\"/g,'%22') +'\"\\r\\n';\n            part += 'Content-Type: application/octet-stream\\r\\n\\r\\n';\n            this.__append(part);\n            this.__append(value);\n            part = '\\r\\n';\n        } else {\n            part += '\\r\\n\\r\\n' + value + '\\r\\n';\n        }\n        this.__append(part);\n    };\n})(this || self);\n","matchMedia.js":"/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */\n\nwindow.matchMedia || (window.matchMedia = function() {\n    \"use strict\";\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n    var styleMedia = (window.styleMedia || window.media);\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n        var style = document.createElement('style'),\n            script = document.getElementsByTagName('script')[0],\n            info = null;\n\n        style.type = 'text/css';\n        style.id = 'matchmediajs-test';\n\n        script.parentNode.insertBefore(style, script);\n\n        // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n        info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n        styleMedia = {\n            matchMedium: function(media) {\n                var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n                // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n                if (style.styleSheet) {\n                    style.styleSheet.cssText = text;\n                } else {\n                    style.textContent = text;\n                }\n\n                // Test if media query is true or false\n                return info.width === '1px';\n            }\n        };\n    }\n\n    return function(media) {\n        return {\n            matches: styleMedia.matchMedium(media || 'all'),\n            media: media || 'all'\n        };\n    };\n}());\n\n/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\n(function() {\n    // Bail out for browsers that have addListener support\n    if (window.matchMedia && window.matchMedia('all').addListener) {\n        return false;\n    }\n\n    var localMatchMedia = window.matchMedia,\n        hasMediaQueries = localMatchMedia('only all').matches,\n        isListening = false,\n        timeoutID = 0, // setTimeout for debouncing 'handleChange'\n        queries = [], // Contains each 'mql' and associated 'listeners' if 'addListener' is used\n        handleChange = function(evt) {\n            // Debounce\n            clearTimeout(timeoutID);\n\n            timeoutID = setTimeout(function() {\n                for (var i = 0, il = queries.length; i < il; i++) {\n                    var mql = queries[i].mql,\n                        listeners = queries[i].listeners || [],\n                        matches = localMatchMedia(mql.media).matches;\n\n                    // Update mql.matches value and call listeners\n                    // Fire listeners only if transitioning to or from matched state\n                    if (matches !== mql.matches) {\n                        mql.matches = matches;\n\n                        for (var j = 0, jl = listeners.length; j < jl; j++) {\n                            listeners[j].call(window, mql);\n                        }\n                    }\n                }\n            }, 30);\n        };\n\n    window.matchMedia = function(media) {\n        var mql = localMatchMedia(media),\n            listeners = [],\n            index = 0;\n\n        mql.addListener = function(listener) {\n            // Changes would not occur to css media type so return now (Affects IE <= 8)\n            if (!hasMediaQueries) {\n                return;\n            }\n\n            // Set up 'resize' listener for browsers that support CSS3 media queries (Not for IE <= 8)\n            // There should only ever be 1 resize listener running for performance\n            if (!isListening) {\n                isListening = true;\n                window.addEventListener('resize', handleChange, true);\n            }\n\n            // Push object only if it has not been pushed already\n            if (index === 0) {\n                index = queries.push({\n                    mql: mql,\n                    listeners: listeners\n                });\n            }\n\n            listeners.push(listener);\n        };\n\n        mql.removeListener = function(listener) {\n            for (var i = 0, il = listeners.length; i < il; i++) {\n                if (listeners[i] === listener) {\n                    listeners.splice(i, 1);\n                }\n            }\n        };\n\n        return mql;\n    };\n}());\n\nwindow.mediaCheck = function(options) {\n    var mq;\n\n    function mqChange(mq, options) {\n        if (mq.matches) {\n            if (typeof options.entry === \"function\") {\n                options.entry();\n            }\n        } else if (typeof options.exit === \"function\") {\n            options.exit();\n        }\n    };\n\n    mq = window.matchMedia(options.media);\n\n    mq.addListener(function() {\n        mqChange(mq, options);\n    });\n\n    mqChange(mq, options);\n};","moment.js":"//! moment.js\n//! version : 2.17.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n!function(a,b){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){\"use strict\";function a(){return od.apply(null,arguments)}\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction b(a){od=a}function c(a){return a instanceof Array||\"[object Array]\"===Object.prototype.toString.call(a)}function d(a){\n// IE8 will treat undefined and null as object if it wasn't for\n// input != null\nreturn null!=a&&\"[object Object]\"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)\n// even if its not own property I'd still call it non-empty\nreturn!1;return!0}function f(a){return\"number\"==typeof a||\"[object Number]\"===Object.prototype.toString.call(a)}function g(a){return a instanceof Date||\"[object Date]\"===Object.prototype.toString.call(a)}function h(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function i(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function j(a,b){for(var c in b)i(b,c)&&(a[c]=b[c]);return i(b,\"toString\")&&(a.toString=b.toString),i(b,\"valueOf\")&&(a.valueOf=b.valueOf),a}function k(a,b,c,d){return rb(a,b,c,d,!0).utc()}function l(){\n// We need to deep clone this object.\nreturn{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function m(a){return null==a._pf&&(a._pf=l()),a._pf}function n(a){if(null==a._isValid){var b=m(a),c=qd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function o(a){var b=k(NaN);return null!=a?j(m(b),a):m(b).userInvalidated=!0,b}function p(a){return void 0===a}function q(a,b){var c,d,e;if(p(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),p(b._i)||(a._i=b._i),p(b._f)||(a._f=b._f),p(b._l)||(a._l=b._l),p(b._strict)||(a._strict=b._strict),p(b._tzm)||(a._tzm=b._tzm),p(b._isUTC)||(a._isUTC=b._isUTC),p(b._offset)||(a._offset=b._offset),p(b._pf)||(a._pf=m(b)),p(b._locale)||(a._locale=b._locale),rd.length>0)for(c in rd)d=rd[c],e=b[d],p(e)||(a[d]=e);return a}\n// Moment prototype object\nfunction r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),\n// Prevent infinite loop in case updateOffset creates new moment\n// objects.\nsd===!1&&(sd=!0,a.updateOffset(this),sd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}\n// compare two arrays, return the number of differences\nfunction v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+b)}function x(b,c){var d=!0;return j(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e=\"\",\"object\"==typeof arguments[g]){e+=\"\\n[\"+g+\"] \";for(var h in arguments[0])e+=h+\": \"+arguments[0][h]+\", \";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+\"\\nArguments: \"+Array.prototype.slice.call(f).join(\"\")+\"\\n\"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),td[b]||(w(c),td[b]=!0)}function z(a){return a instanceof Function||\"[object Function]\"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this[\"_\"+c]=b;this._config=a,\n// Lenient ordinal parsing accepts just a number in addition to\n// number + (possibly) stuff coming from _ordinalParseLenient.\nthis._ordinalParseLenient=new RegExp(this._ordinalParse.source+\"|\"+/\\d{1,2}/.source)}function B(a,b){var c,e=j({},a);for(c in b)i(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},j(e[c],a[c]),j(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)i(a,c)&&!i(b,c)&&d(a[c])&&(\n// make sure changes to properties don't modify parent config\ne[c]=j({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace(\"%d\",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Dd[c]=Dd[c+\"s\"]=Dd[b]=a}function K(a){return\"string\"==typeof a?Dd[a]||Dd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)i(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Ed[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Ed[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}\n// MOMENTS\nfunction R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if(\"object\"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=\"\"+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?\"+\":\"\":\"-\")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction U(a,b,c,d){var e=d;\"string\"==typeof d&&(e=function(){return this[d]()}),a&&(Id[a]=e),b&&(Id[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Id[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function W(a){var b,c,d=a.match(Fd);for(b=0,c=d.length;b<c;b++)Id[d[b]]?d[b]=Id[d[b]]:d[b]=V(d[b]);return function(b){var e,f=\"\";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}\n// format date using native date object\nfunction X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Hd[b]=Hd[b]||W(b),Hd[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Gd.lastIndex=0;d>=0&&Gd.test(a);)a=a.replace(Gd,c),Gd.lastIndex=0,d-=1;return a}function Z(a,b,c){$d[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return i($d,a)?$d[a](b._strict,b._locale):new RegExp(_(a))}\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction _(a){return aa(a.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function ba(a,b){var c,d=b;for(\"string\"==typeof a&&(a=[a]),f(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)_d[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&i(_d,a)&&_d[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ke).test(b)?\"format\":\"standalone\"][a.month()]:this._months}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ke.test(b)?\"format\":\"standalone\"][a.month()]:this._monthsShort}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(\n// this is not used\nthis._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=k([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,\"\").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,\"\").toLocaleLowerCase();return c?\"MMM\"===b?(e=je.call(this._shortMonthsParse,g),e!==-1?e:null):(e=je.call(this._longMonthsParse,g),e!==-1?e:null):\"MMM\"===b?(e=je.call(this._shortMonthsParse,g),e!==-1?e:(e=je.call(this._longMonthsParse,g),e!==-1?e:null)):(e=je.call(this._longMonthsParse,g),e!==-1?e:(e=je.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);\n// TODO: add sorting\n// Sorting makes sure if one month (or abbr) is a prefix of another\n// see sorting in computeMonthsParse\nfor(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){\n// test the regex\nif(\n// make the regex if we don't have it already\ne=k([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp(\"^\"+this.months(e,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[d]=new RegExp(\"^\"+this.monthsShort(e,\"\").replace(\".\",\"\")+\"$\",\"i\")),c||this._monthsParse[d]||(f=\"^\"+this.months(e,\"\")+\"|^\"+this.monthsShort(e,\"\"),this._monthsParse[d]=new RegExp(f.replace(\".\",\"\"),\"i\")),c&&\"MMMM\"===b&&this._longMonthsParse[d].test(a))return d;if(c&&\"MMM\"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}\n// MOMENTS\nfunction ja(a,b){var c;if(!a.isValid())\n// No op\nreturn a;if(\"string\"==typeof b)if(/^\\d+$/.test(b))b=u(b);else\n// TODO: Another silent failure?\nif(b=a.localeData().monthsParse(b),!f(b))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,\"Month\")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(i(this,\"_monthsRegex\")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,\"_monthsShortRegex\")||(this._monthsShortRegex=ne),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(i(this,\"_monthsRegex\")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(i(this,\"_monthsRegex\")||(this._monthsRegex=oe),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)\n// make the regex if we don't have it already\nc=k([2e3,b]),d.push(this.monthsShort(c,\"\")),e.push(this.months(c,\"\")),f.push(this.months(c,\"\")),f.push(this.monthsShort(c,\"\"));for(\n// Sorting makes sure if one month (or abbr) is a prefix of another it\n// will match the longer piece.\nd.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp(\"^(\"+f.join(\"|\")+\")\",\"i\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\"^(\"+e.join(\"|\")+\")\",\"i\"),this._monthsShortStrictRegex=new RegExp(\"^(\"+d.join(\"|\")+\")\",\"i\")}\n// HELPERS\nfunction pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){\n//can't just apply() to create a date:\n//http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\nvar h=new Date(a,b,c,d,e,f,g);\n//the date constructor remaps years 0-99 to 1900-1999\nreturn a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));\n//the Date.UTC function remaps years 0-99 to 1900-1999\nreturn a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}\n// start-of-first-week - start-of-year\nfunction ua(a,b,c){var// first-week day -- which january is always in the first week (4 for iso, 1 for other)\nd=7+b-c,\n// first-week day local weekday -- which local weekday is fwd\ne=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}\n//http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}\n// HELPERS\n// LOCALES\nfunction ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}\n// MOMENTS\nfunction Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),\"d\")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),\"d\")}\n// HELPERS\nfunction Da(a,b){return\"string\"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),\"number\"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return\"string\"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?\"format\":\"standalone\"][a.day()]:this._weekdays}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=k([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,\"\").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,\"\").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,\"\").toLocaleLowerCase();return c?\"dddd\"===b?(e=je.call(this._weekdaysParse,g),e!==-1?e:null):\"ddd\"===b?(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=je.call(this._minWeekdaysParse,g),e!==-1?e:null):\"dddd\"===b?(e=je.call(this._weekdaysParse,g),e!==-1?e:(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:(e=je.call(this._minWeekdaysParse,g),e!==-1?e:null))):\"ddd\"===b?(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:(e=je.call(this._weekdaysParse,g),e!==-1?e:(e=je.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=je.call(this._minWeekdaysParse,g),e!==-1?e:(e=je.call(this._weekdaysParse,g),e!==-1?e:(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){\n// test the regex\nif(\n// make the regex if we don't have it already\ne=k([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp(\"^\"+this.weekdays(e,\"\").replace(\".\",\".?\")+\"$\",\"i\"),this._shortWeekdaysParse[d]=new RegExp(\"^\"+this.weekdaysShort(e,\"\").replace(\".\",\".?\")+\"$\",\"i\"),this._minWeekdaysParse[d]=new RegExp(\"^\"+this.weekdaysMin(e,\"\").replace(\".\",\".?\")+\"$\",\"i\")),this._weekdaysParse[d]||(f=\"^\"+this.weekdays(e,\"\")+\"|^\"+this.weekdaysShort(e,\"\")+\"|^\"+this.weekdaysMin(e,\"\"),this._weekdaysParse[d]=new RegExp(f.replace(\".\",\"\"),\"i\")),c&&\"dddd\"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&\"ddd\"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&\"dd\"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}\n// MOMENTS\nfunction Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,\"d\")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,\"d\")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;\n// behaves the same as moment#day except\n// as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n// as a setter, sunday should belong to the previous week.\nif(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(i(this,\"_weekdaysRegex\")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,\"_weekdaysRegex\")||(this._weekdaysRegex=ue),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(i(this,\"_weekdaysRegex\")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,\"_weekdaysShortRegex\")||(this._weekdaysShortRegex=ve),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(i(this,\"_weekdaysRegex\")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,\"_weekdaysMinRegex\")||(this._weekdaysMinRegex=we),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)\n// make the regex if we don't have it already\nc=k([2e3,1]).day(b),d=this.weekdaysMin(c,\"\"),e=this.weekdaysShort(c,\"\"),f=this.weekdays(c,\"\"),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(\n// Sorting makes sure if one weekday (or abbr) is a prefix of another it\n// will match the longer piece.\ng.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp(\"^(\"+j.join(\"|\")+\")\",\"i\"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(\"^(\"+i.join(\"|\")+\")\",\"i\"),this._weekdaysShortStrictRegex=new RegExp(\"^(\"+h.join(\"|\")+\")\",\"i\"),this._weekdaysMinStrictRegex=new RegExp(\"^(\"+g.join(\"|\")+\")\",\"i\")}\n// FORMATTING\nfunction Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}\n// PARSING\nfunction Ua(a,b){return b._meridiemParse}\n// LOCALES\nfunction Va(a){\n// IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n// Using charAt should be more compatible.\nreturn\"p\"===(a+\"\").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"}function Xa(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split(\"-\"),b=e.length,c=Xa(a[f+1]),c=c?c.split(\"-\"):null;b>0;){if(d=Za(e.slice(0,b).join(\"-\")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)\n//the next array item is better than a shallower substring of this one\nbreak;b--}f++}return null}function Za(a){var b=null;\n// TODO: Find a better way to register and load all the locales in Node\nif(!Be[a]&&\"undefined\"!=typeof module&&module&&module.exports)try{b=xe._abbr,require(\"./locale/\"+a),\n// because defineLocale currently also sets the global locale, we\n// want to undo that for lazy loaded locales\n$a(b)}catch(a){}return Be[a]}\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction $a(a,b){var c;\n// moment.duration._locale = moment._locale = data;\nreturn a&&(c=p(b)?bb(a):_a(a,b),c&&(xe=c)),xe._abbr}function _a(a,b){if(null!==b){var c=Ae;if(b.abbr=a,null!=Be[a])y(\"defineLocaleOverride\",\"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.\"),c=Be[a]._config;else if(null!=b.parentLocale){if(null==Be[b.parentLocale])return Ce[b.parentLocale]||(Ce[b.parentLocale]=[]),Ce[b.parentLocale].push({name:a,config:b}),null;c=Be[b.parentLocale]._config}\n// backwards compat for now: also set the locale\n// make sure we set the locale AFTER all child locales have been\n// created, so we won't end up with the child locale set.\nreturn Be[a]=new C(B(c,b)),Ce[a]&&Ce[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Be[a]}\n// useful for testing\nreturn delete Be[a],null}function ab(a,b){if(null!=b){var c,d=Ae;\n// MERGE\nnull!=Be[a]&&(d=Be[a]._config),b=B(d,b),c=new C(b),c.parentLocale=Be[a],Be[a]=c,\n// backwards compat for now: also set the locale\n$a(a)}else\n// pass null for config to unupdate, useful for tests\nnull!=Be[a]&&(null!=Be[a].parentLocale?Be[a]=Be[a].parentLocale:null!=Be[a]&&delete Be[a]);return Be[a]}\n// returns locale data\nfunction bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return xe;if(!c(a)){if(\n//short-circuit everything else\nb=Za(a))return b;a=[a]}return Ya(a)}function cb(){return wd(Be)}function db(a){var b,c=a._a;return c&&m(a).overflow===-2&&(b=c[be]<0||c[be]>11?be:c[ce]<1||c[ce]>ea(c[ae],c[be])?ce:c[de]<0||c[de]>24||24===c[de]&&(0!==c[ee]||0!==c[fe]||0!==c[ge])?de:c[ee]<0||c[ee]>59?ee:c[fe]<0||c[fe]>59?fe:c[ge]<0||c[ge]>999?ge:-1,m(a)._overflowDayOfYear&&(b<ae||b>ce)&&(b=ce),m(a)._overflowWeeks&&b===-1&&(b=he),m(a)._overflowWeekday&&b===-1&&(b=ie),m(a).overflow=b),a}\n// date from iso format\nfunction eb(a){var b,c,d,e,f,g,h=a._i,i=De.exec(h)||Ee.exec(h);if(i){for(m(a).iso=!0,b=0,c=Ge.length;b<c;b++)if(Ge[b][1].exec(i[1])){e=Ge[b][0],d=Ge[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=He.length;b<c;b++)if(He[b][1].exec(i[3])){\n// match[2] should be 'T' or space\nf=(i[2]||\" \")+He[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Fe.exec(i[4]))return void(a._isValid=!1);g=\"Z\"}a._f=e+(f||\"\")+(g||\"\"),kb(a)}else a._isValid=!1}\n// date from iso format or fallback\nfunction fb(b){var c=Ie.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}\n// Pick the first defined of two or three arguments.\nfunction gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(b){\n// hooks is actually the exported moment object\nvar c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction ib(a){var b,c,d,e,f=[];if(!a._d){\n// Default to current date.\n// * if no year, month, day of month are given, default to today\n// * if day of month is given, default month and year\n// * if month is given, default only year\n// * if year is given, don't default anything\nfor(d=hb(a),\n//compute day of the year from weeks and weekdays\na._w&&null==a._a[ce]&&null==a._a[be]&&jb(a),\n//if the day of the year is set, figure out what it is\na._dayOfYear&&(e=gb(a._a[ae],d[ae]),a._dayOfYear>pa(e)&&(m(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[be]=c.getUTCMonth(),a._a[ce]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];\n// Zero out whatever was not defaulted, including time\nfor(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];\n// Check for 24:00:00.000\n24===a._a[de]&&0===a._a[ee]&&0===a._a[fe]&&0===a._a[ge]&&(a._nextDay=!0,a._a[de]=0),a._d=(a._useUTC?ta:sa).apply(null,f),\n// Apply timezone offset from input. The actual utcOffset can be changed\n// with parseZone.\nnull!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[de]=24)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,\n// TODO: We need to take the current isoWeekYear, but that depends on\n// how we interpret now (local, utc, fixed offset). So create\n// a now version of current config (take local/utc/offset flags, and\n// create now).\nc=gb(b.GG,a._a[ae],wa(sb(),1,4).year),d=gb(b.W,1),e=gb(b.E,1),(e<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(sb(),f,g);c=gb(b.gg,a._a[ae],j.year),\n// Default to current week.\nd=gb(b.w,j.week),null!=b.d?(\n// weekday -- low day numbers are considered next week\ne=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(\n// local weekday -- counting starts from begining of week\ne=b.e+f,(b.e<0||b.e>6)&&(i=!0)):\n// default to begining of week\ne=f}d<1||d>xa(c,f,g)?m(a)._overflowWeeks=!0:null!=i?m(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ae]=h.year,a._dayOfYear=h.dayOfYear)}\n// date from string and format string\nfunction kb(b){\n// TODO: Move this to another part of the creation flow to prevent circular deps\nif(b._f===a.ISO_8601)return void eb(b);b._a=[],m(b).empty=!0;\n// This array is used to make a Date, either with `new Date` or `Date.UTC`\nvar c,d,e,f,g,h=\"\"+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Fd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],\n// console.log('token', token, 'parsedInput', parsedInput,\n//         'regex', getParseRegexForToken(token, config));\nd&&(g=h.substr(0,h.indexOf(d)),g.length>0&&m(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),\n// don't parse if it's not a known token\nId[f]?(d?m(b).empty=!1:m(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&m(b).unusedTokens.push(f);\n// add remaining unparsed input length to the string\nm(b).charsLeftOver=i-j,h.length>0&&m(b).unusedInput.push(h),\n// clear _12h flag if hour is <= 12\nb._a[de]<=12&&m(b).bigHour===!0&&b._a[de]>0&&(m(b).bigHour=void 0),m(b).parsedDateParts=b._a.slice(0),m(b).meridiem=b._meridiem,\n// handle meridiem\nb._a[de]=lb(b._locale,b._a[de],b._meridiem),ib(b),db(b)}function lb(a,b,c){var d;\n// Fallback\nreturn null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}\n// date from string and array of format strings\nfunction mb(a){var b,c,d,e,f;if(0===a._f.length)return m(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],kb(b),n(b)&&(\n// if there is any input that was not parsed add a penalty for that format\nf+=m(b).charsLeftOver,\n//or tokens\nf+=10*m(b).unusedTokens.length,m(b).score=f,(null==d||f<d)&&(d=f,c=b));j(a,c||b)}function nb(a){if(!a._d){var b=L(a._i);a._a=h([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function ob(a){var b=new r(db(pb(a)));\n// Adding is smart enough around DST\nreturn b._nextDay&&(b.add(1,\"d\"),b._nextDay=void 0),b}function pb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&\"\"===b?o({nullInput:!0}):(\"string\"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(g(b)?a._d=b:c(d)?mb(a):d?kb(a):qb(a),n(a)||(a._d=null),a))}function qb(b){var d=b._i;void 0===d?b._d=new Date(a.now()):g(d)?b._d=new Date(d.valueOf()):\"string\"==typeof d?fb(b):c(d)?(b._a=h(d.slice(0),function(a){return parseInt(a,10)}),ib(b)):\"object\"==typeof d?nb(b):f(d)?\n// from milliseconds\nb._d=new Date(d):a.createFromInputFallback(b)}function rb(a,b,f,g,h){var i={};\n// object construction must be done this way.\n// https://github.com/moment/moment/issues/1423\nreturn f!==!0&&f!==!1||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,ob(i)}function sb(a,b,c,d){return rb(a,b,c,d,!1)}\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction tb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return sb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}\n// TODO: Use [].sort instead?\nfunction ub(){var a=[].slice.call(arguments,0);return tb(\"isBefore\",a)}function vb(){var a=[].slice.call(arguments,0);return tb(\"isAfter\",a)}function wb(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;\n// representation for dateAddRemove\nthis._milliseconds=+k+1e3*j+// 1000\n6e4*i+// 1000 * 60\n1e3*h*60*60,//using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n// Because of dateAddRemove treats 24 hours as different from a\n// day when working around DST, we need to store them separately\nthis._days=+g+7*f,\n// It is impossible translate months into days without knowing\n// which months you are are talking about, so we have to store\n// it separately.\nthis._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function xb(a){return a instanceof wb}function yb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}\n// FORMATTING\nfunction zb(a,b){U(a,0,0,function(){var a=this.utcOffset(),c=\"+\";return a<0&&(a=-a,c=\"-\"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Ab(a,b){var c=(b||\"\").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+\"\").match(Me)||[\"-\",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:\"+\"===e[0]?f:-f}\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction Bb(b,c){var d,e;\n// Use low-level api, because this fn is low-level api.\nreturn c._isUTC?(d=c.clone(),e=(s(b)||g(b)?b.valueOf():sb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):sb(b).local()}function Cb(a){\n// On Firefox.24 Date#getTimezoneOffset returns a floating point.\n// https://github.com/moment/moment/pull/1871\nreturn 15*-Math.round(a._d.getTimezoneOffset()/15)}\n// MOMENTS\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction Db(b,c){var d,e=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if(\"string\"==typeof b){if(b=Ab(Xd,b),null===b)return this}else Math.abs(b)<16&&(b=60*b);return!this._isUTC&&c&&(d=Cb(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,\"m\"),e!==b&&(!c||this._changeInProgress?Tb(this,Ob(b-e,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?e:Cb(this)}function Eb(a,b){return null!=a?(\"string\"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Fb(a){return this.utcOffset(0,a)}function Gb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Cb(this),\"m\")),this}function Hb(){if(null!=this._tzm)this.utcOffset(this._tzm);else if(\"string\"==typeof this._i){var a=Ab(Wd,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Ib(a){return!!this.isValid()&&(a=a?sb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Jb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kb(){if(!p(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=pb(a),a._a){var b=a._isUTC?k(a._a):sb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lb(){return!!this.isValid()&&!this._isUTC}function Mb(){return!!this.isValid()&&this._isUTC}function Nb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ob(a,b){var c,d,e,g=a,\n// matching against regexp is expensive, do it on demand\nh=null;// checks for null or undefined\nreturn xb(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:f(a)?(g={},b?g[b]=a:g.milliseconds=a):(h=Ne.exec(a))?(c=\"-\"===h[1]?-1:1,g={y:0,d:u(h[ce])*c,h:u(h[de])*c,m:u(h[ee])*c,s:u(h[fe])*c,ms:u(yb(1e3*h[ge]))*c}):(h=Oe.exec(a))?(c=\"-\"===h[1]?-1:1,g={y:Pb(h[2],c),M:Pb(h[3],c),w:Pb(h[4],c),d:Pb(h[5],c),h:Pb(h[6],c),m:Pb(h[7],c),s:Pb(h[8],c)}):null==g?g={}:\"object\"==typeof g&&(\"from\"in g||\"to\"in g)&&(e=Rb(sb(g.from),sb(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new wb(g),xb(a)&&i(a,\"_locale\")&&(d._locale=a._locale),d}function Pb(a,b){\n// We'd normally use ~~inp for this, but unfortunately it also\n// converts floats to ints.\n// inp may be undefined, so careful calling replace on it.\nvar c=a&&parseFloat(a.replace(\",\",\".\"));\n// apply sign while we're at it\nreturn(isNaN(c)?0:c)*b}function Qb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\"M\").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,\"M\"),c}function Rb(a,b){var c;return a.isValid()&&b.isValid()?(b=Bb(b,a),a.isBefore(b)?c=Qb(a,b):(c=Qb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}\n// TODO: remove 'name' arg after deprecation is removed\nfunction Sb(a,b){return function(c,d){var e,f;\n//invert the arguments, but complain about it\nreturn null===d||isNaN(+d)||(y(b,\"moment().\"+b+\"(period, number) is deprecated. Please use moment().\"+b+\"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.\"),f=c,c=d,d=f),c=\"string\"==typeof c?+c:c,e=Ob(c,d),Tb(this,e,a),this}}function Tb(b,c,d,e){var f=c._milliseconds,g=yb(c._days),h=yb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,\"Date\",P(b,\"Date\")+g*d),h&&ja(b,P(b,\"Month\")+h*d),e&&a.updateOffset(b,g||h))}function Ub(a,b){var c=a.diff(b,\"days\",!0);return c<-6?\"sameElse\":c<-1?\"lastWeek\":c<0?\"lastDay\":c<1?\"sameDay\":c<2?\"nextDay\":c<7?\"nextWeek\":\"sameElse\"}function Vb(b,c){\n// We want to compare the start of today, vs this.\n// Getting start-of-today depends on whether we're local/utc/offset or not.\nvar d=b||sb(),e=Bb(d,this).startOf(\"day\"),f=a.calendarFormat(this,e)||\"sameElse\",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,sb(d)))}function Wb(){return new r(this)}function Xb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?\"millisecond\":b),\"millisecond\"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Yb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?\"millisecond\":b),\"millisecond\"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Zb(a,b,c,d){return d=d||\"()\",(\"(\"===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(\")\"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function $b(a,b){var c,d=s(a)?a:sb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||\"millisecond\"),\"millisecond\"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function _b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ac(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function bc(a,b,c){var d,e,f,g;// 1000\n// 1000 * 60\n// 1000 * 60 * 60\n// 1000 * 60 * 60 * 24, negate dst\n// 1000 * 60 * 60 * 24 * 7, negate dst\nreturn this.isValid()?(d=Bb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),\"year\"===b||\"month\"===b||\"quarter\"===b?(g=cc(this,d),\"quarter\"===b?g/=3:\"year\"===b&&(g/=12)):(f=this-d,g=\"second\"===b?f/1e3:\"minute\"===b?f/6e4:\"hour\"===b?f/36e5:\"day\"===b?(f-e)/864e5:\"week\"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function cc(a,b){\n// difference in months\nvar c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),\n// b is in (anchor - 1 month, anchor + 1 month)\nf=a.clone().add(e,\"months\");\n//check for negative zero, return zero if negative zero\n// linear across the month\n// linear across the month\nreturn b-f<0?(c=a.clone().add(e-1,\"months\"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,\"months\"),d=(b-f)/(c-f)),-(e+d)||0}function dc(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")}function ec(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):X(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")}/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction fc(){if(!this.isValid())return\"moment.invalid(/* \"+this._i+\" */)\";var a=\"moment\",b=\"\";this.isLocal()||(a=0===this.utcOffset()?\"moment.utc\":\"moment.parseZone\",b=\"Z\");var c=\"[\"+a+'(\"]',d=0<this.year()&&this.year()<=9999?\"YYYY\":\"YYYYYY\",e=\"-MM-DD[T]HH:mm:ss.SSS\",f=b+'[\")]';return this.format(c+d+e+f)}function gc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function hc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.from(sb(),a)}function jc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function kc(a){return this.to(sb(),a)}\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction lc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function mc(){return this._locale}function nc(a){\n// the following switch intentionally omits break keywords\n// to utilize falling through the cases.\nswitch(a=K(a)){case\"year\":this.month(0);/* falls through */\ncase\"quarter\":case\"month\":this.date(1);/* falls through */\ncase\"week\":case\"isoWeek\":case\"day\":case\"date\":this.hours(0);/* falls through */\ncase\"hour\":this.minutes(0);/* falls through */\ncase\"minute\":this.seconds(0);/* falls through */\ncase\"second\":this.milliseconds(0)}\n// weeks are a special case\n// quarters are also special\nreturn\"week\"===a&&this.weekday(0),\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this}function oc(a){\n// 'date' is an alias for 'day', so it should be considered as such.\nreturn a=K(a),void 0===a||\"millisecond\"===a?this:(\"date\"===a&&(a=\"day\"),this.startOf(a).add(1,\"isoWeek\"===a?\"week\":a).subtract(1,\"ms\"))}function pc(){return this._d.valueOf()-6e4*(this._offset||0)}function qc(){return Math.floor(this.valueOf()/1e3)}function rc(){return new Date(this.valueOf())}function sc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function tc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function uc(){\n// new Date(NaN).toJSON() === null\nreturn this.isValid()?this.toISOString():null}function vc(){return n(this)}function wc(){return j({},m(this))}function xc(){return m(this).overflow}function yc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function zc(a,b){U(0,[a,a.length],0,b)}\n// MOMENTS\nfunction Ac(a){return Ec.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bc(a){return Ec.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Cc(){return xa(this.year(),1,4)}function Dc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ec(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Fc.call(this,a,b,c,d,e))}function Fc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}\n// MOMENTS\nfunction Gc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}\n// HELPERS\n// MOMENTS\nfunction Hc(a){var b=Math.round((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==a?b:this.add(a-b,\"d\")}function Ic(a,b){b[ge]=u(1e3*(\"0.\"+a))}\n// MOMENTS\nfunction Jc(){return this._isUTC?\"UTC\":\"\"}function Kc(){return this._isUTC?\"Coordinated Universal Time\":\"\"}function Lc(a){return sb(1e3*a)}function Mc(){return sb.apply(null,arguments).parseZone()}function Nc(a){return a}function Oc(a,b,c,d){var e=bb(),f=k().set(d,b);return e[c](f,a)}function Pc(a,b,c){if(f(a)&&(b=a,a=void 0),a=a||\"\",null!=b)return Oc(a,b,c,\"month\");var d,e=[];for(d=0;d<12;d++)e[d]=Oc(a,d,c,\"month\");return e}\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction Qc(a,b,c,d){\"boolean\"==typeof a?(f(b)&&(c=b,b=void 0),b=b||\"\"):(b=a,c=b,a=!1,f(b)&&(c=b,b=void 0),b=b||\"\");var e=bb(),g=a?e._week.dow:0;if(null!=c)return Oc(b,(c+g)%7,d,\"day\");var h,i=[];for(h=0;h<7;h++)i[h]=Oc(b,(h+g)%7,d,\"day\");return i}function Rc(a,b){return Pc(a,b,\"months\")}function Sc(a,b){return Pc(a,b,\"monthsShort\")}function Tc(a,b,c){return Qc(a,b,c,\"weekdays\")}function Uc(a,b,c){return Qc(a,b,c,\"weekdaysShort\")}function Vc(a,b,c){return Qc(a,b,c,\"weekdaysMin\")}function Wc(){var a=this._data;return this._milliseconds=Ze(this._milliseconds),this._days=Ze(this._days),this._months=Ze(this._months),a.milliseconds=Ze(a.milliseconds),a.seconds=Ze(a.seconds),a.minutes=Ze(a.minutes),a.hours=Ze(a.hours),a.months=Ze(a.months),a.years=Ze(a.years),this}function Xc(a,b,c,d){var e=Ob(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction Yc(a,b){return Xc(this,a,b,1)}\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction Zc(a,b){return Xc(this,a,b,-1)}function $c(a){return a<0?Math.floor(a):Math.ceil(a)}function _c(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;\n// if we have a mix of positive and negative values, bubble down first\n// check: https://github.com/moment/moment/issues/2166\n// The following code bubbles up values, see the tests for\n// examples of what that means.\n// convert days to months\n// 12 months -> 1 year\nreturn f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*$c(bd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ad(g)),h+=e,g-=$c(bd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ad(a){\n// 400 years have 146097 days (taking into account leap year rules)\n// 400 years have 12 months === 4800\nreturn 4800*a/146097}function bd(a){\n// the reverse of daysToMonths\nreturn 146097*a/4800}function cd(a){var b,c,d=this._milliseconds;if(a=K(a),\"month\"===a||\"year\"===a)return b=this._days+d/864e5,c=this._months+ad(b),\"month\"===a?c:c/12;switch(\n// handle milliseconds separately because of floating point math errors (issue #1867)\nb=this._days+Math.round(bd(this._months)),a){case\"week\":return b/7+d/6048e5;case\"day\":return b+d/864e5;case\"hour\":return 24*b+d/36e5;case\"minute\":return 1440*b+d/6e4;case\"second\":return 86400*b+d/1e3;\n// Math.floor prevents floating point math errors here\ncase\"millisecond\":return Math.floor(864e5*b)+d;default:throw new Error(\"Unknown unit \"+a)}}\n// TODO: Use this.as('ms')?\nfunction dd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)}function ed(a){return function(){return this.as(a)}}function fd(a){return a=K(a),this[a+\"s\"]()}function gd(a){return function(){return this._data[a]}}function hd(){return t(this.days()/7)}\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction id(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function jd(a,b,c){var d=Ob(a).abs(),e=of(d.as(\"s\")),f=of(d.as(\"m\")),g=of(d.as(\"h\")),h=of(d.as(\"d\")),i=of(d.as(\"M\")),j=of(d.as(\"y\")),k=e<pf.s&&[\"s\",e]||f<=1&&[\"m\"]||f<pf.m&&[\"mm\",f]||g<=1&&[\"h\"]||g<pf.h&&[\"hh\",g]||h<=1&&[\"d\"]||h<pf.d&&[\"dd\",h]||i<=1&&[\"M\"]||i<pf.M&&[\"MM\",i]||j<=1&&[\"y\"]||[\"yy\",j];return k[2]=b,k[3]=+a>0,k[4]=c,id.apply(null,k)}\n// This function allows you to set the rounding function for relative time strings\nfunction kd(a){return void 0===a?of:\"function\"==typeof a&&(of=a,!0)}\n// This function allows you to set a threshold for relative time strings\nfunction ld(a,b){return void 0!==pf[a]&&(void 0===b?pf[a]:(pf[a]=b,!0))}function md(a){var b=this.localeData(),c=jd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function nd(){\n// for ISO strings we do not use the normal bubbling rules:\n//  * milliseconds bubble up until they become hours\n//  * days do not bubble at all\n//  * months bubble up until they become years\n// This is because there is no context-free conversion between hours and days\n// (think of clock changes)\n// and also not between days and months (28-31 days per month)\nvar a,b,c,d=qf(this._milliseconds)/1e3,e=qf(this._days),f=qf(this._months);\n// 3600 seconds -> 60 minutes -> 1 hour\na=t(d/60),b=t(a/60),d%=60,a%=60,\n// 12 months -> 1 year\nc=t(f/12),f%=12;\n// inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\nvar g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?\"-\":\"\")+\"P\"+(g?g+\"Y\":\"\")+(h?h+\"M\":\"\")+(i?i+\"D\":\"\")+(j||k||l?\"T\":\"\")+(j?j+\"H\":\"\")+(k?k+\"M\":\"\")+(l?l+\"S\":\"\"):\"P0D\"}var od,pd;pd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var qd=pd,rd=a.momentProperties=[],sd=!1,td={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var ud;ud=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)i(a,b)&&c.push(b);return c};var vd,wd=ud,xd={sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},yd={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},zd=\"Invalid date\",Ad=\"%d\",Bd=/\\d{1,2}/,Cd={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},Dd={},Ed={},Fd=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gd=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hd={},Id={},Jd=/\\d/,Kd=/\\d\\d/,Ld=/\\d{3}/,Md=/\\d{4}/,Nd=/[+-]?\\d{6}/,Od=/\\d\\d?/,Pd=/\\d\\d\\d\\d?/,Qd=/\\d\\d\\d\\d\\d\\d?/,Rd=/\\d{1,3}/,Sd=/\\d{1,4}/,Td=/[+-]?\\d{1,6}/,Ud=/\\d+/,Vd=/[+-]?\\d+/,Wd=/Z|[+-]\\d\\d:?\\d\\d/gi,Xd=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,Yd=/[+-]?\\d+(\\.\\d{1,3})?/,Zd=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,$d={},_d={},ae=0,be=1,ce=2,de=3,ee=4,fe=5,ge=6,he=7,ie=8;vd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){\n// I know\nvar b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var je=vd;\n// FORMATTING\nU(\"M\",[\"MM\",2],\"Mo\",function(){return this.month()+1}),U(\"MMM\",0,0,function(a){return this.localeData().monthsShort(this,a)}),U(\"MMMM\",0,0,function(a){return this.localeData().months(this,a)}),\n// ALIASES\nJ(\"month\",\"M\"),\n// PRIORITY\nM(\"month\",8),\n// PARSING\nZ(\"M\",Od),Z(\"MM\",Od,Kd),Z(\"MMM\",function(a,b){return b.monthsShortRegex(a)}),Z(\"MMMM\",function(a,b){return b.monthsRegex(a)}),ba([\"M\",\"MM\"],function(a,b){b[be]=u(a)-1}),ba([\"MMM\",\"MMMM\"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);\n// if we didn't find a month name, mark the date as invalid.\nnull!=e?b[be]=e:m(c).invalidMonth=a});\n// LOCALES\nvar ke=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,le=\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),me=\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),ne=Zd,oe=Zd;\n// FORMATTING\nU(\"Y\",0,0,function(){var a=this.year();return a<=9999?\"\"+a:\"+\"+a}),U(0,[\"YY\",2],0,function(){return this.year()%100}),U(0,[\"YYYY\",4],0,\"year\"),U(0,[\"YYYYY\",5],0,\"year\"),U(0,[\"YYYYYY\",6,!0],0,\"year\"),\n// ALIASES\nJ(\"year\",\"y\"),\n// PRIORITIES\nM(\"year\",1),\n// PARSING\nZ(\"Y\",Vd),Z(\"YY\",Od,Kd),Z(\"YYYY\",Sd,Md),Z(\"YYYYY\",Td,Nd),Z(\"YYYYYY\",Td,Nd),ba([\"YYYYY\",\"YYYYYY\"],ae),ba(\"YYYY\",function(b,c){c[ae]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba(\"YY\",function(b,c){c[ae]=a.parseTwoDigitYear(b)}),ba(\"Y\",function(a,b){b[ae]=parseInt(a,10)}),\n// HOOKS\na.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};\n// MOMENTS\nvar pe=O(\"FullYear\",!0);\n// FORMATTING\nU(\"w\",[\"ww\",2],\"wo\",\"week\"),U(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),\n// ALIASES\nJ(\"week\",\"w\"),J(\"isoWeek\",\"W\"),\n// PRIORITIES\nM(\"week\",5),M(\"isoWeek\",5),\n// PARSING\nZ(\"w\",Od),Z(\"ww\",Od,Kd),Z(\"W\",Od),Z(\"WW\",Od,Kd),ca([\"w\",\"ww\",\"W\",\"WW\"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var qe={dow:0,// Sunday is the first day of the week.\ndoy:6};\n// FORMATTING\nU(\"d\",0,\"do\",\"day\"),U(\"dd\",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U(\"ddd\",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U(\"dddd\",0,0,function(a){return this.localeData().weekdays(this,a)}),U(\"e\",0,0,\"weekday\"),U(\"E\",0,0,\"isoWeekday\"),\n// ALIASES\nJ(\"day\",\"d\"),J(\"weekday\",\"e\"),J(\"isoWeekday\",\"E\"),\n// PRIORITY\nM(\"day\",11),M(\"weekday\",11),M(\"isoWeekday\",11),\n// PARSING\nZ(\"d\",Od),Z(\"e\",Od),Z(\"E\",Od),Z(\"dd\",function(a,b){return b.weekdaysMinRegex(a)}),Z(\"ddd\",function(a,b){return b.weekdaysShortRegex(a)}),Z(\"dddd\",function(a,b){return b.weekdaysRegex(a)}),ca([\"dd\",\"ddd\",\"dddd\"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);\n// if we didn't get a weekday name, mark the date as invalid\nnull!=e?b.d=e:m(c).invalidWeekday=a}),ca([\"d\",\"e\",\"E\"],function(a,b,c,d){b[d]=u(a)});\n// LOCALES\nvar re=\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),se=\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),te=\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),ue=Zd,ve=Zd,we=Zd;U(\"H\",[\"HH\",2],0,\"hour\"),U(\"h\",[\"hh\",2],0,Ra),U(\"k\",[\"kk\",2],0,Sa),U(\"hmm\",0,0,function(){return\"\"+Ra.apply(this)+T(this.minutes(),2)}),U(\"hmmss\",0,0,function(){return\"\"+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U(\"Hmm\",0,0,function(){return\"\"+this.hours()+T(this.minutes(),2)}),U(\"Hmmss\",0,0,function(){return\"\"+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta(\"a\",!0),Ta(\"A\",!1),\n// ALIASES\nJ(\"hour\",\"h\"),\n// PRIORITY\nM(\"hour\",13),Z(\"a\",Ua),Z(\"A\",Ua),Z(\"H\",Od),Z(\"h\",Od),Z(\"HH\",Od,Kd),Z(\"hh\",Od,Kd),Z(\"hmm\",Pd),Z(\"hmmss\",Qd),Z(\"Hmm\",Pd),Z(\"Hmmss\",Qd),ba([\"H\",\"HH\"],de),ba([\"a\",\"A\"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba([\"h\",\"hh\"],function(a,b,c){b[de]=u(a),m(c).bigHour=!0}),ba(\"hmm\",function(a,b,c){var d=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d)),m(c).bigHour=!0}),ba(\"hmmss\",function(a,b,c){var d=a.length-4,e=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d,2)),b[fe]=u(a.substr(e)),m(c).bigHour=!0}),ba(\"Hmm\",function(a,b,c){var d=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d))}),ba(\"Hmmss\",function(a,b,c){var d=a.length-4,e=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d,2)),b[fe]=u(a.substr(e))});var xe,ye=/[ap]\\.?m?\\.?/i,ze=O(\"Hours\",!0),Ae={calendar:xd,longDateFormat:yd,invalidDate:zd,ordinal:Ad,ordinalParse:Bd,relativeTime:Cd,months:le,monthsShort:me,week:qe,weekdays:re,weekdaysMin:te,weekdaysShort:se,meridiemParse:ye},Be={},Ce={},De=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Ee=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Fe=/Z|[+-]\\d\\d(?::?\\d\\d)?/,Ge=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d\\d-\\d\\d/],[\"YYYY-MM-DD\",/\\d{4}-\\d\\d-\\d\\d/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d\\d-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d\\d/,!1],[\"YYYY-DDD\",/\\d{4}-\\d{3}/],[\"YYYY-MM\",/\\d{4}-\\d\\d/,!1],[\"YYYYYYMMDD\",/[+-]\\d{10}/],[\"YYYYMMDD\",/\\d{8}/],\n// YYYYMM is NOT allowed by the standard\n[\"GGGG[W]WWE\",/\\d{4}W\\d{3}/],[\"GGGG[W]WW\",/\\d{4}W\\d{2}/,!1],[\"YYYYDDD\",/\\d{7}/]],He=[[\"HH:mm:ss.SSSS\",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss,SSSS\",/\\d\\d:\\d\\d:\\d\\d,\\d+/],[\"HH:mm:ss\",/\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/\\d\\d:\\d\\d/],[\"HHmmss.SSSS\",/\\d\\d\\d\\d\\d\\d\\.\\d+/],[\"HHmmss,SSSS\",/\\d\\d\\d\\d\\d\\d,\\d+/],[\"HHmmss\",/\\d\\d\\d\\d\\d\\d/],[\"HHmm\",/\\d\\d\\d\\d/],[\"HH\",/\\d\\d/]],Ie=/^\\/?Date\\((\\-?\\d+)/i;a.createFromInputFallback=x(\"value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.\",function(a){a._d=new Date(a._i+(a._useUTC?\" UTC\":\"\"))}),\n// constant that refers to the ISO standard\na.ISO_8601=function(){};var Je=x(\"moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/\",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:o()}),Ke=x(\"moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/\",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:o()}),Le=function(){return Date.now?Date.now():+new Date};zb(\"Z\",\":\"),zb(\"ZZ\",\"\"),\n// PARSING\nZ(\"Z\",Xd),Z(\"ZZ\",Xd),ba([\"Z\",\"ZZ\"],function(a,b,c){c._useUTC=!0,c._tzm=Ab(Xd,a)});\n// HELPERS\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar Me=/([\\+\\-]|\\d\\d)/gi;\n// HOOKS\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\na.updateOffset=function(){};\n// ASP.NET json date format regex\nvar Ne=/^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/,Oe=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ob.fn=wb.prototype;var Pe=Sb(1,\"add\"),Qe=Sb(-1,\"subtract\");a.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\",a.defaultFormatUtc=\"YYYY-MM-DDTHH:mm:ss[Z]\";var Re=x(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(a){return void 0===a?this.localeData():this.locale(a)});\n// FORMATTING\nU(0,[\"gg\",2],0,function(){return this.weekYear()%100}),U(0,[\"GG\",2],0,function(){return this.isoWeekYear()%100}),zc(\"gggg\",\"weekYear\"),zc(\"ggggg\",\"weekYear\"),zc(\"GGGG\",\"isoWeekYear\"),zc(\"GGGGG\",\"isoWeekYear\"),\n// ALIASES\nJ(\"weekYear\",\"gg\"),J(\"isoWeekYear\",\"GG\"),\n// PRIORITY\nM(\"weekYear\",1),M(\"isoWeekYear\",1),\n// PARSING\nZ(\"G\",Vd),Z(\"g\",Vd),Z(\"GG\",Od,Kd),Z(\"gg\",Od,Kd),Z(\"GGGG\",Sd,Md),Z(\"gggg\",Sd,Md),Z(\"GGGGG\",Td,Nd),Z(\"ggggg\",Td,Nd),ca([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca([\"gg\",\"GG\"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),\n// FORMATTING\nU(\"Q\",0,\"Qo\",\"quarter\"),\n// ALIASES\nJ(\"quarter\",\"Q\"),\n// PRIORITY\nM(\"quarter\",7),\n// PARSING\nZ(\"Q\",Jd),ba(\"Q\",function(a,b){b[be]=3*(u(a)-1)}),\n// FORMATTING\nU(\"D\",[\"DD\",2],\"Do\",\"date\"),\n// ALIASES\nJ(\"date\",\"D\"),\n// PRIOROITY\nM(\"date\",9),\n// PARSING\nZ(\"D\",Od),Z(\"DD\",Od,Kd),Z(\"Do\",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),ba([\"D\",\"DD\"],ce),ba(\"Do\",function(a,b){b[ce]=u(a.match(Od)[0],10)});\n// MOMENTS\nvar Se=O(\"Date\",!0);\n// FORMATTING\nU(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),\n// ALIASES\nJ(\"dayOfYear\",\"DDD\"),\n// PRIORITY\nM(\"dayOfYear\",4),\n// PARSING\nZ(\"DDD\",Rd),Z(\"DDDD\",Ld),ba([\"DDD\",\"DDDD\"],function(a,b,c){c._dayOfYear=u(a)}),\n// FORMATTING\nU(\"m\",[\"mm\",2],0,\"minute\"),\n// ALIASES\nJ(\"minute\",\"m\"),\n// PRIORITY\nM(\"minute\",14),\n// PARSING\nZ(\"m\",Od),Z(\"mm\",Od,Kd),ba([\"m\",\"mm\"],ee);\n// MOMENTS\nvar Te=O(\"Minutes\",!1);\n// FORMATTING\nU(\"s\",[\"ss\",2],0,\"second\"),\n// ALIASES\nJ(\"second\",\"s\"),\n// PRIORITY\nM(\"second\",15),\n// PARSING\nZ(\"s\",Od),Z(\"ss\",Od,Kd),ba([\"s\",\"ss\"],fe);\n// MOMENTS\nvar Ue=O(\"Seconds\",!1);\n// FORMATTING\nU(\"S\",0,0,function(){return~~(this.millisecond()/100)}),U(0,[\"SS\",2],0,function(){return~~(this.millisecond()/10)}),U(0,[\"SSS\",3],0,\"millisecond\"),U(0,[\"SSSS\",4],0,function(){return 10*this.millisecond()}),U(0,[\"SSSSS\",5],0,function(){return 100*this.millisecond()}),U(0,[\"SSSSSS\",6],0,function(){return 1e3*this.millisecond()}),U(0,[\"SSSSSSS\",7],0,function(){return 1e4*this.millisecond()}),U(0,[\"SSSSSSSS\",8],0,function(){return 1e5*this.millisecond()}),U(0,[\"SSSSSSSSS\",9],0,function(){return 1e6*this.millisecond()}),\n// ALIASES\nJ(\"millisecond\",\"ms\"),\n// PRIORITY\nM(\"millisecond\",16),\n// PARSING\nZ(\"S\",Rd,Jd),Z(\"SS\",Rd,Kd),Z(\"SSS\",Rd,Ld);var Ve;for(Ve=\"SSSS\";Ve.length<=9;Ve+=\"S\")Z(Ve,Ud);for(Ve=\"S\";Ve.length<=9;Ve+=\"S\")ba(Ve,Ic);\n// MOMENTS\nvar We=O(\"Milliseconds\",!1);\n// FORMATTING\nU(\"z\",0,0,\"zoneAbbr\"),U(\"zz\",0,0,\"zoneName\");var Xe=r.prototype;Xe.add=Pe,Xe.calendar=Vb,Xe.clone=Wb,Xe.diff=bc,Xe.endOf=oc,Xe.format=gc,Xe.from=hc,Xe.fromNow=ic,Xe.to=jc,Xe.toNow=kc,Xe.get=R,Xe.invalidAt=xc,Xe.isAfter=Xb,Xe.isBefore=Yb,Xe.isBetween=Zb,Xe.isSame=$b,Xe.isSameOrAfter=_b,Xe.isSameOrBefore=ac,Xe.isValid=vc,Xe.lang=Re,Xe.locale=lc,Xe.localeData=mc,Xe.max=Ke,Xe.min=Je,Xe.parsingFlags=wc,Xe.set=S,Xe.startOf=nc,Xe.subtract=Qe,Xe.toArray=sc,Xe.toObject=tc,Xe.toDate=rc,Xe.toISOString=ec,Xe.inspect=fc,Xe.toJSON=uc,Xe.toString=dc,Xe.unix=qc,Xe.valueOf=pc,Xe.creationData=yc,\n// Year\nXe.year=pe,Xe.isLeapYear=ra,\n// Week Year\nXe.weekYear=Ac,Xe.isoWeekYear=Bc,\n// Quarter\nXe.quarter=Xe.quarters=Gc,\n// Month\nXe.month=ka,Xe.daysInMonth=la,\n// Week\nXe.week=Xe.weeks=Ba,Xe.isoWeek=Xe.isoWeeks=Ca,Xe.weeksInYear=Dc,Xe.isoWeeksInYear=Cc,\n// Day\nXe.date=Se,Xe.day=Xe.days=Ka,Xe.weekday=La,Xe.isoWeekday=Ma,Xe.dayOfYear=Hc,\n// Hour\nXe.hour=Xe.hours=ze,\n// Minute\nXe.minute=Xe.minutes=Te,\n// Second\nXe.second=Xe.seconds=Ue,\n// Millisecond\nXe.millisecond=Xe.milliseconds=We,\n// Offset\nXe.utcOffset=Db,Xe.utc=Fb,Xe.local=Gb,Xe.parseZone=Hb,Xe.hasAlignedHourOffset=Ib,Xe.isDST=Jb,Xe.isLocal=Lb,Xe.isUtcOffset=Mb,Xe.isUtc=Nb,Xe.isUTC=Nb,\n// Timezone\nXe.zoneAbbr=Jc,Xe.zoneName=Kc,\n// Deprecations\nXe.dates=x(\"dates accessor is deprecated. Use date instead.\",Se),Xe.months=x(\"months accessor is deprecated. Use month instead\",ka),Xe.years=x(\"years accessor is deprecated. Use year instead\",pe),Xe.zone=x(\"moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/\",Eb),Xe.isDSTShifted=x(\"isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information\",Kb);var Ye=C.prototype;Ye.calendar=D,Ye.longDateFormat=E,Ye.invalidDate=F,Ye.ordinal=G,Ye.preparse=Nc,Ye.postformat=Nc,Ye.relativeTime=H,Ye.pastFuture=I,Ye.set=A,\n// Month\nYe.months=fa,Ye.monthsShort=ga,Ye.monthsParse=ia,Ye.monthsRegex=na,Ye.monthsShortRegex=ma,\n// Week\nYe.week=ya,Ye.firstDayOfYear=Aa,Ye.firstDayOfWeek=za,\n// Day of Week\nYe.weekdays=Fa,Ye.weekdaysMin=Ha,Ye.weekdaysShort=Ga,Ye.weekdaysParse=Ja,Ye.weekdaysRegex=Na,Ye.weekdaysShortRegex=Oa,Ye.weekdaysMinRegex=Pa,\n// Hours\nYe.isPM=Va,Ye.meridiem=Wa,$a(\"en\",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),\n// Side effect imports\na.lang=x(\"moment.lang is deprecated. Use moment.locale instead.\",$a),a.langData=x(\"moment.langData is deprecated. Use moment.localeData instead.\",bb);var Ze=Math.abs,$e=ed(\"ms\"),_e=ed(\"s\"),af=ed(\"m\"),bf=ed(\"h\"),cf=ed(\"d\"),df=ed(\"w\"),ef=ed(\"M\"),ff=ed(\"y\"),gf=gd(\"milliseconds\"),hf=gd(\"seconds\"),jf=gd(\"minutes\"),kf=gd(\"hours\"),lf=gd(\"days\"),mf=gd(\"months\"),nf=gd(\"years\"),of=Math.round,pf={s:45,// seconds to minute\nm:45,// minutes to hour\nh:22,// hours to day\nd:26,// days to month\nM:11},qf=Math.abs,rf=wb.prototype;\n// Deprecations\n// Side effect imports\n// FORMATTING\n// PARSING\n// Side effect imports\nreturn rf.abs=Wc,rf.add=Yc,rf.subtract=Zc,rf.as=cd,rf.asMilliseconds=$e,rf.asSeconds=_e,rf.asMinutes=af,rf.asHours=bf,rf.asDays=cf,rf.asWeeks=df,rf.asMonths=ef,rf.asYears=ff,rf.valueOf=dd,rf._bubble=_c,rf.get=fd,rf.milliseconds=gf,rf.seconds=hf,rf.minutes=jf,rf.hours=kf,rf.days=lf,rf.weeks=hd,rf.months=mf,rf.years=nf,rf.humanize=md,rf.toISOString=nd,rf.toString=nd,rf.toJSON=nd,rf.locale=lc,rf.localeData=mc,rf.toIsoString=x(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",nd),rf.lang=Re,U(\"X\",0,0,\"unix\"),U(\"x\",0,0,\"valueOf\"),Z(\"x\",Vd),Z(\"X\",Yd),ba(\"X\",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba(\"x\",function(a,b,c){c._d=new Date(u(a))}),a.version=\"2.17.1\",b(sb),a.fn=Xe,a.min=ub,a.max=vb,a.now=Le,a.utc=k,a.unix=Lc,a.months=Rc,a.isDate=g,a.locale=$a,a.invalid=o,a.duration=Ob,a.isMoment=s,a.weekdays=Tc,a.parseZone=Mc,a.localeData=bb,a.isDuration=xb,a.monthsShort=Sc,a.weekdaysMin=Vc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Uc,a.normalizeUnits=K,a.relativeTimeRounding=kd,a.relativeTimeThreshold=ld,a.calendarFormat=Ub,a.prototype=Xe,a});","MutationObserver.js":"/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(global) {\n\n  var registrationsTable = new WeakMap();\n\n  var setImmediate;\n\n  // As much as we would like to use the native implementation, IE\n  // (all versions) suffers a rather annoying bug where it will drop or defer\n  // callbacks when heavy DOM operations are being performed concurrently.\n  //\n  // For a thorough discussion on this, see:\n  // http://codeforhire.com/2013/09/21/setimmediate-and-messagechannel-broken-on-internet-explorer-10/\n  if (/Trident|Edge/.test(navigator.userAgent)) {\n    // Sadly, this bug also affects postMessage and MessageQueues.\n    //\n    // We would like to use the onreadystatechange hack for IE <= 10, but it is\n    // dangerous in the polyfilled environment due to requiring that the\n    // observed script element be in the document.\n    setImmediate = setTimeout;\n\n  // If some other browser ever implements it, let's prefer their native\n  // implementation:\n  } else if (window.setImmediate) {\n    setImmediate = window.setImmediate;\n\n  // Otherwise, we fall back to postMessage as a means of emulating the next\n  // task semantics of setImmediate.\n  } else {\n    var setImmediateQueue = [];\n    var sentinel = String(Math.random());\n    window.addEventListener('message', function(e) {\n      if (e.data === sentinel) {\n        var queue = setImmediateQueue;\n        setImmediateQueue = [];\n        queue.forEach(function(func) {\n          func();\n        });\n      }\n    });\n    setImmediate = function(func) {\n      setImmediateQueue.push(func);\n      window.postMessage(sentinel, '*');\n    };\n  }\n\n  // This is used to ensure that we never schedule 2 callas to setImmediate\n  var isScheduled = false;\n\n  // Keep track of observers that needs to be notified next time.\n  var scheduledObservers = [];\n\n  /**\n   * Schedules |dispatchCallback| to be called in the future.\n   * @param {MutationObserver} observer\n   */\n  function scheduleCallback(observer) {\n    scheduledObservers.push(observer);\n    if (!isScheduled) {\n      isScheduled = true;\n      setImmediate(dispatchCallbacks);\n    }\n  }\n\n  function wrapIfNeeded(node) {\n    return window.ShadowDOMPolyfill &&\n        window.ShadowDOMPolyfill.wrapIfNeeded(node) ||\n        node;\n  }\n\n  function dispatchCallbacks() {\n    // http://dom.spec.whatwg.org/#mutation-observers\n\n    isScheduled = false; // Used to allow a new setImmediate call above.\n\n    var observers = scheduledObservers;\n    scheduledObservers = [];\n    // Sort observers based on their creation UID (incremental).\n    observers.sort(function(o1, o2) {\n      return o1.uid_ - o2.uid_;\n    });\n\n    var anyNonEmpty = false;\n    observers.forEach(function(observer) {\n\n      // 2.1, 2.2\n      var queue = observer.takeRecords();\n      // 2.3. Remove all transient registered observers whose observer is mo.\n      removeTransientObserversFor(observer);\n\n      // 2.4\n      if (queue.length) {\n        observer.callback_(queue, observer);\n        anyNonEmpty = true;\n      }\n    });\n\n    // 3.\n    if (anyNonEmpty)\n      dispatchCallbacks();\n  }\n\n  function removeTransientObserversFor(observer) {\n    observer.nodes_.forEach(function(node) {\n      var registrations = registrationsTable.get(node);\n      if (!registrations)\n        return;\n      registrations.forEach(function(registration) {\n        if (registration.observer === observer)\n          registration.removeTransientObservers();\n      });\n    });\n  }\n\n  /**\n   * This function is used for the \"For each registered observer observer (with\n   * observer's options as options) in target's list of registered observers,\n   * run these substeps:\" and the \"For each ancestor ancestor of target, and for\n   * each registered observer observer (with options options) in ancestor's list\n   * of registered observers, run these substeps:\" part of the algorithms. The\n   * |options.subtree| is checked to ensure that the callback is called\n   * correctly.\n   *\n   * @param {Node} target\n   * @param {function(MutationObserverInit):MutationRecord} callback\n   */\n  function forEachAncestorAndObserverEnqueueRecord(target, callback) {\n    for (var node = target; node; node = node.parentNode) {\n      var registrations = registrationsTable.get(node);\n\n      if (registrations) {\n        for (var j = 0; j < registrations.length; j++) {\n          var registration = registrations[j];\n          var options = registration.options;\n\n          // Only target ignores subtree.\n          if (node !== target && !options.subtree)\n            continue;\n\n          var record = callback(options);\n          if (record)\n            registration.enqueue(record);\n        }\n      }\n    }\n  }\n\n  var uidCounter = 0;\n\n  /**\n   * The class that maps to the DOM MutationObserver interface.\n   * @param {Function} callback.\n   * @constructor\n   */\n  function JsMutationObserver(callback) {\n    this.callback_ = callback;\n    this.nodes_ = [];\n    this.records_ = [];\n    this.uid_ = ++uidCounter;\n  }\n\n  JsMutationObserver.prototype = {\n    observe: function(target, options) {\n      target = wrapIfNeeded(target);\n\n      // 1.1\n      if (!options.childList && !options.attributes && !options.characterData ||\n\n          // 1.2\n          options.attributeOldValue && !options.attributes ||\n\n          // 1.3\n          options.attributeFilter && options.attributeFilter.length &&\n              !options.attributes ||\n\n          // 1.4\n          options.characterDataOldValue && !options.characterData) {\n\n        throw new SyntaxError();\n      }\n\n      var registrations = registrationsTable.get(target);\n      if (!registrations)\n        registrationsTable.set(target, registrations = []);\n\n      // 2\n      // If target's list of registered observers already includes a registered\n      // observer associated with the context object, replace that registered\n      // observer's options with options.\n      var registration;\n      for (var i = 0; i < registrations.length; i++) {\n        if (registrations[i].observer === this) {\n          registration = registrations[i];\n          registration.removeListeners();\n          registration.options = options;\n          break;\n        }\n      }\n\n      // 3.\n      // Otherwise, add a new registered observer to target's list of registered\n      // observers with the context object as the observer and options as the\n      // options, and add target to context object's list of nodes on which it\n      // is registered.\n      if (!registration) {\n        registration = new Registration(this, target, options);\n        registrations.push(registration);\n        this.nodes_.push(target);\n      }\n\n      registration.addListeners();\n    },\n\n    disconnect: function() {\n      this.nodes_.forEach(function(node) {\n        var registrations = registrationsTable.get(node);\n        for (var i = 0; i < registrations.length; i++) {\n          var registration = registrations[i];\n          if (registration.observer === this) {\n            registration.removeListeners();\n            registrations.splice(i, 1);\n            // Each node can only have one registered observer associated with\n            // this observer.\n            break;\n          }\n        }\n      }, this);\n      this.records_ = [];\n    },\n\n    takeRecords: function() {\n      var copyOfRecords = this.records_;\n      this.records_ = [];\n      return copyOfRecords;\n    }\n  };\n\n  /**\n   * @param {string} type\n   * @param {Node} target\n   * @constructor\n   */\n  function MutationRecord(type, target) {\n    this.type = type;\n    this.target = target;\n    this.addedNodes = [];\n    this.removedNodes = [];\n    this.previousSibling = null;\n    this.nextSibling = null;\n    this.attributeName = null;\n    this.attributeNamespace = null;\n    this.oldValue = null;\n  }\n\n  function copyMutationRecord(original) {\n    var record = new MutationRecord(original.type, original.target);\n    record.addedNodes = original.addedNodes.slice();\n    record.removedNodes = original.removedNodes.slice();\n    record.previousSibling = original.previousSibling;\n    record.nextSibling = original.nextSibling;\n    record.attributeName = original.attributeName;\n    record.attributeNamespace = original.attributeNamespace;\n    record.oldValue = original.oldValue;\n    return record;\n  };\n\n  // We keep track of the two (possibly one) records used in a single mutation.\n  var currentRecord, recordWithOldValue;\n\n  /**\n   * Creates a record without |oldValue| and caches it as |currentRecord| for\n   * later use.\n   * @param {string} oldValue\n   * @return {MutationRecord}\n   */\n  function getRecord(type, target) {\n    return currentRecord = new MutationRecord(type, target);\n  }\n\n  /**\n   * Gets or creates a record with |oldValue| based in the |currentRecord|\n   * @param {string} oldValue\n   * @return {MutationRecord}\n   */\n  function getRecordWithOldValue(oldValue) {\n    if (recordWithOldValue)\n      return recordWithOldValue;\n    recordWithOldValue = copyMutationRecord(currentRecord);\n    recordWithOldValue.oldValue = oldValue;\n    return recordWithOldValue;\n  }\n\n  function clearRecords() {\n    currentRecord = recordWithOldValue = undefined;\n  }\n\n  /**\n   * @param {MutationRecord} record\n   * @return {boolean} Whether the record represents a record from the current\n   * mutation event.\n   */\n  function recordRepresentsCurrentMutation(record) {\n    return record === recordWithOldValue || record === currentRecord;\n  }\n\n  /**\n   * Selects which record, if any, to replace the last record in the queue.\n   * This returns |null| if no record should be replaced.\n   *\n   * @param {MutationRecord} lastRecord\n   * @param {MutationRecord} newRecord\n   * @param {MutationRecord}\n   */\n  function selectRecord(lastRecord, newRecord) {\n    if (lastRecord === newRecord)\n      return lastRecord;\n\n    // Check if the the record we are adding represents the same record. If\n    // so, we keep the one with the oldValue in it.\n    if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord))\n      return recordWithOldValue;\n\n    return null;\n  }\n\n  /**\n   * Class used to represent a registered observer.\n   * @param {MutationObserver} observer\n   * @param {Node} target\n   * @param {MutationObserverInit} options\n   * @constructor\n   */\n  function Registration(observer, target, options) {\n    this.observer = observer;\n    this.target = target;\n    this.options = options;\n    this.transientObservedNodes = [];\n  }\n\n  Registration.prototype = {\n    enqueue: function(record) {\n      var records = this.observer.records_;\n      var length = records.length;\n\n      // There are cases where we replace the last record with the new record.\n      // For example if the record represents the same mutation we need to use\n      // the one with the oldValue. If we get same record (this can happen as we\n      // walk up the tree) we ignore the new record.\n      if (records.length > 0) {\n        var lastRecord = records[length - 1];\n        var recordToReplaceLast = selectRecord(lastRecord, record);\n        if (recordToReplaceLast) {\n          records[length - 1] = recordToReplaceLast;\n          return;\n        }\n      } else {\n        scheduleCallback(this.observer);\n      }\n\n      records[length] = record;\n    },\n\n    addListeners: function() {\n      this.addListeners_(this.target);\n    },\n\n    addListeners_: function(node) {\n      var options = this.options;\n      if (options.attributes)\n        node.addEventListener('DOMAttrModified', this, true);\n\n      if (options.characterData)\n        node.addEventListener('DOMCharacterDataModified', this, true);\n\n      if (options.childList)\n        node.addEventListener('DOMNodeInserted', this, true);\n\n      if (options.childList || options.subtree)\n        node.addEventListener('DOMNodeRemoved', this, true);\n    },\n\n    removeListeners: function() {\n      this.removeListeners_(this.target);\n    },\n\n    removeListeners_: function(node) {\n      var options = this.options;\n      if (options.attributes)\n        node.removeEventListener('DOMAttrModified', this, true);\n\n      if (options.characterData)\n        node.removeEventListener('DOMCharacterDataModified', this, true);\n\n      if (options.childList)\n        node.removeEventListener('DOMNodeInserted', this, true);\n\n      if (options.childList || options.subtree)\n        node.removeEventListener('DOMNodeRemoved', this, true);\n    },\n\n    /**\n     * Adds a transient observer on node. The transient observer gets removed\n     * next time we deliver the change records.\n     * @param {Node} node\n     */\n    addTransientObserver: function(node) {\n      // Don't add transient observers on the target itself. We already have all\n      // the required listeners set up on the target.\n      if (node === this.target)\n        return;\n\n      this.addListeners_(node);\n      this.transientObservedNodes.push(node);\n      var registrations = registrationsTable.get(node);\n      if (!registrations)\n        registrationsTable.set(node, registrations = []);\n\n      // We know that registrations does not contain this because we already\n      // checked if node === this.target.\n      registrations.push(this);\n    },\n\n    removeTransientObservers: function() {\n      var transientObservedNodes = this.transientObservedNodes;\n      this.transientObservedNodes = [];\n\n      transientObservedNodes.forEach(function(node) {\n        // Transient observers are never added to the target.\n        this.removeListeners_(node);\n\n        var registrations = registrationsTable.get(node);\n        for (var i = 0; i < registrations.length; i++) {\n          if (registrations[i] === this) {\n            registrations.splice(i, 1);\n            // Each node can only have one registered observer associated with\n            // this observer.\n            break;\n          }\n        }\n      }, this);\n    },\n\n    handleEvent: function(e) {\n      // Stop propagation since we are managing the propagation manually.\n      // This means that other mutation events on the page will not work\n      // correctly but that is by design.\n      e.stopImmediatePropagation();\n\n      switch (e.type) {\n        case 'DOMAttrModified':\n          // http://dom.spec.whatwg.org/#concept-mo-queue-attributes\n\n          var name = e.attrName;\n          var namespace = e.relatedNode.namespaceURI;\n          var target = e.target;\n\n          // 1.\n          var record = new getRecord('attributes', target);\n          record.attributeName = name;\n          record.attributeNamespace = namespace;\n\n          // 2.\n          var oldValue =\n              e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;\n\n          forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n            // 3.1, 4.2\n            if (!options.attributes)\n              return;\n\n            // 3.2, 4.3\n            if (options.attributeFilter && options.attributeFilter.length &&\n                options.attributeFilter.indexOf(name) === -1 &&\n                options.attributeFilter.indexOf(namespace) === -1) {\n              return;\n            }\n            // 3.3, 4.4\n            if (options.attributeOldValue)\n              return getRecordWithOldValue(oldValue);\n\n            // 3.4, 4.5\n            return record;\n          });\n\n          break;\n\n        case 'DOMCharacterDataModified':\n          // http://dom.spec.whatwg.org/#concept-mo-queue-characterdata\n          var target = e.target;\n\n          // 1.\n          var record = getRecord('characterData', target);\n\n          // 2.\n          var oldValue = e.prevValue;\n\n\n          forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n            // 3.1, 4.2\n            if (!options.characterData)\n              return;\n\n            // 3.2, 4.3\n            if (options.characterDataOldValue)\n              return getRecordWithOldValue(oldValue);\n\n            // 3.3, 4.4\n            return record;\n          });\n\n          break;\n\n        case 'DOMNodeRemoved':\n          this.addTransientObserver(e.target);\n          // Fall through.\n        case 'DOMNodeInserted':\n          // http://dom.spec.whatwg.org/#concept-mo-queue-childlist\n          var changedNode = e.target;\n          var addedNodes, removedNodes;\n          if (e.type === 'DOMNodeInserted') {\n            addedNodes = [changedNode];\n            removedNodes = [];\n          } else {\n\n            addedNodes = [];\n            removedNodes = [changedNode];\n          }\n          var previousSibling = changedNode.previousSibling;\n          var nextSibling = changedNode.nextSibling;\n\n          // 1.\n          var record = getRecord('childList', e.target.parentNode);\n          record.addedNodes = addedNodes;\n          record.removedNodes = removedNodes;\n          record.previousSibling = previousSibling;\n          record.nextSibling = nextSibling;\n\n          forEachAncestorAndObserverEnqueueRecord(e.relatedNode, function(options) {\n            // 2.1, 3.2\n            if (!options.childList)\n              return;\n\n            // 2.2, 3.3\n            return record;\n          });\n\n      }\n\n      clearRecords();\n    }\n  };\n\n  global.JsMutationObserver = JsMutationObserver;\n\n  if (!global.MutationObserver)\n    global.MutationObserver = JsMutationObserver;\n\n\n})(this);","underscore.js":"//     Underscore.js 1.8.2\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.2';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result \u00e2\u0080\u0094 either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var isArrayLike = function(collection) {\n    var length = collection && collection.length;\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, target, fromIndex) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    return _.indexOf(obj, target, typeof fromIndex == 'number' && fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher\u00e2\u0080\u0093Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = input && input.length; i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (array == null) return [];\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = array.length; i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    if (array == null) return [];\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = array.length; i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, 'length').length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = list && list.length; i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    var i = 0, length = array && array.length;\n    if (typeof isSorted == 'number') {\n      i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;\n    } else if (isSorted && length) {\n      i = _.sortedIndex(array, item);\n      return array[i] === item ? i : -1;\n    }\n    if (item !== item) {\n      return _.findIndex(slice.call(array, i), _.isNaN);\n    }\n    for (; i < length; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  _.lastIndexOf = function(array, item, from) {\n    var idx = array ? array.length : 0;\n    if (typeof from == 'number') {\n      idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);\n    }\n    if (item !== item) {\n      return _.findLastIndex(slice.call(array, 0, idx), _.isNaN);\n    }\n    while (--idx >= 0) if (array[idx] === item) return idx;\n    return -1;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = array != null && array.length;\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createIndexFinder(1);\n\n  _.findLastIndex = createIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    \n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of \n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n  \n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));","fotorama/fotorama.js":"/*!\n * Fotorama 4.6.4 | http://fotorama.io/license/\n */\nfotoramaVersion = '4.6.4';\n(function (window, document, location, $, undefined) {\n    \"use strict\";\n    var _fotoramaClass = 'fotorama',\n        _fullscreenClass = 'fotorama__fullscreen',\n\n        wrapClass = _fotoramaClass + '__wrap',\n        wrapCss2Class = wrapClass + '--css2',\n        wrapCss3Class = wrapClass + '--css3',\n        wrapVideoClass = wrapClass + '--video',\n        wrapFadeClass = wrapClass + '--fade',\n        wrapSlideClass = wrapClass + '--slide',\n        wrapNoControlsClass = wrapClass + '--no-controls',\n        wrapNoShadowsClass = wrapClass + '--no-shadows',\n        wrapPanYClass = wrapClass + '--pan-y',\n        wrapRtlClass = wrapClass + '--rtl',\n        wrapOnlyActiveClass = wrapClass + '--only-active',\n        wrapNoCaptionsClass = wrapClass + '--no-captions',\n        wrapToggleArrowsClass = wrapClass + '--toggle-arrows',\n\n        stageClass = _fotoramaClass + '__stage',\n        stageFrameClass = stageClass + '__frame',\n        stageFrameVideoClass = stageFrameClass + '--video',\n        stageShaftClass = stageClass + '__shaft',\n\n        grabClass = _fotoramaClass + '__grab',\n        pointerClass = _fotoramaClass + '__pointer',\n\n        arrClass = _fotoramaClass + '__arr',\n        arrDisabledClass = arrClass + '--disabled',\n        arrPrevClass = arrClass + '--prev',\n        arrNextClass = arrClass + '--next',\n\n        navClass = _fotoramaClass + '__nav',\n        navWrapClass = navClass + '-wrap',\n        navShaftClass = navClass + '__shaft',\n        navShaftVerticalClass = navWrapClass + '--vertical',\n        navShaftListClass = navWrapClass + '--list',\n        navShafthorizontalClass = navWrapClass + '--horizontal',\n        navDotsClass = navClass + '--dots',\n        navThumbsClass = navClass + '--thumbs',\n        navFrameClass = navClass + '__frame',\n\n        fadeClass = _fotoramaClass + '__fade',\n        fadeFrontClass = fadeClass + '-front',\n        fadeRearClass = fadeClass + '-rear',\n\n        shadowClass = _fotoramaClass + '__shadow',\n        shadowsClass = shadowClass + 's',\n        shadowsLeftClass = shadowsClass + '--left',\n        shadowsRightClass = shadowsClass + '--right',\n        shadowsTopClass = shadowsClass + '--top',\n        shadowsBottomClass = shadowsClass + '--bottom',\n\n        activeClass = _fotoramaClass + '__active',\n        selectClass = _fotoramaClass + '__select',\n\n        hiddenClass = _fotoramaClass + '--hidden',\n\n        fullscreenClass = _fotoramaClass + '--fullscreen',\n        fullscreenIconClass = _fotoramaClass + '__fullscreen-icon',\n\n        errorClass = _fotoramaClass + '__error',\n        loadingClass = _fotoramaClass + '__loading',\n        loadedClass = _fotoramaClass + '__loaded',\n        loadedFullClass = loadedClass + '--full',\n        loadedImgClass = loadedClass + '--img',\n\n        grabbingClass = _fotoramaClass + '__grabbing',\n\n        imgClass = _fotoramaClass + '__img',\n        imgFullClass = imgClass + '--full',\n\n        thumbClass = _fotoramaClass + '__thumb',\n        thumbArrLeft = thumbClass + '__arr--left',\n        thumbArrRight = thumbClass + '__arr--right',\n        thumbBorderClass = thumbClass + '-border',\n\n        htmlClass = _fotoramaClass + '__html',\n\n        videoContainerClass = _fotoramaClass + '-video-container',\n        videoClass = _fotoramaClass + '__video',\n        videoPlayClass = videoClass + '-play',\n        videoCloseClass = videoClass + '-close',\n\n\n        horizontalImageClass = _fotoramaClass + '_horizontal_ratio',\n        verticalImageClass = _fotoramaClass + '_vertical_ratio',\n        fotoramaSpinnerClass = _fotoramaClass + '__spinner',\n        spinnerShowClass = fotoramaSpinnerClass + '--show';\n    var JQUERY_VERSION = $ && $.fn.jquery.split('.');\n\n    if (!JQUERY_VERSION\n        || JQUERY_VERSION[0] < 1\n        || (JQUERY_VERSION[0] == 1 && JQUERY_VERSION[1] < 8)) {\n        throw 'Fotorama requires jQuery 1.8 or later and will not run without it.';\n    }\n\n    var _ = {};\n    /* Modernizr 2.8.3 (Custom Build) | MIT & BSD\n     * Build: http://modernizr.com/download/#-csstransforms3d-csstransitions-touch-prefixed\n     */\n\n    var Modernizr = (function (window, document, undefined) {\n        var version = '2.8.3',\n            Modernizr = {},\n\n\n            docElement = document.documentElement,\n\n            mod = 'modernizr',\n            modElem = document.createElement(mod),\n            mStyle = modElem.style,\n            inputElem,\n\n\n            toString = {}.toString,\n\n            prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\n\n\n            omPrefixes = 'Webkit Moz O ms',\n\n            cssomPrefixes = omPrefixes.split(' '),\n\n            domPrefixes = omPrefixes.toLowerCase().split(' '),\n\n\n            tests = {},\n            inputs = {},\n            attrs = {},\n\n            classes = [],\n\n            slice = classes.slice,\n\n            featureName,\n\n\n            injectElementWithStyles = function (rule, callback, nodes, testnames) {\n\n                var style, ret, node, docOverflow,\n                    div = document.createElement('div'),\n                    body = document.body,\n                    fakeBody = body || document.createElement('body');\n\n                if (parseInt(nodes, 10)) {\n                    while (nodes--) {\n                        node = document.createElement('div');\n                        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n                        div.appendChild(node);\n                    }\n                }\n\n                style = ['&#173;', '<style id=\"s', mod, '\">', rule, '</style>'].join('');\n                div.id = mod;\n                (body ? div : fakeBody).innerHTML += style;\n                fakeBody.appendChild(div);\n                if (!body) {\n                    fakeBody.style.background = '';\n                    fakeBody.style.overflow = 'hidden';\n                    docOverflow = docElement.style.overflow;\n                    docElement.style.overflow = 'hidden';\n                    docElement.appendChild(fakeBody);\n                }\n\n                ret = callback(div, rule);\n                if (!body) {\n                    fakeBody.parentNode.removeChild(fakeBody);\n                    docElement.style.overflow = docOverflow;\n                } else {\n                    div.parentNode.removeChild(div);\n                }\n\n                return !!ret;\n\n            },\n            _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\n\n        if (!is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined')) {\n            hasOwnProp = function (object, property) {\n                return _hasOwnProperty.call(object, property);\n            };\n        }\n        else {\n            hasOwnProp = function (object, property) {\n                return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n            };\n        }\n\n\n        if (!Function.prototype.bind) {\n            Function.prototype.bind = function bind(that) {\n\n                var target = this;\n\n                if (typeof target != \"function\") {\n                    throw new TypeError();\n                }\n\n                var args = slice.call(arguments, 1),\n                    bound = function () {\n\n                        if (this instanceof bound) {\n\n                            var F = function () {\n                            };\n                            F.prototype = target.prototype;\n                            var self = new F();\n\n                            var result = target.apply(\n                                self,\n                                args.concat(slice.call(arguments))\n                            );\n                            if (Object(result) === result) {\n                                return result;\n                            }\n                            return self;\n\n                        } else {\n\n                            return target.apply(\n                                that,\n                                args.concat(slice.call(arguments))\n                            );\n\n                        }\n\n                    };\n\n                return bound;\n            };\n        }\n\n        function setCss(str) {\n            mStyle.cssText = str;\n        }\n\n        function setCssAll(str1, str2) {\n            return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\n        }\n\n        function is(obj, type) {\n            return typeof obj === type;\n        }\n\n        function contains(str, substr) {\n            return !!~('' + str).indexOf(substr);\n        }\n\n        function testProps(props, prefixed) {\n            for (var i in props) {\n                var prop = props[i];\n                if (!contains(prop, \"-\") && mStyle[prop] !== undefined) {\n                    return prefixed == 'pfx' ? prop : true;\n                }\n            }\n            return false;\n        }\n\n        function testDOMProps(props, obj, elem) {\n            for (var i in props) {\n                var item = obj[props[i]];\n                if (item !== undefined) {\n\n                    if (elem === false) return props[i];\n\n                    if (is(item, 'function')) {\n                        return item.bind(elem || obj);\n                    }\n\n                    return item;\n                }\n            }\n            return false;\n        }\n\n        function testPropsAll(prop, prefixed, elem) {\n\n            var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n                props = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n            if (is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\n                return testProps(props, prefixed);\n\n            } else {\n                props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n                return testDOMProps(props, prefixed, elem);\n            }\n        }\n\n        tests['touch'] = function () {\n            var bool;\n\n            if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n                bool = true;\n            } else {\n                injectElementWithStyles(['@media (', prefixes.join('touch-enabled),('), mod, ')', '{#modernizr{top:9px;position:absolute}}'].join(''), function (node) {\n                    bool = node.offsetTop === 9;\n                });\n            }\n\n            return bool;\n        };\n        tests['csstransforms3d'] = function () {\n\n            var ret = !!testPropsAll('perspective');\n\n            if (ret && 'webkitPerspective' in docElement.style) {\n\n                injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}', function (node, rule) {\n                    ret = node.offsetLeft === 9 && node.offsetHeight === 3;\n                });\n            }\n            return ret;\n        };\n\n\n        tests['csstransitions'] = function () {\n            return testPropsAll('transition');\n        };\n\n\n        for (var feature in tests) {\n            if (hasOwnProp(tests, feature)) {\n                featureName = feature.toLowerCase();\n                Modernizr[featureName] = tests[feature]();\n\n                classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\n            }\n        }\n\n\n        Modernizr.addTest = function (feature, test) {\n            if (typeof feature == 'object') {\n                for (var key in feature) {\n                    if (hasOwnProp(feature, key)) {\n                        Modernizr.addTest(key, feature[key]);\n                    }\n                }\n            } else {\n\n                feature = feature.toLowerCase();\n\n                if (Modernizr[feature] !== undefined) {\n                    return Modernizr;\n                }\n\n                test = typeof test == 'function' ? test() : test;\n\n                if (typeof enableClasses !== \"undefined\" && enableClasses) {\n                    docElement.className += ' ' + (test ? '' : 'no-') + feature;\n                }\n                Modernizr[feature] = test;\n\n            }\n\n            return Modernizr;\n        };\n\n\n        setCss('');\n        modElem = inputElem = null;\n\n\n        Modernizr._version = version;\n\n        Modernizr._prefixes = prefixes;\n        Modernizr._domPrefixes = domPrefixes;\n        Modernizr._cssomPrefixes = cssomPrefixes;\n\n\n        Modernizr.testProp = function (prop) {\n            return testProps([prop]);\n        };\n\n        Modernizr.testAllProps = testPropsAll;\n        Modernizr.testStyles = injectElementWithStyles;\n        Modernizr.prefixed = function (prop, obj, elem) {\n            if (!obj) {\n                return testPropsAll(prop, 'pfx');\n            } else {\n                return testPropsAll(prop, obj, elem);\n            }\n        };\n        return Modernizr;\n    })(window, document);\n\n    var fullScreenApi = {\n            ok: false,\n            is: function () {\n                return false;\n            },\n            request: function () {\n            },\n            cancel: function () {\n            },\n            event: '',\n            prefix: ''\n        },\n        browserPrefixes = 'webkit moz o ms khtml'.split(' ');\n\n// check for native support\n    if (typeof document.cancelFullScreen != 'undefined') {\n        fullScreenApi.ok = true;\n    } else {\n        // check for fullscreen support by vendor prefix\n        for (var i = 0, il = browserPrefixes.length; i < il; i++) {\n            fullScreenApi.prefix = browserPrefixes[i];\n            if (typeof document[fullScreenApi.prefix + 'CancelFullScreen'] != 'undefined') {\n                fullScreenApi.ok = true;\n                break;\n            }\n        }\n    }\n\n// update methods to do something useful\n    if (fullScreenApi.ok) {\n        fullScreenApi.event = fullScreenApi.prefix + 'fullscreenchange';\n        fullScreenApi.is = function () {\n            switch (this.prefix) {\n                case '':\n                    return document.fullScreen;\n                case 'webkit':\n                    return document.webkitIsFullScreen;\n                default:\n                    return document[this.prefix + 'FullScreen'];\n            }\n        };\n        fullScreenApi.request = function (el) {\n            return (this.prefix === '') ? el.requestFullScreen() : el[this.prefix + 'RequestFullScreen']();\n        };\n        fullScreenApi.cancel = function (el) {\n            return (this.prefix === '') ? document.cancelFullScreen() : document[this.prefix + 'CancelFullScreen']();\n        };\n    }\n    /* Bez v1.0.10-g5ae0136\n     * http://github.com/rdallasgray/bez\n     *\n     * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions\n     *\n     * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths\n     * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html\n     *\n     * Copyright 2011 Robert Dallas Gray. All rights reserved.\n     * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt\n     */\n    function bez(coOrdArray) {\n        var encodedFuncName = \"bez_\" + $.makeArray(arguments).join(\"_\").replace(\".\", \"p\");\n        if (typeof $['easing'][encodedFuncName] !== \"function\") {\n            var polyBez = function (p1, p2) {\n                var A = [null, null],\n                    B = [null, null],\n                    C = [null, null],\n                    bezCoOrd = function (t, ax) {\n                        C[ax] = 3 * p1[ax];\n                        B[ax] = 3 * (p2[ax] - p1[ax]) - C[ax];\n                        A[ax] = 1 - C[ax] - B[ax];\n                        return t * (C[ax] + t * (B[ax] + t * A[ax]));\n                    },\n                    xDeriv = function (t) {\n                        return C[0] + t * (2 * B[0] + 3 * A[0] * t);\n                    },\n                    xForT = function (t) {\n                        var x = t, i = 0, z;\n                        while (++i < 14) {\n                            z = bezCoOrd(x, 0) - t;\n                            if (Math.abs(z) < 1e-3) break;\n                            x -= z / xDeriv(x);\n                        }\n                        return x;\n                    };\n                return function (t) {\n                    return bezCoOrd(xForT(t), 1);\n                }\n            };\n            $['easing'][encodedFuncName] = function (x, t, b, c, d) {\n                return c * polyBez([coOrdArray[0], coOrdArray[1]], [coOrdArray[2], coOrdArray[3]])(t / d) + b;\n            }\n        }\n        return encodedFuncName;\n    }\n\n    var $WINDOW = $(window),\n        $DOCUMENT = $(document),\n        $HTML,\n        $BODY,\n\n        QUIRKS_FORCE = location.hash.replace('#', '') === 'quirks',\n        TRANSFORMS3D = Modernizr.csstransforms3d,\n        CSS3 = TRANSFORMS3D && !QUIRKS_FORCE,\n        COMPAT = TRANSFORMS3D || document.compatMode === 'CSS1Compat',\n        FULLSCREEN = fullScreenApi.ok,\n\n        MOBILE = navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),\n        SLOW = !CSS3 || MOBILE,\n\n        MS_POINTER = navigator.msPointerEnabled,\n\n        WHEEL = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : document.onmousewheel !== undefined ? \"mousewheel\" : \"DOMMouseScroll\",\n\n        TOUCH_TIMEOUT = 250,\n        TRANSITION_DURATION = 300,\n\n        SCROLL_LOCK_TIMEOUT = 1400,\n\n        AUTOPLAY_INTERVAL = 5000,\n        MARGIN = 2,\n        THUMB_SIZE = 64,\n\n        WIDTH = 500,\n        HEIGHT = 333,\n\n        STAGE_FRAME_KEY = '$stageFrame',\n        NAV_DOT_FRAME_KEY = '$navDotFrame',\n        NAV_THUMB_FRAME_KEY = '$navThumbFrame',\n\n        AUTO = 'auto',\n\n        BEZIER = bez([.1, 0, .25, 1]),\n\n        MAX_WIDTH = 1200,\n\n        /**\n         * Number of thumbnails in slide. Calculated only on setOptions and resize.\n         * @type {number}\n         */\n        thumbsPerSlide = 1,\n\n        OPTIONS = {\n\n            /**\n             * Set width for gallery.\n             * Default value - width of first image\n             * Number - set value in px\n             * String - set value in quotes\n             *\n             */\n            width: null,\n\n            /**\n             * Set min-width for gallery\n             *\n             */\n            minwidth: null,\n\n            /**\n             * Set max-width for gallery\n             *\n             */\n            maxwidth: '100%',\n\n            /**\n             * Set height for gallery\n             * Default value - height of first image\n             * Number - set value in px\n             * String - set value in quotes\n             *\n             */\n            height: null,\n\n            /**\n             * Set min-height for gallery\n             *\n             */\n            minheight: null,\n\n            /**\n             * Set max-height for gallery\n             *\n             */\n            maxheight: null,\n\n            /**\n             * Set proportion ratio for gallery depends of image\n             *\n             */\n            ratio: null, // '16/9' || 500/333 || 1.5\n\n            margin: MARGIN,\n\n            nav: 'dots', // 'thumbs' || false\n            navposition: 'bottom', // 'top'\n            navwidth: null,\n            thumbwidth: THUMB_SIZE,\n            thumbheight: THUMB_SIZE,\n            thumbmargin: MARGIN,\n            thumbborderwidth: MARGIN,\n\n            allowfullscreen: false, // true || 'native'\n\n            transition: 'slide', // 'crossfade' || 'dissolve'\n            clicktransition: null,\n            transitionduration: TRANSITION_DURATION,\n\n            captions: true,\n\n            startindex: 0,\n\n            loop: false,\n\n            autoplay: false,\n            stopautoplayontouch: true,\n\n            keyboard: false,\n\n            arrows: true,\n            click: true,\n            swipe: false,\n            trackpad: false,\n\n            shuffle: false,\n\n            direction: 'ltr', // 'rtl'\n\n            shadows: true,\n\n            showcaption: true,\n\n            /**\n             * Set type of thumbnail navigation\n             */\n            navdir: 'horizontal',\n\n            /**\n             * Set configuration to show or hide arrows in thumb navigation\n             */\n            navarrows: true,\n\n            /**\n             * Set type of navigation. Can be thumbs or slides\n             */\n            navtype: 'thumbs'\n\n        },\n\n        KEYBOARD_OPTIONS = {\n            left: true,\n            right: true,\n            down: true,\n            up: true,\n            space: false,\n            home: false,\n            end: false\n        };\n\n    function noop() {\n    }\n\n    function minMaxLimit(value, min, max) {\n        return Math.max(isNaN(min) ? -Infinity : min, Math.min(isNaN(max) ? Infinity : max, value));\n    }\n\n    function readTransform(css, dir) {\n        return css.match(/ma/) && css.match(/-?\\d+(?!d)/g)[css.match(/3d/) ?\n                (dir === 'vertical' ? 13 : 12) : (dir === 'vertical' ? 5 : 4)\n                ]\n    }\n\n    function readPosition($el, dir) {\n        if (CSS3) {\n            return +readTransform($el.css('transform'), dir);\n        } else {\n            return +$el.css(dir === 'vertical' ? 'top' : 'left').replace('px', '');\n        }\n    }\n\n    function getTranslate(pos, direction) {\n        var obj = {};\n\n        if (CSS3) {\n\n            switch (direction) {\n                case 'vertical':\n                    obj.transform = 'translate3d(0, ' + (pos) + 'px,0)';\n                    break;\n                case 'list':\n                    break;\n                default :\n                    obj.transform = 'translate3d(' + (pos) + 'px,0,0)';\n                    break;\n            }\n        } else {\n            direction === 'vertical' ?\n                obj.top = pos :\n                obj.left = pos;\n        }\n        return obj;\n    }\n\n    function getDuration(time) {\n        return {'transition-duration': time + 'ms'};\n    }\n\n    function unlessNaN(value, alternative) {\n        return isNaN(value) ? alternative : value;\n    }\n\n    function numberFromMeasure(value, measure) {\n        return unlessNaN(+String(value).replace(measure || 'px', ''));\n    }\n\n    function numberFromPercent(value) {\n        return /%$/.test(value) ? numberFromMeasure(value, '%') : undefined;\n    }\n\n    function numberFromWhatever(value, whole) {\n        return unlessNaN(numberFromPercent(value) / 100 * whole, numberFromMeasure(value));\n    }\n\n    function measureIsValid(value) {\n        return (!isNaN(numberFromMeasure(value)) || !isNaN(numberFromMeasure(value, '%'))) && value;\n    }\n\n    function getPosByIndex(index, side, margin, baseIndex) {\n\n        return (index - (baseIndex || 0)) * (side + (margin || 0));\n    }\n\n    function getIndexByPos(pos, side, margin, baseIndex) {\n        return -Math.round(pos / (side + (margin || 0)) - (baseIndex || 0));\n    }\n\n    function bindTransitionEnd($el) {\n        var elData = $el.data();\n\n        if (elData.tEnd) return;\n\n        var el = $el[0],\n            transitionEndEvent = {\n                WebkitTransition: 'webkitTransitionEnd',\n                MozTransition: 'transitionend',\n                OTransition: 'oTransitionEnd otransitionend',\n                msTransition: 'MSTransitionEnd',\n                transition: 'transitionend'\n            };\n        addEvent(el, transitionEndEvent[Modernizr.prefixed('transition')], function (e) {\n            elData.tProp && e.propertyName.match(elData.tProp) && elData.onEndFn();\n        });\n        elData.tEnd = true;\n    }\n\n    function afterTransition($el, property, fn, time) {\n        var ok,\n            elData = $el.data();\n\n        if (elData) {\n            elData.onEndFn = function () {\n                if (ok) return;\n                ok = true;\n                clearTimeout(elData.tT);\n                fn();\n            };\n            elData.tProp = property;\n\n            // Passive call, just in case of fail of native transition-end event\n            clearTimeout(elData.tT);\n            elData.tT = setTimeout(function () {\n                elData.onEndFn();\n            }, time * 1.5);\n\n            bindTransitionEnd($el);\n        }\n    }\n\n\n    function stop($el, pos/*, _001*/) {\n        var dir = $el.navdir || 'horizontal';\n        if ($el.length) {\n            var elData = $el.data();\n            if (CSS3) {\n                $el.css(getDuration(0));\n                elData.onEndFn = noop;\n                clearTimeout(elData.tT);\n            } else {\n                $el.stop();\n            }\n            var lockedPos = getNumber(pos, function () {\n                return readPosition($el, dir);\n            });\n\n            $el.css(getTranslate(lockedPos, dir/*, _001*/));//.width(); // `.width()` for reflow\n            return lockedPos;\n        }\n    }\n\n    function getNumber() {\n        var number;\n        for (var _i = 0, _l = arguments.length; _i < _l; _i++) {\n            number = _i ? arguments[_i]() : arguments[_i];\n            if (typeof number === 'number') {\n                break;\n            }\n        }\n\n        return number;\n    }\n\n    function edgeResistance(pos, edge) {\n        return Math.round(pos + ((edge - pos) / 1.5));\n    }\n\n    function getProtocol() {\n        getProtocol.p = getProtocol.p || (location.protocol === 'https:' ? 'https://' : 'http://');\n        return getProtocol.p;\n    }\n\n    function parseHref(href) {\n        var a = document.createElement('a');\n        a.href = href;\n        return a;\n    }\n\n    function findVideoId(href, forceVideo) {\n        if (typeof href !== 'string') return href;\n        href = parseHref(href);\n\n        var id,\n            type;\n\n        if (href.host.match(/youtube\\.com/) && href.search) {\n            //.log();\n            id = href.search.split('v=')[1];\n            if (id) {\n                var ampersandPosition = id.indexOf('&');\n                if (ampersandPosition !== -1) {\n                    id = id.substring(0, ampersandPosition);\n                }\n                type = 'youtube';\n            }\n        } else if (href.host.match(/youtube\\.com|youtu\\.be/)) {\n            id = href.pathname.replace(/^\\/(embed\\/|v\\/)?/, '').replace(/\\/.*/, '');\n            type = 'youtube';\n        } else if (href.host.match(/vimeo\\.com/)) {\n            type = 'vimeo';\n            id = href.pathname.replace(/^\\/(video\\/)?/, '').replace(/\\/.*/, '');\n        }\n\n        if ((!id || !type) && forceVideo) {\n            id = href.href;\n            type = 'custom';\n        }\n\n        return id ? {id: id, type: type, s: href.search.replace(/^\\?/, ''), p: getProtocol()} : false;\n    }\n\n    function getVideoThumbs(dataFrame, data, fotorama) {\n        var img, thumb, video = dataFrame.video;\n        if (video.type === 'youtube') {\n            thumb = getProtocol() + 'img.youtube.com/vi/' + video.id + '/default.jpg';\n            img = thumb.replace(/\\/default.jpg$/, '/hqdefault.jpg');\n            dataFrame.thumbsReady = true;\n        } else if (video.type === 'vimeo') {\n            $.ajax({\n                url: getProtocol() + 'vimeo.com/api/v2/video/' + video.id + '.json',\n                dataType: 'jsonp',\n                success: function (json) {\n                    dataFrame.thumbsReady = true;\n                    updateData(data, {\n                        img: json[0].thumbnail_large,\n                        thumb: json[0].thumbnail_small\n                    }, dataFrame.i, fotorama);\n                }\n            });\n        } else {\n            dataFrame.thumbsReady = true;\n        }\n\n        return {\n            img: img,\n            thumb: thumb\n        }\n    }\n\n    function updateData(data, _dataFrame, i, fotorama) {\n        for (var _i = 0, _l = data.length; _i < _l; _i++) {\n            var dataFrame = data[_i];\n\n            if (dataFrame.i === i && dataFrame.thumbsReady) {\n                var clear = {videoReady: true};\n                clear[STAGE_FRAME_KEY] = clear[NAV_THUMB_FRAME_KEY] = clear[NAV_DOT_FRAME_KEY] = false;\n\n                fotorama.splice(_i, 1, $.extend(\n                    {},\n                    dataFrame,\n                    clear,\n                    _dataFrame\n                ));\n\n                break;\n            }\n        }\n    }\n\n    function getDataFromHtml($el) {\n        var data = [];\n\n        function getDataFromImg($img, imgData, checkVideo) {\n            var $child = $img.children('img').eq(0),\n                _imgHref = $img.attr('href'),\n                _imgSrc = $img.attr('src'),\n                _thumbSrc = $child.attr('src'),\n                _video = imgData.video,\n                video = checkVideo ? findVideoId(_imgHref, _video === true) : false;\n\n            if (video) {\n                _imgHref = false;\n            } else {\n                video = _video;\n            }\n\n            getDimensions($img, $child, $.extend(imgData, {\n                video: video,\n                img: imgData.img || _imgHref || _imgSrc || _thumbSrc,\n                thumb: imgData.thumb || _thumbSrc || _imgSrc || _imgHref\n            }));\n        }\n\n        function getDimensions($img, $child, imgData) {\n            var separateThumbFLAG = imgData.thumb && imgData.img !== imgData.thumb,\n                width = numberFromMeasure(imgData.width || $img.attr('width')),\n                height = numberFromMeasure(imgData.height || $img.attr('height'));\n\n            $.extend(imgData, {\n                width: width,\n                height: height,\n                thumbratio: getRatio(imgData.thumbratio || (numberFromMeasure(imgData.thumbwidth || ($child && $child.attr('width')) || separateThumbFLAG || width) / numberFromMeasure(imgData.thumbheight || ($child && $child.attr('height')) || separateThumbFLAG || height)))\n            });\n        }\n\n        $el.children().each(function () {\n            var $this = $(this),\n                dataFrame = optionsToLowerCase($.extend($this.data(), {id: $this.attr('id')}));\n            if ($this.is('a, img')) {\n                getDataFromImg($this, dataFrame, true);\n            } else if (!$this.is(':empty')) {\n                getDimensions($this, null, $.extend(dataFrame, {\n                    html: this,\n                    _html: $this.html() // Because of IE\n                }));\n            } else return;\n\n            data.push(dataFrame);\n        });\n\n        return data;\n    }\n\n    function isHidden(el) {\n        return el.offsetWidth === 0 && el.offsetHeight === 0;\n    }\n\n    function isDetached(el) {\n        return !$.contains(document.documentElement, el);\n    }\n\n    function waitFor(test, fn, timeout, i) {\n        if (!waitFor.i) {\n            waitFor.i = 1;\n            waitFor.ii = [true];\n        }\n\n        i = i || waitFor.i;\n\n        if (typeof waitFor.ii[i] === 'undefined') {\n            waitFor.ii[i] = true;\n        }\n\n        if (test()) {\n            fn();\n        } else {\n            waitFor.ii[i] && setTimeout(function () {\n                waitFor.ii[i] && waitFor(test, fn, timeout, i);\n            }, timeout || 100);\n        }\n\n        return waitFor.i++;\n    }\n\n    waitFor.stop = function (i) {\n        waitFor.ii[i] = false;\n    };\n\n    function fit($el, measuresToFit) {\n        var elData = $el.data(),\n            measures = elData.measures;\n\n        if (measures && (!elData.l ||\n            elData.l.W !== measures.width ||\n            elData.l.H !== measures.height ||\n            elData.l.r !== measures.ratio ||\n            elData.l.w !== measuresToFit.w ||\n            elData.l.h !== measuresToFit.h)) {\n\n            var height = minMaxLimit(measuresToFit.h, 0, measures.height),\n                width = height * measures.ratio;\n\n            UTIL.setRatio($el, width, height);\n\n            elData.l = {\n                W: measures.width,\n                H: measures.height,\n                r: measures.ratio,\n                w: measuresToFit.w,\n                h: measuresToFit.h\n            };\n        }\n\n        return true;\n    }\n\n    function setStyle($el, style) {\n        var el = $el[0];\n        if (el.styleSheet) {\n            el.styleSheet.cssText = style;\n        } else {\n            $el.html(style);\n        }\n    }\n\n    function findShadowEdge(pos, min, max, dir) {\n        return min === max ? false :\n            dir === 'vertical' ?\n                (pos <= min ? 'top' : pos >= max ? 'bottom' : 'top bottom') :\n                (pos <= min ? 'left' : pos >= max ? 'right' : 'left right');\n    }\n\n    function smartClick($el, fn, _options) {\n        _options = _options || {};\n\n        $el.each(function () {\n            var $this = $(this),\n                thisData = $this.data(),\n                startEvent;\n\n            if (thisData.clickOn) return;\n\n            thisData.clickOn = true;\n\n            $.extend(touch($this, {\n                onStart: function (e) {\n                    startEvent = e;\n                    (_options.onStart || noop).call(this, e);\n                },\n                onMove: _options.onMove || noop,\n                onTouchEnd: _options.onTouchEnd || noop,\n                onEnd: function (result) {\n                    if (result.moved) return;\n                    fn.call(this, startEvent);\n                }\n            }), {noMove: true});\n        });\n    }\n\n    function div(classes, child) {\n        return '<div class=\"' + classes + '\">' + (child || '') + '</div>';\n    }\n\n\n    /**\n     * Function transforming into valid classname\n     * @param className - name of the class\n     * @returns {string} - dom format of class name\n     */\n    function cls(className) {\n        return \".\" + className;\n    }\n\n    /**\n     *\n     * @param {json-object} videoItem Parsed object from data.video item or href from link a in input dates\n     * @returns {string} DOM view of video iframe\n     */\n    function createVideoFrame(videoItem) {\n        var frame = '<iframe src=\"' + videoItem.p + videoItem.type + '.com/embed/' + videoItem.id + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        return frame;\n    }\n\n// Fisher\u00e2\u0080\u0093Yates Shuffle\n// http://bost.ocks.org/mike/shuffle/\n    function shuffle(array) {\n        // While there remain elements to shuffle\n        var l = array.length;\n        while (l) {\n            // Pick a remaining element\n            var i = Math.floor(Math.random() * l--);\n\n            // And swap it with the current element\n            var t = array[l];\n            array[l] = array[i];\n            array[i] = t;\n        }\n\n        return array;\n    }\n\n    function clone(array) {\n        return Object.prototype.toString.call(array) == '[object Array]'\n            && $.map(array, function (frame) {\n                return $.extend({}, frame);\n            });\n    }\n\n    function lockScroll($el, left, top) {\n        $el\n            .scrollLeft(left || 0)\n            .scrollTop(top || 0);\n    }\n\n    function optionsToLowerCase(options) {\n        if (options) {\n            var opts = {};\n            $.each(options, function (key, value) {\n                opts[key.toLowerCase()] = value;\n            });\n\n            return opts;\n        }\n    }\n\n    function getRatio(_ratio) {\n        if (!_ratio) return;\n        var ratio = +_ratio;\n        if (!isNaN(ratio)) {\n            return ratio;\n        } else {\n            ratio = _ratio.split('/');\n            return +ratio[0] / +ratio[1] || undefined;\n        }\n    }\n\n    function addEvent(el, e, fn, bool) {\n        if (!e) return;\n        el.addEventListener ? el.addEventListener(e, fn, !!bool) : el.attachEvent('on' + e, fn);\n    }\n\n    /**\n     *\n     * @param position guess position for navShaft\n     * @param restriction object contains min and max values for position\n     * @returns {*} filtered value of position\n     */\n    function validateRestrictions(position, restriction) {\n        if (position > restriction.max) {\n            position = restriction.max;\n        } else {\n            if (position < restriction.min) {\n                position = restriction.min;\n            }\n        }\n        return position;\n    }\n\n    function validateSlidePos(opt, navShaftTouchTail, guessIndex, offsetNav, $guessNavFrame, $navWrap, dir) {\n        var position,\n            size,\n            wrapSize;\n        if (dir === 'horizontal') {\n            size = opt.thumbwidth;\n            wrapSize = $navWrap.width();\n        } else {\n            size = opt.thumbheight;\n            wrapSize = $navWrap.height();\n        }\n        if ( (size + opt.margin) * (guessIndex + 1) >= (wrapSize - offsetNav) ) {\n            if (dir === 'horizontal') {\n                position = -$guessNavFrame.position().left;\n            } else {\n                position = -$guessNavFrame.position().top;\n            }\n        } else {\n            if ((size + opt.margin) * (guessIndex) <= Math.abs(offsetNav)) {\n                if (dir === 'horizontal') {\n                    position = -$guessNavFrame.position().left + wrapSize - (size + opt.margin);\n                } else {\n                    position = -$guessNavFrame.position().top + wrapSize - (size + opt.margin);\n                }\n            } else {\n                position = offsetNav;\n            }\n        }\n        position = validateRestrictions(position, navShaftTouchTail);\n\n        return position || 0;\n    }\n\n    function elIsDisabled(el) {\n        return !!el.getAttribute('disabled');\n    }\n\n    function disableAttr(FLAG, disable) {\n        if (disable) {\n            return {disabled: FLAG};\n        } else {\n            return {tabindex: FLAG * -1 + '', disabled: FLAG};\n\n        }\n    }\n\n    function addEnterUp(el, fn) {\n        addEvent(el, 'keyup', function (e) {\n            elIsDisabled(el) || e.keyCode == 13 && fn.call(el, e);\n        });\n    }\n\n    function addFocus(el, fn) {\n        addEvent(el, 'focus', el.onfocusin = function (e) {\n            fn.call(el, e);\n        }, true);\n    }\n\n    function stopEvent(e, stopPropagation) {\n        e.preventDefault ? e.preventDefault() : (e.returnValue = false);\n        stopPropagation && e.stopPropagation && e.stopPropagation();\n    }\n\n    function getDirectionSign(forward) {\n        return forward ? '>' : '<';\n    }\n\n    var UTIL = (function () {\n\n        function setRatioClass($el, wh, ht) {\n            var rateImg = wh / ht;\n\n            if (rateImg <= 1) {\n                $el.parent().removeClass(horizontalImageClass);\n                $el.parent().addClass(verticalImageClass);\n            } else {\n                $el.parent().removeClass(verticalImageClass);\n                $el.parent().addClass(horizontalImageClass);\n            }\n        }\n\n        /**\n         * Set specific attribute in thumbnail template\n         * @param $frame DOM item of specific thumbnail\n         * @param value Value which must be setted into specific attribute\n         * @param searchAttr Name of attribute where value must be included\n         */\n        function setThumbAttr($frame, value, searchAttr) {\n            var attr = searchAttr;\n\n            if (!$frame.attr(attr) && $frame.attr(attr) !== undefined) {\n                $frame.attr(attr, value);\n            }\n\n            if ($frame.find(\"[\" + attr + \"]\").length) {\n                $frame.find(\"[\" + attr + \"]\")\n                    .each(function () {\n                        $(this).attr(attr, value);\n                    });\n            }\n        }\n\n        /**\n         * Method describe behavior need to render caption on preview or not\n         * @param frameItem specific item from data\n         * @param isExpected {bool} if items with caption need render them or not\n         * @returns {boolean} if true then caption should be rendered\n         */\n        function isExpectedCaption(frameItem, isExpected, undefined) {\n            var expected = false,\n                frameExpected;\n\n            frameItem.showCaption === undefined || frameItem.showCaption === true ? frameExpected = true : frameExpected = false;\n\n            if (!isExpected) {\n                return false;\n            }\n\n            if (frameItem.caption && frameExpected) {\n                expected = true;\n            }\n\n            return expected;\n        }\n\n        return {\n            setRatio: setRatioClass,\n            setThumbAttr: setThumbAttr,\n            isExpectedCaption: isExpectedCaption\n        };\n\n    }(UTIL || {}, jQuery));\n\n    function slide($el, options) {\n        var elData = $el.data(),\n            elPos = Math.round(options.pos),\n            onEndFn = function () {\n                if (elData && elData.sliding) {\n                    elData.sliding = false;\n                }\n                (options.onEnd || noop)();\n            };\n\n        if (typeof options.overPos !== 'undefined' && options.overPos !== options.pos) {\n            elPos = options.overPos;\n        }\n\n        var translate = $.extend(getTranslate(elPos, options.direction), options.width && {width: options.width}, options.height && {height: options.height});\n        if (elData && elData.sliding) {\n            elData.sliding = true;\n        }\n\n        if (CSS3) {\n            $el.css($.extend(getDuration(options.time), translate));\n\n            if (options.time > 10) {\n                afterTransition($el, 'transform', onEndFn, options.time);\n            } else {\n                onEndFn();\n            }\n        } else {\n            $el.stop().animate(translate, options.time, BEZIER, onEndFn);\n        }\n    }\n\n    function fade($el1, $el2, $frames, options, fadeStack, chain) {\n        var chainedFLAG = typeof chain !== 'undefined';\n        if (!chainedFLAG) {\n            fadeStack.push(arguments);\n            Array.prototype.push.call(arguments, fadeStack.length);\n            if (fadeStack.length > 1) return;\n        }\n\n        $el1 = $el1 || $($el1);\n        $el2 = $el2 || $($el2);\n\n        var _$el1 = $el1[0],\n            _$el2 = $el2[0],\n            crossfadeFLAG = options.method === 'crossfade',\n            onEndFn = function () {\n                if (!onEndFn.done) {\n                    onEndFn.done = true;\n                    var args = (chainedFLAG || fadeStack.shift()) && fadeStack.shift();\n                    args && fade.apply(this, args);\n                    (options.onEnd || noop)(!!args);\n                }\n            },\n            time = options.time / (chain || 1);\n\n        $frames.removeClass(fadeRearClass + ' ' + fadeFrontClass);\n\n        $el1\n            .stop()\n            .addClass(fadeRearClass);\n        $el2\n            .stop()\n            .addClass(fadeFrontClass);\n\n        crossfadeFLAG && _$el2 && $el1.fadeTo(0, 0);\n\n        $el1.fadeTo(crossfadeFLAG ? time : 0, 1, crossfadeFLAG && onEndFn);\n        $el2.fadeTo(time, 0, onEndFn);\n\n        (_$el1 && crossfadeFLAG) || _$el2 || onEndFn();\n    }\n\n    var lastEvent,\n        moveEventType,\n        preventEvent,\n        preventEventTimeout,\n        dragDomEl;\n\n    function extendEvent(e) {\n        var touch = (e.touches || [])[0] || e;\n        e._x = touch.pageX || touch.originalEvent.pageX;\n        e._y = touch.clientY || touch.originalEvent.clientY;\n        e._now = $.now();\n    }\n\n    function touch($el, options) {\n        var el = $el[0],\n            tail = {},\n            touchEnabledFLAG,\n            startEvent,\n            $target,\n            controlTouch,\n            touchFLAG,\n            targetIsSelectFLAG,\n            targetIsLinkFlag,\n            tolerance,\n            moved;\n\n        function onStart(e) {\n            $target = $(e.target);\n            tail.checked = targetIsSelectFLAG = targetIsLinkFlag = moved = false;\n\n            if (touchEnabledFLAG\n                || tail.flow\n                || (e.touches && e.touches.length > 1)\n                || e.which > 1\n                || (lastEvent && lastEvent.type !== e.type && preventEvent)\n                || (targetIsSelectFLAG = options.select && $target.is(options.select, el))) return targetIsSelectFLAG;\n\n            touchFLAG = e.type === 'touchstart';\n            targetIsLinkFlag = $target.is('a, a *', el);\n            controlTouch = tail.control;\n\n            tolerance = (tail.noMove || tail.noSwipe || controlTouch) ? 16 : !tail.snap ? 4 : 0;\n\n            extendEvent(e);\n\n            startEvent = lastEvent = e;\n            moveEventType = e.type.replace(/down|start/, 'move').replace(/Down/, 'Move');\n\n            (options.onStart || noop).call(el, e, {control: controlTouch, $target: $target});\n\n            touchEnabledFLAG = tail.flow = true;\n\n            if (!touchFLAG || tail.go) stopEvent(e);\n        }\n\n        function onMove(e) {\n            if ((e.touches && e.touches.length > 1)\n                || (MS_POINTER && !e.isPrimary)\n                || moveEventType !== e.type\n                || !touchEnabledFLAG) {\n                touchEnabledFLAG && onEnd();\n                (options.onTouchEnd || noop)();\n                return;\n            }\n\n            extendEvent(e);\n\n            var xDiff = Math.abs(e._x - startEvent._x), // opt _x \u00e2\u0086\u0092 _pageX\n                yDiff = Math.abs(e._y - startEvent._y),\n                xyDiff = xDiff - yDiff,\n                xWin = (tail.go || tail.x || xyDiff >= 0) && !tail.noSwipe,\n                yWin = xyDiff < 0;\n\n            if (touchFLAG && !tail.checked) {\n                if (touchEnabledFLAG = xWin) {\n                    stopEvent(e);\n                }\n            } else {\n                stopEvent(e);\n                (options.onMove || noop).call(el, e, {touch: touchFLAG});\n            }\n\n            if (!moved && Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2)) > tolerance) {\n                moved = true;\n            }\n\n            tail.checked = tail.checked || xWin || yWin;\n        }\n\n        function onEnd(e) {\n            (options.onTouchEnd || noop)();\n\n            var _touchEnabledFLAG = touchEnabledFLAG;\n            tail.control = touchEnabledFLAG = false;\n\n            if (_touchEnabledFLAG) {\n                tail.flow = false;\n            }\n\n            if (!_touchEnabledFLAG || (targetIsLinkFlag && !tail.checked)) return;\n\n            e && stopEvent(e);\n\n            preventEvent = true;\n            clearTimeout(preventEventTimeout);\n            preventEventTimeout = setTimeout(function () {\n                preventEvent = false;\n            }, 1000);\n\n            (options.onEnd || noop).call(el, {\n                moved: moved,\n                $target: $target,\n                control: controlTouch,\n                touch: touchFLAG,\n                startEvent: startEvent,\n                aborted: !e || e.type === 'MSPointerCancel'\n            });\n        }\n\n        function onOtherStart() {\n            if (tail.flow) return;\n            tail.flow = true;\n        }\n\n        function onOtherEnd() {\n            if (!tail.flow) return;\n            tail.flow = false;\n        }\n\n        if (MS_POINTER) {\n            addEvent(el, 'MSPointerDown', onStart);\n            addEvent(document, 'MSPointerMove', onMove);\n            addEvent(document, 'MSPointerCancel', onEnd);\n            addEvent(document, 'MSPointerUp', onEnd);\n        } else {\n            addEvent(el, 'touchstart', onStart);\n            addEvent(el, 'touchmove', onMove);\n            addEvent(el, 'touchend', onEnd);\n\n            addEvent(document, 'touchstart', onOtherStart);\n            addEvent(document, 'touchend', onOtherEnd);\n            addEvent(document, 'touchcancel', onOtherEnd);\n\n            $WINDOW.on('scroll', onOtherEnd);\n\n            $el.on('mousedown pointerdown', onStart);\n            $DOCUMENT\n                .on('mousemove pointermove', onMove)\n                .on('mouseup pointerup', onEnd);\n        }\n        if (Modernizr.touch) {\n            dragDomEl = 'a';\n        } else {\n            dragDomEl = 'div';\n        }\n        $el.on('click', dragDomEl, function (e) {\n            tail.checked && stopEvent(e);\n        });\n\n        return tail;\n    }\n\n    function moveOnTouch($el, options) {\n        var el = $el[0],\n            elData = $el.data(),\n            tail = {},\n            startCoo,\n            coo,\n            startElPos,\n            moveElPos,\n            edge,\n            moveTrack,\n            startTime,\n            endTime,\n            min,\n            max,\n            snap,\n            dir,\n            slowFLAG,\n            controlFLAG,\n            moved,\n            tracked;\n\n        function startTracking(e, noStop) {\n            tracked = true;\n            startCoo = coo = (dir === 'vertical') ? e._y : e._x;\n            startTime = e._now;\n\n            moveTrack = [\n                [startTime, startCoo]\n            ];\n\n            startElPos = moveElPos = tail.noMove || noStop ? 0 : stop($el, (options.getPos || noop)()/*, options._001*/);\n\n            (options.onStart || noop).call(el, e);\n        }\n\n        function onStart(e, result) {\n            min = tail.min;\n            max = tail.max;\n            snap = tail.snap,\n                dir = tail.direction || 'horizontal',\n                $el.navdir = dir;\n\n            slowFLAG = e.altKey;\n            tracked = moved = false;\n\n            controlFLAG = result.control;\n\n            if (!controlFLAG && !elData.sliding) {\n                startTracking(e);\n            }\n        }\n\n        function onMove(e, result) {\n            if (!tail.noSwipe) {\n                if (!tracked) {\n                    startTracking(e);\n                }\n                coo = (dir === 'vertical') ? e._y : e._x;\n\n                moveTrack.push([e._now, coo]);\n\n                moveElPos = startElPos - (startCoo - coo);\n\n                edge = findShadowEdge(moveElPos, min, max, dir);\n\n                if (moveElPos <= min) {\n                    moveElPos = edgeResistance(moveElPos, min);\n                } else if (moveElPos >= max) {\n                    moveElPos = edgeResistance(moveElPos, max);\n                }\n\n                if (!tail.noMove) {\n                    $el.css(getTranslate(moveElPos, dir));\n                    if (!moved) {\n                        moved = true;\n                        // only for mouse\n                        result.touch || MS_POINTER || $el.addClass(grabbingClass);\n                    }\n\n                    (options.onMove || noop).call(el, e, {pos: moveElPos, edge: edge});\n                }\n            }\n        }\n\n        function onEnd(result) {\n            if (tail.noSwipe && result.moved) return;\n\n            if (!tracked) {\n                startTracking(result.startEvent, true);\n            }\n\n            result.touch || MS_POINTER || $el.removeClass(grabbingClass);\n\n            endTime = $.now();\n\n            var _backTimeIdeal = endTime - TOUCH_TIMEOUT,\n                _backTime,\n                _timeDiff,\n                _timeDiffLast,\n                backTime = null,\n                backCoo,\n                virtualPos,\n                limitPos,\n                newPos,\n                overPos,\n                time = TRANSITION_DURATION,\n                speed,\n                friction = options.friction;\n\n            for (var _i = moveTrack.length - 1; _i >= 0; _i--) {\n                _backTime = moveTrack[_i][0];\n                _timeDiff = Math.abs(_backTime - _backTimeIdeal);\n                if (backTime === null || _timeDiff < _timeDiffLast) {\n                    backTime = _backTime;\n                    backCoo = moveTrack[_i][1];\n                } else if (backTime === _backTimeIdeal || _timeDiff > _timeDiffLast) {\n                    break;\n                }\n                _timeDiffLast = _timeDiff;\n            }\n\n            newPos = minMaxLimit(moveElPos, min, max);\n\n            var cooDiff = backCoo - coo,\n                forwardFLAG = cooDiff >= 0,\n                timeDiff = endTime - backTime,\n                longTouchFLAG = timeDiff > TOUCH_TIMEOUT,\n                swipeFLAG = !longTouchFLAG && moveElPos !== startElPos && newPos === moveElPos;\n\n            if (snap) {\n                newPos = minMaxLimit(Math[swipeFLAG ? (forwardFLAG ? 'floor' : 'ceil') : 'round'](moveElPos / snap) * snap, min, max);\n                min = max = newPos;\n            }\n\n            if (swipeFLAG && (snap || newPos === moveElPos)) {\n                speed = -(cooDiff / timeDiff);\n                time *= minMaxLimit(Math.abs(speed), options.timeLow, options.timeHigh);\n                virtualPos = Math.round(moveElPos + speed * time / friction);\n\n                if (!snap) {\n                    newPos = virtualPos;\n                }\n\n                if (!forwardFLAG && virtualPos > max || forwardFLAG && virtualPos < min) {\n                    limitPos = forwardFLAG ? min : max;\n                    overPos = virtualPos - limitPos;\n                    if (!snap) {\n                        newPos = limitPos;\n                    }\n                    overPos = minMaxLimit(newPos + overPos * .03, limitPos - 50, limitPos + 50);\n                    time = Math.abs((moveElPos - overPos) / (speed / friction));\n                }\n            }\n\n            time *= slowFLAG ? 10 : 1;\n\n            (options.onEnd || noop).call(el, $.extend(result, {\n                moved: result.moved || longTouchFLAG && snap,\n                pos: moveElPos,\n                newPos: newPos,\n                overPos: overPos,\n                time: time,\n                dir: dir\n            }));\n        }\n\n        tail = $.extend(touch(options.$wrap, $.extend({}, options, {\n            onStart: onStart,\n            onMove: onMove,\n            onEnd: onEnd\n        })), tail);\n\n        return tail;\n    }\n\n    function wheel($el, options) {\n        var el = $el[0],\n            lockFLAG,\n            lastDirection,\n            lastNow,\n            tail = {\n                prevent: {}\n            };\n\n        addEvent(el, WHEEL, function (e) {\n            var yDelta = e.wheelDeltaY || -1 * e.deltaY || 0,\n                xDelta = e.wheelDeltaX || -1 * e.deltaX || 0,\n                xWin = Math.abs(xDelta) && !Math.abs(yDelta),\n                direction = getDirectionSign(xDelta < 0),\n                sameDirection = lastDirection === direction,\n                now = $.now(),\n                tooFast = now - lastNow < TOUCH_TIMEOUT;\n\n            lastDirection = direction;\n            lastNow = now;\n\n            if (!xWin || !tail.ok || tail.prevent[direction] && !lockFLAG) {\n                return;\n            } else {\n                stopEvent(e, true);\n                if (lockFLAG && sameDirection && tooFast) {\n                    return;\n                }\n            }\n\n            if (options.shift) {\n                lockFLAG = true;\n                clearTimeout(tail.t);\n                tail.t = setTimeout(function () {\n                    lockFLAG = false;\n                }, SCROLL_LOCK_TIMEOUT);\n            }\n\n            (options.onEnd || noop)(e, options.shift ? direction : xDelta);\n\n        });\n\n        return tail;\n    }\n\n    jQuery.Fotorama = function ($fotorama, opts) {\n        $HTML = $('html');\n        $BODY = $('body');\n\n        var that = this,\n            stamp = $.now(),\n            stampClass = _fotoramaClass + stamp,\n            fotorama = $fotorama[0],\n            data,\n            dataFrameCount = 1,\n            fotoramaData = $fotorama.data(),\n            size,\n\n            $style = $('<style></style>'),\n\n            $anchor = $(div(hiddenClass)),\n            $wrap = $fotorama.find(cls(wrapClass)),\n            $stage = $wrap.find(cls(stageClass)),\n            stage = $stage[0],\n\n            $stageShaft = $fotorama.find(cls(stageShaftClass)),\n            $stageFrame = $(),\n            $arrPrev = $fotorama.find(cls(arrPrevClass)),\n            $arrNext = $fotorama.find(cls(arrNextClass)),\n            $arrs = $fotorama.find(cls(arrClass)),\n            $navWrap = $fotorama.find(cls(navWrapClass)),\n            $nav = $navWrap.find(cls(navClass)),\n            $navShaft = $nav.find(cls(navShaftClass)),\n            $navFrame,\n            $navDotFrame = $(),\n            $navThumbFrame = $(),\n\n            stageShaftData = $stageShaft.data(),\n            navShaftData = $navShaft.data(),\n\n            $thumbBorder = $fotorama.find(cls(thumbBorderClass)),\n            $thumbArrLeft = $fotorama.find(cls(thumbArrLeft)),\n            $thumbArrRight = $fotorama.find(cls(thumbArrRight)),\n\n            $fullscreenIcon = $fotorama.find(cls(fullscreenIconClass)),\n            fullscreenIcon = $fullscreenIcon[0],\n            $videoPlay = $(div(videoPlayClass)),\n            $videoClose = $fotorama.find(cls(videoCloseClass)),\n            videoClose = $videoClose[0],\n\n            $spinner = $fotorama.find(cls(fotoramaSpinnerClass)),\n\n            $videoPlaying,\n\n            activeIndex = false,\n            activeFrame,\n            activeIndexes,\n            repositionIndex,\n            dirtyIndex,\n            lastActiveIndex,\n            prevIndex,\n            nextIndex,\n            nextAutoplayIndex,\n            startIndex,\n\n            o_loop,\n            o_nav,\n            o_navThumbs,\n            o_navTop,\n            o_allowFullScreen,\n            o_nativeFullScreen,\n            o_fade,\n            o_thumbSide,\n            o_thumbSide2,\n            o_transitionDuration,\n            o_transition,\n            o_shadows,\n            o_rtl,\n            o_keyboard,\n            lastOptions = {},\n\n            measures = {},\n            measuresSetFLAG,\n\n            stageShaftTouchTail = {},\n            stageWheelTail = {},\n            navShaftTouchTail = {},\n            navWheelTail = {},\n\n            scrollTop,\n            scrollLeft,\n\n            showedFLAG,\n            pausedAutoplayFLAG,\n            stoppedAutoplayFLAG,\n\n            toDeactivate = {},\n            toDetach = {},\n\n            measuresStash,\n\n            touchedFLAG,\n\n            hoverFLAG,\n\n            navFrameKey,\n            stageLeft = 0,\n\n            fadeStack = [];\n\n        $wrap[STAGE_FRAME_KEY] = $('<div class=\"' + stageFrameClass + '\"></div>');\n        $wrap[NAV_THUMB_FRAME_KEY] = $($.Fotorama.jst.thumb());\n        $wrap[NAV_DOT_FRAME_KEY] = $($.Fotorama.jst.dots());\n\n        toDeactivate[STAGE_FRAME_KEY] = [];\n        toDeactivate[NAV_THUMB_FRAME_KEY] = [];\n        toDeactivate[NAV_DOT_FRAME_KEY] = [];\n        toDetach[STAGE_FRAME_KEY] = {};\n\n        $wrap.addClass(CSS3 ? wrapCss3Class : wrapCss2Class);\n\n        fotoramaData.fotorama = this;\n\n        /**\n         * Search video items in incomming data and transform object for video layout.\n         *\n         */\n        function checkForVideo() {\n            $.each(data, function (i, dataFrame) {\n                if (!dataFrame.i) {\n                    dataFrame.i = dataFrameCount++;\n                    var video = findVideoId(dataFrame.video, true);\n                    if (video) {\n                        var thumbs = {};\n                        dataFrame.video = video;\n                        if (!dataFrame.img && !dataFrame.thumb) {\n                            thumbs = getVideoThumbs(dataFrame, data, that);\n                        } else {\n                            dataFrame.thumbsReady = true;\n                        }\n                        updateData(data, {img: thumbs.img, thumb: thumbs.thumb}, dataFrame.i, that);\n                    }\n                }\n            });\n        }\n\n        function allowKey(key) {\n            return o_keyboard[key];\n        }\n\n        function setStagePosition() {\n            if ($stage !== undefined) {\n\n                if (opts.navdir == 'vertical') {\n                    var padding = opts.thumbwidth + opts.thumbmargin;\n\n                    $stage.css('left', padding);\n                    $arrNext.css('right', padding);\n                    $fullscreenIcon.css('right', padding);\n                    $wrap.css('width', $wrap.css('width') + padding);\n                    $stageShaft.css('max-width', $wrap.width() - padding);\n                } else {\n                    $stage.css('left', '');\n                    $arrNext.css('right', '');\n                    $fullscreenIcon.css('right', '');\n                    $wrap.css('width', $wrap.css('width') + padding);\n                    $stageShaft.css('max-width', '');\n                }\n            }\n        }\n\n        function bindGlobalEvents(FLAG) {\n            var keydownCommon = 'keydown.' + _fotoramaClass,\n                localStamp = _fotoramaClass + stamp,\n                keydownLocal = 'keydown.' + localStamp,\n                keyupLocal = 'keyup.' + localStamp,\n                resizeLocal = 'resize.' + localStamp + ' ' + 'orientationchange.' + localStamp,\n                showParams;\n\n            if (FLAG) {\n                $DOCUMENT\n                    .on(keydownLocal, function (e) {\n                        var catched,\n                            index;\n\n                        if ($videoPlaying && e.keyCode === 27) {\n                            catched = true;\n                            unloadVideo($videoPlaying, true, true);\n                        } else if (that.fullScreen || (opts.keyboard && !that.index)) {\n                            if (e.keyCode === 27) {\n                                catched = true;\n                                that.cancelFullScreen();\n                            } else if ((e.shiftKey && e.keyCode === 32 && allowKey('space')) || (e.keyCode === 37 && allowKey('left')) || (e.keyCode === 38 && allowKey('up') && $(':focus').attr('data-gallery-role'))) {\n                                that.longPress.progress();\n                                index = '<';\n                            } else if ((e.keyCode === 32 && allowKey('space')) || (e.keyCode === 39 && allowKey('right')) || (e.keyCode === 40 && allowKey('down') && $(':focus').attr('data-gallery-role'))) {\n                                that.longPress.progress();\n                                index = '>';\n                            } else if (e.keyCode === 36 && allowKey('home')) {\n                                that.longPress.progress();\n                                index = '<<';\n                            } else if (e.keyCode === 35 && allowKey('end')) {\n                                that.longPress.progress();\n                                index = '>>';\n                            }\n                        }\n\n                        (catched || index) && stopEvent(e);\n                        showParams = {index: index, slow: e.altKey, user: true};\n                        index && (that.longPress.inProgress ?\n                            that.showWhileLongPress(showParams) :\n                            that.show(showParams));\n                    });\n\n                if (FLAG) {\n                    $DOCUMENT\n                        .on(keyupLocal, function (e) {\n                            if (that.longPress.inProgress) {\n                                that.showEndLongPress({user: true});\n                            }\n                            that.longPress.reset();\n                        });\n                }\n\n                if (!that.index) {\n                    $DOCUMENT\n                        .off(keydownCommon)\n                        .on(keydownCommon, 'textarea, input, select', function (e) {\n                            !$BODY.hasClass(_fullscreenClass) && e.stopPropagation();\n                        });\n                }\n\n                $WINDOW.on(resizeLocal, that.resize);\n            } else {\n                $DOCUMENT.off(keydownLocal);\n                $WINDOW.off(resizeLocal);\n            }\n        }\n\n        function appendElements(FLAG) {\n            if (FLAG === appendElements.f) return;\n\n            if (FLAG) {\n                $fotorama\n                    .addClass(_fotoramaClass + ' ' + stampClass)\n                    .before($anchor)\n                    .before($style);\n                addInstance(that);\n            } else {\n                $anchor.detach();\n                $style.detach();\n                $fotorama\n                    .html(fotoramaData.urtext)\n                    .removeClass(stampClass);\n\n                hideInstance(that);\n            }\n\n            bindGlobalEvents(FLAG);\n            appendElements.f = FLAG;\n        }\n\n        /**\n         * Set and install data from incomming @param {JSON} options or takes data attr from data-\"name\"=... values.\n         */\n        function setData() {\n            data = that.data = data || clone(opts.data) || getDataFromHtml($fotorama);\n            size = that.size = data.length;\n\n            ready.ok && opts.shuffle && shuffle(data);\n\n            checkForVideo();\n\n            activeIndex = limitIndex(activeIndex);\n\n            size && appendElements(true);\n        }\n\n        function stageNoMove() {\n            var _noMove = size < 2 || $videoPlaying;\n            stageShaftTouchTail.noMove = _noMove || o_fade;\n            stageShaftTouchTail.noSwipe = _noMove || !opts.swipe;\n\n            !o_transition && $stageShaft.toggleClass(grabClass, !opts.click && !stageShaftTouchTail.noMove && !stageShaftTouchTail.noSwipe);\n            MS_POINTER && $wrap.toggleClass(wrapPanYClass, !stageShaftTouchTail.noSwipe);\n        }\n\n        function setAutoplayInterval(interval) {\n            if (interval === true) interval = '';\n            opts.autoplay = Math.max(+interval || AUTOPLAY_INTERVAL, o_transitionDuration * 1.5);\n        }\n\n        function updateThumbArrow(opt) {\n            if (opt.navarrows && opt.nav === 'thumbs') {\n                $thumbArrLeft.show();\n                $thumbArrRight.show();\n            } else {\n                $thumbArrLeft.hide();\n                $thumbArrRight.hide();\n            }\n\n        }\n\n        function getThumbsInSlide($el, opts) {\n            return Math.floor($wrap.width() / (opts.thumbwidth + opts.thumbmargin));\n        }\n\n        /**\n         * Options on the fly\n         * */\n        function setOptions() {\n            if (!opts.nav || opts.nav === 'dots') {\n                opts.navdir = 'horizontal'\n            }\n\n            that.options = opts = optionsToLowerCase(opts);\n            thumbsPerSlide = getThumbsInSlide($wrap, opts);\n\n            o_fade = (opts.transition === 'crossfade' || opts.transition === 'dissolve');\n\n            o_loop = opts.loop && (size > 2 || (o_fade && (!o_transition || o_transition !== 'slide')));\n\n            o_transitionDuration = +opts.transitionduration || TRANSITION_DURATION;\n\n            o_rtl = opts.direction === 'rtl';\n\n            o_keyboard = $.extend({}, opts.keyboard && KEYBOARD_OPTIONS, opts.keyboard);\n            updateThumbArrow(opts);\n            var classes = {add: [], remove: []};\n\n            function addOrRemoveClass(FLAG, value) {\n                classes[FLAG ? 'add' : 'remove'].push(value);\n            }\n\n            if (size > 1) {\n                o_nav = opts.nav;\n                o_navTop = opts.navposition === 'top';\n                classes.remove.push(selectClass);\n\n                $arrs.toggle(opts.arrows);\n            } else {\n                o_nav = false;\n                $arrs.hide();\n            }\n\n            arrsUpdate();\n            stageWheelUpdate();\n            thumbArrUpdate();\n            if (opts.autoplay) setAutoplayInterval(opts.autoplay);\n\n            o_thumbSide = numberFromMeasure(opts.thumbwidth) || THUMB_SIZE;\n            o_thumbSide2 = numberFromMeasure(opts.thumbheight) || THUMB_SIZE;\n\n            stageWheelTail.ok = navWheelTail.ok = opts.trackpad && !SLOW;\n\n            stageNoMove();\n\n            extendMeasures(opts, [measures]);\n\n            o_navThumbs = o_nav === 'thumbs';\n\n            if ($navWrap.filter(':hidden') && !!o_nav) {\n                $navWrap.show();\n            }\n            if (o_navThumbs) {\n                frameDraw(size, 'navThumb');\n\n                $navFrame = $navThumbFrame;\n                navFrameKey = NAV_THUMB_FRAME_KEY;\n\n                setStyle($style, $.Fotorama.jst.style({\n                    w: o_thumbSide,\n                    h: o_thumbSide2,\n                    b: opts.thumbborderwidth,\n                    m: opts.thumbmargin,\n                    s: stamp,\n                    q: !COMPAT\n                }));\n\n                $nav\n                    .addClass(navThumbsClass)\n                    .removeClass(navDotsClass);\n            } else if (o_nav === 'dots') {\n                frameDraw(size, 'navDot');\n\n                $navFrame = $navDotFrame;\n                navFrameKey = NAV_DOT_FRAME_KEY;\n\n                $nav\n                    .addClass(navDotsClass)\n                    .removeClass(navThumbsClass);\n            } else {\n                $navWrap.hide();\n                o_nav = false;\n                $nav.removeClass(navThumbsClass + ' ' + navDotsClass);\n            }\n\n            if (o_nav) {\n                if (o_navTop) {\n                    $navWrap.insertBefore($stage);\n                } else {\n                    $navWrap.insertAfter($stage);\n                }\n                frameAppend.nav = false;\n\n                frameAppend($navFrame, $navShaft, 'nav');\n            }\n\n            o_allowFullScreen = opts.allowfullscreen;\n\n            if (o_allowFullScreen) {\n                $fullscreenIcon.prependTo($stage);\n                o_nativeFullScreen = FULLSCREEN && o_allowFullScreen === 'native';\n            } else {\n                $fullscreenIcon.detach();\n                o_nativeFullScreen = false;\n            }\n\n            addOrRemoveClass(o_fade, wrapFadeClass);\n            addOrRemoveClass(!o_fade, wrapSlideClass);\n            addOrRemoveClass(!opts.captions, wrapNoCaptionsClass);\n            addOrRemoveClass(o_rtl, wrapRtlClass);\n            addOrRemoveClass(opts.arrows, wrapToggleArrowsClass);\n\n            o_shadows = opts.shadows && !SLOW;\n            addOrRemoveClass(!o_shadows, wrapNoShadowsClass);\n\n            $wrap\n                .addClass(classes.add.join(' '))\n                .removeClass(classes.remove.join(' '));\n\n            lastOptions = $.extend({}, opts);\n            setStagePosition();\n        }\n\n        function normalizeIndex(index) {\n            return index < 0 ? (size + (index % size)) % size : index >= size ? index % size : index;\n        }\n\n        function limitIndex(index) {\n            return minMaxLimit(index, 0, size - 1);\n        }\n\n        function edgeIndex(index) {\n            return o_loop ? normalizeIndex(index) : limitIndex(index);\n        }\n\n        function getPrevIndex(index) {\n            return index > 0 || o_loop ? index - 1 : false;\n        }\n\n        function getNextIndex(index) {\n            return index < size - 1 || o_loop ? index + 1 : false;\n        }\n\n        function setStageShaftMinmaxAndSnap() {\n            stageShaftTouchTail.min = o_loop ? -Infinity : -getPosByIndex(size - 1, measures.w, opts.margin, repositionIndex);\n            stageShaftTouchTail.max = o_loop ? Infinity : -getPosByIndex(0, measures.w, opts.margin, repositionIndex);\n            stageShaftTouchTail.snap = measures.w + opts.margin;\n        }\n\n        function setNavShaftMinMax() {\n\n            var isVerticalDir = (opts.navdir === 'vertical');\n            var param = isVerticalDir ? $navShaft.height() : $navShaft.width();\n            var mainParam = isVerticalDir ? measures.h : measures.nw;\n            navShaftTouchTail.min = Math.min(0, mainParam - param);\n            navShaftTouchTail.max = 0;\n            navShaftTouchTail.direction = opts.navdir;\n            $navShaft.toggleClass(grabClass, !(navShaftTouchTail.noMove = navShaftTouchTail.min === navShaftTouchTail.max));\n        }\n\n        function eachIndex(indexes, type, fn) {\n            if (typeof indexes === 'number') {\n                indexes = new Array(indexes);\n                var rangeFLAG = true;\n            }\n            return $.each(indexes, function (i, index) {\n                if (rangeFLAG) index = i;\n                if (typeof index === 'number') {\n                    var dataFrame = data[normalizeIndex(index)];\n\n                    if (dataFrame) {\n                        var key = '$' + type + 'Frame',\n                            $frame = dataFrame[key];\n\n                        fn.call(this, i, index, dataFrame, $frame, key, $frame && $frame.data());\n                    }\n                }\n            });\n        }\n\n        function setMeasures(width, height, ratio, index) {\n            if (!measuresSetFLAG || (measuresSetFLAG === '*' && index === startIndex)) {\n\n                width = measureIsValid(opts.width) || measureIsValid(width) || WIDTH;\n                height = measureIsValid(opts.height) || measureIsValid(height) || HEIGHT;\n                that.resize({\n                    width: width,\n                    ratio: opts.ratio || ratio || width / height\n                }, 0, index !== startIndex && '*');\n            }\n        }\n\n        function loadImg(indexes, type, specialMeasures, again) {\n\n            eachIndex(indexes, type, function (i, index, dataFrame, $frame, key, frameData) {\n\n                if (!$frame) return;\n\n                var fullFLAG = that.fullScreen && !frameData.$full && type === 'stage';\n\n                if (frameData.$img && !again && !fullFLAG) return;\n\n                var img = new Image(),\n                    $img = $(img),\n                    imgData = $img.data();\n\n                frameData[fullFLAG ? '$full' : '$img'] = $img;\n\n                var srcKey = type === 'stage' ? (fullFLAG ? 'full' : 'img') : 'thumb',\n                    src = dataFrame[srcKey],\n                    dummy = fullFLAG ? dataFrame['img'] : dataFrame[type === 'stage' ? 'thumb' : 'img'];\n\n                if (type === 'navThumb') $frame = frameData.$wrap;\n\n                function triggerTriggerEvent(event) {\n                    var _index = normalizeIndex(index);\n                    triggerEvent(event, {\n                        index: _index,\n                        src: src,\n                        frame: data[_index]\n                    });\n                }\n\n                function error() {\n                    $img.remove();\n\n                    $.Fotorama.cache[src] = 'error';\n\n                    if ((!dataFrame.html || type !== 'stage') && dummy && dummy !== src) {\n                        dataFrame[srcKey] = src = dummy;\n                        frameData.$full = null;\n                        loadImg([index], type, specialMeasures, true);\n                    } else {\n                        if (src && !dataFrame.html && !fullFLAG) {\n                            $frame\n                                .trigger('f:error')\n                                .removeClass(loadingClass)\n                                .addClass(errorClass);\n\n                            triggerTriggerEvent('error');\n                        } else if (type === 'stage') {\n                            $frame\n                                .trigger('f:load')\n                                .removeClass(loadingClass + ' ' + errorClass)\n                                .addClass(loadedClass);\n\n                            triggerTriggerEvent('load');\n                            setMeasures();\n                        }\n\n                        frameData.state = 'error';\n\n                        if (size > 1 && data[index] === dataFrame && !dataFrame.html && !dataFrame.deleted && !dataFrame.video && !fullFLAG) {\n                            dataFrame.deleted = true;\n                            that.splice(index, 1);\n                        }\n                    }\n                }\n\n                function loaded() {\n                    $.Fotorama.measures[src] = imgData.measures = $.Fotorama.measures[src] || {\n                            width: img.width,\n                            height: img.height,\n                            ratio: img.width / img.height\n                        };\n\n                    setMeasures(imgData.measures.width, imgData.measures.height, imgData.measures.ratio, index);\n\n                    $img\n                        .off('load error')\n                        .addClass('' + (fullFLAG ? imgFullClass: imgClass))\n                        .attr('aria-hidden', 'false')\n                        .prependTo($frame);\n\n                    if ($frame.hasClass(stageFrameClass) && !$frame.hasClass(videoContainerClass)) {\n                        $frame.attr(\"href\", $img.attr(\"src\"));\n                    }\n\n                    fit($img, (\n                            $.isFunction(specialMeasures) ? specialMeasures() : specialMeasures) || measures);\n\n                    $.Fotorama.cache[src] = frameData.state = 'loaded';\n\n                    setTimeout(function () {\n                        $frame\n                            .trigger('f:load')\n                            .removeClass(loadingClass + ' ' + errorClass)\n                            .addClass(loadedClass + ' ' + (fullFLAG ? loadedFullClass : loadedImgClass));\n\n                        if (type === 'stage') {\n                            triggerTriggerEvent('load');\n                        } else if (dataFrame.thumbratio === AUTO || !dataFrame.thumbratio && opts.thumbratio === AUTO) {\n                            // danger! reflow for all thumbnails\n                            dataFrame.thumbratio = imgData.measures.ratio;\n                            reset();\n                        }\n                    }, 0);\n                }\n\n                if (!src) {\n                    error();\n                    return;\n                }\n\n                function waitAndLoad() {\n                    var _i = 10;\n                    waitFor(function () {\n                        return !touchedFLAG || !_i-- && !SLOW;\n                    }, function () {\n                        loaded();\n                    });\n                }\n\n                if (!$.Fotorama.cache[src]) {\n                    $.Fotorama.cache[src] = '*';\n\n                    $img\n                        .on('load', waitAndLoad)\n                        .on('error', error);\n                } else {\n                    (function justWait() {\n                        if ($.Fotorama.cache[src] === 'error') {\n                            error();\n                        } else if ($.Fotorama.cache[src] === 'loaded') {\n                            setTimeout(waitAndLoad, 0);\n                        } else {\n                            setTimeout(justWait, 100);\n                        }\n                    })();\n                }\n\n                frameData.state = '';\n                img.src = src;\n\n                if (frameData.data.caption) {\n                    img.alt = frameData.data.caption || \"\";\n                }\n\n                if (frameData.data.full) {\n                    $(img).data('original', frameData.data.full);\n                }\n\n                if (UTIL.isExpectedCaption(dataFrame, opts.showcaption)) {\n                    $(img).attr('aria-labelledby', dataFrame.labelledby);\n                }\n            });\n        }\n\n        function updateFotoramaState() {\n            var $frame = activeFrame[STAGE_FRAME_KEY];\n\n            if ($frame && !$frame.data().state) {\n                $spinner.addClass(spinnerShowClass);\n                $frame.on('f:load f:error', function () {\n                    $frame.off('f:load f:error');\n                    $spinner.removeClass(spinnerShowClass);\n                });\n            }\n        }\n\n        function addNavFrameEvents(frame) {\n            addEnterUp(frame, onNavFrameClick);\n            addFocus(frame, function () {\n\n                setTimeout(function () {\n                    lockScroll($nav);\n                }, 0);\n                slideNavShaft({time: o_transitionDuration, guessIndex: $(this).data().eq, minMax: navShaftTouchTail});\n            });\n        }\n\n        function frameDraw(indexes, type) {\n            eachIndex(indexes, type, function (i, index, dataFrame, $frame, key, frameData) {\n                if ($frame) return;\n\n                $frame = dataFrame[key] = $wrap[key].clone();\n                frameData = $frame.data();\n                frameData.data = dataFrame;\n                var frame = $frame[0],\n                    labelledbyValue = \"labelledby\" + $.now();\n\n                if (type === 'stage') {\n\n                    if (dataFrame.html) {\n                        $('<div class=\"' + htmlClass + '\"></div>')\n                            .append(\n                            dataFrame._html ? $(dataFrame.html)\n                                .removeAttr('id')\n                                .html(dataFrame._html) // Because of IE\n                                : dataFrame.html\n                        )\n                            .appendTo($frame);\n                    }\n\n                    if (dataFrame.id) {\n                        labelledbyValue = dataFrame.id || labelledbyValue;\n                    }\n                    dataFrame.labelledby = labelledbyValue;\n\n                    if (UTIL.isExpectedCaption(dataFrame, opts.showcaption)) {\n                        $($.Fotorama.jst.frameCaption({\n                            caption: dataFrame.caption,\n                            labelledby: labelledbyValue\n                        })).appendTo($frame);\n                    }\n\n                    dataFrame.video && $frame\n                        .addClass(stageFrameVideoClass)\n                        .append($videoPlay.clone());\n\n                    // This solves tabbing problems\n                    addFocus(frame, function () {\n                        setTimeout(function () {\n                            lockScroll($stage);\n                        }, 0);\n                        clickToShow({index: frameData.eq, user: true});\n                    });\n\n                    $stageFrame = $stageFrame.add($frame);\n                } else if (type === 'navDot') {\n                    addNavFrameEvents(frame);\n                    $navDotFrame = $navDotFrame.add($frame);\n                } else if (type === 'navThumb') {\n                    addNavFrameEvents(frame);\n                    frameData.$wrap = $frame.children(':first');\n\n                    $navThumbFrame = $navThumbFrame.add($frame);\n                    if (dataFrame.video) {\n                        frameData.$wrap.append($videoPlay.clone());\n                    }\n                }\n            });\n        }\n\n        function callFit($img, measuresToFit) {\n            return $img && $img.length && fit($img, measuresToFit);\n        }\n\n        function stageFramePosition(indexes) {\n            eachIndex(indexes, 'stage', function (i, index, dataFrame, $frame, key, frameData) {\n                if (!$frame) return;\n\n                var normalizedIndex = normalizeIndex(index);\n                frameData.eq = normalizedIndex;\n\n                toDetach[STAGE_FRAME_KEY][normalizedIndex] = $frame.css($.extend({left: o_fade ? 0 : getPosByIndex(index, measures.w, opts.margin, repositionIndex)}, o_fade && getDuration(0)));\n\n                if (isDetached($frame[0])) {\n                    $frame.appendTo($stageShaft);\n                    unloadVideo(dataFrame.$video);\n                }\n\n                callFit(frameData.$img, measures);\n                callFit(frameData.$full, measures);\n\n                if ($frame.hasClass(stageFrameClass) && !($frame.attr('aria-hidden') === \"false\" && $frame.hasClass(activeClass))) {\n                    $frame.attr('aria-hidden', 'true');\n                }\n            });\n        }\n\n        function thumbsDraw(pos, loadFLAG) {\n            var leftLimit,\n                rightLimit,\n                exceedLimit;\n\n\n            if (o_nav !== 'thumbs' || isNaN(pos)) return;\n\n            leftLimit = -pos;\n            rightLimit = -pos + measures.nw;\n\n            if (opts.navdir === 'vertical') {\n                pos = pos - opts.thumbheight;\n                rightLimit = -pos + measures.h;\n            }\n\n            $navThumbFrame.each(function () {\n                var $this = $(this),\n                    thisData = $this.data(),\n                    eq = thisData.eq,\n                    getSpecialMeasures = function () {\n                        return {\n                            h: o_thumbSide2,\n                            w: thisData.w\n                        }\n                    },\n                    specialMeasures = getSpecialMeasures(),\n                    exceedLimit = opts.navdir === 'vertical' ?\n                    thisData.t > rightLimit : thisData.l > rightLimit;\n                specialMeasures.w = thisData.w;\n\n                if (thisData.l + thisData.w < leftLimit\n                    || exceedLimit\n                    || callFit(thisData.$img, specialMeasures)) return;\n\n                loadFLAG && loadImg([eq], 'navThumb', getSpecialMeasures);\n            });\n        }\n\n        function frameAppend($frames, $shaft, type) {\n            if (!frameAppend[type]) {\n\n                var thumbsFLAG = type === 'nav' && o_navThumbs,\n                    left = 0,\n                    top = 0;\n\n                $shaft.append(\n                    $frames\n                        .filter(function () {\n                            var actual,\n                                $this = $(this),\n                                frameData = $this.data();\n                            for (var _i = 0, _l = data.length; _i < _l; _i++) {\n                                if (frameData.data === data[_i]) {\n                                    actual = true;\n                                    frameData.eq = _i;\n                                    break;\n                                }\n                            }\n                            return actual || $this.remove() && false;\n                        })\n                        .sort(function (a, b) {\n                            return $(a).data().eq - $(b).data().eq;\n                        })\n                        .each(function () {\n                            var $this = $(this),\n                                frameData = $this.data();\n                            UTIL.setThumbAttr($this, frameData.data.caption, \"aria-label\");\n                        })\n                        .each(function () {\n\n                            if (!thumbsFLAG) return;\n\n                            var $this = $(this),\n                                frameData = $this.data(),\n                                thumbwidth = Math.round(o_thumbSide2 * frameData.data.thumbratio) || o_thumbSide,\n                                thumbheight = Math.round(o_thumbSide / frameData.data.thumbratio) || o_thumbSide2;\n                            frameData.t = top;\n                            frameData.h = thumbheight;\n                            frameData.l = left;\n                            frameData.w = thumbwidth;\n\n                            $this.css({width: thumbwidth});\n\n                            top += thumbheight + opts.thumbmargin;\n                            left += thumbwidth + opts.thumbmargin;\n                        })\n                );\n\n                frameAppend[type] = true;\n            }\n        }\n\n        function getDirection(x) {\n            return x - stageLeft > measures.w / 3;\n        }\n\n        function disableDirrection(i) {\n            return !o_loop && (!(activeIndex + i) || !(activeIndex - size + i)) && !$videoPlaying;\n        }\n\n        function arrsUpdate() {\n            var disablePrev = disableDirrection(0),\n                disableNext = disableDirrection(1);\n            $arrPrev\n                .toggleClass(arrDisabledClass, disablePrev)\n                .attr(disableAttr(disablePrev, false));\n            $arrNext\n                .toggleClass(arrDisabledClass, disableNext)\n                .attr(disableAttr(disableNext, false));\n        }\n\n        function thumbArrUpdate() {\n            var isLeftDisable = false,\n                isRightDisable = false;\n            if (opts.navtype === 'thumbs' && !opts.loop) {\n                (activeIndex == 0) ? isLeftDisable = true : isLeftDisable = false;\n                (activeIndex == opts.data.length - 1) ? isRightDisable = true : isRightDisable = false;\n            }\n            if (opts.navtype === 'slides') {\n                var pos = readPosition($navShaft, opts.navdir);\n                pos >= navShaftTouchTail.max ? isLeftDisable = true : isLeftDisable = false;\n                pos <= navShaftTouchTail.min ? isRightDisable = true : isRightDisable = false;\n            }\n            $thumbArrLeft\n                .toggleClass(arrDisabledClass, isLeftDisable)\n                .attr(disableAttr(isLeftDisable, true));\n            $thumbArrRight\n                .toggleClass(arrDisabledClass, isRightDisable)\n                .attr(disableAttr(isRightDisable, true));\n        }\n\n        function stageWheelUpdate() {\n            if (stageWheelTail.ok) {\n                stageWheelTail.prevent = {'<': disableDirrection(0), '>': disableDirrection(1)};\n            }\n        }\n\n        function getNavFrameBounds($navFrame) {\n            var navFrameData = $navFrame.data(),\n                left,\n                top,\n                width,\n                height;\n\n            if (o_navThumbs) {\n                left = navFrameData.l;\n                top = navFrameData.t;\n                width = navFrameData.w;\n                height = navFrameData.h;\n            } else {\n                left = $navFrame.position().left;\n                width = $navFrame.width();\n            }\n\n            var horizontalBounds = {\n                c: left + width / 2,\n                min: -left + opts.thumbmargin * 10,\n                max: -left + measures.w - width - opts.thumbmargin * 10\n            };\n\n            var verticalBounds = {\n                c: top + height / 2,\n                min: -top + opts.thumbmargin * 10,\n                max: -top + measures.h - height - opts.thumbmargin * 10\n            };\n\n            return opts.navdir === 'vertical' ? verticalBounds : horizontalBounds;\n        }\n\n        function slideThumbBorder(time) {\n            var navFrameData = activeFrame[navFrameKey].data();\n            slide($thumbBorder, {\n                time: time * 1.2,\n                pos: (opts.navdir === 'vertical' ? navFrameData.t : navFrameData.l),\n                width: navFrameData.w,\n                height: navFrameData.h,\n                direction: opts.navdir\n            });\n        }\n\n        function slideNavShaft(options) {\n            var $guessNavFrame = data[options.guessIndex][navFrameKey],\n                typeOfAnimation = opts.navtype;\n\n            var overflowFLAG,\n                time,\n                minMax,\n                boundTop,\n                boundLeft,\n                l,\n                pos,\n                x;\n\n            if ($guessNavFrame) {\n                if (typeOfAnimation === 'thumbs') {\n                    overflowFLAG = navShaftTouchTail.min !== navShaftTouchTail.max;\n                    minMax = options.minMax || overflowFLAG && getNavFrameBounds(activeFrame[navFrameKey]);\n                    boundTop = overflowFLAG && (options.keep && slideNavShaft.t ? slideNavShaft.l : minMaxLimit((options.coo || measures.nw / 2) - getNavFrameBounds($guessNavFrame).c, minMax.min, minMax.max));\n                    boundLeft = overflowFLAG && (options.keep && slideNavShaft.l ? slideNavShaft.l : minMaxLimit((options.coo || measures.nw / 2) - getNavFrameBounds($guessNavFrame).c, minMax.min, minMax.max));\n                    l = (opts.navdir === 'vertical' ? boundTop : boundLeft);\n                    pos = overflowFLAG && minMaxLimit(l, navShaftTouchTail.min, navShaftTouchTail.max) || 0;\n                    time = options.time * 1.1;\n                    slide($navShaft, {\n                        time: time,\n                        pos: pos,\n                        direction: opts.navdir,\n                        onEnd: function () {\n                            thumbsDraw(pos, true);\n                            thumbArrUpdate();\n                        }\n                    });\n\n                    setShadow($nav, findShadowEdge(pos, navShaftTouchTail.min, navShaftTouchTail.max, opts.navdir));\n                    slideNavShaft.l = l;\n                } else {\n                    x = readPosition($navShaft, opts.navdir);\n                    time = options.time * 1.11;\n\n                    pos = validateSlidePos(opts, navShaftTouchTail, options.guessIndex, x, $guessNavFrame, $navWrap, opts.navdir);\n\n                    slide($navShaft, {\n                        time: time,\n                        pos: pos,\n                        direction: opts.navdir,\n                        onEnd: function () {\n                            thumbsDraw(pos, true);\n                            thumbArrUpdate();\n                        }\n                    });\n                    setShadow($nav, findShadowEdge(pos, navShaftTouchTail.min, navShaftTouchTail.max, opts.navdir));\n                }\n            }\n        }\n\n        function navUpdate() {\n            deactivateFrames(navFrameKey);\n            toDeactivate[navFrameKey].push(activeFrame[navFrameKey].addClass(activeClass).attr('data-active', true));\n        }\n\n        function deactivateFrames(key) {\n            var _toDeactivate = toDeactivate[key];\n\n            while (_toDeactivate.length) {\n                _toDeactivate.shift().removeClass(activeClass).attr('data-active', false);\n            }\n        }\n\n        function detachFrames(key) {\n            var _toDetach = toDetach[key];\n\n            $.each(activeIndexes, function (i, index) {\n                delete _toDetach[normalizeIndex(index)];\n            });\n\n            $.each(_toDetach, function (index, $frame) {\n                delete _toDetach[index];\n                $frame.detach();\n            });\n        }\n\n        function stageShaftReposition(skipOnEnd) {\n\n            repositionIndex = dirtyIndex = activeIndex;\n\n            var $frame = activeFrame[STAGE_FRAME_KEY];\n\n            if ($frame) {\n                deactivateFrames(STAGE_FRAME_KEY);\n                toDeactivate[STAGE_FRAME_KEY].push($frame.addClass(activeClass).attr('data-active', true));\n\n                if ($frame.hasClass(stageFrameClass)) {\n                    $frame.attr('aria-hidden', 'false');\n                }\n\n                skipOnEnd || that.showStage.onEnd(true);\n                stop($stageShaft, 0, true);\n\n                detachFrames(STAGE_FRAME_KEY);\n                stageFramePosition(activeIndexes);\n                setStageShaftMinmaxAndSnap();\n                setNavShaftMinMax();\n                addEnterUp($stageShaft[0], function () {\n                    if (!$fotorama.hasClass(fullscreenClass)) {\n                        that.requestFullScreen();\n                        $fullscreenIcon.focus();\n                    }\n                });\n            }\n        }\n\n        function extendMeasures(options, measuresArray) {\n            if (!options) return;\n\n            $.each(measuresArray, function (i, measures) {\n                if (!measures) return;\n\n                $.extend(measures, {\n                    width: options.width || measures.width,\n                    height: options.height,\n                    minwidth: options.minwidth,\n                    maxwidth: options.maxwidth,\n                    minheight: options.minheight,\n                    maxheight: options.maxheight,\n                    ratio: getRatio(options.ratio)\n                })\n            });\n        }\n\n        function triggerEvent(event, extra) {\n            $fotorama.trigger(_fotoramaClass + ':' + event, [that, extra]);\n        }\n\n        function onTouchStart() {\n            clearTimeout(onTouchEnd.t);\n            touchedFLAG = 1;\n\n            if (opts.stopautoplayontouch) {\n                that.stopAutoplay();\n            } else {\n                pausedAutoplayFLAG = true;\n            }\n        }\n\n        function onTouchEnd() {\n            if (!touchedFLAG) return;\n            if (!opts.stopautoplayontouch) {\n                releaseAutoplay();\n                changeAutoplay();\n            }\n\n            onTouchEnd.t = setTimeout(function () {\n                touchedFLAG = 0;\n            }, TRANSITION_DURATION + TOUCH_TIMEOUT);\n        }\n\n        function releaseAutoplay() {\n            pausedAutoplayFLAG = !!($videoPlaying || stoppedAutoplayFLAG);\n        }\n\n        function changeAutoplay() {\n\n            clearTimeout(changeAutoplay.t);\n            waitFor.stop(changeAutoplay.w);\n\n            if (!opts.autoplay || pausedAutoplayFLAG) {\n                if (that.autoplay) {\n                    that.autoplay = false;\n                    triggerEvent('stopautoplay');\n                }\n\n                return;\n            }\n\n            if (!that.autoplay) {\n                that.autoplay = true;\n                triggerEvent('startautoplay');\n            }\n\n            var _activeIndex = activeIndex;\n\n\n            var frameData = activeFrame[STAGE_FRAME_KEY].data();\n            changeAutoplay.w = waitFor(function () {\n                return frameData.state || _activeIndex !== activeIndex;\n            }, function () {\n                changeAutoplay.t = setTimeout(function () {\n\n                    if (pausedAutoplayFLAG || _activeIndex !== activeIndex) return;\n\n                    var _nextAutoplayIndex = nextAutoplayIndex,\n                        nextFrameData = data[_nextAutoplayIndex][STAGE_FRAME_KEY].data();\n\n                    changeAutoplay.w = waitFor(function () {\n\n                        return nextFrameData.state || _nextAutoplayIndex !== nextAutoplayIndex;\n                    }, function () {\n                        if (pausedAutoplayFLAG || _nextAutoplayIndex !== nextAutoplayIndex) return;\n                        that.show(o_loop ? getDirectionSign(!o_rtl) : nextAutoplayIndex);\n                    });\n                }, opts.autoplay);\n            });\n\n        }\n\n        that.startAutoplay = function (interval) {\n            if (that.autoplay) return this;\n            pausedAutoplayFLAG = stoppedAutoplayFLAG = false;\n            setAutoplayInterval(interval || opts.autoplay);\n            changeAutoplay();\n\n            return this;\n        };\n\n        that.stopAutoplay = function () {\n            if (that.autoplay) {\n                pausedAutoplayFLAG = stoppedAutoplayFLAG = true;\n                changeAutoplay();\n            }\n            return this;\n        };\n\n        that.showSlide = function (slideDir) {\n            var currentPosition = readPosition($navShaft, opts.navdir),\n                pos,\n                time = 500 * 1.1,\n                size = opts.navdir === 'horizontal' ? opts.thumbwidth : opts.thumbheight,\n                onEnd = function () {\n                    thumbArrUpdate();\n                };\n            if (slideDir === 'next') {\n                pos = currentPosition - (size + opts.margin) * thumbsPerSlide;\n            }\n            if (slideDir === 'prev') {\n                pos = currentPosition + (size + opts.margin) * thumbsPerSlide;\n            }\n            pos = validateRestrictions(pos, navShaftTouchTail);\n            thumbsDraw(pos, true);\n            slide($navShaft, {\n                time: time,\n                pos: pos,\n                direction: opts.navdir,\n                onEnd: onEnd\n            });\n        };\n\n        that.showWhileLongPress = function (options) {\n            if (that.longPress.singlePressInProgress) {\n                return;\n            }\n\n            var index = calcActiveIndex(options);\n            calcGlobalIndexes(index);\n            var time = calcTime(options) / 50;\n            var _activeFrame = activeFrame;\n            that.activeFrame = activeFrame = data[activeIndex];\n            var silent = _activeFrame === activeFrame && !options.user;\n\n            that.showNav(silent, options, time);\n\n            return this;\n        };\n\n        that.showEndLongPress = function (options) {\n            if (that.longPress.singlePressInProgress) {\n                return;\n            }\n\n            var index = calcActiveIndex(options);\n            calcGlobalIndexes(index);\n            var time = calcTime(options) / 50;\n            var _activeFrame = activeFrame;\n            that.activeFrame = activeFrame = data[activeIndex];\n\n            var silent = _activeFrame === activeFrame && !options.user;\n\n            that.showStage(silent, options, time);\n\n            showedFLAG = typeof lastActiveIndex !== 'undefined' && lastActiveIndex !== activeIndex;\n            lastActiveIndex = activeIndex;\n            return this;\n        };\n\n        function calcActiveIndex (options) {\n            var index;\n\n            if (typeof options !== 'object') {\n                index = options;\n                options = {};\n            } else {\n                index = options.index;\n            }\n\n            index = index === '>' ? dirtyIndex + 1 : index === '<' ? dirtyIndex - 1 : index === '<<' ? 0 : index === '>>' ? size - 1 : index;\n            index = isNaN(index) ? undefined : index;\n            index = typeof index === 'undefined' ? activeIndex || 0 : index;\n\n            return index;\n        }\n\n        function calcGlobalIndexes (index) {\n            that.activeIndex = activeIndex = edgeIndex(index);\n            prevIndex = getPrevIndex(activeIndex);\n            nextIndex = getNextIndex(activeIndex);\n            nextAutoplayIndex = normalizeIndex(activeIndex + (o_rtl ? -1 : 1));\n            activeIndexes = [activeIndex, prevIndex, nextIndex];\n\n            dirtyIndex = o_loop ? index : activeIndex;\n        }\n\n        function calcTime (options) {\n            var diffIndex = Math.abs(lastActiveIndex - dirtyIndex),\n                time = getNumber(options.time, function () {\n                    return Math.min(o_transitionDuration * (1 + (diffIndex - 1) / 12), o_transitionDuration * 2);\n                });\n\n            if (options.slow) {\n                time *= 10;\n            }\n\n            return time;\n        }\n\n        that.showStage = function (silent, options, time) {\n            unloadVideo($videoPlaying, activeFrame.i !== data[normalizeIndex(repositionIndex)].i);\n            frameDraw(activeIndexes, 'stage');\n            stageFramePosition(SLOW ? [dirtyIndex] : [dirtyIndex, getPrevIndex(dirtyIndex), getNextIndex(dirtyIndex)]);\n            updateTouchTails('go', true);\n\n            silent || triggerEvent('show', {\n                user: options.user,\n                time: time\n            });\n\n            pausedAutoplayFLAG = true;\n\n            var overPos = options.overPos;\n            var onEnd = that.showStage.onEnd = function (skipReposition) {\n                if (onEnd.ok) return;\n                onEnd.ok = true;\n\n                skipReposition || stageShaftReposition(true);\n\n                if (!silent) {\n                    triggerEvent('showend', {\n                        user: options.user\n                    });\n                }\n\n                if (!skipReposition && o_transition && o_transition !== opts.transition) {\n                    that.setOptions({transition: o_transition});\n                    o_transition = false;\n                    return;\n                }\n\n                updateFotoramaState();\n                loadImg(activeIndexes, 'stage');\n\n                updateTouchTails('go', false);\n                stageWheelUpdate();\n\n                stageCursor();\n                releaseAutoplay();\n                changeAutoplay();\n\n                if (that.fullScreen) {\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgFullClass).attr('aria-hidden', false);\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgClass).attr('aria-hidden', true)\n                } else {\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgFullClass).attr('aria-hidden', true);\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgClass).attr('aria-hidden', false)\n                }\n            };\n\n            if (!o_fade) {\n                slide($stageShaft, {\n                    pos: -getPosByIndex(dirtyIndex, measures.w, opts.margin, repositionIndex),\n                    overPos: overPos,\n                    time: time,\n                    onEnd: onEnd\n                });\n            } else {\n                var $activeFrame = activeFrame[STAGE_FRAME_KEY],\n                    $prevActiveFrame = data[lastActiveIndex] && activeIndex !== lastActiveIndex ? data[lastActiveIndex][STAGE_FRAME_KEY] : null;\n\n                fade($activeFrame, $prevActiveFrame, $stageFrame, {\n                    time: time,\n                    method: opts.transition,\n                    onEnd: onEnd\n                }, fadeStack);\n            }\n\n            arrsUpdate();\n        };\n\n        that.showNav = function(silent, options, time){\n            thumbArrUpdate();\n            if (o_nav) {\n                navUpdate();\n\n                var guessIndex = limitIndex(activeIndex + minMaxLimit(dirtyIndex - lastActiveIndex, -1, 1));\n                slideNavShaft({\n                    time: time,\n                    coo: guessIndex !== activeIndex && options.coo,\n                    guessIndex: typeof options.coo !== 'undefined' ? guessIndex : activeIndex,\n                    keep: silent\n                });\n                if (o_navThumbs) slideThumbBorder(time);\n            }\n        };\n\n        that.show = function (options) {\n            that.longPress.singlePressInProgress = true;\n\n            var index = calcActiveIndex(options);\n            calcGlobalIndexes(index);\n            var time = calcTime(options);\n            var _activeFrame = activeFrame;\n            that.activeFrame = activeFrame = data[activeIndex];\n\n            var silent = _activeFrame === activeFrame && !options.user;\n\n            that.showStage(silent, options, time);\n            that.showNav(silent, options, time);\n\n            showedFLAG = typeof lastActiveIndex !== 'undefined' && lastActiveIndex !== activeIndex;\n            lastActiveIndex = activeIndex;\n            that.longPress.singlePressInProgress = false;\n\n            return this;\n        };\n\n        that.requestFullScreen = function () {\n            if (o_allowFullScreen && !that.fullScreen) {\n\n                //check that this is not video\n                var isVideo = $((that.activeFrame || {}).$stageFrame || {}).hasClass('fotorama-video-container');\n                if(isVideo) {\n                    return;\n                }\n\n                scrollTop = $WINDOW.scrollTop();\n                scrollLeft = $WINDOW.scrollLeft();\n\n                lockScroll($WINDOW);\n\n                updateTouchTails('x', true);\n\n                measuresStash = $.extend({}, measures);\n\n                $fotorama\n                    .addClass(fullscreenClass)\n                    .appendTo($BODY.addClass(_fullscreenClass));\n\n                $HTML.addClass(_fullscreenClass);\n\n                unloadVideo($videoPlaying, true, true);\n\n                that.fullScreen = true;\n\n                if (o_nativeFullScreen) {\n                    fullScreenApi.request(fotorama);\n                }\n\n                that.resize();\n                loadImg(activeIndexes, 'stage');\n                updateFotoramaState();\n                triggerEvent('fullscreenenter');\n\n                if (!('ontouchstart' in window)) {\n                    $fullscreenIcon.focus();\n                }\n            }\n\n            return this;\n        };\n\n        function cancelFullScreen() {\n            if (that.fullScreen) {\n                that.fullScreen = false;\n\n                if (FULLSCREEN) {\n                    fullScreenApi.cancel(fotorama);\n                }\n\n                $BODY.removeClass(_fullscreenClass);\n                $HTML.removeClass(_fullscreenClass);\n\n                $fotorama\n                    .removeClass(fullscreenClass)\n                    .insertAfter($anchor);\n\n                measures = $.extend({}, measuresStash);\n\n                unloadVideo($videoPlaying, true, true);\n\n                updateTouchTails('x', false);\n\n                that.resize();\n                loadImg(activeIndexes, 'stage');\n\n                lockScroll($WINDOW, scrollLeft, scrollTop);\n\n                triggerEvent('fullscreenexit');\n            }\n        }\n\n        that.cancelFullScreen = function () {\n            if (o_nativeFullScreen && fullScreenApi.is()) {\n                fullScreenApi.cancel(document);\n            } else {\n                cancelFullScreen();\n            }\n\n            return this;\n        };\n\n        that.toggleFullScreen = function () {\n            return that[(that.fullScreen ? 'cancel' : 'request') + 'FullScreen']();\n        };\n\n        that.resize = function (options) {\n            if (!data) return this;\n\n            var time = arguments[1] || 0,\n                setFLAG = arguments[2];\n\n            thumbsPerSlide = getThumbsInSlide($wrap, opts);\n            extendMeasures(!that.fullScreen ? optionsToLowerCase(options) : {\n                width: $(window).width(),\n                maxwidth: null,\n                minwidth: null,\n                height: $(window).height(),\n                maxheight: null,\n                minheight: null\n            }, [measures, setFLAG || that.fullScreen || opts]);\n\n            var width = measures.width,\n                height = measures.height,\n                ratio = measures.ratio,\n                windowHeight = $WINDOW.height() - (o_nav ? $nav.height() : 0);\n\n            if (measureIsValid(width)) {\n                $wrap.css({width: ''});\n                $wrap.css({height: ''});\n                $stage.css({width: ''});\n                $stage.css({height: ''});\n                $stageShaft.css({width: ''});\n                $stageShaft.css({height: ''});\n                $nav.css({width: ''});\n                $nav.css({height: ''});\n                $wrap.css({minWidth: measures.minwidth || 0, maxWidth: measures.maxwidth || MAX_WIDTH});\n\n                if (o_nav === 'dots') {\n                    $navWrap.hide();\n                }\n                width = measures.W = measures.w = $wrap.width();\n                measures.nw = o_nav && numberFromWhatever(opts.navwidth, width) || width;\n\n                $stageShaft.css({width: measures.w, marginLeft: (measures.W - measures.w) / 2});\n\n                height = numberFromWhatever(height, windowHeight);\n\n                height = height || (ratio && width / ratio);\n\n                if (height) {\n                    width = Math.round(width);\n                    height = measures.h = Math.round(minMaxLimit(height, numberFromWhatever(measures.minheight, windowHeight), numberFromWhatever(measures.maxheight, windowHeight)));\n                    $stage.css({'width': width, 'height': height});\n\n                    if (opts.navdir === 'vertical' && !that.fullscreen) {\n                        $nav.width(opts.thumbwidth + opts.thumbmargin * 2);\n                    }\n\n                    if (opts.navdir === 'horizontal' && !that.fullscreen) {\n                        $nav.height(opts.thumbheight + opts.thumbmargin * 2);\n                    }\n\n                    if (o_nav === 'dots') {\n                        $nav.width(width)\n                            .height('auto');\n                        $navWrap.show();\n                    }\n\n                    if (opts.navdir === 'vertical' && that.fullScreen) {\n                        $stage.css('height', $WINDOW.height());\n                    }\n\n                    if (opts.navdir === 'horizontal' && that.fullScreen) {\n                        $stage.css('height', $WINDOW.height() - $nav.height());\n                    }\n\n                    if (o_nav) {\n                        switch (opts.navdir) {\n                            case 'vertical':\n                                $navWrap.removeClass(navShafthorizontalClass);\n                                $navWrap.removeClass(navShaftListClass);\n                                $navWrap.addClass(navShaftVerticalClass);\n                                $nav\n                                    .stop()\n                                    .animate({height: measures.h, width: opts.thumbwidth}, time);\n                                break;\n                            case 'list':\n                                $navWrap.removeClass(navShaftVerticalClass);\n                                $navWrap.removeClass(navShafthorizontalClass);\n                                $navWrap.addClass(navShaftListClass);\n                                break;\n                            default:\n                                $navWrap.removeClass(navShaftVerticalClass);\n                                $navWrap.removeClass(navShaftListClass);\n                                $navWrap.addClass(navShafthorizontalClass);\n                                $nav\n                                    .stop()\n                                    .animate({width: measures.nw}, time);\n                                break;\n                        }\n\n                        stageShaftReposition();\n                        slideNavShaft({guessIndex: activeIndex, time: time, keep: true});\n                        if (o_navThumbs && frameAppend.nav) slideThumbBorder(time);\n                    }\n\n                    measuresSetFLAG = setFLAG || true;\n\n                    ready.ok = true;\n                    ready();\n                }\n            }\n\n            stageLeft = $stage.offset().left;\n            setStagePosition();\n\n            return this;\n        };\n\n        that.setOptions = function (options) {\n            $.extend(opts, options);\n            reset();\n            return this;\n        };\n\n        that.shuffle = function () {\n            data && shuffle(data) && reset();\n            return this;\n        };\n\n        function setShadow($el, edge) {\n            if (o_shadows) {\n                $el.removeClass(shadowsLeftClass + ' ' + shadowsRightClass);\n                $el.removeClass(shadowsTopClass + ' ' + shadowsBottomClass);\n                edge && !$videoPlaying && $el.addClass(edge.replace(/^|\\s/g, ' ' + shadowsClass + '--'));\n            }\n        }\n\n        that.longPress = {\n            threshold: 1,\n            count: 0,\n            thumbSlideTime: 20,\n            progress: function(){\n                if (!this.inProgress) {\n                    this.count++;\n                    this.inProgress = this.count > this.threshold;\n                }\n            },\n            end: function(){\n                if(this.inProgress) {\n                    this.isEnded = true\n                }\n            },\n            reset: function(){\n                this.count = 0;\n                this.inProgress = false;\n                this.isEnded = false;\n            }\n        };\n\n        that.destroy = function () {\n            that.cancelFullScreen();\n            that.stopAutoplay();\n\n            data = that.data = null;\n\n            appendElements();\n\n            activeIndexes = [];\n            detachFrames(STAGE_FRAME_KEY);\n\n            reset.ok = false;\n\n            return this;\n        };\n\n        /**\n         *\n         * @returns {jQuery.Fotorama}\n         */\n        that.playVideo = function () {\n            var dataFrame = activeFrame,\n                video = dataFrame.video,\n                _activeIndex = activeIndex;\n\n            if (typeof video === 'object' && dataFrame.videoReady) {\n                o_nativeFullScreen && that.fullScreen && that.cancelFullScreen();\n\n                waitFor(function () {\n                    return !fullScreenApi.is() || _activeIndex !== activeIndex;\n                }, function () {\n                    if (_activeIndex === activeIndex) {\n                        dataFrame.$video = dataFrame.$video || $(div(videoClass)).append(createVideoFrame(video));\n                        dataFrame.$video.appendTo(dataFrame[STAGE_FRAME_KEY]);\n\n                        $wrap.addClass(wrapVideoClass);\n                        $videoPlaying = dataFrame.$video;\n\n                        stageNoMove();\n\n                        $arrs.blur();\n                        $fullscreenIcon.blur();\n\n                        triggerEvent('loadvideo');\n                    }\n                });\n            }\n\n            return this;\n        };\n\n        that.stopVideo = function () {\n            unloadVideo($videoPlaying, true, true);\n            return this;\n        };\n\n        that.spliceByIndex = function (index, newImgObj) {\n            newImgObj.i = index + 1;\n            newImgObj.img && $.ajax({\n                url: newImgObj.img,\n                type: 'HEAD',\n                success: function () {\n                    data.splice(index, 1, newImgObj);\n                    reset();\n                }\n            });\n        };\n\n        function unloadVideo($video, unloadActiveFLAG, releaseAutoplayFLAG) {\n            if (unloadActiveFLAG) {\n                $wrap.removeClass(wrapVideoClass);\n                $videoPlaying = false;\n\n                stageNoMove();\n            }\n\n            if ($video && $video !== $videoPlaying) {\n                $video.remove();\n                triggerEvent('unloadvideo');\n            }\n\n            if (releaseAutoplayFLAG) {\n                releaseAutoplay();\n                changeAutoplay();\n            }\n        }\n\n        function toggleControlsClass(FLAG) {\n            $wrap.toggleClass(wrapNoControlsClass, FLAG);\n        }\n\n        function stageCursor(e) {\n            if (stageShaftTouchTail.flow) return;\n\n            var x = e ? e.pageX : stageCursor.x,\n                pointerFLAG = x && !disableDirrection(getDirection(x)) && opts.click;\n\n            if (stageCursor.p !== pointerFLAG\n                && $stage.toggleClass(pointerClass, pointerFLAG)) {\n                stageCursor.p = pointerFLAG;\n                stageCursor.x = x;\n            }\n        }\n\n        $stage.on('mousemove', stageCursor);\n\n        function clickToShow(showOptions) {\n            clearTimeout(clickToShow.t);\n\n            if (opts.clicktransition && opts.clicktransition !== opts.transition) {\n                setTimeout(function () {\n                    var _o_transition = opts.transition;\n\n                    that.setOptions({transition: opts.clicktransition});\n\n                    // now safe to pass base transition to o_transition, so that.show will restor it\n                    o_transition = _o_transition;\n                    // this timeout is here to prevent jerking in some browsers\n                    clickToShow.t = setTimeout(function () {\n                        that.show(showOptions);\n                    }, 10);\n                }, 0);\n            } else {\n                that.show(showOptions);\n            }\n        }\n\n        function onStageTap(e, toggleControlsFLAG) {\n            var target = e.target,\n                $target = $(target);\n            if ($target.hasClass(videoPlayClass)) {\n                that.playVideo();\n            } else if (target === fullscreenIcon) {\n                that.toggleFullScreen();\n            } else if ($videoPlaying) {\n                target === videoClose && unloadVideo($videoPlaying, true, true);\n            } else if (!$fotorama.hasClass(fullscreenClass)) {\n                that.requestFullScreen();\n            }\n        }\n\n        function updateTouchTails(key, value) {\n            stageShaftTouchTail[key] = navShaftTouchTail[key] = value;\n        }\n\n        stageShaftTouchTail = moveOnTouch($stageShaft, {\n            onStart: onTouchStart,\n            onMove: function (e, result) {\n                setShadow($stage, result.edge);\n            },\n            onTouchEnd: onTouchEnd,\n            onEnd: function (result) {\n                var toggleControlsFLAG;\n\n                setShadow($stage);\n                toggleControlsFLAG = (MS_POINTER && !hoverFLAG || result.touch) &&\n                    opts.arrows;\n\n                if ((result.moved || (toggleControlsFLAG && result.pos !== result.newPos && !result.control)) && result.$target[0] !== $fullscreenIcon[0]) {\n                    var index = getIndexByPos(result.newPos, measures.w, opts.margin, repositionIndex);\n                    \n                    that.show({\n                        index: index,\n                        time: o_fade ? o_transitionDuration : result.time,\n                        overPos: result.overPos,\n                        user: true\n                    });\n                } else if (!result.aborted && !result.control) {\n                    onStageTap(result.startEvent, toggleControlsFLAG);\n                }\n            },\n            timeLow: 1,\n            timeHigh: 1,\n            friction: 2,\n            select: '.' + selectClass + ', .' + selectClass + ' *',\n            $wrap: $stage,\n            direction: 'horizontal'\n\n        });\n\n        navShaftTouchTail = moveOnTouch($navShaft, {\n            onStart: onTouchStart,\n            onMove: function (e, result) {\n                setShadow($nav, result.edge);\n            },\n            onTouchEnd: onTouchEnd,\n            onEnd: function (result) {\n\n                function onEnd() {\n                    slideNavShaft.l = result.newPos;\n                    releaseAutoplay();\n                    changeAutoplay();\n                    thumbsDraw(result.newPos, true);\n                    thumbArrUpdate();\n                }\n\n                if (!result.moved) {\n                    var target = result.$target.closest('.' + navFrameClass, $navShaft)[0];\n                    target && onNavFrameClick.call(target, result.startEvent);\n                } else if (result.pos !== result.newPos) {\n                    pausedAutoplayFLAG = true;\n                    slide($navShaft, {\n                        time: result.time,\n                        pos: result.newPos,\n                        overPos: result.overPos,\n                        direction: opts.navdir,\n                        onEnd: onEnd\n                    });\n                    thumbsDraw(result.newPos);\n                    o_shadows && setShadow($nav, findShadowEdge(result.newPos, navShaftTouchTail.min, navShaftTouchTail.max, result.dir));\n                } else {\n                    onEnd();\n                }\n            },\n            timeLow: .5,\n            timeHigh: 2,\n            friction: 5,\n            $wrap: $nav,\n            direction: opts.navdir\n        });\n\n        stageWheelTail = wheel($stage, {\n            shift: true,\n            onEnd: function (e, direction) {\n                onTouchStart();\n                onTouchEnd();\n                that.show({index: direction, slow: e.altKey})\n            }\n        });\n\n        navWheelTail = wheel($nav, {\n            onEnd: function (e, direction) {\n                onTouchStart();\n                onTouchEnd();\n                var newPos = stop($navShaft) + direction * .25;\n                $navShaft.css(getTranslate(minMaxLimit(newPos, navShaftTouchTail.min, navShaftTouchTail.max), opts.navdir));\n                o_shadows && setShadow($nav, findShadowEdge(newPos, navShaftTouchTail.min, navShaftTouchTail.max, opts.navdir));\n                navWheelTail.prevent = {'<': newPos >= navShaftTouchTail.max, '>': newPos <= navShaftTouchTail.min};\n                clearTimeout(navWheelTail.t);\n                navWheelTail.t = setTimeout(function () {\n                    slideNavShaft.l = newPos;\n                    thumbsDraw(newPos, true)\n                }, TOUCH_TIMEOUT);\n                thumbsDraw(newPos);\n            }\n        });\n\n        $wrap.hover(\n            function () {\n                setTimeout(function () {\n                    if (touchedFLAG) return;\n                    toggleControlsClass(!(hoverFLAG = true));\n                }, 0);\n            },\n            function () {\n                if (!hoverFLAG) return;\n                toggleControlsClass(!(hoverFLAG = false));\n            }\n        );\n\n        function onNavFrameClick(e) {\n            var index = $(this).data().eq;\n\n            if (opts.navtype === 'thumbs') {\n                clickToShow({index: index, slow: e.altKey, user: true, coo: e._x - $nav.offset().left});\n            } else {\n                clickToShow({index: index, slow: e.altKey, user: true});\n            }\n        }\n\n        function onArrClick(e) {\n            clickToShow({index: $arrs.index(this) ? '>' : '<', slow: e.altKey, user: true});\n        }\n\n        smartClick($arrs, function (e) {\n            stopEvent(e);\n            onArrClick.call(this, e);\n        }, {\n            onStart: function () {\n                onTouchStart();\n                stageShaftTouchTail.control = true;\n            },\n            onTouchEnd: onTouchEnd\n        });\n\n        smartClick($thumbArrLeft, function (e) {\n            stopEvent(e);\n            if (opts.navtype === 'thumbs') {\n\n                that.show('<');\n            } else {\n                that.showSlide('prev')\n            }\n        });\n\n        smartClick($thumbArrRight, function (e) {\n            stopEvent(e);\n            if (opts.navtype === 'thumbs') {\n                that.show('>');\n            } else {\n                that.showSlide('next')\n            }\n\n        });\n\n\n        function addFocusOnControls(el) {\n            addFocus(el, function () {\n                setTimeout(function () {\n                    lockScroll($stage);\n                }, 0);\n                toggleControlsClass(false);\n            });\n        }\n\n        $arrs.each(function () {\n            addEnterUp(this, function (e) {\n                onArrClick.call(this, e);\n            });\n            addFocusOnControls(this);\n        });\n\n        addEnterUp(fullscreenIcon, function () {\n            if ($fotorama.hasClass(fullscreenClass)) {\n                that.cancelFullScreen();\n                $stageShaft.focus();\n            } else {\n                that.requestFullScreen();\n                $fullscreenIcon.focus();\n            }\n\n        });\n        addFocusOnControls(fullscreenIcon);\n\n        function reset() {\n            setData();\n            setOptions();\n\n            if (!reset.i) {\n                reset.i = true;\n                // Only once\n                var _startindex = opts.startindex;\n                activeIndex = repositionIndex = dirtyIndex = lastActiveIndex = startIndex = edgeIndex(_startindex) || 0;\n                /*(o_rtl ? size - 1 : 0)*///;\n            }\n\n            if (size) {\n                if (changeToRtl()) return;\n\n                if ($videoPlaying) {\n                    unloadVideo($videoPlaying, true);\n                }\n\n                activeIndexes = [];\n                detachFrames(STAGE_FRAME_KEY);\n\n                reset.ok = true;\n\n                that.show({index: activeIndex, time: 0});\n                that.resize();\n            } else {\n                that.destroy();\n            }\n        }\n\n        function changeToRtl() {\n\n            if (!changeToRtl.f === o_rtl) {\n                changeToRtl.f = o_rtl;\n                activeIndex = size - 1 - activeIndex;\n                that.reverse();\n\n                return true;\n            }\n        }\n\n        $.each('load push pop shift unshift reverse sort splice'.split(' '), function (i, method) {\n            that[method] = function () {\n                data = data || [];\n                if (method !== 'load') {\n                    Array.prototype[method].apply(data, arguments);\n                } else if (arguments[0] && typeof arguments[0] === 'object' && arguments[0].length) {\n                    data = clone(arguments[0]);\n                }\n                reset();\n                return that;\n            }\n        });\n\n        function ready() {\n            if (ready.ok) {\n                ready.ok = false;\n                triggerEvent('ready');\n            }\n        }\n\n        reset();\n    };\n    $.fn.fotorama = function (opts) {\n        return this.each(function () {\n            var that = this,\n                $fotorama = $(this),\n                fotoramaData = $fotorama.data(),\n                fotorama = fotoramaData.fotorama;\n\n            if (!fotorama) {\n                waitFor(function () {\n                    return !isHidden(that);\n                }, function () {\n                    fotoramaData.urtext = $fotorama.html();\n                    new $.Fotorama($fotorama,\n                        $.extend(\n                            {},\n                            OPTIONS,\n                            window.fotoramaDefaults,\n                            opts,\n                            fotoramaData\n                        )\n                    );\n                });\n            } else {\n                fotorama.setOptions(opts, true);\n            }\n        });\n    };\n    $.Fotorama.instances = [];\n\n    function calculateIndexes() {\n        $.each($.Fotorama.instances, function (index, instance) {\n            instance.index = index;\n        });\n    }\n\n    function addInstance(instance) {\n        $.Fotorama.instances.push(instance);\n        calculateIndexes();\n    }\n\n    function hideInstance(instance) {\n        $.Fotorama.instances.splice(instance.index, 1);\n        calculateIndexes();\n    }\n\n    $.Fotorama.cache = {};\n    $.Fotorama.measures = {};\n    $ = $ || {};\n    $.Fotorama = $.Fotorama || {};\n    $.Fotorama.jst = $.Fotorama.jst || {};\n\n    $.Fotorama.jst.dots = function (v) {\n        var __t, __p = '', __e = _.escape;\n        __p += '<div class=\"fotorama__nav__frame fotorama__nav__frame--dot\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__dot\"></div>\\r\\n</div>';\n        return __p\n    };\n\n    $.Fotorama.jst.frameCaption = function (v) {\n        var __t, __p = '', __e = _.escape;\n        __p += '<div class=\"fotorama__caption\" aria-hidden=\"true\">\\r\\n    <div class=\"fotorama__caption__wrap\" id=\"' +\n            ((__t = ( v.labelledby )) == null ? '' : __t) +\n            '\">' +\n            ((__t = ( v.caption )) == null ? '' : __t) +\n            '</div>\\r\\n</div>\\r\\n';\n        return __p\n    };\n\n    $.Fotorama.jst.style = function (v) {\n        var __t, __p = '', __e = _.escape;\n        __p += '.fotorama' +\n            ((__t = ( v.s )) == null ? '' : __t) +\n            ' .fotorama__nav--thumbs .fotorama__nav__frame{\\r\\npadding:' +\n            ((__t = ( v.m )) == null ? '' : __t) +\n            'px;\\r\\nheight:' +\n            ((__t = ( v.h )) == null ? '' : __t) +\n            'px}\\r\\n.fotorama' +\n            ((__t = ( v.s )) == null ? '' : __t) +\n            ' .fotorama__thumb-border{\\r\\nheight:' +\n            ((__t = ( v.h )) == null ? '' : __t) +\n            'px;\\r\\nborder-width:' +\n            ((__t = ( v.b )) == null ? '' : __t) +\n            'px;\\r\\nmargin-top:' +\n            ((__t = ( v.m )) == null ? '' : __t) +\n            'px}';\n        return __p\n    };\n\n    $.Fotorama.jst.thumb = function (v) {\n        var __t, __p = '', __e = _.escape;\n        __p += '<div class=\"fotorama__nav__frame fotorama__nav__frame--thumb\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__thumb\">\\r\\n    </div>\\r\\n</div>';\n        return __p\n    };\n})(window, document, location, typeof jQuery !== 'undefined' && jQuery);\n\n","jquery/jquery.cookie.js":"/*jshint eqnull:true */\n/*!\n * jQuery Cookie Plugin v1.1\n * https://github.com/carhartl/jquery-cookie\n *\n * Copyright 2011, Klaus Hartl\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.opensource.org/licenses/GPL-2.0\n */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([\"jquery\"], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var pluses = /\\+/g;\n    function raw(s) {\n        return s;\n    }\n    function decoded(s) {\n        return decodeURIComponent(s.replace(pluses, ' '));\n    }\n\n    $.cookie = function(key, value, options) {\n\n        // key and at least value given, set cookie...\n        if (arguments.length > 1 && (!/Object/.test(Object.prototype.toString.call(value)) || value == null)) {\n            options = $.extend({}, $.cookie.defaults, options);\n\n            if (value == null) {\n                options.expires = -1;\n            }\n\n            if (typeof options.expires === 'number') {\n                var days = options.expires, t = options.expires = new Date();\n                t.setDate(t.getDate() + days);\n            }\n\n            value = String(value);\n\n            return (document.cookie = [\n                encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value),\n                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n                options.path    ? '; path=' + options.path : '',\n                options.domain  ? '; domain=' + options.domain : '',\n                options.secure  ? '; secure' : ''\n            ].join(''));\n        }\n\n        // key and possibly options given, get cookie...\n        options = value || $.cookie.defaults || {};\n        var decode = options.raw ? raw : decoded;\n        var cookies = document.cookie.split('; ');\n        for (var i = 0, parts; (parts = cookies[i] && cookies[i].split('=')); i++) {\n            if (decode(parts.shift()) === key) {\n                return decode(parts.join('='));\n            }\n        }\n        return null;\n    };\n\n    $.cookie.defaults = {};\n\n}));\n","jquery/jquery.metadata.js":"/*\n * Metadata - jQuery plugin for parsing metadata from elements\n *\n * Copyright (c) 2006 John Resig, Yehuda Katz, J\u00c3\u00af\u00c2\u00bf\u00c2\u00bd\u00c3\u0083\u00c2\u00b6rn Zaefferer, Paul McLanahan\n *\n * Dual licensed under the MIT and GPL licenses:\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n *\n * Revision: $Id: jquery.metadata.js 3640 2007-10-11 18:34:38Z pmclanahan $\n *\n */\n\n/**\n * Sets the type of metadata to use. Metadata is encoded in JSON, and each property\n * in the JSON will become a property of the element itself.\n *\n * There are four supported types of metadata storage:\n *\n *   attr:  Inside an attribute. The name parameter indicates *which* attribute.\n *\n *   class: Inside the class attribute, wrapped in curly braces: { }\n *\n *   elem:  Inside a child element (e.g. a script tag). The\n *          name parameter indicates *which* element.\n *   html5: Values are stored in data-* attributes.\n *\n * The metadata for an element is loaded the first time the element is accessed via jQuery.\n *\n * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements\n * matched by expr, then redefine the metadata type and run another $(expr) for other elements.\n *\n * @name $.metadata.setType\n *\n * @example <p id=\"one\" class=\"some_class {item_id: 1, item_label: 'Label'}\">This is a p</p>\n * @before $.metadata.setType(\"class\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from the class attribute\n *\n * @example <p id=\"one\" class=\"some_class\" data=\"{item_id: 1, item_label: 'Label'}\">This is a p</p>\n * @before $.metadata.setType(\"attr\", \"data\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a \"data\" attribute\n *\n * @example <p id=\"one\" class=\"some_class\"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>\n * @before $.metadata.setType(\"elem\", \"script\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a nested script element\n *\n * @example <p id=\"one\" class=\"some_class\" data-item_id=\"1\" data-item_label=\"Label\">This is a p</p>\n * @before $.metadata.setType(\"html5\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a series of data-* attributes\n *\n * @param String type The encoding type\n * @param String name The name of the attribute to be used to get metadata (optional)\n * @cat Plugins/Metadata\n * @descr Sets the type of encoding to be used when loading metadata for the first time\n * @type undefined\n * @see metadata()\n */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([\"jquery\"], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($) {\n\n\n    $.extend({\n        metadata : {\n            defaults : {\n                type: 'class',\n                name: 'metadata',\n                cre: /({.*})/,\n                single: 'metadata',\n                meta:'validate'\n            },\n            setType: function( type, name ){\n                this.defaults.type = type;\n                this.defaults.name = name;\n            },\n            get: function( elem, opts ){\n                var settings = $.extend({},this.defaults,opts);\n                // check for empty string in single property\n                if (!settings.single.length) {\n                    settings.single = 'metadata';\n                }\n                if (!settings.meta.length) {\n                    settings.meta = 'validate';\n                }\n\n                var data = $.data(elem, settings.single);\n                // returned cached data if it already exists\n                if ( data ) return data;\n\n                data = \"{}\";\n\n                var getData = function(data) {\n                    if(typeof data != \"string\") return data;\n\n                    if( data.indexOf('{') < 0 ) {\n                        data = eval(\"(\" + data + \")\");\n                    }\n                }\n\n                var getObject = function(data) {\n                    if(typeof data != \"string\") return data;\n\n                    data = eval(\"(\" + data + \")\");\n                    return data;\n                }\n\n                if ( settings.type == \"html5\" ) {\n                    var object = {};\n                    $( elem.attributes ).each(function() {\n                        var name = this.nodeName;\n                        if (name.indexOf('data-' + settings.meta) === 0) {\n                            name = name.replace(/^data-/, '');\n                        }\n                        else {\n                            return true;\n                        }\n                        object[name] = getObject(this.value);\n                    });\n                } else {\n                    if ( settings.type == \"class\" ) {\n                        var m = settings.cre.exec( elem.className );\n                        if ( m )\n                            data = m[1];\n                    } else if ( settings.type == \"elem\" ) {\n                        if( !elem.getElementsByTagName ) return;\n                        var e = elem.getElementsByTagName(settings.name);\n                        if ( e.length )\n                            data = $.trim(e[0].innerHTML);\n                    } else if ( elem.getAttribute != undefined ) {\n                        var attr = elem.getAttribute( settings.name );\n                        if ( attr )\n                            data = attr;\n                    }\n                    object = getObject(data.indexOf(\"{\") < 0 ? \"{\" + data + \"}\" : data);\n                }\n\n                $.data( elem, settings.single, object );\n                return object;\n            }\n        }\n    });\n\n    /**\n     * Returns the metadata object for the first member of the jQuery object.\n     *\n     * @name metadata\n     * @descr Returns element's metadata object\n     * @param Object opts An object contianing settings to override the defaults\n     * @type jQuery\n     * @cat Plugins/Metadata\n     */\n    $.fn.metadata = function( opts ){\n        return $.metadata.get( this[0], opts );\n    };\n\n}));"}
    }
});
