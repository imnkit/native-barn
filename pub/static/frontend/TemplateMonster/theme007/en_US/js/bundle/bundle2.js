require.config({
    config: {
        'jsbuild':{"Magento_ConfigurableProduct/js/configurable.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'priceUtils',\n    'priceBox',\n    'jquery/ui',\n    'jquery/jquery.parsequery'\n], function ($, _, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.configurable', {\n        options: {\n            superSelector: '.super-attribute-select',\n            selectSimpleProduct: '[name=\"selected_configurable_option\"]',\n            priceHolderSelector: '.price-box',\n            spConfig: {},\n            state: {},\n            priceFormat: {},\n            optionTemplate: '<%- data.label %>' +\n            \"<% if (typeof data.finalPrice.value !== 'undefined') { %>\" +\n            ' <%- data.finalPrice.formatted %>' +\n            '<% } %>',\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\n            mediaGalleryInitial: null,\n            slyOldPriceSelector: '.sly-old-price',\n\n            /**\n             * Defines the mechanism of how images of a gallery should be\n             * updated when user switches between configurations of a product.\n             *\n             * As for now value of this option can be either 'replace' or 'prepend'.\n             *\n             * @type {String}\n             */\n            gallerySwitchStrategy: 'replace'\n        },\n\n        /**\n         * Creates widget\n         * @private\n         */\n        _create: function () {\n            // Initial setting of various option values\n            this._initializeOptions();\n\n            // Override defaults with URL query parameters and/or inputs values\n            this._overrideDefaults();\n\n            // Change events to check select reloads\n            this._setupChangeEvents();\n\n            // Fill state\n            this._fillState();\n\n            // Setup child and prev/next settings\n            this._setChildSettings();\n\n            // Setup/configure values to inputs\n            this._configureForValues();\n\n            $(this.element).trigger('configurable.initialized');\n        },\n\n        /**\n         * Initialize tax configuration, initial settings, and options values.\n         * @private\n         */\n        _initializeOptions: function () {\n            var options = this.options,\n                gallery = $(options.mediaGallerySelector),\n                priceBoxOptions = $(this.options.priceHolderSelector).priceBox('option').priceConfig || null;\n\n            if (priceBoxOptions && priceBoxOptions.optionTemplate) {\n                options.optionTemplate = priceBoxOptions.optionTemplate;\n            }\n\n            if (priceBoxOptions && priceBoxOptions.priceFormat) {\n                options.priceFormat = priceBoxOptions.priceFormat;\n            }\n            options.optionTemplate = mageTemplate(options.optionTemplate);\n\n            options.settings = options.spConfig.containerId ?\n                $(options.spConfig.containerId).find(options.superSelector) :\n                $(options.superSelector);\n\n            options.values = options.spConfig.defaultValues || {};\n            options.parentImage = $('[data-role=base-image-container] img').attr('src');\n\n            this.inputSimpleProduct = this.element.find(options.selectSimpleProduct);\n\n            gallery.data('gallery') ?\n                this._onGalleryLoaded(gallery) :\n                gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\n\n        },\n\n        /**\n         * Override default options values settings with either URL query parameters or\n         * initialized inputs values.\n         * @private\n         */\n        _overrideDefaults: function () {\n            var hashIndex = window.location.href.indexOf('#');\n\n            if (hashIndex !== -1) {\n                this._parseQueryParams(window.location.href.substr(hashIndex + 1));\n            }\n\n            if (this.options.spConfig.inputsInitialized) {\n                this._setValuesByAttribute();\n            }\n        },\n\n        /**\n         * Parse query parameters from a query string and set options values based on the\n         * key value pairs of the parameters.\n         * @param {*} queryString - URL query string containing query parameters.\n         * @private\n         */\n        _parseQueryParams: function (queryString) {\n            var queryParams = $.parseQuery({\n                query: queryString\n            });\n\n            $.each(queryParams, $.proxy(function (key, value) {\n                this.options.values[key] = value;\n            }, this));\n        },\n\n        /**\n         * Override default options values with values based on each element's attribute\n         * identifier.\n         * @private\n         */\n        _setValuesByAttribute: function () {\n            this.options.values = {};\n            $.each(this.options.settings, $.proxy(function (index, element) {\n                var attributeId;\n\n                if (element.value) {\n                    attributeId = element.id.replace(/[a-z]*/, '');\n                    this.options.values[attributeId] = element.value;\n                }\n            }, this));\n        },\n\n        /**\n         * Set up .on('change') events for each option element to configure the option.\n         * @private\n         */\n        _setupChangeEvents: function () {\n            $.each(this.options.settings, $.proxy(function (index, element) {\n                $(element).on('change', this, this._configure);\n            }, this));\n        },\n\n        /**\n         * Iterate through the option settings and set each option's element configuration,\n         * attribute identifier. Set the state based on the attribute identifier.\n         * @private\n         */\n        _fillState: function () {\n            $.each(this.options.settings, $.proxy(function (index, element) {\n                var attributeId = element.id.replace(/[a-z]*/, '');\n\n                if (attributeId && this.options.spConfig.attributes[attributeId]) {\n                    element.config = this.options.spConfig.attributes[attributeId];\n                    element.attributeId = attributeId;\n                    this.options.state[attributeId] = false;\n                }\n            }, this));\n        },\n\n        /**\n         * Set each option's child settings, and next/prev option setting. Fill (initialize)\n         * an option's list of selections as needed or disable an option's setting.\n         * @private\n         */\n        _setChildSettings: function () {\n            var childSettings = [],\n                settings = this.options.settings,\n                index = settings.length,\n                option;\n\n            while (index--) {\n                option = settings[index];\n\n                if (index) {\n                    option.disabled = true;\n                } else {\n                    this._fillSelect(option);\n                }\n\n                _.extend(option, {\n                    childSettings: childSettings.slice(),\n                    prevSetting: settings[index - 1],\n                    nextSetting: settings[index + 1]\n                });\n\n                childSettings.push(option);\n            }\n        },\n\n        /**\n         * Setup for all configurable option settings. Set the value of the option and configure\n         * the option, which sets its state, and initializes the option's choices, etc.\n         * @private\n         */\n        _configureForValues: function () {\n            if (this.options.values) {\n                this.options.settings.each($.proxy(function (index, element) {\n                    var attributeId = element.attributeId;\n                    element.value = this.options.values[attributeId] || '';\n                    this._configureElement(element);\n                }, this));\n            }\n        },\n\n        /**\n         * Event handler for configuring an option.\n         * @private\n         * @param {Object} event - Event triggered to configure an option.\n         */\n        _configure: function (event) {\n            event.data._configureElement(this);\n        },\n\n        /**\n         * Configure an option, initializing it's state and enabling related options, which\n         * populates the related option's selection and resets child option selections.\n         * @private\n         * @param {*} element - The element associated with a configurable option.\n         */\n        _configureElement: function (element) {\n            this.simpleProduct = this._getSimpleProductId(element);\n\n            if (element.value) {\n                this.options.state[element.config.id] = element.value;\n\n                if (element.nextSetting) {\n                    element.nextSetting.disabled = false;\n                    this._fillSelect(element.nextSetting);\n                    this._resetChildren(element.nextSetting);\n                } else {\n                    if (!!document.documentMode) {\n                        this.inputSimpleProduct.val(element.options[element.selectedIndex].config.allowedProducts[0]);\n                    } else {\n                        this.inputSimpleProduct.val(element.selectedOptions[0].config.allowedProducts[0]);\n                    }\n                }\n            } else {\n                this._resetChildren(element);\n            }\n            this._reloadPrice();\n            this._displayRegularPriceBlock(this.simpleProduct);\n            this._changeProductImage();\n        },\n\n        /**\n         * Change displayed product image according to chosen options of configurable product\n         * @private\n         */\n        _changeProductImage: function () {\n            var images,\n                initialImages = this.options.mediaGalleryInitial,\n                galleryObject = $(this.options.mediaGallerySelector).data('gallery');\n\n            if (!galleryObject) {\n                return;\n            }\n\n            images = this.options.spConfig.images[this.simpleProduct];\n\n            if (images) {\n                if (this.options.gallerySwitchStrategy === 'prepend') {\n                    images = images.concat(initialImages);\n                }\n\n                images = $.extend(true, [], images);\n\n                images.forEach(function (img) {\n                    img.type = 'image';\n                });\n\n                galleryObject.updateData(images);\n            } else {\n                galleryObject.updateData(initialImages);\n                $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\n            }\n\n            galleryObject.first();\n        },\n\n        /**\n         * For a given option element, reset all of its selectable options. Clear any selected\n         * index, disable the option choice, and reset the option's state if necessary.\n         * @private\n         * @param {*} element - The element associated with a configurable option.\n         */\n        _resetChildren: function (element) {\n            if (element.childSettings) {\n                _.each(element.childSettings, function (set) {\n                    set.selectedIndex = 0;\n                    set.disabled = true;\n                });\n\n                if (element.config) {\n                    this.options.state[element.config.id] = false;\n                }\n            }\n        },\n\n        /**\n         * Populates an option's selectable choices.\n         * @private\n         * @param {*} element - Element associated with a configurable option.\n         */\n        _fillSelect: function (element) {\n            var attributeId = element.id.replace(/[a-z]*/, ''),\n                options = this._getAttributeOptions(attributeId),\n                prevConfig,\n                index = 1,\n                allowedProducts,\n                i,\n                j;\n\n            this._clearSelect(element);\n            element.options[0] = new Option('', '');\n            element.options[0].innerHTML = this.options.spConfig.chooseText;\n            prevConfig = false;\n\n            if (element.prevSetting) {\n                prevConfig = element.prevSetting.options[element.prevSetting.selectedIndex];\n            }\n\n            if (options) {\n                for (i = 0; i < options.length; i++) {\n                    allowedProducts = [];\n\n                    if (prevConfig) {\n                        for (j = 0; j < options[i].products.length; j++) {\n                            // prevConfig.config can be undefined\n                            if (prevConfig.config &&\n                                prevConfig.config.allowedProducts &&\n                                prevConfig.config.allowedProducts.indexOf(options[i].products[j]) > -1) {\n                                allowedProducts.push(options[i].products[j]);\n                            }\n                        }\n                    } else {\n                        allowedProducts = options[i].products.slice(0);\n                    }\n\n                    if (allowedProducts.length > 0) {\n                        options[i].allowedProducts = allowedProducts;\n                        element.options[index] = new Option(this._getOptionLabel(options[i]), options[i].id);\n\n                        if (typeof options[i].price !== 'undefined') {\n                            element.options[index].setAttribute('price', options[i].prices);\n                        }\n\n                        element.options[index].config = options[i];\n                        index++;\n                    }\n                }\n            }\n        },\n\n        /**\n         * Generate the label associated with a configurable option. This includes the option's\n         * label or value and the option's price.\n         * @private\n         * @param {*} option - A single choice among a group of choices for a configurable option.\n         * @return {String} The option label with option value and price (e.g. Black +1.99)\n         */\n        _getOptionLabel: function (option) {\n            return option.label;\n        },\n\n        /**\n         * Removes an option's selections.\n         * @private\n         * @param {*} element - The element associated with a configurable option.\n         */\n        _clearSelect: function (element) {\n            var i;\n\n            for (i = element.options.length - 1; i >= 0; i--) {\n                element.remove(i);\n            }\n        },\n\n        /**\n         * Retrieve the attribute options associated with a specific attribute Id.\n         * @private\n         * @param {Number} attributeId - The id of the attribute whose configurable options are sought.\n         * @return {Object} Object containing the attribute options.\n         */\n        _getAttributeOptions: function (attributeId) {\n            if (this.options.spConfig.attributes[attributeId]) {\n                return this.options.spConfig.attributes[attributeId].options;\n            }\n        },\n\n        /**\n         * Reload the price of the configurable product incorporating the prices of all of the\n         * configurable product's option selections.\n         */\n        _reloadPrice: function () {\n            $(this.options.priceHolderSelector).trigger('updatePrice', this._getPrices());\n        },\n\n        /**\n         * Get product various prices\n         * @returns {{}}\n         * @private\n         */\n        _getPrices: function () {\n            var prices = {},\n                elements = _.toArray(this.options.settings),\n                hasProductPrice = false;\n\n            _.each(elements, function (element) {\n                var selected = element.options[element.selectedIndex],\n                    config = selected && selected.config,\n                    priceValue = {};\n\n                if (config && config.allowedProducts.length === 1 && !hasProductPrice) {\n                    priceValue = this._calculatePrice(config);\n                    hasProductPrice = true;\n                }\n\n                prices[element.attributeId] = priceValue;\n            }, this);\n\n            return prices;\n        },\n\n        /**\n         * Returns prices for configured products\n         *\n         * @param {*} config - Products configuration\n         * @returns {*}\n         * @private\n         */\n        _calculatePrice: function (config) {\n            var displayPrices = $(this.options.priceHolderSelector).priceBox('option').prices,\n                newPrices = this.options.spConfig.optionPrices[_.first(config.allowedProducts)];\n\n            _.each(displayPrices, function (price, code) {\n                if (newPrices[code]) {\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\n                }\n            });\n\n            return displayPrices;\n        },\n\n        /**\n         * Returns Simple product Id\n         *  depending on current selected option.\n         *\n         * @private\n         * @param {HTMLElement} element\n         * @returns {String|undefined}\n         */\n        _getSimpleProductId: function (element) {\n            // TODO: Rewrite algorithm. It should return ID of\n            //        simple product based on selected options.\n            var allOptions = element.config.options,\n                value = element.value,\n                config;\n\n            config = _.filter(allOptions, function (option) {\n                return option.id === value;\n            });\n            config = _.first(config);\n\n            return _.isEmpty(config) ?\n                undefined :\n                _.first(config.allowedProducts);\n\n        },\n\n        /**\n         * Show or hide regular price block\n         *\n         * @param {*} optionId\n         * @private\n         */\n        _displayRegularPriceBlock: function (optionId) {\n            if (typeof optionId != 'undefined'\n                && this.options.spConfig.optionPrices[optionId].oldPrice.amount\n                != this.options.spConfig.optionPrices[optionId].finalPrice.amount\n            ) {\n                $(this.options.slyOldPriceSelector).show();\n            } else {\n                $(this.options.slyOldPriceSelector).hide();\n            }\n        },\n\n        /**\n         * Callback which fired after gallery gets initialized.\n         *\n         * @param {HTMLElement} element - DOM element associated with gallery.\n         */\n        _onGalleryLoaded: function (element) {\n            var galleryObject = element.data('gallery');\n\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\n        }\n    });\n\n    return $.mage.configurable;\n});\n","Magento_Wishlist/wishlist.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true sub:true*/\n/*global alert*/\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/validation/validation',\n\n    'mage/dataPost'\n], function ($, mageTemplate, alert) {\n    'use strict';\n\n    $.widget('mage.wishlist', {\n        options: {\n            dataAttribute: 'item-id',\n            nameFormat: 'qty[{0}]',\n            btnRemoveSelector: '[data-role=remove]',\n            qtySelector: '[data-role=qty]',\n            addToCartSelector: '[data-role=tocart]',\n            addAllToCartSelector: '[data-role=all-tocart]',\n            commentInputType: 'textarea',\n            infoList: false\n        },\n\n        /**\n         * Bind handlers to events.\n         */\n        _create: function () {\n            var _this = this;\n            if (!this.options.infoList) {\n                this.element\n                    .on('addToCart', function (event, context) {\n                        event.stopPropagation(event);\n                        $(context).data('stop-processing', true);\n                        var urlParams = _this._getItemsToCartParams(\n                            $(context).parents('[data-row=product-item]').find(_this.options.addToCartSelector)\n                        );\n                        $.mage.dataPost().postData(urlParams);\n                        return false;\n                    })\n                    .on('click', this.options.btnRemoveSelector, $.proxy(function (event) {\n                        event.preventDefault();\n                        $.mage.dataPost().postData($(event.currentTarget).data('post-remove'));\n                    }, this))\n                    .on('click', this.options.addToCartSelector, $.proxy(this._beforeAddToCart, this))\n                    .on('click', this.options.addAllToCartSelector, $.proxy(this._addAllWItemsToCart, this))\n                    .on('focusin focusout', this.options.commentInputType, $.proxy(this._focusComment, this));\n            }\n\n            // Setup validation for the form\n            this.element.mage('validation', {\n                errorPlacement: function (error, element) {\n                    error.insertAfter(element.next());\n                }\n            });\n        },\n\n        /**\n         * Process data before add to cart\n         *\n         * - update item's qty value.\n         *\n         * @param {Event} event\n         * @private\n         */\n        _beforeAddToCart: function(event) {\n            var elem = $(event.currentTarget),\n                itemId = elem.data(this.options.dataAttribute),\n                qtyName = $.validator.format(this.options.nameFormat, itemId),\n                qtyValue = elem.parents().find('[name=\"' + qtyName + '\"]').val(),\n                params = elem.data('post');\n\n            if (params) {\n                params.data = $.extend({}, params.data, {'qty': qtyValue});\n                elem.data('post', params);\n            }\n        },\n\n        /**\n         * Add wish list items to cart.\n         * @private\n         * @param {jQuery object} elem - clicked 'add to cart' button\n         */\n        _getItemsToCartParams: function (elem) {\n            if (elem.data(this.options.dataAttribute)) {\n                var itemId = elem.data(this.options.dataAttribute),\n                    url = this.options.addToCartUrl,\n                    qtyName = $.validator.format(this.options.nameFormat, itemId),\n                    qtyValue = elem.parents().find('[name=\"' + qtyName + '\"]').val();\n                url.data.item = itemId;\n                url.data.qty = qtyValue;\n                return url;\n            }\n        },\n\n        /**\n         * Add all wish list items to cart\n         * @private\n         */\n        _addAllWItemsToCart: function () {\n            var urlParams = this.options.addAllToCartUrl,\n                separator = (urlParams.action.indexOf('?') >= 0) ? '&' : '?';\n\n            this.element.find(this.options.qtySelector).each(function (index, element) {\n                urlParams.action += separator + $(element).prop('name') + '=' + encodeURIComponent($(element).val());\n                separator = '&';\n            });\n            $.mage.dataPost().postData(urlParams);\n        },\n\n        /**\n         * Toggle comment string.\n         * @private\n         * @param {Event} e\n         */\n        _focusComment: function (e) {\n            var commentInput = e.currentTarget;\n\n            if (commentInput.value === '' || commentInput.value === this.options.commentString) {\n                commentInput.value = commentInput.value === this.options.commentString ?\n                    '' : this.options.commentString;\n            }\n        }\n    });\n\n    // Extension for mage.wishlist - Select All checkbox\n    $.widget('mage.wishlist', $.mage.wishlist, {\n        options: {\n            selectAllCheckbox: '#select-all',\n            parentContainer: '#wishlist-table'\n        },\n\n        _create: function () {\n            this._super();\n            var selectAllCheckboxParent = $(this.options.selectAllCheckbox).parents(this.options.parentContainer),\n                checkboxCount = selectAllCheckboxParent.find('input:checkbox:not(' + this.options.selectAllCheckbox + ')').length;\n            // If Select all checkbox is checked, check all item checkboxes, if unchecked, uncheck all item checkboxes\n            $(this.options.selectAllCheckbox).on('click', function () {\n                selectAllCheckboxParent.find('input:checkbox').attr('checked', $(this).is(':checked'));\n            });\n            // If all item checkboxes are checked, check select all checkbox,\n            // if not all item checkboxes are checked, uncheck select all checkbox\n            selectAllCheckboxParent.on('click', 'input:checkbox:not(' + this.options.selectAllCheckbox + ')', $.proxy(function () {\n                var checkedCount = selectAllCheckboxParent.find('input:checkbox:checked:not(' + this.options.selectAllCheckbox + ')').length;\n                $(this.options.selectAllCheckbox).attr('checked', checkboxCount === checkedCount);\n            }, this));\n        }\n    });\n    // Extension for mage.wishlist info add to cart\n    $.widget('mage.wishlist', $.mage.wishlist, {\n        _create: function () {\n            this._super();\n\n            if (this.options.infoList) {\n                this.element.on('addToCart', $.proxy(function (event, context) {\n                    this.element.find('input:checkbox').attr('checked', false);\n                    $(context).closest('tr').find('input:checkbox').attr('checked', true);\n                    this.element.submit();\n                }, this));\n                this._checkBoxValidate();\n            }\n        },\n\n        /**\n         * validate checkbox selection.\n         * @private\n         */\n        _checkBoxValidate: function () {\n            this.element.validation({\n                submitHandler: $.proxy(function (form) {\n                    if ($(form).find('input:checkbox:checked').length) {\n                        form.submit();\n                    } else {\n                        alert({\n                            content: this.options.checkBoxValidationMessage\n                        });\n                    }\n                }, this)\n            });\n        }\n    });\n\n    // Extension for mage.wishlist - Add Wishlist item to Gift Registry\n    $.widget('mage.wishlist', $.mage.wishlist, {\n        options: {\n            formTmplSelector: '#form-tmpl',\n            formTmplId: '#wishlist-hidden-form'\n        },\n\n        _create: function () {\n            this._super();\n            var _this = this;\n            this.element.on('click', '[data-wishlist-to-giftregistry]', function () {\n                var json = $(this).data('wishlist-to-giftregistry'),\n                    tmplJson = {\n                        item: json.itemId,\n                        entity: json.entity,\n                        url: json.url\n                    },\n                    html = mageTemplate(_this.options.formTmplSelector, {\n                        data: tmplJson\n                    });\n\n                $(html).appendTo('body');\n                $(_this.options.formTmplId).submit();\n            });\n        }\n    });\n\n    return $.mage.wishlist;\n});\n","Magento_Wishlist/js/add-to-wishlist.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n    \n    $.widget('mage.addToWishlist', {\n        options: {\n            bundleInfo: 'div.control [name^=bundle_option]',\n            configurableInfo: '.super-attribute-select',\n            groupedInfo: '#super-product-table input',\n            downloadableInfo: '#downloadable-links-list input',\n            customOptionsInfo: '.product-custom-option',\n            qtyInfo: '#qty'\n        },\n        _create: function () {\n            this._bind();\n        },\n        _bind: function() {\n            var options = this.options,\n                dataUpdateFunc = '_updateWishlistData',\n                changeCustomOption = 'change ' + options.customOptionsInfo,\n                changeQty = 'change ' + options.qtyInfo,\n                events = {};\n\n            if ('productType' in options) {\n                if (typeof options.productType === 'string') {\n                    options.productType = [options.productType];\n                }\n            } else {\n                options.productType = [];\n            }\n\n            events[changeCustomOption] = dataUpdateFunc;\n            events[changeQty] = dataUpdateFunc;\n\n            for (var key in options.productType) {\n                if (options.productType.hasOwnProperty(key) && options.productType[key] + 'Info' in options) {\n                    events['change ' + options[options.productType[key] + 'Info']] = dataUpdateFunc;\n                }\n            }\n            this._on(events);\n        },\n        _updateWishlistData: function(event) {\n            var dataToAdd = {},\n                isFileUploaded = false;\n            if (event.handleObj.selector == this.options.qtyInfo) {\n                this._updateAddToWishlistButton({});\n                event.stopPropagation();\n                return;\n            }\n            var self = this;\n            $(event.handleObj.selector).each(function(index, element){\n                if ($(element).is('input[type=text]')\n                    || $(element).is('input[type=email]')\n                    || $(element).is('input[type=number]')\n                    || $(element).is('input[type=hidden]')\n                    || $(element).is('input[type=checkbox]:checked')\n                    || $(element).is('input[type=radio]:checked')\n                    || $(element).is('textarea')\n                    || $('#' + element.id + ' option:selected').length\n                ) {\n                    dataToAdd = $.extend({}, dataToAdd, self._getElementData(element));\n                    return;\n                }\n                if ($(element).is('input[type=file]') && $(element).val()) {\n                    isFileUploaded = true;\n                }\n            });\n            if (isFileUploaded) {\n                this.bindFormSubmit();\n            }\n            this._updateAddToWishlistButton(dataToAdd);\n            event.stopPropagation();\n        },\n        _updateAddToWishlistButton: function(dataToAdd) {\n            var self = this;\n            $('[data-action=\"add-to-wishlist\"]').each(function(index, element) {\n                var params = $(element).data('post');\n                if (!params)\n                    params = {'data': {}};\n\n                if (!$.isEmptyObject(dataToAdd)) {\n                    self._removeExcessiveData(params, dataToAdd);\n                }\n\n                params.data = $.extend({}, params.data, dataToAdd, {'qty': $(self.options.qtyInfo).val()});\n                $(element).data('post', params);\n            });\n        },\n        _arrayDiffByKeys: function(array1, array2) {\n            var result = {};\n            $.each(array1, function(key, value) {\n                if (key.indexOf('option') === -1) {\n                    return;\n                }\n                if (!array2[key])\n                    result[key] = value;\n            });\n            return result;\n        },\n        _getElementData: function(element) {\n            element = $(element);\n            var data = {},\n                elementName = element.data('selector') ? element.data('selector') : element.attr('name'),\n                elementValue = element.val();\n            if (element.is('select[multiple]') && elementValue !== null) {\n                if (elementName.substr(elementName.length - 2) == '[]') {\n                    elementName = elementName.substring(0, elementName.length - 2);\n                }\n                $.each(elementValue, function (key, option) {\n                    data[elementName + '[' + option + ']'] = option;\n                });\n            } else {\n                if (elementValue) {\n                    if (elementName.substr(elementName.length - 2) == '[]') {\n                        elementName = elementName.substring(0, elementName.length - 2);\n                        if (elementValue) {\n                            data[elementName + '[' + elementValue + ']'] = elementValue;\n                        }\n                    } else {\n                        data[elementName] = elementValue;\n                    }\n                }\n            }\n            return data;\n        },\n        _removeExcessiveData: function(params, dataToAdd) {\n            var dataToRemove = this._arrayDiffByKeys(params.data, dataToAdd);\n            $.each(dataToRemove, function(key, value) {\n                delete params.data[key];\n            });\n        },\n        bindFormSubmit: function() {\n            var self = this;\n            $('[data-action=\"add-to-wishlist\"]').on('click', function(event) {\n                event.stopPropagation();\n                event.preventDefault();\n\n                var element = $('input[type=file]' + self.options.customOptionsInfo),\n                    params = $(event.currentTarget).data('post'),\n                    form = $(element).closest('form'),\n                    action = params.action;\n                if (params.data.id) {\n                    $('<input>', {\n                        type: 'hidden',\n                        name: 'id',\n                        value: params.data.id\n                    }).appendTo(form);\n                }\n                if (params.data.uenc) {\n                    action += 'uenc/' + params.data.uenc;\n                }\n\n                $(form).attr('action', action).submit();\n            });\n        }\n    });\n    \n    return $.mage.addToWishlist;\n});\n","Magento_Vault/js/view/payment/method-renderer/vault.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'Magento_Checkout/js/action/select-payment-method',\n        'Magento_Checkout/js/checkout-data'\n    ],\n    function (Component, selectPaymentMethod, checkoutData) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Vault/payment/form'\n            },\n\n            /**\n             * @returns {exports.initObservable}\n             */\n            initObservable: function () {\n                this._super()\n                    .observe([]);\n\n                return this;\n            },\n\n            /**\n             * @returns\n             */\n            selectPaymentMethod: function () {\n                selectPaymentMethod(\n                    {\n                        method: this.getId()\n                    }\n                );\n                checkoutData.setSelectedPaymentMethod(this.getId());\n\n                return true;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getTitle: function () {\n                return '';\n            },\n\n            /**\n             * @returns {String}\n             */\n            getToken: function () {\n                return '';\n            },\n\n            /**\n             * @returns {String}\n             */\n            getId: function () {\n                return this.index;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getCode: function () {\n                return this.code;\n            },\n\n            /**\n             * Get last 4 digits of card\n             * @returns {String}\n             */\n            getMaskedCard: function () {\n                return '';\n            },\n\n            /**\n             * Get expiration date\n             * @returns {String}\n             */\n            getExpirationDate: function () {\n                return '';\n            },\n\n            /**\n             * Get card type\n             * @returns {String}\n             */\n            getCardType: function () {\n                return '';\n            },\n\n            /**\n             * @param {String} type\n             * @returns {Boolean}\n             */\n            getIcons: function (type) {\n                return window.checkoutConfig.payment.ccform.icons.hasOwnProperty(type) ?\n                    window.checkoutConfig.payment.ccform.icons[type]\n                    : false;\n            },\n\n            /**\n             * @returns {*}\n             */\n            getData: function () {\n                var data = {\n                    method: this.getCode()\n                };\n\n                data['additional_data'] = {};\n                data['additional_data']['public_hash'] = this.getToken();\n\n                return data;\n            }\n        });\n    }\n);\n","Magento_Cookie/js/notices.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\",\n    \"mage/cookies\"\n], function($){\n    \"use strict\";\n\n    $.widget('mage.cookieNotices', {\n        _create: function() {\n            if ($.mage.cookies.get(this.options.cookieName)) {\n                this.element.hide();\n            } else {\n                this.element.show();\n            }\n            $(this.options.cookieAllowButtonSelector).on('click', $.proxy(function() {\n                var cookieExpires = new Date(new Date().getTime() + this.options.cookieLifetime * 1000);\n\n                $.mage.cookies.set(this.options.cookieName, this.options.cookieValue, {expires: cookieExpires});\n                if ($.mage.cookies.get(this.options.cookieName)) {\n                    window.location.reload();\n                } else {\n                    window.location.href = this.options.noCookiesUrl;\n                }\n            }, this));\n        }\n    });\n\n    return $.mage.cookieNotices;\n});\n","Magento_Cookie/js/require-cookie.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint evil:true browser:true jquery:true */\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n    \n    $.widget('mage.requireCookie', {\n        options: {\n            event: 'click',\n            noCookieUrl: 'enable-cookies',\n            triggers: ['.action.login', '.action.submit']\n        },\n\n        /**\n         * Constructor\n         * @private\n         */\n        _create: function() {\n            this._bind();\n        },\n\n        /**\n         * This method binds elements found in this widget.\n         * @private\n         */\n        _bind: function() {\n            var events = {};\n\n            $.each(this.options.triggers, function(index, value) {\n                events['click ' + value] = '_checkCookie';\n            });\n            this._on(events);\n        },\n\n        /**\n         * This method set the url for the redirect.\n         * @private\n         */\n        _checkCookie: function(event) {\n            if (navigator.cookieEnabled) {\n                return;\n            }\n            event.preventDefault();\n            window.location = this.options.noCookieUrl;\n        }\n    });\n\n    return $.mage.requireCookie;\n});\n","Magento_Search/form-mini.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    \"matchMedia\",\n    'jquery/ui',\n    'mage/translate'\n], function ($, _, mageTemplate, mediaCheck) {\n    'use strict';\n\n    /**\n     * Check wether the incoming string is not empty or if doesn't consist of spaces.\n     *\n     * @param {String} value - Value to check.\n     * @returns {Boolean}\n     */\n    function isEmpty(value) {\n        return (value.length === 0) || (value == null) || /^\\s+$/.test(value);\n    }\n\n    $.widget('mage.quickSearch', {\n        options: {\n            autocomplete: 'off',\n            minSearchLength: 2,\n            responseFieldElements: 'ul li',\n            selectClass: 'selected',\n            template:\n                '<li class=\"<%- data.row_class %>\" id=\"qs-option-<%- data.index %>\" role=\"option\">' +\n                    '<span class=\"qs-option-name\">' +\n                       ' <%- data.title %>' +\n                    '</span>' +\n                    '<span aria-hidden=\"true\" class=\"amount\">' +\n                        '<%- data.num_results %>' +\n                    '</span>' +\n                '</li>',\n            submitBtn: 'button[type=\"submit\"]',\n            searchLabel: '[data-role=minisearch-label]',\n            isExpandable: null\n        },\n\n        _create: function () {\n            this.responseList = {\n                indexList: null,\n                selected: null\n            };\n            this.autoComplete = $(this.options.destinationSelector);\n            this.searchForm = $(this.options.formSelector);\n            this.submitBtn = this.searchForm.find(this.options.submitBtn)[0];\n            this.searchLabel = $(this.options.searchLabel);\n            this.isExpandable = this.options.isExpandable;\n\n            _.bindAll(this, '_onKeyDown', '_onPropertyChange', '_onSubmit');\n\n            this.submitBtn.disabled = true;\n\n            this.element.attr('autocomplete', this.options.autocomplete);\n\n            mediaCheck({\n                media: '(max-width: 768px)',\n                entry: function () {\n                    this.isExpandable = true;\n                }.bind(this),\n                exit: function () {\n                    this.isExpandable = false;\n                    this.element.removeAttr('aria-expanded');\n                }.bind(this)\n            });\n\n            this.searchLabel.on('click', function (e) {\n                // allow input to lose its' focus when clicking on label\n                if (this.isExpandable && this.isActive()) {\n                    e.preventDefault();\n                }\n            }.bind(this));\n\n            this.element.on('blur', $.proxy(function () {\n\n                setTimeout($.proxy(function () {\n                    if (this.autoComplete.is(':hidden')) {\n                        this.setActiveState(false);\n                    }\n                    this.autoComplete.hide();\n                    this._updateAriaHasPopup(false);\n                }, this), 250);\n            }, this));\n\n            this.element.trigger('blur');\n\n            this.element.on('focus', this.setActiveState.bind(this, true));\n            this.element.on('keydown', this._onKeyDown);\n            this.element.on('input propertychange', this._onPropertyChange);\n\n            this.searchForm.on('submit', $.proxy(function() {\n                this._onSubmit();\n                this._updateAriaHasPopup(false);\n            }, this));\n        },\n\n        /**\n         * Checks if search field is active.\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            return this.searchLabel.hasClass('active');\n        },\n\n        /**\n         * Sets state of the search field to provided value.\n         *\n         * @param {Boolean} isActive\n         */\n        setActiveState: function (isActive) {\n            this.searchLabel.toggleClass('active', isActive);\n\n            if (this.isExpandable) {\n                this.element.attr('aria-expanded', isActive);\n            }\n        },\n\n        /**\n         * @private\n         * @return {Element} The first element in the suggestion list.\n         */\n        _getFirstVisibleElement: function () {\n            return this.responseList.indexList ? this.responseList.indexList.first() : false;\n        },\n\n        /**\n         * @private\n         * @return {Element} The last element in the suggestion list.\n         */\n        _getLastElement: function () {\n            return this.responseList.indexList ? this.responseList.indexList.last() : false;\n        },\n\n        /**\n         * @private\n         * @param {Boolean} show Set attribute aria-haspopup to \"true/false\" for element.\n         */\n        _updateAriaHasPopup: function(show) {\n            if (show) {\n                this.element.attr('aria-haspopup', 'true');\n            } else {\n                this.element.attr('aria-haspopup', 'false');\n            }\n        },\n\n        /**\n         * Clears the item selected from the suggestion list and resets the suggestion list.\n         * @private\n         * @param {Boolean} all - Controls whether to clear the suggestion list.\n         */\n        _resetResponseList: function (all) {\n            this.responseList.selected = null;\n\n            if (all === true) {\n                this.responseList.indexList = null;\n            }\n        },\n\n        /**\n         * Executes when the search box is submitted. Sets the search input field to the\n         * value of the selected item.\n         * @private\n         * @param {Event} e - The submit event\n         */\n        _onSubmit: function (e) {\n            var value = this.element.val();\n\n            if (isEmpty(value)) {\n                e.preventDefault();\n            }\n\n            if (this.responseList.selected) {\n                this.element.val(this.responseList.selected.find('.qs-option-name').text());\n            }\n        },\n\n        /**\n         * Executes when keys are pressed in the search input field. Performs specific actions\n         * depending on which keys are pressed.\n         * @private\n         * @param {Event} e - The key down event\n         * @return {Boolean} Default return type for any unhandled keys\n         */\n        _onKeyDown: function (e) {\n            var keyCode = e.keyCode || e.which;\n\n            switch (keyCode) {\n                case $.ui.keyCode.HOME:\n                    this._getFirstVisibleElement().addClass(this.options.selectClass);\n                    this.responseList.selected = this._getFirstVisibleElement();\n                    break;\n                case $.ui.keyCode.END:\n                    this._getLastElement().addClass(this.options.selectClass);\n                    this.responseList.selected = this._getLastElement();\n                    break;\n                case $.ui.keyCode.ESCAPE:\n                    this._resetResponseList(true);\n                    this.autoComplete.hide();\n                    break;\n                case $.ui.keyCode.ENTER:\n                    this.searchForm.trigger('submit');\n                    break;\n                case $.ui.keyCode.DOWN:\n                    if (this.responseList.indexList) {\n                        if (!this.responseList.selected) {\n                            this._getFirstVisibleElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getFirstVisibleElement();\n                        }\n                        else if (!this._getLastElement().hasClass(this.options.selectClass)) {\n                            this.responseList.selected = this.responseList.selected.removeClass(this.options.selectClass).next().addClass(this.options.selectClass);\n                        } else {\n                            this.responseList.selected.removeClass(this.options.selectClass);\n                            this._getFirstVisibleElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getFirstVisibleElement();\n                        }\n                        this.element.val(this.responseList.selected.find('.qs-option-name').text());\n                        this.element.attr('aria-activedescendant', this.responseList.selected.attr('id'));\n                    }\n                    break;\n                case $.ui.keyCode.UP:\n                    if (this.responseList.indexList !== null) {\n                        if (!this._getFirstVisibleElement().hasClass(this.options.selectClass)) {\n                            this.responseList.selected = this.responseList.selected.removeClass(this.options.selectClass).prev().addClass(this.options.selectClass);\n\n                        } else {\n                            this.responseList.selected.removeClass(this.options.selectClass);\n                            this._getLastElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getLastElement();\n                        }\n                        this.element.val(this.responseList.selected.find('.qs-option-name').text());\n                        this.element.attr('aria-activedescendant', this.responseList.selected.attr('id'));\n                    }\n                    break;\n                default:\n                    return true;\n            }\n        },\n\n        /**\n         * Executes when the value of the search input field changes. Executes a GET request\n         * to populate a suggestion list based on entered text. Handles click (select), hover,\n         * and mouseout events on the populated suggestion list dropdown.\n         * @private\n         */\n        _onPropertyChange: function () {\n            var searchField = this.element,\n                clonePosition = {\n                    position: 'absolute',\n                    // Removed to fix display issues\n                    // left: searchField.offset().left,\n                    // top: searchField.offset().top + searchField.outerHeight(),\n                    width: searchField.outerWidth()\n                },\n                source = this.options.template,\n                template = mageTemplate(source),\n                dropdown = $('<ul role=\"listbox\"></ul>'),\n                value = this.element.val();\n\n            this.submitBtn.disabled = isEmpty(value);\n\n            if (value.length >= parseInt(this.options.minSearchLength, 10)) {\n                $.getJSON(this.options.url, {q: value}, $.proxy(function (data) {\n                    $.each(data, function(index, element) {\n                        element.index = index;\n                        var html = template({\n                            data: element\n                        });\n                        dropdown.append(html);\n                    });\n                    this.responseList.indexList = this.autoComplete.html(dropdown)\n                        .css(clonePosition)\n                        .show()\n                        .find(this.options.responseFieldElements + ':visible');\n\n                    this._resetResponseList(false);\n                    this.element.removeAttr('aria-activedescendant');\n\n                    if (this.responseList.indexList.length) {\n                        this._updateAriaHasPopup(true);\n                    } else {\n                        this._updateAriaHasPopup(false);\n                    }\n\n                    this.responseList.indexList\n                        .on('click', function (e) {\n                            this.responseList.selected = $(e.currentTarget);\n                            this.searchForm.trigger('submit');\n                        }.bind(this))\n                        .on('mouseenter mouseleave', function (e) {\n                            this.responseList.indexList.removeClass(this.options.selectClass);\n                            $(e.target).addClass(this.options.selectClass);\n                            this.responseList.selected = $(e.target);\n                            this.element.attr('aria-activedescendant', $(e.target).attr('id'));\n                        }.bind(this))\n                        .on('mouseout', function (e) {\n                            if (!this._getLastElement() && this._getLastElement().hasClass(this.options.selectClass)) {\n                                $(e.target).removeClass(this.options.selectClass);\n                                this._resetResponseList(false);\n                            }\n                        }.bind(this));\n                }, this));\n            } else {\n                this._resetResponseList(true);\n                this.autoComplete.hide();\n                this._updateAriaHasPopup(false);\n                this.element.removeAttr('aria-activedescendant');\n            }\n        }\n    });\n\n    return $.mage.quickSearch;\n});\n","Magento_Review/js/error-placement.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'mage/mage'\n], function ($, mage) {\n    'use strict';\n\n    return function (config, element) {\n        $(element).mage('validation', {\n            errorPlacement: function (error, element) {\n\n                if (element.parents('#product-review-table').length) {\n                    $('#product-review-table').siblings(this.errorElement + '.' + this.errorClass).remove();\n                    $('#product-review-table').after(error);\n                } else {\n                    element.after(error);\n                }\n            }\n        });\n    };\n});\n","Magento_Review/js/process-reviews.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    function processReviews(url, fromPages) {\n        $.ajax({\n            url: url,\n            cache: true,\n            dataType: 'html'\n        }).done(function (data) {\n            $('#product-review-container').html(data);\n            $('[data-role=\"product-review\"] .pages a').each(function (index, element) {\n                $(element).click(function (event) {\n                    processReviews($(element).attr('href'), true);\n                    event.preventDefault();\n                });\n            });\n        }).complete(function () {\n            if (fromPages == true) {\n                $('html, body').animate({\n                    scrollTop: $('#reviews').offset().top - 50\n                }, 300);\n            }\n        });\n    }\n\n    return function (config, element) {\n        processReviews(config.productReviewUrl);\n        $(function () {\n            $('.product-info-main .reviews-actions a').click(function (event) {\n                event.preventDefault();\n                var acnchor = $(this).attr('href').replace(/^.*?(#|$)/, '');\n                $(\".product.data.items [data-role='content']\").each(function(index){\n                    if (this.id == 'reviews') {\n                        $('.product.data.items').tabs('activate', index);\n                        $('html, body').animate({\n                            scrollTop: $('#' + acnchor).offset().top - 50\n                        }, 300);\n                    }\n                });\n            });\n        });\n    };\n});\n","Magento_Review/js/view/review.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'uiComponent',\n    'Magento_Customer/js/customer-data',\n    'Magento_Customer/js/view/customer'\n], function (Component, customerData, customer) {\n    'use strict';\n\n    return Component.extend({\n        initialize: function () {\n            this._super();\n\n            this.review = customerData.get('review').extend({disposableCustomerData: 'review'});\n        },\n        nickname: function() {\n            return this.review().nickname || customerData.get('customer')().firstname;\n        }\n    });\n});\n","Magento_Paypal/order-review.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    \"jquery\",\n    'Magento_Ui/js/modal/alert',\n    \"jquery/ui\",\n    \"mage/translate\",\n    \"mage/mage\",\n    \"mage/validation\"\n], function($, alert){\n    \"use strict\";\n\n    $.widget('mage.orderReview', {\n        options: {\n            orderReviewSubmitSelector: '#review-button',\n            shippingSelector: '#shipping_method',\n            shippingSubmitFormSelector: null,\n            updateOrderSelector: '#update-order',\n            billingAsShippingSelector: '#billing\\\\:as_shipping',\n            updateContainerSelector: '#details-reload',\n            waitLoadingContainer: '#review-please-wait',\n            shippingMethodContainer: '#shipping-method-container',\n            agreementSelector: 'div.checkout-agreements input',\n            isAjax: false,\n            updateShippingMethodSubmitSelector: \"#update-shipping-method-submit\",\n            reviewSubmitSelector: \"#review-submit\",\n            shippingMethodUpdateUrl: null,\n            updateOrderSubmitUrl: null,\n            canEditShippingMethod: false\n        },\n\n        /**\n         * Widget instance properties\n         */\n        triggerPropertyChange: true,\n        isShippingSubmitForm: false,\n\n        _create: function () {\n            //change handler for ajaxEnabled\n            if (this.options.isAjax) {\n                this._submitOrder = this._ajaxSubmitOrder;\n            }\n\n            this.element.on('click', this.options.orderReviewSubmitSelector, $.proxy(this._submitOrder, this))\n                .on('click', this.options.billingAsShippingSelector, $.proxy(this._shippingTobilling, this))\n                .on('change', this.options.shippingSelector, $.proxy(this._submitUpdateOrder, this, this.options.updateOrderSubmitUrl, this.options.updateContainerSelector))\n                .find(this.options.updateOrderSelector).on('click', $.proxy(this._updateOrderHandler, this)).end()\n                .find(this.options.updateShippingMethodSubmitSelector).hide().end()\n                .find(this.options.reviewSubmitSelector).hide();\n            this._shippingTobilling();\n            if ($(this.options.shippingSubmitFormSelector).length && this.options.canEditShippingMethod) {\n                this.isShippingSubmitForm = true;\n                $(this.options.shippingSubmitFormSelector).find(this.options.updateShippingMethodSubmitSelector).hide().end()\n                    .on('change',\n                        this.options.shippingSelector, $.proxy(this._submitUpdateOrder, this, $(this.options.shippingSubmitFormSelector).prop('action'), this.options.updateContainerSelector));\n                this._updateOrderSubmit(!$(this.options.shippingSubmitFormSelector).find(this.options.shippingSelector).val());\n            } else {\n                var isDisable = (this.isShippingSubmitForm && this.element.find(this.options.shippingSelector).val());\n                this.element.on('input propertychange', \":input[name]\", $.proxy(this._updateOrderSubmit, this, isDisable, this._onShippingChange))\n                    .find('select').not(this.options.shippingSelector).on('change', this._propertyChange);\n                this._updateOrderSubmit(isDisable);\n            }\n        },\n\n        /**\n         * show ajax loader\n         */\n        _ajaxBeforeSend: function () {\n            this.element.find(this.options.waitLoadingContainer).show();\n        },\n\n        /**\n         * hide ajax loader\n         */\n        _ajaxComplete: function () {\n            this.element.find(this.options.waitLoadingContainer).hide();\n        },\n\n        /**\n         * trigger propertychange for input type select\n         */\n        _propertyChange: function () {\n            $(this).trigger('propertychange');\n        },\n\n        /**\n         * trigger change for the update of shippping methods from server\n         */\n        _updateOrderHandler: function () {\n            $(this.options.shippingSelector).trigger('change');\n        },\n\n        /**\n         * Attempt to submit order\n         */\n        _submitOrder: function () {\n            if (this._validateForm()) {\n                this.element.find(this.options.updateOrderSelector).fadeTo(0, 0.5)\n                    .end().find(this.options.waitLoadingContainer).show()\n                    .end().submit();\n                this._updateOrderSubmit(true);\n            }\n        },\n\n        /**\n         * Attempt to ajax submit order\n         */\n        _ajaxSubmitOrder: function () {\n            if (this.element.find(this.options.waitLoadingContainer).is(\":visible\")) {\n                return false;\n            }\n            $.ajax({\n                url: this.element.prop('action'),\n                type: 'post',\n                context: this,\n                data: {isAjax: 1},\n                dataType: 'json',\n                beforeSend: this._ajaxBeforeSend,\n                complete: this._ajaxComplete,\n                success: function (response) {\n                    if ($.type(response) === 'object' && !$.isEmptyObject(response)) {\n                        if (response.error_messages) {\n                            this._ajaxComplete();\n                            var msg = response.error_messages;\n                            if (msg) {\n                                if ($.type(msg) === 'array') {\n                                    msg = msg.join(\"\\n\");\n                                }\n                            }\n                            alert({\n                                content: $.mage.__(msg)\n                            });\n                            return false;\n                        }\n                        if (response.redirect) {\n                            $.mage.redirect(response.redirect);\n                            return false;\n                        }\n                        else if (response.success) {\n                            $.mage.redirect(this.options.successUrl);\n                            return false;\n                        }\n                        this._ajaxComplete();\n                        alert({\n                            content: $.mage.__('Sorry, something went wrong.')\n                        });\n                    }\n                },\n                error: function () {\n                    alert({\n                        content: $.mage.__('Sorry, something went wrong. Please try again later.')\n                    });\n                    this._ajaxComplete();\n                }\n            });\n        },\n\n        /**\n         * Validate Order form\n         */\n        _validateForm: function () {\n            this.element.find(this.options.agreementSelector).off('change').on('change', $.proxy(function (e) {\n                var isValid = this._validateForm();\n                this._updateOrderSubmit(!isValid);\n            }, this));\n\n            if (this.element.data('mageValidation')) {\n                return this.element.validation().valid();\n            }\n            return true;\n        },\n\n        /**\n         * Check/Set whether order can be submitted\n         * Also disables form submission element, if any\n         * @param shouldDisable - whether should prevent order submission explicitly\n         * @param optional function for shipping change handler\n         * @param optional if true the property change will be set to true\n         */\n        _updateOrderSubmit: function (shouldDisable, fn) {\n            this._toggleButton(this.options.orderReviewSubmitSelector, shouldDisable);\n            if ($.type(fn) === 'function') {\n                fn.call(this);\n            }\n        },\n\n        /**\n         * Enable/Disable button\n         * @param button button selector to be toggled\n         * @param disable  boolean for toggling\n         */\n        _toggleButton: function (button, disable) {\n            $(button).prop({\"disabled\": disable}).toggleClass('no-checkout', disable).fadeTo(0, disable ? 0.5 : 1);\n        },\n\n        /**\n         * Copy element value from shipping to billing address\n         * @param e optional\n         */\n        _shippingTobilling: function (e) {\n            if (this.options.shippingSubmitFormSelector) {\n                return false;\n            }\n            var isChecked = $(this.options.billingAsShippingSelector).is(':checked'),\n                opacity = isChecked ? 0.5 : 1;\n            if (isChecked) {\n                this.element.validation(\"clearError\", ':input[name^=\"billing\"]');\n            }\n            $(':input[name^=\"shipping\"]', this.element).each($.proxy(function (key, value) {\n                var fieldObj = $(value.id.replace('shipping:', '#billing\\\\:'));\n                if (isChecked) {\n                    fieldObj = fieldObj.val($(value).val());\n                }\n                fieldObj.prop({\"readonly\": isChecked, \"disabled\": isChecked}).fadeTo(0, opacity);\n                if (fieldObj.is(\"select\")) {\n                    this.triggerPropertyChange = false;\n                    fieldObj.trigger('change');\n                }\n            }, this));\n            if (isChecked || e) {\n                this._updateOrderSubmit(true);\n            }\n            this.triggerPropertyChange = true;\n        },\n\n        /**\n         * Dispatch an ajax request of Update Order submission\n         * @param url - url where to submit shipping method\n         * @param resultId - id of element to be updated\n         */\n        _submitUpdateOrder: function (url, resultId) {\n            if (this.element.find(this.options.waitLoadingContainer).is(\":visible\")) {\n                return false;\n            }\n            var isChecked = $(this.options.billingAsShippingSelector).is(':checked'),\n                formData = null,\n                callBackResponseHandler = null,\n                shippingMethod = $.trim($(this.options.shippingSelector).val());\n            this._shippingTobilling();\n\n            if (url && resultId && shippingMethod) {\n                this._updateOrderSubmit(true);\n                this._toggleButton(this.options.updateOrderSelector, true);\n\n                // form data and callBack updated based on the shippping Form element\n                if (this.isShippingSubmitForm) {\n                    formData = $(this.options.shippingSubmitFormSelector).serialize() + \"&isAjax=true\";\n                    callBackResponseHandler = function (response) {\n                        $(resultId).html(response);\n                        this._updateOrderSubmit(false);\n                        this._ajaxComplete();\n                    };\n                } else {\n                    formData = this.element.serialize() + \"&isAjax=true\";\n                    callBackResponseHandler = function (response) {\n                        $(resultId).html(response);\n                        this._ajaxShippingUpdate(shippingMethod);\n                    };\n                }\n                if (isChecked) {\n                    $(this.options.shippingSelect).prop('disabled', true);\n                }\n                $.ajax({\n                    url: url,\n                    type: 'post',\n                    context: this,\n                    beforeSend: this._ajaxBeforeSend,\n                    data: formData,\n                    success: callBackResponseHandler\n                });\n            }\n        },\n\n        /**\n         * Update Shipping Methods Element from server\n         * @param shippingMethod\n         */\n        _ajaxShippingUpdate: function (shippingMethod) {\n            $.ajax({\n                    url: this.options.shippingMethodUpdateUrl,\n                    data: {isAjax: true, shipping_method: shippingMethod},\n                    type: 'post',\n                    context: this,\n                    success: function (response) {\n                        $(this.options.shippingMethodContainer).parent().html(response);\n                        this._toggleButton(this.options.updateOrderSelector, false);\n                        this._updateOrderSubmit(false);\n                    },\n                    complete: this._ajaxComplete\n                }\n            );\n        },\n\n        /**\n         * Actions on change Shipping Address data\n         */\n        _onShippingChange: function () {\n            if (this.triggerPropertyChange && $.trim($(this.options.shippingSelector).val())) {\n                this.element.find(this.options.shippingSelector).hide().end()\n                    .find(this.options.shippingSelector + '_update').show();\n            }\n        }\n    });\n    \n    return $.mage.orderReview;\n});\n","Magento_Paypal/js/paypal-checkout.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/confirm',\n    'Magento_Customer/js/customer-data',\n    'jquery/ui',\n    'mage/mage'\n], function ($, confirm, customerData) {\n    'use strict';\n\n    $.widget('mage.paypalCheckout', {\n        options: {\n            originalForm:\n                'form:not(#product_addtocart_form_from_popup):has(input[name=\"product\"][value=%1])',\n            productId: 'input[type=\"hidden\"][name=\"product\"]',\n            ppCheckoutSelector: '[data-role=pp-checkout-url]',\n            ppCheckoutInput: '<input type=\"hidden\" data-role=\"pp-checkout-url\" name=\"return_url\" value=\"\"/>'\n        },\n\n        /**\n         * Initialize store credit events\n         * @private\n         */\n        _create: function () {\n            this.element.on('click', '[data-action=\"checkout-form-submit\"]', $.proxy(function (e) {\n                var $target = $(e.target),\n                    returnUrl = $target.data('checkout-url'),\n                    productId = $target.closest('form').find(this.options.productId).val(),\n                    originalForm = this.options.originalForm.replace('%1', productId),\n                    self = this,\n                    billingAgreement = customerData.get('paypal-billing-agreement');\n\n                e.preventDefault();\n\n                if (billingAgreement().askToCreate) {\n                    confirm({\n                        content: billingAgreement().confirmMessage,\n                        actions: {\n\n                            /**\n                             * Confirmation handler\n                             *\n                             */\n                            confirm: function () {\n                                returnUrl = billingAgreement().confirmUrl;\n                                self._redirect(returnUrl, originalForm);\n                            },\n\n                            /**\n                             * Cancel confirmation handler\n                             *\n                             */\n                            cancel: function (event) {\n                                if (event && !$(event.target).hasClass('action-close')) {\n                                    self._redirect(returnUrl);\n                                }\n                            }\n                        }\n                    });\n                } else {\n                    this._redirect(returnUrl, originalForm);\n                }\n            }, this));\n        },\n\n        /**\n         * Redirect to certain url, with optional form\n         * @param {String} returnUrl\n         * @param {HTMLElement} originalForm\n         *\n         */\n        _redirect: function (returnUrl, originalForm) {\n            var $form,\n                ppCheckoutInput;\n\n            if (this.options.isCatalogProduct) {\n                // find the form from which the button was clicked\n                $form = originalForm ? $(originalForm) : $($(this.options.shortcutContainerClass).closest('form'));\n\n                ppCheckoutInput = $form.find(this.options.ppCheckoutSelector)[0];\n\n                if (!ppCheckoutInput) {\n                    ppCheckoutInput = $(this.options.ppCheckoutInput);\n                    ppCheckoutInput.appendTo($form);\n                }\n                $(ppCheckoutInput).val(returnUrl);\n\n                $form.submit();\n            } else {\n                $.mage.redirect(returnUrl);\n            }\n        }\n    });\n\n    return $.mage.paypalCheckout;\n});\n","Magento_Paypal/js/action/set-payment-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/url-builder',\n        'mage/storage',\n        'Magento_Checkout/js/model/error-processor',\n        'Magento_Customer/js/model/customer',\n        'Magento_Checkout/js/model/full-screen-loader'\n    ],\n    function ($, quote, urlBuilder, storage, errorProcessor, customer, fullScreenLoader) {\n        'use strict';\n\n        return function (messageContainer) {\n            var serviceUrl,\n                payload,\n                method = 'put',\n                paymentData = quote.paymentMethod();\n\n            /**\n             * Checkout for guest and registered customer.\n             */\n            if (!customer.isLoggedIn()) {\n                serviceUrl = urlBuilder.createUrl('/guest-carts/:cartId/set-payment-information', {\n                    cartId: quote.getQuoteId()\n                });\n                payload = {\n                    cartId: quote.getQuoteId(),\n                    email: quote.guestEmail,\n                    paymentMethod: paymentData\n                };\n                method = 'post';\n            } else {\n                serviceUrl = urlBuilder.createUrl('/carts/mine/selected-payment-method', {});\n                payload = {\n                    cartId: quote.getQuoteId(),\n                    method: paymentData\n                };\n            }\n            fullScreenLoader.startLoader();\n\n            return storage[method](\n                serviceUrl, JSON.stringify(payload)\n            ).fail(\n                function (response) {\n                    errorProcessor.process(response, messageContainer);\n                    fullScreenLoader.stopLoader();\n                }\n            );\n        };\n    }\n);\n","Magento_Paypal/js/in-context/billing-agreement.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/confirm',\n    'Magento_Customer/js/customer-data'\n], function ($, confirm, customerData) {\n    'use strict';\n\n    $.widget('mage.billingAgreement', {\n        options: {\n            invalidateOnLoad: false,\n            cancelButtonSelector: '.block-billing-agreements-view button.cancel',\n            cancelMessage: '',\n            cancelUrl: ''\n        },\n\n        /**\n         * Initialize billing agreements events\n         * @private\n         */\n        _create: function () {\n            var self = this;\n\n            if (this.options.invalidateOnLoad) {\n                this.invalidate();\n            }\n            $(this.options.cancelButtonSelector).on('click', function () {\n                confirm({\n                    content: self.options.cancelMessage,\n                    actions: {\n                        /**\n                         * 'Confirm' action handler.\n                         */\n                        confirm: function () {\n                            self.invalidate();\n                            window.location.href = self.options.cancelUrl;\n                        }\n                    }\n                });\n\n                return false;\n            });\n        },\n\n        /**\n         * clear paypal billing agreement customer data\n         * @returns void\n         */\n        invalidate: function () {\n            customerData.invalidate(['paypal-billing-agreement']);\n        }\n    });\n\n    return $.mage.billingAgreement;\n});\n","Magento_Paypal/js/in-context/button.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'uiComponent',\n        'jquery',\n        'domReady!'\n    ],\n    function (\n        Component,\n        $\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {},\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super();\n\n                return this.initEvents();\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initEvents: function () {\n                $('#' + this.id).off('click.' + this.id)\n                    .on('click.' + this.id, this.click.bind(this));\n\n                return this;\n            },\n\n            /**\n             * @param {Object} event\n             * @returns void\n             */\n            click: function (event) {\n                event.preventDefault();\n\n                $('#' + this.paypalButton).click();\n            }\n        });\n    }\n);\n","Magento_Paypal/js/in-context/express-checkout.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'uiComponent',\n        'paypalInContextExpressCheckout',\n        'Magento_Customer/js/customer-data',\n        'domReady!'\n    ],\n    function (\n        _,\n        $,\n        Component,\n        paypalExpressCheckout,\n        customerData\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {\n                clientConfig: {\n\n                    /**\n                     * @param {Object} event\n                     */\n                    click: function (event) {\n                        $('body').trigger('processStart');\n\n                        event.preventDefault();\n\n                        paypalExpressCheckout.checkout.initXO();\n\n                        $.getJSON(\n                            this.path,\n                            {\n                                button: 1\n                            }\n                        ).done(\n                            function (response) {\n                                if (response && response.url) {\n                                    paypalExpressCheckout.checkout.startFlow(response.url);\n\n                                    return;\n                                }\n\n                                paypalExpressCheckout.checkout.closeFlow();\n                            }\n                        ).fail(\n                            function () {\n                                $('body').trigger('processStop');\n                                paypalExpressCheckout.checkout.closeFlow();\n                            }\n                        ).always(\n                            function () {\n                                customerData.invalidate(['cart']);\n                            }\n                        );\n                    }\n                }\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super();\n\n                return this.initClient();\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initClient: function () {\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n\n                paypalExpressCheckout.checkout.setup(this.merchantId, this.clientConfig);\n\n                return this;\n            }\n        });\n    }\n);\n","Magento_Paypal/js/model/iframe-redirect.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'ko',\n        'Magento_Paypal/js/model/iframe',\n        'Magento_Ui/js/model/messageList'\n    ],\n    function (ko, iframe, messageList) {\n        'use strict';\n\n        return function (cartUrl, errorMessage, goToSuccessPage, successUrl) {\n            if (this === window.self) {\n                window.location = cartUrl;\n            }\n\n            if (!!errorMessage.message) {\n                document.removeEventListener('click', iframe.stopEventPropagation, true);\n                iframe.isInAction(false);\n                messageList.addErrorMessage(errorMessage);\n            } else if (!!goToSuccessPage) {\n                window.location = successUrl;\n            } else {\n                window.location = cartUrl;\n            }\n        };\n    }\n);\n","Magento_Paypal/js/model/iframe.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'ko'\n    ],\n    function (ko) {\n        'use strict';\n\n        var isInAction = ko.observable(false);\n\n        return {\n            isInAction: isInAction,\n            stopEventPropagation: function (event) {\n                event.stopImmediatePropagation();\n                event.preventDefault();\n            }\n        };\n    }\n);\n","Magento_Paypal/js/view/payment/paypal-payments.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n\n        var isContextCheckout = window.checkoutConfig.payment.paypalExpress.isContextCheckout,\n            paypalExpress = 'Magento_Paypal/js/view/payment/method-renderer' +\n                (isContextCheckout ? '/in-context/checkout-express' : '/paypal-express');\n\n        rendererList.push(\n            {\n                type: 'paypal_express',\n                component: paypalExpress,\n                config: window.checkoutConfig.payment.paypalExpress.inContextConfig\n            },\n            {\n                type: 'paypal_express_bml',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/paypal-express-bml'\n            },\n            {\n                type: 'payflow_express',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/payflow-express'\n            },\n            {\n                type: 'payflow_express_bml',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/payflow-express-bml'\n            },\n            {\n                type: 'payflowpro',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/payflowpro-method'\n            },\n            {\n                type: 'payflow_link',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/iframe-methods'\n            },\n            {\n                type: 'payflow_advanced',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/iframe-methods'\n            },\n            {\n                type: 'hosted_pro',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/iframe-methods'\n            },\n            {\n                type: 'paypal_billing_agreement',\n                component: 'Magento_Paypal/js/view/payment/method-renderer/paypal-billing-agreement'\n            }\n        );\n\n        /**\n         * Add view logic here if needed\n         **/\n        return Component.extend({});\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/iframe-methods.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'ko',\n        'Magento_Paypal/js/model/iframe',\n        'Magento_Checkout/js/model/full-screen-loader'\n    ],\n    function (Component, ko, iframe, fullScreenLoader) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/iframe-methods',\n                paymentReady: false\n            },\n            redirectAfterPlaceOrder: false,\n            isInAction: iframe.isInAction,\n\n            /**\n             * @return {exports}\n             */\n            initObservable: function () {\n                this._super()\n                    .observe('paymentReady');\n\n                return this;\n            },\n\n            /**\n             * @return {*}\n             */\n            isPaymentReady: function () {\n                return this.paymentReady();\n            },\n\n            /**\n             * Get action url for payment method iframe.\n             * @returns {String}\n             */\n            getActionUrl: function () {\n                return this.isInAction() ? window.checkoutConfig.payment.paypalIframe.actionUrl[this.getCode()] : '';\n            },\n\n            /**\n             * Places order in pending payment status.\n             */\n            placePendingPaymentOrder: function () {\n                if (this.placeOrder()) {\n                    fullScreenLoader.startLoader();\n                    this.isInAction(true);\n                    // capture all click events\n                    document.addEventListener('click', iframe.stopEventPropagation, true);\n                }\n            },\n\n            getPlaceOrderDeferredObject: function () {\n                var self = this;\n                return this._super()\n                    .fail(\n                        function () {\n                            fullScreenLoader.stopLoader();\n                            self.isInAction(false);\n                            document.removeEventListener('click', iframe.stopEventPropagation, true);\n                        }\n                    );\n            },\n\n            /**\n             * After place order callback\n             */\n            afterPlaceOrder: function () {\n                if (this.iframeIsLoaded) {\n                    document.getElementById(this.getCode() + '-iframe')\n                        .contentWindow.location.reload();\n                }\n\n                this.paymentReady(true);\n                this.iframeIsLoaded = true;\n                this.isPlaceOrderActionAllowed(true);\n                fullScreenLoader.stopLoader();\n            },\n\n            /**\n             * Hide loader when iframe is fully loaded.\n             */\n            iframeLoaded: function () {\n                fullScreenLoader.stopLoader();\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/payflow-express-bml.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Paypal/js/view/payment/method-renderer/paypal-express-abstract'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/payflow-express-bml'\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/payflow-express.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Paypal/js/view/payment/method-renderer/paypal-express-abstract'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/payflow-express'\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/payflowpro-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'Magento_Payment/js/view/payment/iframe',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_Checkout/js/action/set-payment-information',\n        'Magento_Checkout/js/model/full-screen-loader',\n        'Magento_Vault/js/view/payment/vault-enabler'\n    ],\n    function ($, Component, additionalValidators, setPaymentInformationAction, fullScreenLoader, VaultEnabler) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/payflowpro-form'\n            },\n            placeOrderHandler: null,\n            validateHandler: null,\n\n            /**\n             * @returns {exports.initialize}\n             */\n            initialize: function () {\n                this._super();\n                this.vaultEnabler = new VaultEnabler();\n                this.vaultEnabler.setPaymentCode(this.getVaultCode());\n\n                return this;\n            },\n\n            /**\n             * @param {Function} handler\n             */\n            setPlaceOrderHandler: function(handler) {\n                this.placeOrderHandler = handler;\n            },\n\n            /**\n             * @param {Function} handler\n             */\n            setValidateHandler: function (handler) {\n                this.validateHandler = handler;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            context: function () {\n                return this;\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            isShowLegend: function () {\n                return true;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getCode: function () {\n                return 'payflowpro';\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            isActive: function () {\n                return true;\n            },\n\n            /**\n             * @override\n             */\n            placeOrder: function () {\n                var self = this;\n\n                if (this.validateHandler() && additionalValidators.validate()) {\n                    this.isPlaceOrderActionAllowed(false);\n                    fullScreenLoader.startLoader();\n                    $.when(\n                        setPaymentInformationAction(this.messageContainer, self.getData())\n                    ).done(\n                        function () {\n                            self.placeOrderHandler().fail(\n                                function () {\n                                    fullScreenLoader.stopLoader();\n                                }\n                            );\n                        }\n                    ).always(\n                        function () {\n                            self.isPlaceOrderActionAllowed(true);\n                            fullScreenLoader.stopLoader();\n                        }\n                    );\n                }\n            },\n\n            /**\n             * @returns {Object}\n             */\n            getData: function () {\n                var data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'cc_type': this.creditCardType(),\n                        'cc_exp_year': this.creditCardExpYear(),\n                        'cc_exp_month': this.creditCardExpMonth(),\n                        'cc_last_4': this.creditCardNumber().substr(-4)\n                    }\n                };\n\n                this.vaultEnabler.visitAdditionalData(data);\n\n                return data;\n            },\n\n            /**\n             * @returns {Bool}\n             */\n            isVaultEnabled: function () {\n                return this.vaultEnabler.isVaultEnabled();\n            },\n\n            /**\n             * @returns {String}\n             */\n            getVaultCode: function () {\n                return 'payflowpro_cc_vault';\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/paypal-billing-agreement.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/view/payment/default',\n        \"mage/validation\"\n    ],\n    function ($, Component) {\n        'use strict';\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/paypal_billing_agreement-form',\n                selectedBillingAgreement: ''\n            },\n            initObservable: function () {\n                this._super()\n                    .observe('selectedBillingAgreement');\n                return this;\n            },\n            getTransportName: function() {\n                return window.checkoutConfig.payment.paypalBillingAgreement.transportName;\n            },\n            getBillingAgreements: function() {\n                return window.checkoutConfig.payment.paypalBillingAgreement.agreements;\n            },\n            getData: function() {\n\n                var additionalData = null;\n                if (this.getTransportName()) {\n                    additionalData = {};\n                    additionalData[this.getTransportName()] = this.selectedBillingAgreement();\n                }\n                return {'method': this.item.method, 'additional_data': additionalData};\n            },\n            validate: function() {\n                var form = '#billing-agreement-form';\n                return $(form).validation() && $(form).validation('isValid');\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/paypal-express-abstract.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/view/payment/default',\n        'Magento_Paypal/js/action/set-payment-method',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Customer/js/customer-data'\n    ],\n    function (\n        $,\n        Component,\n        setPaymentMethodAction,\n        additionalValidators,\n        quote,\n        customerData\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/paypal-express-bml',\n                billingAgreement: ''\n            },\n\n            /** Init observable variables */\n            initObservable: function () {\n                this._super()\n                    .observe('billingAgreement');\n\n                return this;\n            },\n\n            /** Open window with  */\n            showAcceptanceWindow: function (data, event) {\n                window.open(\n                    $(event.target).attr('href'),\n                    'olcwhatispaypal',\n                    'toolbar=no, location=no,' +\n                    ' directories=no, status=no,' +\n                    ' menubar=no, scrollbars=yes,' +\n                    ' resizable=yes, ,left=0,' +\n                    ' top=0, width=400, height=350'\n                );\n\n                return false;\n            },\n\n            /** Returns payment acceptance mark link path */\n            getPaymentAcceptanceMarkHref: function () {\n                return window.checkoutConfig.payment.paypalExpress.paymentAcceptanceMarkHref;\n            },\n\n            /** Returns payment acceptance mark image path */\n            getPaymentAcceptanceMarkSrc: function () {\n                return window.checkoutConfig.payment.paypalExpress.paymentAcceptanceMarkSrc;\n            },\n\n            /** Returns billing agreement data */\n            getBillingAgreementCode: function () {\n                return window.checkoutConfig.payment.paypalExpress.billingAgreementCode[this.item.method];\n            },\n\n            /** Returns payment information data */\n            getData: function () {\n                var parent = this._super(),\n                    additionalData = null;\n\n                if (this.getBillingAgreementCode()) {\n                    additionalData = {};\n                    additionalData[this.getBillingAgreementCode()] = this.billingAgreement();\n                }\n\n                return $.extend(true, parent, {\n                    'additional_data': additionalData\n                });\n            },\n\n            /** Redirect to paypal */\n            continueToPayPal: function () {\n                if (additionalValidators.validate()) {\n                    //update payment method information if additional data was changed\n                    this.selectPaymentMethod();\n                    setPaymentMethodAction(this.messageContainer).done(\n                        function () {\n                            customerData.invalidate(['cart']);\n                            $.mage.redirect(\n                                window.checkoutConfig.payment.paypalExpress.redirectUrl[quote.paymentMethod().method]\n                            );\n                        }\n                    );\n\n                    return false;\n                }\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/paypal-express-bml.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Paypal/js/view/payment/method-renderer/paypal-express-abstract'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/paypal-express-bml'\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/paypal-express.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Paypal/js/view/payment/method-renderer/paypal-express-abstract'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/payment/paypal-express'\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/in-context/checkout-express.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'Magento_Paypal/js/view/payment/method-renderer/paypal-express-abstract',\n        'Magento_Paypal/js/action/set-payment-method',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_Ui/js/lib/view/utils/dom-observer',\n        'paypalInContextExpressCheckout',\n        'Magento_Customer/js/customer-data'\n    ],\n    function (\n        _,\n        $,\n        Component,\n        setPaymentMethodAction,\n        additionalValidators,\n        domObserver,\n        paypalExpressCheckout,\n        customerData\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {\n                template: 'Magento_Paypal/payment/paypal-express-in-context',\n                clientConfig: {\n\n                    /**\n                     * @param {Object} event\n                     */\n                    click: function (event) {\n                        event.preventDefault();\n\n                        if (additionalValidators.validate()) {\n                            paypalExpressCheckout.checkout.initXO();\n                            this.selectPaymentMethod();\n                            setPaymentMethodAction(this.messageContainer).done(\n                                function () {\n                                    $('body').trigger('processStart');\n\n                                    $.getJSON(\n                                        this.path,\n                                        {\n                                            button: 0\n                                        }\n                                    ).done(\n                                        function (response) {\n                                            if (response && response.url) {\n                                                paypalExpressCheckout.checkout.startFlow(response.url);\n\n                                                return;\n                                            }\n\n                                            paypalExpressCheckout.checkout.closeFlow();\n                                            window.location.reload();\n                                        }\n                                    ).fail(\n                                        function () {\n                                            paypalExpressCheckout.checkout.closeFlow();\n                                            window.location.reload();\n                                        }\n                                    ).always(\n                                        function () {\n                                            $('body').trigger('processStop');\n                                            customerData.invalidate(['cart']);\n                                        }\n                                    );\n\n                                }.bind(this)\n                            );\n                        }\n                    }\n                }\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super();\n                this.initClient();\n\n                return this;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initClient: function () {\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n\n                domObserver.get('#' + this.getButtonId(), function () {\n                    paypalExpressCheckout.checkout.setup(this.merchantId, this.clientConfig);\n                }.bind(this));\n\n                return this;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getButtonId: function () {\n                return this.inContextId;\n            }\n        });\n    }\n);\n","Magento_Paypal/js/view/payment/method-renderer/payflowpro/vault.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'Magento_Vault/js/view/payment/method-renderer/vault'\n], function ($, VaultComponent) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            template: 'Magento_Vault/payment/form'\n        },\n\n        /**\n         * @returns {String}\n         */\n        getToken: function () {\n            return this.publicHash;\n        },\n\n        /**\n         * Get last 4 digits of card\n         * @returns {String}\n         */\n        getMaskedCard: function () {\n            return this.details['cc_last_4'];\n        },\n\n        /**\n         * Get expiration date\n         * @returns {String}\n         */\n        getExpirationDate: function () {\n            return this.details['cc_exp_month'] + '/' + this.details['cc_exp_year'];\n        },\n\n        /**\n         * Get card type\n         * @returns {String}\n         */\n        getCardType: function () {\n            return this.details['cc_type'];\n        }\n    });\n});\n","Magento_Paypal/js/view/review/actions/iframe.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'ko',\n        'Magento_Paypal/js/model/iframe'\n    ],\n    function (Component, ko, iframe) {\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Paypal/review/actions/iframe'\n            },\n            getCode: function() {\n                return this.index;\n            },\n            getActionUrl: function() {\n                return this.isInAction() ? window.checkoutConfig.payment.paypalIframe.actionUrl[this.getCode()] : '';\n            },\n            afterSave: function() {\n                iframe.setIsInAction(true);\n                return false;\n            },\n            isInAction: function() {\n                return iframe.getIsInAction()();\n            },\n            placeOrder: function(context) {\n                return context.placeOrder.bind(context, this.afterSave);\n            }\n        });\n    }\n);\n","Magento_Bundle/js/price-bundle.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'priceUtils',\n    'priceBox'\n], function ($, _, mageTemplate, utils) {\n    'use strict';\n\n    var globalOptions = {\n        optionConfig: null,\n        productBundleSelector: 'input.bundle.option, select.bundle.option, textarea.bundle.option',\n        qtyFieldSelector: 'input.qty',\n        priceBoxSelector: '.price-box',\n        optionHandlers: {},\n        optionTemplate: '<%- data.label %>' +\n        '<% if (data.finalPrice.value) { %>' +\n        ' +<%- data.finalPrice.formatted %>' +\n        '<% } %>',\n        controlContainer: 'dd', // should be eliminated\n        priceFormat: {},\n        isFixedPrice: false\n    };\n\n    $.widget('mage.priceBundle', {\n        options: globalOptions,\n\n        /**\n         * @private\n         */\n        _init: function initPriceBundle() {\n            var form = this.element,\n                options = $(this.options.productBundleSelector, form);\n\n            options.trigger('change');\n        },\n\n        /**\n         * @private\n         */\n        _create: function createPriceBundle() {\n            var form = this.element,\n                options = $(this.options.productBundleSelector, form),\n                priceBox = $(this.options.priceBoxSelector, form),\n                qty = $(this.options.qtyFieldSelector, form);\n\n            if (priceBox.data('magePriceBox') && priceBox.priceBox('option') && priceBox.priceBox('option').priceConfig) {\n                if (priceBox.priceBox('option').priceConfig.optionTemplate) {\n                    this._setOption('optionTemplate', priceBox.priceBox('option').priceConfig.optionTemplate);\n                }\n                this._setOption('priceFormat', priceBox.priceBox('option').priceConfig.priceFormat);\n                priceBox.priceBox('setDefault', this.options.optionConfig.prices);\n            }\n            this._applyQtyFix();\n            this._applyOptionNodeFix(options);\n\n            options.on('change', this._onBundleOptionChanged.bind(this));\n            qty.on('change', this._onQtyFieldChanged.bind(this));\n        },\n\n        /**\n         * Handle change on bundle option inputs\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _onBundleOptionChanged: function onBundleOptionChanged(event) {\n            var changes,\n                bundleOption = $(event.target),\n                priceBox = $(this.options.priceBoxSelector, this.element),\n                handler = this.options.optionHandlers[bundleOption.data('role')];\n\n            bundleOption.data('optionContainer', bundleOption.closest(this.options.controlContainer));\n            bundleOption.data('qtyField', bundleOption.data('optionContainer').find(this.options.qtyFieldSelector));\n\n            if (handler && handler instanceof Function) {\n                changes = handler(bundleOption, this.options.optionConfig, this);\n            } else {\n                changes = defaultGetOptionValue(bundleOption, this.options.optionConfig);\n            }\n\n            if (changes) {\n                priceBox.trigger('updatePrice', changes);\n            }\n            this.updateProductSummary();\n        },\n\n        /**\n         * Handle change on qty inputs near bundle option\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _onQtyFieldChanged: function onQtyFieldChanged(event) {\n            var field = $(event.target),\n                optionInstance,\n                optionConfig;\n\n            if (field.data('optionId') && field.data('optionValueId')) {\n                optionInstance = field.data('option');\n                optionConfig = this.options.optionConfig\n                    .options[field.data('optionId')]\n                    .selections[field.data('optionValueId')];\n                optionConfig.qty = field.val();\n\n                optionInstance.trigger('change');\n            }\n        },\n\n        /**\n         * Helper to fix backend behavior:\n         *  - if default qty large than 1 then backend multiply price in config\n         *\n         * @private\n         */\n        _applyQtyFix: function applyQtyFix() {\n            var config = this.options.optionConfig;\n            if (config.isFixedPrice) {\n                _.each(config.options, function (option) {\n                    _.each(option.selections, function (item) {\n                        if (item.qty && item.qty !== 1) {\n                            _.each(item.prices, function (price) {\n                                price.amount = price.amount / item.qty;\n                            });\n                        }\n                    });\n                });\n            }\n        },\n\n        /**\n         * Helper to fix issue with option nodes:\n         *  - you can't place any html in option ->\n         *    so you can't style it via CSS\n         * @param {jQuery} options\n         * @private\n         */\n        _applyOptionNodeFix: function applyOptionNodeFix(options) {\n            var config = this.options,\n                format = config.priceFormat,\n                template = config.optionTemplate;\n            template = mageTemplate(template);\n            options.filter('select').each(function (index, element) {\n                var $element = $(element),\n                    optionId = utils.findOptionId($element),\n                    optionName = $element.prop('name'),\n                    optionType = $element.prop('type'),\n                    optionConfig = config.optionConfig && config.optionConfig.options[optionId].selections;\n\n                $element.find('option').each(function (idx, option) {\n                    var $option,\n                        optionValue,\n                        toTemplate,\n                        prices;\n\n                    $option = $(option);\n                    optionValue = $option.val();\n\n                    if (!optionValue && optionValue !== 0) {\n                        return;\n                    }\n\n                    toTemplate = {\n                        data: {\n                            label: optionConfig[optionValue] && optionConfig[optionValue].name\n                        }\n                    };\n                    prices = optionConfig[optionValue].prices;\n\n                    _.each(prices, function (price, type) {\n                        var value = +(price.amount);\n                        value += _.reduce(price.adjustments, function (sum, x) {\n                            return sum + x;\n                        }, 0);\n                        toTemplate.data[type] = {\n                            value: value,\n                            formatted: utils.formatPrice(value, format)\n                        };\n                    });\n\n                    $option.html(template(toTemplate));\n                });\n            });\n        },\n\n        /**\n         * Custom behavior on getting options:\n         * now widget able to deep merge accepted configuration with instance options.\n         * @param  {Object}  options\n         * @return {$.Widget}\n         */\n        _setOptions: function setOptions(options) {\n            $.extend(true, this.options, options);\n\n            this._super(options);\n\n            return this;\n        },\n\n        /**\n         * Handler to update productSummary box\n         */\n        updateProductSummary: function updateProductSummary() {\n            this.element.trigger('updateProductSummary', {\n                config: this.options.optionConfig\n            });\n        }\n    });\n\n    return $.mage.priceBundle;\n\n    /**\n     * Converts option value to priceBox object\n     *\n     * @param   {jQuery} element\n     * @param   {Object} config\n     * @returns {Object|null} - priceBox object with additional prices\n     */\n    function defaultGetOptionValue(element, config) {\n        var changes = {},\n            optionHash,\n            tempChanges,\n            qtyField,\n            optionId = utils.findOptionId(element[0]),\n            optionValue = element.val() || null,\n            optionName = element.prop('name'),\n            optionType = element.prop('type'),\n            optionConfig = config.options[optionId].selections,\n            optionQty = 0,\n            canQtyCustomize = false,\n            selectedIds = config.selected;\n\n        switch (optionType) {\n            case 'radio':\n\n            case 'select-one':\n\n                if (optionType === 'radio' && !element.is(':checked')) {\n                    return null;\n                }\n\n                qtyField = element.data('qtyField');\n                qtyField.data('option', element);\n\n                if (optionValue) {\n                    optionQty = optionConfig[optionValue].qty || 0;\n                    canQtyCustomize = optionConfig[optionValue].customQty === '1';\n                    toggleQtyField(qtyField, optionQty, optionId, optionValue, canQtyCustomize);\n                    tempChanges = utils.deepClone(optionConfig[optionValue].prices);\n                    tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig[optionValue]);\n                    tempChanges = applyQty(tempChanges, optionQty);\n                } else {\n                    tempChanges = {};\n                    toggleQtyField(qtyField, '0', optionId, optionValue, false);\n                }\n                optionHash = 'bundle-option-' + optionName;\n                changes[optionHash] = tempChanges;\n                selectedIds[optionId] = [optionValue];\n                break;\n\n            case 'select-multiple':\n                optionValue = _.compact(optionValue);\n\n                _.each(optionConfig, function (row, optionValueCode) {\n                    optionHash = 'bundle-option-' + optionName + '##' + optionValueCode;\n                    optionQty = row.qty || 0;\n                    tempChanges = utils.deepClone(row.prices);\n                    tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig);\n                    tempChanges = applyQty(tempChanges, optionQty);\n                    changes[optionHash] = _.contains(optionValue, optionValueCode) ? tempChanges : {};\n                });\n\n                selectedIds[optionId] = optionValue || [];\n                break;\n\n            case 'checkbox':\n                optionHash = 'bundle-option-' + optionName + '##' + optionValue;\n                optionQty = optionConfig[optionValue].qty || 0;\n                tempChanges = utils.deepClone(optionConfig[optionValue].prices);\n                tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig);\n                tempChanges = applyQty(tempChanges, optionQty);\n                changes[optionHash] = element.is(':checked') ? tempChanges : {};\n\n                selectedIds[optionId] = selectedIds[optionId] || [];\n\n                if (!_.contains(selectedIds[optionId], optionValue) && element.is(':checked')) {\n                    selectedIds[optionId].push(optionValue);\n                } else if (!element.is(':checked')) {\n                    selectedIds[optionId] = _.without(selectedIds[optionId], optionValue);\n                }\n                break;\n\n            case 'hidden':\n                optionHash = 'bundle-option-' + optionName + '##' + optionValue;\n                optionQty = optionConfig[optionValue].qty || 0;\n                tempChanges = utils.deepClone(optionConfig[optionValue].prices);\n                tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig);\n                tempChanges = applyQty(tempChanges, optionQty);\n\n                optionHash = 'bundle-option-' + optionName;\n                changes[optionHash] = tempChanges;\n                selectedIds[optionId] = [optionValue];\n                break;\n        }\n\n        return changes;\n    }\n\n    /**\n     * Helper to toggle qty field\n     * @param {jQuery} element\n     * @param {String|Number} value\n     * @param {String|Number} optionId\n     * @param {String|Number} optionValueId\n     * @param {Boolean} canEdit\n     */\n    function toggleQtyField(element, value, optionId, optionValueId, canEdit) {\n        element\n            .val(value)\n            .data('optionId', optionId)\n            .data('optionValueId', optionValueId)\n            .attr('disabled', !canEdit);\n\n        if (canEdit) {\n            element.removeClass('qty-disabled');\n        } else {\n            element.addClass('qty-disabled');\n        }\n    }\n\n    /**\n     * Helper to multiply on qty\n     *\n     * @param   {Object} prices\n     * @param   {Number} qty\n     * @returns {Object}\n     */\n    function applyQty(prices, qty) {\n        _.each(prices, function (everyPrice) {\n            everyPrice.amount *= qty;\n            _.each(everyPrice.adjustments, function (el, index) {\n                everyPrice.adjustments[index] *= qty;\n            });\n        });\n\n        return prices;\n    }\n\n    /**\n     * Helper to limit price with tier price\n     *\n     * @param {Object} oneItemPrice\n     * @param {Number} qty\n     * @param {Object} optionConfig\n     * @returns {Object}\n     */\n    function applyTierPrice(oneItemPrice, qty, optionConfig) {\n        var tiers = optionConfig.tierPrice,\n            magicKey = _.keys(oneItemPrice)[0],\n            lowest = false;\n\n        _.each(tiers, function (tier, index) {\n            // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n            if (tier.price_qty > qty) {\n                return;\n            }\n            // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n\n            if (tier.prices[magicKey].amount < oneItemPrice[magicKey].amount) {\n                lowest = index;\n            }\n        });\n\n        if (lowest !== false) {\n            oneItemPrice = utils.deepClone(tiers[lowest].prices);\n        }\n\n        return oneItemPrice;\n    }\n});\n","Magento_Bundle/js/float.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true expr:true*/\ndefine([\"jquery\",\"jquery/ui\"], function($){\n\n    $.widget('mage.float', {\n        options: {\n            productOptionsSelector: '#product-options-wrapper'\n        },\n\n        /**\n         * Bind handlers to scroll event\n         * @private\n         */\n        _create: function() {\n            $(window).on('scroll', $.proxy(this._setTop, this));\n        },\n\n        /**\n         * float bundleSummary on windowScroll\n         * @private\n         */\n        _setTop: function() {\n            if ((this.element).is(':visible')) {\n                var starTop = $(this.options.productOptionsSelector).offset().top,\n                    offset = $(document).scrollTop(),\n                    maxTop = this.element.parent().offset().top;\n                if (!this.options.top) {\n                    this.options.top = this.element.position().top;\n                    this.element.css('top', this.options.top);\n                }\n\n                if (starTop > offset) {\n                    return false;\n                }\n\n                if (offset < this.options.top) {\n                    offset = this.options.top;\n                }\n\n                var allowedTop = this.options.top + offset - starTop;\n\n                if (allowedTop < maxTop) {\n                    this.element.css('top', allowedTop);\n                }\n            }\n        }\n    });\n});\n","Magento_Bundle/js/product-summary.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery/ui',\n    'Magento_Bundle/js/price-bundle'\n], function ($, mageTemplate) {\n    'use strict';\n\n    /**\n     * Widget product Summary:\n     * Handles rendering of Bundle options and displays them in the Summary box\n     */\n    $.widget('mage.productSummary', {\n        options: {\n            mainContainer:          '#product_addtocart_form',\n            templates: {\n                summaryBlock:       '[data-template=\"bundle-summary\"]',\n                optionBlock:        '[data-template=\"bundle-option\"]'\n            },\n            optionSelector:         '[data-container=\"options\"]',\n            summaryContainer:       '[data-container=\"product-summary\"]',\n            bundleSummaryContainer: '.bundle-summary'\n        },\n        cache: {},\n        /**\n         * Method attaches event observer to the product form\n         * @private\n         */\n        _create: function () {\n            this.element\n                .closest(this.options.mainContainer)\n                .on('updateProductSummary', $.proxy(this._renderSummaryBox, this))\n                .priceBundle({})\n            ;\n        },\n        /**\n         * Method extracts data from the event and renders Summary box\n         * using jQuery template mechanism\n         * @param {Event} event\n         * @param {Object} data\n         * @private\n         */\n        _renderSummaryBox: function (event, data) {\n            this.cache.currentElement = data.config;\n            this.cache.currentElementCount = 0;\n\n            // Clear Summary box\n            this.element.html('');\n\n            $.each(this.cache.currentElement.selected, $.proxy(this._renderOption, this));\n            this.element\n                .parents(this.options.bundleSummaryContainer)\n                .toggleClass('empty', !this.cache.currentElementCount); // Zero elements equal '.empty' container\n        },\n\n        /**\n         * @param {String} key\n         * @param {String} row\n         * @private\n         */\n        _renderOption: function (key, row) {\n            var template;\n\n            if (row && row.length > 0 && row[0] !== null) {\n                template = this.element\n                    .closest(this.options.summaryContainer)\n                    .find(this.options.templates.summaryBlock)\n                    .html();\n                template = mageTemplate($.trim(template), {\n                    data: {\n                        _label_: this.cache.currentElement.options[key].title\n                    }\n                });\n\n                this.cache.currentKey = key;\n                this.cache.summaryContainer = $(template);\n                this.element.append(this.cache.summaryContainer);\n\n                $.each(row, this._renderOptionRow.bind(this));\n                this.cache.currentElementCount += row.length;\n\n                //Reset Cache\n                this.cache.currentKey = null;\n            }\n        },\n\n        /**\n         * @param {String} key\n         * @param {String} optionIndex\n         * @private\n         */\n        _renderOptionRow: function (key, optionIndex) {\n            var template;\n\n            template = this.element\n                .closest(this.options.summaryContainer)\n                .find(this.options.templates.optionBlock)\n                .html();\n            template = mageTemplate($.trim(template), {\n                data: {\n                    _quantity_: this.cache.currentElement.options[this.cache.currentKey].selections[optionIndex].qty,\n                    _label_: this.cache.currentElement.options[this.cache.currentKey].selections[optionIndex].name\n                }\n            });\n            this.cache.summaryContainer\n                .find(this.options.optionSelector)\n                .append(template);\n        }\n    });\n\n    return $.mage.productSummary;\n});\n","Magento_Bundle/js/slide.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true expr:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n\n    $.widget('mage.slide', {\n        options: {\n            slideSpeed: 1500,\n            slideSelector: '#bundle-slide',\n            slideBackSelector: '.bundle-slide-back',\n            bundleProductSelector: '#bundleProduct',\n            bundleOptionsContainer: '#options-container',\n            productViewContainer: '#productView',\n            slidedown: true\n\n        },\n\n        _create: function() {\n            if(this.options.slidedown === true) {\n                $(this.options.slideSelector).on('click', $.proxy(this._show, this));\n                $(this.options.slideBackSelector).on('click', $.proxy(this._hide, this));\n                this.options.autostart && this._show();\n            } else {\n                $(this.options.slideSelector).on('click', $.proxy(this._slide, this));\n                $(this.options.slideBackSelector).on('click', $.proxy(this._slideBack, this));\n                this.options.autostart && this._slide();\n            }\n        },\n\n        /**\n         * slide bundleOptionsContainer over to the main view area\n         * @private\n         */\n        _slide: function() {\n            $(this.options.bundleProductSelector).css('top', '0px');\n            $(this.options.bundleOptionsContainer).show();\n            this.element.css('height',$(this.options.productViewContainer).height() + 'px');\n            $(this.options.bundleProductSelector).css('left', '0px').animate(\n                {'left': '-' + this.element.width() + 'px'},\n                this.options.slideSpeed,\n                $.proxy(function() {\n                    this.element.css('height','auto');\n                    $(this.options.productViewContainer).hide();\n                }, this)\n            );\n        },\n\n        /**\n         * slideback productViewContainer to main view area\n         * @private\n         */\n        _slideBack: function() {\n            $(this.options.bundleProductSelector).css('top', '0px');\n            $(this.options.productViewContainer).show();\n            this.element.css('height', $(this.options.bundleOptionsContainer).height() + 'px');\n            $(this.options.bundleProductSelector).animate(\n                {'left': '0px'},\n                this.options.slideSpeed,\n                $.proxy(function() {\n                    $(this.options.bundleOptionsContainer).hide();\n                    this.element.css('height','auto');\n                }, this)\n            );\n        },\n        _show: function() {\n            $(this.options.bundleOptionsContainer).slideDown(800);\n            $('html, body').animate({\n                scrollTop: $(this.options.bundleOptionsContainer).offset().top\n            }, 600);\n            $('#product-options-wrapper > fieldset').focus();\n        },\n        _hide: function() {\n            $('html, body').animate({\n                scrollTop: 0\n            }, 600);\n            $(this.options.bundleOptionsContainer).slideUp(800);\n        }\n    });\n    \n    return $.mage.slide;\n});\n","Magento_Translation/js/i18n-config.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n'use strict';\n\n(function () {\n    require.config({\n        config: {\n            'Magento_Ui/js/lib/knockout/bindings/i18n': {\n                inlineTranslation: true\n            }\n        }\n    });\n})();\n","Magento_Weee/tax-toggle.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    function onToggle(config, e) {\n        var elem = $(e.currentTarget),\n            expandedClassName = config.expandedClassName || 'cart-tax-total-expanded';\n\n        elem.toggleClass(expandedClassName);\n\n        $(config.itemTaxId).toggle();\n    }\n\n    return function (data, el) {\n        $(el).on('click', onToggle.bind(null, data));\n    };\n});\n","Magento_Weee/js/view/cart/totals/weee.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'Magento_Weee/js/view/checkout/summary/weee'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n\n            /**\n             * @override\n             */\n            isFullMode: function () {\n                return true;\n            }\n        });\n    }\n);\n","Magento_Weee/js/view/checkout/summary/weee.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'Magento_Checkout/js/view/summary/abstract-total',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/totals',\n        'Magento_Catalog/js/price-utils'\n    ],\n    function (Component, quote, totals) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Weee/checkout/summary/weee'\n            },\n            isIncludedInSubtotal: window.checkoutConfig.isIncludedInSubtotal,\n            totals: totals.totals,\n\n            /**\n             * @returns {Number}\n             */\n            getWeeeTaxSegment: function () {\n                var weee = totals.getSegment('weee_tax') || totals.getSegment('weee');\n\n                if (weee !== null && weee.hasOwnProperty('value')) {\n                    return weee.value;\n                }\n\n                return 0;\n            },\n\n            /**\n             * Get weee value\n             * @returns {String}\n             */\n            getValue: function () {\n                return this.getFormattedPrice(this.getWeeeTaxSegment());\n            },\n\n            /**\n             * Weee display flag\n             * @returns {Boolean}\n             */\n            isDisplayed: function () {\n                return this.isFullMode() && this.getWeeeTaxSegment() > 0;\n            }\n        });\n    }\n);\n","Magento_Weee/js/view/checkout/summary/item/price/row_excl_tax.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Weee/js/view/checkout/summary/item/price/weee'\n    ],\n    function (weee) {\n        \"use strict\";\n        return weee.extend({\n            defaults: {\n                template: 'Magento_Weee/checkout/summary/item/price/row_excl_tax'\n            },\n\n            getFinalRowDisplayPriceExclTax: function(item) {\n                var rowTotalExclTax = parseFloat(item.row_total);\n                if (!window.checkoutConfig.getIncludeWeeeFlag) {\n                    rowTotalExclTax += parseFloat(item.weee_tax_applied_amount);\n                }\n                return rowTotalExclTax;\n            },\n\n            getRowDisplayPriceExclTax: function(item) {\n                var rowTotalExclTax = parseFloat(item.row_total);\n                if (window.checkoutConfig.getIncludeWeeeFlag) {\n                    rowTotalExclTax += this.getRowWeeeTaxExclTax(item);\n                }\n                return rowTotalExclTax;\n            },\n\n            getRowWeeeTaxExclTax: function(item) {\n                var totalWeeeTaxExclTaxApplied = 0;\n                if (item.weee_tax_applied) {\n                    var weeeTaxAppliedAmounts = JSON.parse(item.weee_tax_applied);\n                    weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\n                        totalWeeeTaxExclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount.row_amount, 0));\n                    });\n                }\n                return totalWeeeTaxExclTaxApplied;\n            }\n\n        });\n    }\n);\n","Magento_Weee/js/view/checkout/summary/item/price/row_incl_tax.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Weee/js/view/checkout/summary/item/price/weee'\n    ],\n    function (weee) {\n        \"use strict\";\n        return weee.extend({\n            defaults: {\n                template: 'Magento_Weee/checkout/summary/item/price/row_incl_tax',\n                displayArea: 'row_incl_tax'\n            },\n\n            getFinalRowDisplayPriceInclTax: function(item) {\n                var rowTotalInclTax = parseFloat(item.row_total_incl_tax);\n                if (!window.checkoutConfig.getIncludeWeeeFlag) {\n                    rowTotalInclTax += this.getRowWeeeTaxInclTax(item);\n                }\n                return rowTotalInclTax;\n            },\n\n            getRowDisplayPriceInclTax: function(item) {\n                var rowTotalInclTax = parseFloat(item.row_total_incl_tax);\n                if (window.checkoutConfig.getIncludeWeeeFlag) {\n                    rowTotalInclTax += this.getRowWeeeTaxInclTax(item);\n                }\n                return rowTotalInclTax;\n            },\n\n            getRowWeeeTaxInclTax: function(item) {\n                var totalWeeeTaxInclTaxApplied = 0;\n                if (item.weee_tax_applied) {\n                    var weeeTaxAppliedAmounts = JSON.parse(item.weee_tax_applied);\n                    weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\n                        totalWeeeTaxInclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount.row_amount_incl_tax, 0));\n                    });\n                }\n                return totalWeeeTaxInclTaxApplied;\n            }\n\n        });\n    }\n);\n","Magento_Weee/js/view/checkout/summary/item/price/weee.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/summary/abstract-total',\n        'Magento_Checkout/js/model/quote'\n    ],\n    function (Component,quote) {\n        \"use strict\";\n        return Component.extend({\n\n            isDisplayPriceWithWeeeDetails: function(item) {\n                if(!parseFloat(item.weee_tax_applied_amount) || parseFloat(item.weee_tax_applied_amount <= 0)) {\n                    return false;\n                }\n                return window.checkoutConfig.isDisplayPriceWithWeeeDetails;\n            },\n            isDisplayFinalPrice: function(item) {\n                if(!parseFloat(item.weee_tax_applied_amount)) {\n                    return false;\n                }\n                return window.checkoutConfig.isDisplayFinalPrice;\n            },\n            getWeeeTaxApplied: function(item) {\n                if (item.weee_tax_applied) {\n                    return JSON.parse(item.weee_tax_applied)\n                }\n                return [];\n\n            }\n        });\n    }\n);\n","Magento_Usps/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        'use strict';\n        return {\n            getRules: function () {\n                return {\n                    'country_id': {\n                        'required': true\n                    },\n                    'postcode': {\n                        'required': false\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_Usps/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        './shipping-rates-validation-rules',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n        var checkoutConfig = window.checkoutConfig;\n\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var rules = validationRules.getRules(),\n                    self = this;\n\n                $.each(rules, function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n                        self.validationErrors.push(message);\n                    }\n                });\n\n                if (!Boolean(this.validationErrors.length)) {\n                    if (address.country_id == checkoutConfig.originCountryCode) {\n                        return !utils.isEmpty(address.postcode);\n                    }\n                    return true;\n                }\n                return false;\n            }\n        };\n    }\n);\n","Magento_Usps/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        '../model/shipping-rates-validator',\n        '../model/shipping-rates-validation-rules'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        uspsShippingRatesValidator,\n        uspsShippingRatesValidationRules\n    ) {\n        'use strict';\n        defaultShippingRatesValidator.registerValidator('usps', uspsShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('usps', uspsShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_Ups/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        'use strict';\n        return {\n            getRules: function () {\n                return {\n                    'postcode': {\n                        'required': true\n                    },\n                    'country_id': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_Ups/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        'Magento_Ups/js/model/shipping-rates-validation-rules',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var self = this;\n\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n\n                        self.validationErrors.push(message);\n                    }\n                });\n\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_Ups/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        'Magento_Ups/js/model/shipping-rates-validator',\n        'Magento_Ups/js/model/shipping-rates-validation-rules'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        upsShippingRatesValidator,\n        upsShippingRatesValidationRules\n    ) {\n        'use strict';\n        defaultShippingRatesValidator.registerValidator('ups', upsShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('ups', upsShippingRatesValidationRules);\n\n        return Component;\n    }\n);\n","Magento_Swatches/js/swatch-renderer.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'jquery/ui',\n    'jquery/jquery.parsequery'\n], function ($, _) {\n    'use strict';\n\n    /**\n     * Render tooltips by attributes (only to up).\n     * Required element attributes:\n     *  - option-type (integer, 0-3)\n     *  - option-label (string)\n     *  - option-tooltip-thumb\n     *  - option-tooltip-value\n     */\n    $.widget('mage.SwatchRendererTooltip', {\n        options: {\n            delay: 200,                             //how much ms before tooltip to show\n            tooltipClass: 'swatch-option-tooltip'  //configurable, but remember about css\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            var $widget = this,\n                $this = this.element,\n                $element = $('.' + $widget.options.tooltipClass),\n                timer,\n                type = parseInt($this.attr('option-type'), 10),\n                label = $this.attr('option-label'),\n                thumb = $this.attr('option-tooltip-thumb'),\n                value = $this.attr('option-tooltip-value'),\n                $image,\n                $title,\n                $corner;\n\n            if (!$element.size()) {\n                $element = $('<div class=\"' +\n                    $widget.options.tooltipClass +\n                    '\"><div class=\"image\"></div><div class=\"title\"></div><div class=\"corner\"></div></div>'\n                );\n                $('body').append($element);\n            }\n\n            $image = $element.find('.image');\n            $title = $element.find('.title');\n            $corner = $element.find('.corner');\n\n            $this.hover(function () {\n                if (!$this.hasClass('disabled')) {\n                    timer = setTimeout(\n                        function () {\n                            var leftOpt = null,\n                                leftCorner = 0,\n                                left,\n                                $window;\n\n                            if (type === 2) {\n                                // Image\n                                $image.css({\n                                    'background': 'url(\"' + thumb + '\") no-repeat center', //Background case\n                                    'background-size': 'initial'\n                                });\n                                $image.show();\n                            } else if (type === 1) {\n                                // Color\n                                $image.css({\n                                    background: value\n                                });\n                                $image.show();\n                            } else if (type === 0 || type === 3) {\n                                // Default\n                                $image.hide();\n                            }\n\n                            $title.text(label);\n\n                            leftOpt = $this.offset().left;\n                            left = leftOpt + $this.width() / 2 - $element.width() / 2;\n                            $window = $(window);\n\n                            // the numbers (5 and 5) is magick constants for offset from left or right page\n                            if (left < 0) {\n                                left = 5;\n                            } else if (left + $element.width() > $window.width()) {\n                                left = $window.width() - $element.width() - 5;\n                            }\n\n                            // the numbers (6,  3 and 18) is magick constants for offset tooltip\n                            leftCorner = 0;\n\n                            if ($element.width() < $this.width()) {\n                                leftCorner = $element.width() / 2 - 3;\n                            } else {\n                                leftCorner = (leftOpt > left ? leftOpt - left : left - leftOpt) + $this.width() / 2 - 6;\n                            }\n\n                            $corner.css({\n                                left: leftCorner\n                            });\n                            $element.css({\n                                left: left,\n                                top: $this.offset().top - $element.height() - $corner.height() - 18\n                            }).show();\n                        },\n                        $widget.options.delay\n                    );\n                }\n            }, function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n            $(document).on('tap', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $this.on('tap', function (event) {\n                event.stopPropagation();\n            });\n        }\n    });\n\n    /**\n     * Render swatch controls with options and use tooltips.\n     * Required two json:\n     *  - jsonConfig (magento's option config)\n     *  - jsonSwatchConfig (swatch's option config)\n     *\n     *  Tuning:\n     *  - numberToShow (show \"more\" button if options are more)\n     *  - onlySwatches (hide selectboxes)\n     *  - moreButtonText (text for \"more\" button)\n     *  - selectorProduct (selector for product container)\n     *  - selectorProductPrice (selector for change price)\n     */\n    $.widget('mage.SwatchRenderer', {\n        options: {\n            classes: {\n                attributeClass: 'swatch-attribute',\n                attributeLabelClass: 'swatch-attribute-label',\n                attributeSelectedOptionLabelClass: 'swatch-attribute-selected-option',\n                attributeOptionsWrapper: 'swatch-attribute-options',\n                attributeInput: 'swatch-input',\n                optionClass: 'swatch-option',\n                selectClass: 'swatch-select',\n                moreButton: 'swatch-more',\n                loader: 'swatch-option-loading'\n            },\n            // option's json config\n            jsonConfig: {},\n\n            // swatch's json config\n            jsonSwatchConfig: {},\n\n            // selector of parental block of prices and swatches (need to know where to seek for price block)\n            selectorProduct: '.product-info-main',\n\n            // selector of price wrapper (need to know where set price)\n            selectorProductPrice: '[data-role=priceBox]',\n\n            //selector of product images gallery wrapper\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\n\n            // selector of category product tile wrapper\n            selectorProductTile: '.product-item',\n\n            // number of controls to show (false or zero = show all)\n            numberToShow: false,\n\n            // show only swatch controls\n            onlySwatches: false,\n\n            // enable label for control\n            enableControlLabel: true,\n\n            // text for more button\n            moreButtonText: 'More',\n\n            // Callback url for media\n            mediaCallback: '',\n\n            // Local media cache\n            mediaCache: {},\n\n            // Cache for BaseProduct images. Needed when option unset\n            mediaGalleryInitial: [{}],\n\n            // whether swatches are rendered in product list or on product page\n            inProductList: false,\n\n            /**\n             * Defines the mechanism of how images of a gallery should be\n             * updated when user switches between configurations of a product.\n             *\n             * As for now value of this option can be either 'replace' or 'prepend'.\n             *\n             * @type {String}\n             */\n            gallerySwitchStrategy: 'replace',\n\n            // sly-old-price block selector\n            slyOldPriceSelector: '.sly-old-price'\n        },\n\n        /**\n         * Get chosen product\n         *\n         * @returns array\n         */\n        getProduct: function () {\n            return this._CalcProducts().shift();\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            if (this.options.jsonConfig !== '' && this.options.jsonSwatchConfig !== '') {\n                this._sortAttributes();\n                this._RenderControls();\n            } else {\n                console.log('SwatchRenderer: No input data received');\n            }\n        },\n\n        /**\n         * @private\n         */\n        _sortAttributes: function () {\n            this.options.jsonConfig.attributes = _.sortBy(this.options.jsonConfig.attributes, function (attribute) {\n                return attribute.position;\n            });\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            var options = this.options,\n                gallery = $('[data-gallery-role=gallery-placeholder]', '.column.main'),\n                isProductViewExist = $('body.catalog-product-view').size() > 0,\n                $main = isProductViewExist ?\n                    this.element.parents('.column.main') :\n                    this.element.parents('.product-item-info');\n\n            if (isProductViewExist) {\n                gallery.data('gallery') ?\n                    this._onGalleryLoaded(gallery) :\n                    gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\n            } else {\n                options.mediaGalleryInitial = [{\n                    'img': $main.find('.product-image-photo').attr('src')\n                }];\n            }\n\n            this.productForm = this.element.parents(this.options.selectorProductTile).find('form:first');\n            this.inProductList = this.productForm.length > 0;\n        },\n\n        /**\n         * Render controls\n         *\n         * @private\n         */\n        _RenderControls: function () {\n            var $widget = this,\n                container = this.element,\n                classes = this.options.classes,\n                chooseText = this.options.jsonConfig.chooseText;\n\n            $widget.optionsMap = {};\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                var item = this,\n                    options = $widget._RenderSwatchOptions(item),\n                    select = $widget._RenderSwatchSelect(item, chooseText),\n                    input = $widget._RenderFormInput(item),\n                    label = '';\n\n                // Show only swatch controls\n                if ($widget.options.onlySwatches && !$widget.options.jsonSwatchConfig.hasOwnProperty(item.id)) {\n                    return;\n                }\n\n                if ($widget.options.enableControlLabel) {\n                    label +=\n                        '<span class=\"' + classes.attributeLabelClass + '\">' + item.label + '</span>' +\n                        '<span class=\"' + classes.attributeSelectedOptionLabelClass + '\"></span>';\n                }\n\n                if ($widget.inProductList) {\n                    $widget.productForm.append(input);\n                    input = '';\n                }\n\n                // Create new control\n                container.append(\n                    '<div class=\"' + classes.attributeClass + ' ' + item.code +\n                        '\" attribute-code=\"' + item.code +\n                        '\" attribute-id=\"' + item.id + '\">' +\n                            label +\n                        '<div class=\"' + classes.attributeOptionsWrapper + ' clearfix\">' +\n                            options + select +\n                        '</div>' + input +\n                    '</div>'\n                );\n\n                $widget.optionsMap[item.id] = {};\n\n                // Aggregate options array to hash (key => value)\n                $.each(item.options, function () {\n                    if (this.products.length > 0) {\n                        $widget.optionsMap[item.id][this.id] = {\n                            price: parseInt(\n                                $widget.options.jsonConfig.optionPrices[this.products[0]].finalPrice.amount,\n                                10\n                            ),\n                            products: this.products\n                        };\n                    }\n                });\n            });\n\n            // Connect Tooltip\n            container\n                .find('[option-type=\"1\"], [option-type=\"2\"], [option-type=\"0\"], [option-type=\"3\"]')\n                .SwatchRendererTooltip();\n\n            // Hide all elements below more button\n            $('.' + classes.moreButton).nextAll().hide();\n\n            // Handle events like click or change\n            $widget._EventListener();\n\n            // Rewind options\n            $widget._Rewind(container);\n\n            //Emulate click on all swatches from Request\n            $widget._EmulateSelected($.parseQuery());\n            $widget._EmulateSelected($widget._getSelectedAttributes());\n        },\n\n        /**\n         * Render swatch options by part of config\n         *\n         * @param {Object} config\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchOptions: function (config) {\n            var optionConfig = this.options.jsonSwatchConfig[config.id],\n                optionClass = this.options.classes.optionClass,\n                moreLimit = parseInt(this.options.numberToShow, 10),\n                moreClass = this.options.classes.moreButton,\n                moreText = this.options.moreButtonText,\n                countAttributes = 0,\n                html = '';\n\n            if (!this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            $.each(config.options, function () {\n                var id,\n                    type,\n                    value,\n                    thumb,\n                    label,\n                    attr;\n\n                if (!optionConfig.hasOwnProperty(this.id)) {\n                    return '';\n                }\n\n                // Add more button\n                if (moreLimit === countAttributes++) {\n                    html += '<a href=\"#\" class=\"' + moreClass + '\">' + moreText + '</a>';\n                }\n\n                id = this.id;\n                type = parseInt(optionConfig[id].type, 10);\n                value = optionConfig[id].hasOwnProperty('value') ? optionConfig[id].value : '';\n                thumb = optionConfig[id].hasOwnProperty('thumb') ? optionConfig[id].thumb : '';\n                label = this.label ? this.label : '';\n                attr =\n                    ' option-type=\"' + type + '\"' +\n                    ' option-id=\"' + id + '\"' +\n                    ' option-label=\"' + label + '\"' +\n                    ' option-tooltip-thumb=\"' + thumb + '\"' +\n                    ' option-tooltip-value=\"' + value + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' option-empty=\"true\"';\n                }\n\n                if (type === 0) {\n                    // Text\n                    html += '<div class=\"' + optionClass + ' text\" ' + attr + '>' + (value ? value : label) +\n                        '</div>';\n                } else if (type === 1) {\n                    // Color\n                    html += '<div class=\"' + optionClass + ' color\" ' + attr +\n                        '\" style=\"background: ' + value +\n                        ' no-repeat center; background-size: initial;\">' + '' +\n                        '</div>';\n                } else if (type === 2) {\n                    // Image\n                    html += '<div class=\"' + optionClass + ' image\" ' + attr +\n                        '\" style=\"background: url(' + value + ') no-repeat center; background-size: initial;\">' + '' +\n                        '</div>';\n                } else if (type === 3) {\n                    // Clear\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '></div>';\n                } else {\n                    // Defaualt\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '>' + label + '</div>';\n                }\n            });\n\n            return html;\n        },\n\n        /**\n         * Render select by part of config\n         *\n         * @param {Object} config\n         * @param {String} chooseText\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchSelect: function (config, chooseText) {\n            var html;\n\n            if (this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            html =\n                '<select class=\"' + this.options.classes.selectClass + ' ' + config.code + '\">' +\n                '<option value=\"0\" option-id=\"0\">' + chooseText + '</option>';\n\n            $.each(config.options, function () {\n                var label = this.label,\n                    attr = ' value=\"' + this.id + '\" option-id=\"' + this.id + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' option-empty=\"true\"';\n                }\n\n                html += '<option ' + attr + '>' + label + '</option>';\n            });\n\n            html += '</select>';\n\n            return html;\n        },\n\n        /**\n         * Input for submit form.\n         * This control shouldn't have \"type=hidden\", \"display: none\" for validation work :(\n         *\n         * @param {Object} config\n         * @private\n         */\n        _RenderFormInput: function (config) {\n            return '<input class=\"' + this.options.classes.attributeInput + ' super-attribute-select\" ' +\n                'name=\"super_attribute[' + config.id + ']\" ' +\n                'type=\"text\" ' +\n                'value=\"\" ' +\n                'data-selector=\"super_attribute[' + config.id + ']\" ' +\n                'data-validate=\"{required:true}\" ' +\n                'aria-required=\"true\" ' +\n                'aria-invalid=\"true\" ' +\n                'style=\"visibility: hidden; position:absolute; left:-1000px\">';\n        },\n\n        /**\n         * Event listener\n         *\n         * @private\n         */\n        _EventListener: function () {\n\n            var $widget = this;\n\n            $widget.element.on('click', '.' + this.options.classes.optionClass, function () {\n                return $widget._OnClick($(this), $widget);\n            });\n\n            $widget.element.on('change', '.' + this.options.classes.selectClass, function () {\n                return $widget._OnChange($(this), $widget);\n            });\n\n            $widget.element.on('click', '.' + this.options.classes.moreButton, function (e) {\n                e.preventDefault();\n\n                return $widget._OnMoreClick($(this));\n            });\n        },\n\n        /**\n         * Event for swatch options\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnClick: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                $label = $parent.find('.' + $widget.options.classes.attributeSelectedOptionLabelClass),\n                attributeId = $parent.attr('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.inProductList) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.hasClass('disabled')) {\n                return;\n            }\n\n            if ($this.hasClass('selected')) {\n                $parent.removeAttr('option-selected').find('.selected').removeClass('selected');\n                $input.val('');\n                $label.text('');\n            } else {\n                $parent.attr('option-selected', $this.attr('option-id')).find('.selected').removeClass('selected');\n                $label.text($this.attr('option-label'));\n                $input.val($this.attr('option-id'));\n                $this.addClass('selected');\n            }\n\n            $widget._Rebuild();\n\n            if ($widget.element.parents($widget.options.selectorProduct)\n                    .find(this.options.selectorProductPrice).is(':data(mage-priceBox)')\n            ) {\n                $widget._UpdatePrice();\n            }\n\n            $widget._LoadProductMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Event for select\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnChange: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                attributeId = $parent.attr('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.inProductList) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.val() > 0) {\n                $parent.attr('option-selected', $this.val());\n                $input.val($this.val());\n            } else {\n                $parent.removeAttr('option-selected');\n                $input.val('');\n            }\n\n            $widget._Rebuild();\n            $widget._UpdatePrice();\n            $widget._LoadProductMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Event for more switcher\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _OnMoreClick: function ($this) {\n            $this.nextAll().show();\n            $this.blur().remove();\n        },\n\n        /**\n         * Rewind options for controls\n         *\n         * @private\n         */\n        _Rewind: function (controls) {\n            controls.find('div[option-id], option[option-id]').removeClass('disabled').removeAttr('disabled');\n            controls.find('div[option-empty], option[option-empty]').attr('disabled', true).addClass('disabled');\n        },\n\n        /**\n         * Rebuild container\n         *\n         * @private\n         */\n        _Rebuild: function () {\n\n            var $widget = this,\n                controls = $widget.element.find('.' + $widget.options.classes.attributeClass + '[attribute-id]'),\n                selected = controls.filter('[option-selected]');\n\n            // Enable all options\n            $widget._Rewind(controls);\n\n            // done if nothing selected\n            if (selected.size() <= 0) {\n                return;\n            }\n\n            // Disable not available options\n            controls.each(function () {\n                var $this = $(this),\n                    id = $this.attr('attribute-id'),\n                    products = $widget._CalcProducts(id);\n\n                if (selected.size() === 1 && selected.first().attr('attribute-id') === id) {\n                    return;\n                }\n\n                $this.find('[option-id]').each(function () {\n                    var $element = $(this),\n                        option = $element.attr('option-id');\n\n                    if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option) ||\n                        $element.hasClass('selected') ||\n                        $element.is(':selected')) {\n                        return;\n                    }\n\n                    if (_.intersection(products, $widget.optionsMap[id][option].products).length <= 0) {\n                        $element.attr('disabled', true).addClass('disabled');\n                    }\n                });\n            });\n        },\n\n        /**\n         * Get selected product list\n         *\n         * @returns {Array}\n         * @private\n         */\n        _CalcProducts: function ($skipAttributeId) {\n            var $widget = this,\n                products = [];\n\n            // Generate intersection of products\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var id = $(this).attr('attribute-id'),\n                    option = $(this).attr('option-selected');\n\n                if ($skipAttributeId !== undefined && $skipAttributeId === id) {\n                    return;\n                }\n\n                if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option)) {\n                    return;\n                }\n\n                if (products.length === 0) {\n                    products = $widget.optionsMap[id][option].products;\n                } else {\n                    products = _.intersection(products, $widget.optionsMap[id][option].products);\n                }\n            });\n\n            return products;\n        },\n\n        /**\n         * Update total price\n         *\n         * @private\n         */\n        _UpdatePrice: function () {\n            var $widget = this,\n                $product = $widget.element.parents($widget.options.selectorProduct),\n                $productPrice = $product.find(this.options.selectorProductPrice),\n                options = _.object(_.keys($widget.optionsMap), {}),\n                result;\n\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var attributeId = $(this).attr('attribute-id');\n\n                options[attributeId] = $(this).attr('option-selected');\n            });\n\n            result = $widget.options.jsonConfig.optionPrices[_.findKey($widget.options.jsonConfig.index, options)];\n\n            $productPrice.trigger(\n                'updatePrice',\n                {\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\n                }\n            );\n\n            if (result.oldPrice.amount !== result.finalPrice.amount) {\n                $(this.options.slyOldPriceSelector).show();\n            } else {\n                $(this.options.slyOldPriceSelector).hide();\n            }\n        },\n\n        /**\n         * Get prices\n         *\n         * @param {Object} newPrices\n         * @param {Object} displayPrices\n         * @returns {*}\n         * @private\n         */\n        _getPrices: function (newPrices, displayPrices) {\n            var $widget = this;\n\n            if (_.isEmpty(newPrices)) {\n                newPrices = $widget.options.jsonConfig.prices;\n            }\n\n            _.each(displayPrices, function (price, code) {\n                if (newPrices[code]) {\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\n                }\n            });\n\n            return displayPrices;\n        },\n\n        /**\n         * Gets all product media and change current to the needed one\n         *\n         * @private\n         */\n        _LoadProductMedia: function () {\n            var $widget = this,\n                $this = $widget.element,\n                attributes = {},\n                productId = 0,\n                mediaCallData,\n                mediaCacheKey,\n\n                /**\n                 * Processes product media data\n                 *\n                 * @param {Object} data\n                 * @returns void\n                 */\n                mediaSuccessCallback = function (data) {\n                    if (!(mediaCacheKey in $widget.options.mediaCache)) {\n                        $widget.options.mediaCache[mediaCacheKey] = data;\n                    }\n                    $widget._ProductMediaCallback($this, data);\n                    $widget._DisableProductMediaLoader($this);\n                };\n\n            if (!$widget.options.mediaCallback) {\n                return;\n            }\n\n            $this.find('[option-selected]').each(function () {\n                var $selected = $(this);\n\n                attributes[$selected.attr('attribute-code')] = $selected.attr('option-selected');\n            });\n\n            if ($('body.catalog-product-view').size() > 0) {\n                //Product Page\n                productId = document.getElementsByName('product')[0].value;\n            } else {\n                //Category View\n                productId = $this.parents('.product.details.product-item-details')\n                    .find('.price-box.price-final_price').attr('data-product-id');\n            }\n\n            mediaCallData = {\n                'product_id': productId,\n                'attributes': attributes,\n                'additional': $.parseQuery()\n            };\n            mediaCacheKey = JSON.stringify(mediaCallData);\n\n            if (mediaCacheKey in $widget.options.mediaCache) {\n                mediaSuccessCallback($widget.options.mediaCache[mediaCacheKey]);\n            } else {\n                mediaCallData.isAjax = true;\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                $widget.xhr = $.post(\n                    $widget.options.mediaCallback,\n                    mediaCallData,\n                    mediaSuccessCallback,\n                    'json'\n                ).done(function () {\n                    $widget._XhrKiller();\n                });\n            }\n        },\n\n        /**\n         * Enable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _EnableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').size() > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .addClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .addClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Disable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _DisableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').size() > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .removeClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .removeClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Callback for product media\n         *\n         * @param {Object} $this\n         * @param {String} response\n         * @private\n         */\n        _ProductMediaCallback: function ($this, response) {\n            var isProductViewExist = $('body.catalog-product-view').size() > 0,\n                $main = isProductViewExist ? $this.parents('.column.main') : $this.parents('.product-item-info'),\n                $widget = this,\n                images = [],\n\n                /**\n                 * Check whether object supported or not\n                 *\n                 * @param {Object} e\n                 * @returns {*|Boolean}\n                 */\n                support = function (e) {\n                    return e.hasOwnProperty('large') && e.hasOwnProperty('medium') && e.hasOwnProperty('small');\n                };\n\n            if (_.size($widget) < 1 || !support(response)) {\n                this.updateBaseImage(this.options.mediaGalleryInitial, $main, isProductViewExist);\n\n                return;\n            }\n\n            images.push({\n                full: response.large,\n                img: response.medium,\n                thumb: response.small,\n                isMain: true\n            });\n\n            if (response.hasOwnProperty('gallery')) {\n                $.each(response.gallery, function () {\n                    if (!support(this) || response.large === this.large) {\n                        return;\n                    }\n                    images.push({\n                        full: this.large,\n                        img: this.medium,\n                        thumb: this.small\n                    });\n                });\n            }\n\n            this.updateBaseImage(images, $main, isProductViewExist);\n        },\n\n        /**\n         * Check if images to update are initial and set their type\n         * @param {Array} images\n         */\n        _setImageType: function (images) {\n            var initial = this.options.mediaGalleryInitial[0].img;\n\n            if (images[0].img === initial) {\n                images = $.extend(true, [], this.options.mediaGalleryInitial);\n            } else {\n                images.map(function (img) {\n                    img.type = 'image';\n                });\n            }\n\n            return images;\n        },\n\n        /**\n         * Update [gallery-placeholder] or [product-image-photo]\n         * @param {Array} images\n         * @param {jQuery} context\n         * @param {Boolean} isProductViewExist\n         */\n        updateBaseImage: function (images, context, isProductViewExist) {\n            var justAnImage = images[0],\n                initialImages = this.options.mediaGalleryInitial,\n                gallery = context.find(this.options.mediaGallerySelector).data('gallery'),\n                imagesToUpdate,\n                isInitial;\n\n            if (isProductViewExist) {\n                imagesToUpdate = images.length ? this._setImageType($.extend(true, [], images)) : [];\n                isInitial = _.isEqual(imagesToUpdate, initialImages);\n\n                if (this.options.gallerySwitchStrategy === 'prepend' && !isInitial) {\n                    imagesToUpdate = imagesToUpdate.concat(initialImages);\n                }\n\n                gallery.updateData(imagesToUpdate);\n\n                if (isInitial) {\n                    $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\n                }\n\n                gallery.first();\n\n            } else if (justAnImage && justAnImage.img) {\n                context.find('.product-image-photo').attr('src', justAnImage.img);\n            }\n        },\n\n        /**\n         * Kill doubled AJAX requests\n         *\n         * @private\n         */\n        _XhrKiller: function () {\n            var $widget = this;\n\n            if ($widget.xhr !== undefined && $widget.xhr !== null) {\n                $widget.xhr.abort();\n                $widget.xhr = null;\n            }\n        },\n\n        /**\n         * Emulate mouse click on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelected: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeCode, optionId) {\n                this.element.find('.' + this.options.classes.attributeClass +\n                    '[attribute-code=\"' + attributeCode + '\"] [option-id=\"' + optionId + '\"]').trigger('click');\n            }, this));\n        },\n\n        /**\n         * Get default options values settings with either URL query parameters\n         * @private\n         */\n        _getSelectedAttributes: function () {\n            var hashIndex = window.location.href.indexOf('#'),\n                selectedAttributes = {},\n                params;\n\n            if (hashIndex !== -1) {\n                params = $.parseQuery(window.location.href.substr(hashIndex + 1));\n\n                selectedAttributes = _.invert(_.mapObject(_.invert(params), function (attributeId) {\n                    var attribute = this.options.jsonConfig.attributes[attributeId];\n\n                    return attribute ? attribute.code : attributeId;\n                }.bind(this)));\n            }\n\n            return selectedAttributes;\n        },\n\n        /**\n         * Callback which fired after gallery gets initialized.\n         *\n         * @param {HTMLElement} element - DOM element associated with a gallery.\n         */\n        _onGalleryLoaded: function (element) {\n            var galleryObject = element.data('gallery');\n\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\n        }\n    });\n\n    return $.mage.SwatchRenderer;\n});\n","Magento_SendFriend/back-event.js":"/**\n* Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n* See COPYING.txt for license details.\n*/\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    return function (config, element) {\n        $(element).on('click', function() {\n            history.back();\n            return false;\n        });\n    };\n});\n","Magento_ProductVideo/js/fotorama-add-video-events.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery/ui',\n    'catalogGallery',\n    'Magento_ProductVideo/js/load-player'\n], function ($) {\n    'use strict';\n\n    /**\n     * @private\n     */\n    var allowBase = true; //global var is needed because fotorama always fully reloads events in case of fullscreen\n\n    /**\n     * @private\n     */\n    function parseHref(href) {\n        var a = document.createElement('a');\n\n        a.href = href;\n\n        return a;\n    }\n\n    /**\n     * @private\n     */\n    function parseURL(href, forceVideo) {\n        var id,\n            type,\n            ampersandPosition,\n            vimeoRegex;\n\n        /**\n         * Get youtube ID\n         * @param {String} srcid\n         * @returns {{}}\n         */\n        function _getYoutubeId(srcid) {\n            if (srcid) {\n                ampersandPosition = srcid.indexOf('&');\n\n                if (ampersandPosition === -1) {\n                    return srcid;\n                }\n\n                srcid = srcid.substring(0, ampersandPosition);\n            }\n\n            return srcid;\n        }\n\n        if (typeof href !== 'string') {\n            return href;\n        }\n\n        href = parseHref(href);\n\n        if (href.host.match(/youtube\\.com/) && href.search) {\n            id = href.search.split('v=')[1];\n\n            if (id) {\n                id = _getYoutubeId(id);\n                type = 'youtube';\n            }\n        } else if (href.host.match(/youtube\\.com|youtu\\.be/)) {\n            id = href.pathname.replace(/^\\/(embed\\/|v\\/)?/, '').replace(/\\/.*/, '');\n            type = 'youtube';\n        } else if (href.host.match(/vimeo\\.com/)) {\n            type = 'vimeo';\n            vimeoRegex = new RegExp(['https?:\\\\/\\\\/(?:www\\\\.|player\\\\.)?vimeo.com\\\\/(?:channels\\\\/(?:\\\\w+\\\\/)',\n                '?|groups\\\\/([^\\\\/]*)\\\\/videos\\\\/|album\\\\/(\\\\d+)\\\\/video\\\\/|video\\\\/|)(\\\\d+)(?:$|\\\\/|\\\\?)'\n            ].join(''));\n            id = href.href.match(vimeoRegex)[3];\n        }\n\n        if ((!id || !type) && forceVideo) {\n            id = href.href;\n            type = 'custom';\n        }\n\n        return id ? {\n            id: id, type: type, s: href.search.replace(/^\\?/, '')\n        } : false;\n    }\n\n    //create AddFotoramaVideoEvents widget\n    $.widget('mage.AddFotoramaVideoEvents', {\n        options: {\n            videoData: '',\n            videoSettings: '',\n            optionsVideoData: ''\n        },\n\n        PV: 'product-video', // [CONST]\n        VU: 'video-unplayed',\n        PVLOADED: 'fotorama__product-video--loaded', // [CONST]\n        VID: 'video', // [CONST]\n        VI: 'vimeo', // [CONST]\n        FTVC: 'fotorama__video-close',\n        FTAR: 'fotorama__arr',\n        TI: 'video-thumb-icon',\n        isFullscreen: false,\n        FTCF: '[data-gallery-role=\"fotorama__fullscreen-icon\"]',\n        Base: 0, //on check for video is base this setting become true if there is any video with base role\n        MobileMaxWidth: 767,\n        GP: 'gallery-placeholder', //gallery placeholder class is needed to find and erase <script> tag\n        videoData: null,\n\n        /**\n         * Creates widget\n         * @private\n         */\n        _create: function () {\n\n            $(this.element).on('gallery:loaded',  $.proxy(function () {\n                this.fotoramaItem = $(this.element).find('.fotorama-item');\n                this._initialize();\n            }, this));\n        },\n\n        /**\n         *\n         * @private\n         */\n        _initialize: function () {\n            this._loadVideoData();\n\n            if (this._checkForVideoExist()) {\n                this._checkFullscreen();\n                this._listenForFullscreen();\n                this._checkForVimeo();\n                this._isVideoBase();\n                this._initFotoramaVideo();\n                this._attachFotoramaEvents();\n            }\n        },\n\n        /**\n         *\n         * @param {Object} options\n         * @private\n         */\n        _setOptions: function (options) {\n\n            if (options.videoData && options.videoData.length) {\n                this.options.videoData = options.videoData;\n            }\n            this._initialize();\n        },\n\n        /**\n         *\n         * @private\n         */\n        _loadVideoData: function () {\n            var $widget = this;\n\n            if (!$widget.videoData) {\n                $widget.videoData = $widget.options.VideoData;\n            }\n\n            $('#product-options-wrapper').find('[option-selected]').each(function () {\n                var key = $(this).attr('attribute-code') + '_' + $(this).attr('option-selected');\n\n                if ($widget.options.optionsVideoData && $widget.options.optionsVideoData[key]) {\n                    $widget.options.VideoData = $widget.options.optionsVideoData[key];\n                } else {\n                    $widget.options.VideoData = $widget.videoData;\n                }\n            });\n\n            if (!$('#product-options-wrapper').find('[option-selected]').length) {\n                $widget.options.VideoData = $widget.videoData;\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _checkFullscreen: function () {\n            if (this.fotoramaItem.data('fotorama').fullScreen || false) {\n                this.isFullscreen = true;\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _listenForFullscreen: function () {\n            var self = this;\n\n            this.fotoramaItem.on('fotorama:fullscreenenter', $.proxy(function () {\n                this.isFullscreen = true;\n            }, this));\n            this.fotoramaItem.on('fotorama:fullscreenexit', $.proxy(function () {\n                this.isFullscreen = false;\n                self._hideVideoArrows();\n            }, this));\n        },\n\n        /**\n         *\n         * @param {Object} inputData\n         * @param {bool} isJSON\n         * @returns {{}}\n         * @private\n         */\n        _createVideoData: function (inputData, isJSON) {\n            var videoData = [],\n                dataUrl,\n                tmpVideoData,\n                tmpInputData,\n                i;\n\n            if (isJSON) {\n                inputData = $.parseJSON(inputData);\n            }\n\n            for (i = 0; i < inputData.length; i++) {\n                tmpInputData = inputData[i];\n                dataUrl = '';\n                tmpVideoData = {\n                    mediaType: '',\n                    isBase: '',\n                    id: '',\n                    provider: ''\n                };\n                tmpVideoData.mediaType = this.VID;\n\n                if (tmpInputData.mediaType !== 'external-video') {\n                    tmpVideoData.mediaType = tmpInputData.mediaType;\n                }\n\n                tmpVideoData.isBase = tmpInputData.isBase;\n\n                if (tmpInputData.videoUrl != null) {\n                    dataUrl = tmpInputData.videoUrl;\n                    dataUrl = parseURL(dataUrl);\n                    tmpVideoData.id = dataUrl.id;\n                    tmpVideoData.provider = dataUrl.type;\n                    tmpVideoData.videoUrl = tmpInputData.videoUrl;\n                }\n\n                videoData.push(tmpVideoData);\n            }\n\n            return videoData;\n        },\n\n        /**\n         *\n         * @param {Object} fotorama\n         * @param {bool} isBase\n         * @private\n         */\n        _createCloseVideo: function (fotorama, isBase) {\n            var closeVideo;\n\n            this.fotoramaItem.find('.' + this.FTVC).remove();\n            this.fotoramaItem.append('<div class=\"' + this.FTVC + '\"></div>');\n            this.fotoramaItem.css('position', 'relative');\n            closeVideo = this.fotoramaItem.find('.' + this.FTVC);\n            this._closeVideoSetEvents(closeVideo, fotorama);\n\n            if (\n                isBase &&\n                this.options.videoData[fotorama.activeIndex].isBase &&\n                $(window).width() > this.MobileMaxWidth) {\n                this._showCloseVideo();\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _hideCloseVideo: function () {\n            this.fotoramaItem\n                .find('.' + this.FTVC)\n                .removeClass('fotorama-show-control');\n        },\n\n        /**\n         *\n         * @private\n         */\n        _showCloseVideo: function () {\n            this.fotoramaItem\n                .find('.' + this.FTVC)\n                .addClass('fotorama-show-control');\n        },\n\n        /**\n         *\n         * @param {jQuery} $closeVideo\n         * @param {jQuery} fotorama\n         * @private\n         */\n        _closeVideoSetEvents: function ($closeVideo, fotorama) {\n            $closeVideo.on('click', $.proxy(function () {\n                this._unloadVideoPlayer(fotorama.activeFrame.$stageFrame.parent(), fotorama, true);\n                this._hideCloseVideo();\n            }, this));\n        },\n\n        /**\n         *\n         * @returns {Boolean}\n         * @private\n         */\n        _checkForVideoExist: function () {\n            var key, result, checker, videoSettings;\n\n            if (!this.options.videoData) {\n                return false;\n            }\n\n            if (!this.options.videoSettings) {\n                return false;\n            }\n            result = this._createVideoData(this.options.videoData, false),\n                checker = false;\n            videoSettings = this.options.videoSettings[0];\n            videoSettings.playIfBase = parseInt(videoSettings.playIfBase, 10);\n            videoSettings.showRelated = parseInt(videoSettings.showRelated, 10);\n            videoSettings.videoAutoRestart = parseInt(videoSettings.videoAutoRestart, 10);\n\n            for (key in result) {\n                if (result[key].mediaType === this.VID) {\n                    checker = true;\n                }\n            }\n\n            if (checker) {\n                this.options.videoData = result;\n            }\n\n            return checker;\n        },\n\n        /**\n         *\n         * @private\n         */\n        _checkForVimeo: function () {\n            var allVideoData = this.options.videoData,\n                videoItem;\n\n            for (videoItem in allVideoData) {\n                if (allVideoData[videoItem].provider === this.VI) {\n                    this._loadVimeoJSFramework();\n                }\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _isVideoBase: function () {\n            var allVideoData = this.options.videoData,\n                videoItem,\n                allVideoDataKeys,\n                key,\n                i;\n\n            allVideoDataKeys = Object.keys(allVideoData);\n\n            for (i = 0; i < allVideoDataKeys.length; i++) {\n                key = allVideoDataKeys[i];\n                videoItem = allVideoData[key];\n\n                if (\n                    videoItem.mediaType === this.VID && videoItem.isBase &&\n                    this.options.videoSettings[0].playIfBase && allowBase\n                ) {\n                    this.Base = true;\n                    allowBase = false;\n                }\n            }\n\n            if (!this.isFullscreen) {\n                this._createCloseVideo(this.fotoramaItem.data('fotorama'), this.Base);\n            }\n        },\n\n        /**\n         *\n         * @private\n         */\n        _loadVimeoJSFramework: function () {\n            var element = document.createElement('script'),\n                scriptTag = document.getElementsByTagName('script')[0];\n\n            element.async = true;\n            element.src = 'https://secure-a.vimeocdn.com/js/froogaloop2.min.js';\n            scriptTag.parentNode.insertBefore(element, scriptTag);\n        },\n\n        /**\n         *\n         * @param {Event} e\n         * @private\n         */\n        _initFotoramaVideo: function (e) {\n            var fotorama = this.fotoramaItem.data('fotorama'),\n                thumbsParent,\n                thumbs,\n                t;\n\n            if (!fotorama.activeFrame.$navThumbFrame) {\n                this.fotoramaItem.on('fotorama:showend', $.proxy(function (evt, fotoramaData) {\n                    $(fotoramaData.activeFrame.$stageFrame).removeAttr('href');\n                }, this));\n\n                this._startPrepareForPlayer(e, fotorama);\n\n                return null;\n            }\n            fotorama.data.map($.proxy(this._setItemType, this));\n\n            thumbsParent = fotorama.activeFrame.$navThumbFrame.parent();\n            thumbs = thumbsParent.find('.fotorama__nav__frame:visible');\n\n            for (t = 0; t < thumbs.length; t++) {\n                this._setThumbsIcon(thumbs.eq(t), t);\n                this._checkForVideo(e, fotorama, t);\n            }\n\n            this.fotoramaItem.on('fotorama:showend', $.proxy(function (evt, fotoramaData) {\n                $(fotoramaData.activeFrame.$stageFrame).removeAttr('href');\n            }, this));\n        },\n\n        /**\n         *\n         * @param {Object} elem\n         * @param {Number} i\n         * @private\n         */\n        _setThumbsIcon: function (elem, i) {\n            var fotorama = this.fotoramaItem.data('fotorama');\n\n            if (fotorama.options.nav === 'dots' && elem.hasClass(this.TI)) {\n                elem.removeClass(this.TI);\n            }\n\n            if (this.options.videoData[i].mediaType === this.VID &&\n                fotorama.data[i].type ===  this.VID &&\n                fotorama.options.nav === 'thumbs') {\n                elem.addClass(this.TI);\n            }\n        },\n\n        /**\n         * Temporary solution with adding types for configurable product items\n         *\n         * @param {Object} item\n         * @param {Number} i\n         * @private\n         */\n        _setItemType: function (item, i) {\n            !item.type && (item.type = this.options.videoData[i].mediaType);\n        },\n\n        /**\n         * Attach\n         *\n         * @private\n         */\n        _attachFotoramaEvents: function () {\n            this.fotoramaItem.on('fotorama:showend', $.proxy(function (e, fotorama) {\n                this._startPrepareForPlayer(e, fotorama);\n            }, this));\n            this.fotoramaItem.on('fotorama:show', $.proxy(function (e, fotorama) {\n                this._unloadVideoPlayer(fotorama.activeFrame.$stageFrame.parent(), fotorama, true);\n            }, this));\n\n            this.fotoramaItem.on('fotorama:fullscreenexit', $.proxy(function (e, fotorama) {\n                fotorama.activeFrame.$stageFrame.find('.' + this.PV).remove();\n                this._startPrepareForPlayer(e, fotorama);\n            }, this));\n        },\n\n        /**\n         * Start prepare for player\n         *\n         * @param {Event} e\n         * @param {jQuery} fotorama\n         * @private\n         */\n        _startPrepareForPlayer: function (e, fotorama) {\n            this._unloadVideoPlayer(fotorama.activeFrame.$stageFrame.parent(), fotorama, false);\n            this._checkForVideo(e, fotorama, fotorama.activeFrame.i);\n            this._checkForVideo(e, fotorama, fotorama.activeFrame.i - 1);\n            this._checkForVideo(e, fotorama, fotorama.activeFrame.i + 1);\n        },\n\n        /**\n         * Check for video\n         *\n         * @param {Event} e\n         * @param {jQuery} fotorama\n         * @param {Number} number\n         * @private\n         */\n        _checkForVideo: function (e, fotorama, number) {\n            var videoData = this.options.videoData[number - 1],\n                $image = fotorama.data[number - 1],\n                videoEventIsSet = false;\n\n            if ($image) {\n\n                !$image.type && this._setItemType($image, number - 1);\n\n                if ($image.type === 'image') {\n                    $image.$navThumbFrame && $image.$navThumbFrame.removeClass(this.TI);\n                    this._hideCloseVideo();\n\n                    return;\n                } else if ($image.$navThumbFrame && $image.type === 'video') {\n                    !$image.$navThumbFrame.hasClass(this.TI) && $image.$navThumbFrame.addClass(this.TI);\n                }\n\n                $image = $image.$stageFrame;\n\n                if ($image) {\n                    videoEventIsSet = $image.hasClass(this.VU);\n                }\n            }\n\n            if ($image && videoData && videoData.mediaType === this.VID && !videoEventIsSet) {\n                $(fotorama.activeFrame.$stageFrame).removeAttr('href');\n                this._prepareForVideoContainer($image, videoData, fotorama, number);\n            }\n\n            if (this.isFullscreen && this.fotoramaItem.data('fotorama').activeFrame.i === number) {\n                this.fotoramaItem.data('fotorama').activeFrame.$stageFrame[0].click();\n            }\n        },\n\n        /**\n         * Prepare for video container\n         *\n         * @param {jQuery} $image\n         * @param {Object} videoData\n         * @param {Object} fotorama\n         * @param {Number} number\n         * @private\n         */\n        _prepareForVideoContainer: function ($image, videoData, fotorama, number) {\n            $image.addClass('fotorama-video-container').addClass(this.VU);\n            this._createVideoContainer(videoData, $image);\n            this._setVideoEvent($image, this.PV, fotorama, number);\n        },\n\n        /**\n         * Create video container\n         *\n         * @param {Object} videoData\n         * @param {jQuery} $image\n         * @private\n         */\n        _createVideoContainer: function (videoData, $image) {\n            var videoSettings;\n\n            if ($image.find('.' + this.PV).length !== 0) {\n                return;\n            }\n\n            videoSettings = this.options.videoSettings[0];\n            $image.append(\n                '<div class=\"' +\n                this.PV +\n                '\" data-related=\"' +\n                videoSettings.showRelated +\n                '\" data-loop=\"' +\n                videoSettings.videoAutoRestart +\n                '\" data-type=\"' +\n                videoData.provider +\n                '\" data-code=\"' +\n                videoData.id +\n                '\" data-width=\"100%\" data-height=\"100%\"></div>'\n            );\n        },\n\n        /**\n         *\n         * @param {Object} $image\n         * @param {Object} PV\n         * @param {Object} fotorama\n         * @param {Number} number\n         * @private\n         */\n        _setVideoEvent: function ($image, PV, fotorama, number) {\n            $image.find('.magnify-lens').remove();\n            $image\n                .off('click tap', $.proxy(this._clickHandler, this))\n                .on('click tap', $.proxy(this._clickHandler, this));\n            this._handleBaseVideo(fotorama, number); //check for video is it base and handle it if it's base\n        },\n\n        /**\n         * Hides preview arrows above video player.\n         * @private\n         */\n        _hideVideoArrows: function () {\n            var arrows = $('.' + this.FTAR);\n\n            arrows.removeClass('fotorama__arr--shown');\n            arrows.removeClass('fotorama__arr--hidden');\n        },\n\n        /**\n         *\n         * @param {Event} event\n         * @private\n         */\n        _clickHandler: function (event) {\n            if ($(event.target).hasClass(this.VU) && $(event.target).find('iframe').length === 0) {\n\n                $(event.target).removeClass(this.VU);\n                $(event.target).find('.' + this.PV).productVideoLoader();\n\n                $('.' + this.FTAR).addClass(this.isFullscreen ? 'fotorama__arr--shown' : 'fotorama__arr--hidden');\n            }\n        },\n\n        /**\n         * Handle base video\n         * @param {Object} fotorama\n         * @param {Number} srcNumber\n         * @private\n         */\n        _handleBaseVideo: function (fotorama, srcNumber) {\n            var waitForFroogaloop,\n                videoData = this.options.videoData,\n                activeIndex = fotorama.activeIndex,\n                number = parseInt(srcNumber, 10),\n                activeIndexIsBase = videoData[activeIndex];\n\n            if (!this.Base) {\n                return;\n            }\n\n            if (activeIndexIsBase && number === 1 && $(window).width() > this.MobileMaxWidth) {\n                if (this.options.videoData[fotorama.activeIndex].provider === this.VI) {\n                    waitForFroogaloop = setInterval($.proxy(function () {\n                        if (window.Froogaloop) {\n                            clearInterval(waitForFroogaloop);\n                            fotorama.requestFullScreen();\n                            this.fotoramaItem.data('fotorama').activeFrame.$stageFrame[0].click();\n                            this.Base = false;\n                        }\n                    }, this), 50);\n                } else { //if not a vimeo - play it immediately with a little lag in case for fotorama fullscreen\n                    setTimeout($.proxy(function () {\n                        fotorama.requestFullScreen();\n                        this.fotoramaItem.data('fotorama').activeFrame.$stageFrame[0].click();\n                        this.Base = false;\n                    }, this), 50);\n                }\n            }\n        },\n\n        /**\n         * Destroy video player\n         * @param {jQuery} $wrapper\n         * @param {jQuery} current\n         * @param {bool} close\n         * @private\n         */\n        _unloadVideoPlayer: function ($wrapper, current, close) {\n            var self = this;\n\n            if (!$wrapper) {\n                return;\n            }\n\n            $wrapper.find('.' + this.PVLOADED).removeClass(this.PVLOADED);\n\n            $wrapper.find('.' + this.PV).each(function () {\n                var $item = $(this).parent(),\n                    cloneVideoDiv,\n                    iframeElement = $(this).find('iframe'),\n                    currentIndex,\n                    itemIndex;\n\n                if (iframeElement.length === 0) {\n                    return;\n                }\n\n                currentIndex = current.activeFrame.$stageFrame.index();\n                itemIndex = $item.index();\n\n                if (currentIndex === itemIndex && !close) {\n                    return;\n                }\n\n                if (currentIndex !== itemIndex && close) {\n                    return;\n                }\n\n                iframeElement.remove();\n                cloneVideoDiv = $(this).clone();\n                $(this).remove();\n                $item.append(cloneVideoDiv);\n                $item.addClass(self.VU);\n\n                self._hideCloseVideo();\n                self._hideVideoArrows();\n\n                if (self.isFullscreen && !self.fotoramaItem.data('fotorama').options.fullscreen.arrows) {\n                    if ($('.' + self.FTAR + '--prev').is(':focus') || $('.' + self.FTAR + '--next').is(':focus')) {\n                        $(self.FTCF).focus();\n                    }\n                }\n            });\n        }\n    });\n\n    return $.mage.AddFotoramaVideoEvents;\n});\n","Magento_ProductVideo/js/load-player.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n @version 0.0.1\n @requires jQuery & jQuery UI\n */\ndefine(['jquery', 'jquery/ui'], function ($) {\n    'use strict';\n\n    var videoRegister = {\n        _register: {},\n\n        /**\n         * Checks, if api is already registered\n         *\n         * @param {String} api\n         * @returns {bool}\n         */\n        isRegistered: function (api) {\n            return this._register[api] !== undefined;\n        },\n\n        /**\n         * Checks, if api is loaded\n         *\n         * @param {String} api\n         * @returns {bool}\n         */\n        isLoaded: function (api) {\n            return this._register[api] !== undefined && this._register[api] === true;\n        },\n\n        /**\n         * Register new video api\n         * @param {String} api\n         * @param {bool} loaded\n         */\n        register: function (api, loaded) {\n            loaded = loaded || false;\n            this._register[api] = loaded;\n        }\n    };\n\n    $.widget('mage.productVideoLoader', {\n\n        /**\n         * @private\n         */\n        _create: function () {\n            switch (this.element.data('type')) {\n                case 'youtube':\n                    this.element.videoYoutube();\n                    this._player = this.element.data('mageVideoYoutube');\n                    break;\n\n                case 'vimeo':\n                    this.element.videoVimeo();\n                    this._player = this.element.data('mageVideoVimeo');\n                    break;\n                default:\n                    throw {\n                        name: 'Video Error',\n                        message: 'Unknown video type',\n\n                        /**\n                         * join name with message\n                         */\n                        toString: function () {\n                            return this.name + ': ' + this.message;\n                        }\n                    };\n            }\n        },\n\n        /**\n         * Initializes variables\n         * @private\n         */\n        _initialize: function () {\n            this._params = this.element.data('params') || {};\n            this._code = this.element.data('code');\n            this._width = this.element.data('width');\n            this._height = this.element.data('height');\n            this._autoplay = !!this.element.data('autoplay');\n            this._playing = this._autoplay || false;\n            this._loop = this.element.data('loop');\n            this._rel = this.element.data('related');\n\n            this._responsive = this.element.data('responsive') !== false;\n\n            if (this._responsive === true) {\n                this.element.addClass('responsive');\n            }\n\n            this._calculateRatio();\n        },\n\n        /**\n         * Abstract play command\n         */\n        play: function () {\n            this._player.play();\n        },\n\n        /**\n         * Abstract pause command\n         */\n        pause: function () {\n            this._player.pause();\n        },\n\n        /**\n         * Abstract stop command\n         */\n        stop: function () {\n            this._player.stop();\n        },\n\n        /**\n         * Abstract playing command\n         */\n        playing: function () {\n            return this._player.playing();\n        },\n\n        /**\n         * Destroyer\n         */\n        destroy: function () {\n            this._player.destroy();\n        },\n\n        /**\n         * Calculates ratio for responsive videos\n         * @private\n         */\n        _calculateRatio: function () {\n            if (!this._responsive) {\n                return;\n            }\n            this.element.css('paddingBottom', this._height / this._width * 100 + '%');\n        }\n    });\n\n    $.widget('mage.videoYoutube', $.mage.productVideoLoader, {\n\n        /**\n         * Initialization of the Youtube widget\n         * @private\n         */\n        _create: function () {\n            var self = this;\n\n            this._initialize();\n\n            this.element.append('<div/>');\n\n            this._on(window, {\n\n                /**\n                 * Handle event\n                 */\n                'youtubeapiready': function () {\n                    if (self._player !== undefined) {\n                        return;\n                    }\n                    self._autoplay = true;\n\n                    if (self._autoplay) {\n                        self._params.autoplay = 1;\n                    }\n\n                    if (!self._rel) {\n                        self._params.rel = 0;\n                    }\n\n                    self._player = new window.YT.Player(self.element.children(':first')[0], {\n                        height: self._height,\n                        width: self._width,\n                        videoId: self._code,\n                        playerVars: self._params,\n                        events: {\n\n                            /**\n                             * Get duration\n                             */\n                            'onReady': function onPlayerReady() {\n                                self._player.getDuration();\n                                self.element.closest('.fotorama__stage__frame')\n                                    .addClass('fotorama__product-video--loaded');\n                            },\n\n                            /**\n                             * Event observer\n                             */\n                            onStateChange: function (data) {\n                                switch (window.parseInt(data.data, 10)) {\n                                    case 1:\n                                        self._playing = true;\n                                        break;\n                                    default:\n                                        self._playing = false;\n                                        break;\n                                }\n\n                                self._trigger('statechange', {}, data);\n\n                                if (data.data === window.YT.PlayerState.ENDED && self._loop) {\n                                    self._player.playVideo();\n                                }\n                            }\n                        }\n\n                    });\n                }\n            });\n\n            this._loadApi();\n        },\n\n        /**\n         * Loads Youtube API and triggers event, when loaded\n         * @private\n         */\n        _loadApi: function () {\n            var element,\n                scriptTag;\n\n            if (videoRegister.isRegistered('youtube')) {\n                if (videoRegister.isLoaded('youtube')) {\n                    $(window).trigger('youtubeapiready');\n                }\n\n                return;\n            }\n            videoRegister.register('youtube');\n\n            element = document.createElement('script');\n            scriptTag = document.getElementsByTagName('script')[0];\n\n            element.async = true;\n            element.src = 'https://www.youtube.com/iframe_api';\n            scriptTag.parentNode.insertBefore(element, scriptTag);\n\n            /**\n             * Event observe and handle\n             */\n            window.onYouTubeIframeAPIReady = function () {\n                $(window).trigger('youtubeapiready');\n                videoRegister.register('youtube', true);\n            };\n        },\n\n        /**\n         * Play command for Youtube\n         */\n        play: function () {\n            this._player.playVideo();\n            this._playing = true;\n        },\n\n        /**\n         * Pause command for Youtube\n         */\n        pause: function () {\n            this._player.pauseVideo();\n            this._playing = false;\n        },\n\n        /**\n         * Stop command for Youtube\n         */\n        stop: function () {\n            this._player.stopVideo();\n            this._playing = false;\n        },\n\n        /**\n         * Playing command for Youtube\n         */\n        playing: function () {\n            return this._playing;\n        },\n\n        /**\n         * stops and unloads player\n         * @private\n         */\n        destroy: function () {\n            this.stop();\n            this._player.destroy();\n        }\n    });\n\n    $.widget('mage.videoVimeo', $.mage.productVideoLoader, {\n\n        /**\n         * Initialize the Vimeo widget\n         * @private\n         */\n        _create: function () {\n            var timestamp,\n                additionalParams = '',\n                src;\n\n            this._initialize();\n            timestamp = new Date().getTime();\n            this._autoplay = true;\n\n            if (this._autoplay) {\n                additionalParams += '&autoplay=1';\n            }\n\n            if (this._loop) {\n                additionalParams += '&loop=1';\n            }\n            src = 'http://player.vimeo.com/video/' +\n                this._code + '?api=1&player_id=vimeo' +\n                this._code +\n                timestamp +\n                additionalParams;\n            this.element.append(\n                $('<iframe/>')\n                    .attr('frameborder', 0)\n                    .attr('id', 'vimeo' + this._code + timestamp)\n                    .attr('width', this._width)\n                    .attr('height', this._height)\n                    .attr('src', src)\n                    .attr('webkitallowfullscreen', '')\n                    .attr('mozallowfullscreen', '')\n                    .attr('allowfullscreen', '')\n            );\n            this._player = window.$f(this.element.children(':first')[0]);\n\n            // Froogaloop throws error without a registered ready event\n            this._player.addEvent('ready', function (id) {\n                $('#' + id).closest('.fotorama__stage__frame').addClass('fotorama__product-video--loaded');\n            });\n        },\n\n        /**\n         * Play command for Vimeo\n         */\n        play: function () {\n            this._player.api('play');\n            this._playing = true;\n        },\n\n        /**\n         * Pause command for Vimeo\n         */\n        pause: function () {\n            this._player.api('pause');\n            this._playing = false;\n        },\n\n        /**\n         * Stop command for Vimeo\n         */\n        stop: function () {\n            this._player.api('unload');\n            this._playing = false;\n        },\n\n        /**\n         * Playing command for Vimeo\n         */\n        playing: function () {\n            return this._playing;\n        }\n    });\n});\n","Magento_Persistent/js/view/remember-me.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        \"ko\",\n        \"uiComponent\"\n    ],\n    function (ko, Component) {\n        \"use strict\";\n        var persistenceConfig = window.checkoutConfig.persistenceConfig;\n        return Component.extend({\n            defaults: {\n                template: \"Magento_Persistent/remember-me\"\n            },\n            dataScope: \"global\",\n            isRememberMeCheckboxVisible: ko.observable(persistenceConfig.isRememberMeCheckboxVisible),\n            isRememberMeCheckboxChecked: ko.observable(persistenceConfig.isRememberMeCheckboxChecked)\n        });\n    }\n);\n","Magento_OfflineShipping/js/model/shipping-rates-validation-rules/flatrate.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        \"use strict\";\n        return {\n            getRules: function() {\n                return {\n                    'country_id': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_OfflineShipping/js/model/shipping-rates-validation-rules/freeshipping.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        \"use strict\";\n        return {\n            getRules: function() {\n                return {\n                    'country_id': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_OfflineShipping/js/model/shipping-rates-validation-rules/tablerate.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        \"use strict\";\n        return {\n            getRules: function() {\n                return {\n                    'postcode': {\n                        'required': true\n                    },\n                    'country_id': {\n                        'required': true\n                    },\n                    'region_id': {\n                        'required': true\n                    },\n                    'region_id_input': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_OfflineShipping/js/model/shipping-rates-validator/flatrate.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        '../shipping-rates-validation-rules/flatrate',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        \"use strict\";\n        return {\n            validationErrors: [],\n            validate: function(address) {\n                var self = this;\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function(field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n                        self.validationErrors.push(message);\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_OfflineShipping/js/model/shipping-rates-validator/freeshipping.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        '../shipping-rates-validation-rules/freeshipping',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        \"use strict\";\n        return {\n            validationErrors: [],\n            validate: function(address) {\n                var self = this;\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function(field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n                        self.validationErrors.push(message);\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_OfflineShipping/js/model/shipping-rates-validator/tablerate.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        '../shipping-rates-validation-rules/tablerate',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var self = this;\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n                        var regionFields = ['region', 'region_id', 'region_id_input'];\n                        if (\n                            $.inArray(field, regionFields) === -1\n                            || utils.isEmpty(address['region']) && utils.isEmpty(address['region_id'])\n                        ) {\n                            self.validationErrors.push(message);\n                        }\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_OfflineShipping/js/view/shipping-rates-validation/flatrate.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        '../../model/shipping-rates-validator/flatrate',\n        '../../model/shipping-rates-validation-rules/flatrate'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        flatrateShippingRatesValidator,\n        flatrateShippingRatesValidationRules\n    ) {\n        \"use strict\";\n        defaultShippingRatesValidator.registerValidator('flatrate', flatrateShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('flatrate', flatrateShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_OfflineShipping/js/view/shipping-rates-validation/freeshipping.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        '../../model/shipping-rates-validator/freeshipping',\n        '../../model/shipping-rates-validation-rules/freeshipping'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        freeshippingShippingRatesValidator,\n        freeshippingShippingRatesValidationRules\n    ) {\n        \"use strict\";\n        defaultShippingRatesValidator.registerValidator('freeshipping', freeshippingShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('freeshipping', freeshippingShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_OfflineShipping/js/view/shipping-rates-validation/tablerate.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        '../../model/shipping-rates-validator/tablerate',\n        '../../model/shipping-rates-validation-rules/tablerate'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        tablerateShippingRatesValidator,\n        tablerateShippingRatesValidationRules\n    ) {\n        \"use strict\";\n        defaultShippingRatesValidator.registerValidator('tablerate', tablerateShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('tablerate', tablerateShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_OfflinePayments/js/view/payment/offline-payments.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n        rendererList.push(\n            {\n                type: 'checkmo',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/checkmo-method'\n            },\n            {\n                type: 'banktransfer',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/banktransfer-method'\n            },\n            {\n                type: 'cashondelivery',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/cashondelivery-method'\n            },\n            {\n                type: 'purchaseorder',\n                component: 'Magento_OfflinePayments/js/view/payment/method-renderer/purchaseorder-method'\n            }\n        );\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/banktransfer-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'ko',\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (ko, Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/banktransfer'\n            },\n            /**\n             * Get value of instruction field.\n             * @returns {String}\n             */\n            getInstructions: function () {\n                return window.checkoutConfig.payment.instructions[this.item.method];\n            }\n        });\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/cashondelivery-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (Component) {\n        'use strict';\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/cashondelivery'\n            },\n\n            /** Returns payment method instructions */\n            getInstructions: function() {\n                return window.checkoutConfig.payment.instructions[this.item.method];\n            }\n        });\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/checkmo-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/checkmo'\n            },\n\n            /** Returns send check to info */\n            getMailingAddress: function() {\n                return window.checkoutConfig.payment.checkmo.mailingAddress;\n            },\n\n            /** Returns payable to info */\n            getPayableTo: function() {\n                return window.checkoutConfig.payment.checkmo.payableTo;\n            }\n        });\n    }\n);\n","Magento_OfflinePayments/js/view/payment/method-renderer/purchaseorder-method.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Checkout/js/view/payment/default',\n        'jquery',\n        \"mage/validation\"\n    ],\n    function (Component, $) {\n        'use strict';\n        return Component.extend({\n            defaults: {\n                template: 'Magento_OfflinePayments/payment/purchaseorder-form',\n                purchaseOrderNumber: ''\n            },\n            initObservable: function () {\n                this._super()\n                    .observe('purchaseOrderNumber');\n                return this;\n            },\n            getData: function () {\n                return {\n                    \"method\": this.item.method,\n                    'po_number': this.purchaseOrderNumber(),\n                    \"additional_data\": null\n                };\n\n            },\n            validate: function () {\n                var form = 'form[data-role=purchaseorder-form]';\n                return $(form).validation() && $(form).validation('isValid');\n            }\n        });\n    }\n);\n","Magento_Multishipping/js/multi-shipping.js":"/**\n * @category    checkout multi-shipping addresses\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint jquery:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n    \n    $.widget('mage.multiShipping', {\n        options: {\n            addNewAddressBtn: 'button[data-role=\"add-new-address\"]', // Add a new multishipping address.\n            addNewAddressFlag: '#add_new_address_flag', // Hidden input field with value 0 or 1.\n            canContinueBtn: 'button[data-role=\"can-continue\"]', // Continue (update quantity or go to shipping).\n            canContinueFlag: '#can_continue_flag' // Hidden input field with value 0 or 1.\n        },\n\n        /**\n         * Bind event handlers to click events for corresponding buttons.\n         * @private\n         */\n        _create: function() {\n            $(this.options.addNewAddressBtn).on('click', $.proxy(this._addNewAddress, this));\n            $(this.options.canContinueBtn).on('click', $.proxy(this._canContinue, this));\n        },\n\n        /**\n         * Add a new address. Set the hidden input field and submit the form. Then enter a new shipping address.\n         * @private\n         */\n        _addNewAddress: function() {\n            $(this.options.addNewAddressFlag).val(1);\n            this.element.submit();\n        },\n\n        /**\n         * Can the user continue to the next step? The data-flag attribute holds either 0 (no) or 1 (yes).\n         * @private\n         * @param event {Event} - Click event on the corresponding button.\n         */\n        _canContinue: function(event) {\n            $(this.options.canContinueFlag).val(parseInt($(event.currentTarget).data('flag'), 10));\n        }\n    });\n    \n    return $.mage.multiShipping;\n});\n","Magento_Multishipping/js/overview.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint jquery:true*/\n/*global alert*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\",\n    \"mage/translate\"\n], function($){\n    \"use strict\";\n\n    $.widget('mage.orderOverview', {\n        options: {\n            opacity: 0.5, // CSS opacity for the 'Place Order' button when it's clicked and then disabled.\n            pleaseWaitLoader: 'span.please-wait', // 'Submitting order information...' Ajax loader.\n            placeOrderSubmit: 'button[type=\"submit\"]', // The 'Place Order' button.\n            agreements: '#checkout-agreements' // Container for all of the checkout agreements and terms/conditions\n        },\n\n        /**\n         * Bind a submit handler to the form.\n         * @private\n         */\n        _create: function() {\n            this.element.on('submit', $.proxy(this._showLoader, this));\n        },\n\n        /**\n         * Verify that all agreements and terms/conditions are checked. Show the Ajax loader. Disable\n         * the submit button (i.e. Place Order).\n         * @return {Boolean}\n         * @private\n         */\n        _showLoader: function() {\n            if ($(this.options.agreements).find('input[type=\"checkbox\"]:not(:checked)').length > 0) {\n                return false;\n            }\n            this.element.find(this.options.pleaseWaitLoader).show().end()\n                .find(this.options.placeOrderSubmit).prop('disabled', true).css('opacity', this.options.opacity);\n            return true;\n        }\n    });\n\n    return $.mage.orderOverview;\n});\n","Magento_Multishipping/js/payment.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n/*global alert*/\n\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/translate'\n], function ($, mageTemplate, alert) {\n    'use strict';\n\n    $.widget('mage.payment', {\n        options: {\n            continueSelector: '#payment-continue',\n            methodsContainer: '#payment-methods',\n            minBalance: 0.0001,\n            tmpl: '<input id=\"hidden-free\" type=\"hidden\" name=\"payment[method]\" value=\"free\">'\n        },\n\n        _create: function () {\n            this.element.find('dd [name^=\"payment[\"]').prop('disabled', true).end()\n                .on('click', this.options.continueSelector, $.proxy(this._submitHandler, this))\n                .on('updateCheckoutPrice', $.proxy(function (event, data) {\n                    //updating the checkoutPrice\n                    if (data.price) {\n                        this.options.checkoutPrice += data.price;\n                    }\n\n                    //updating total price\n                    if (data.totalPrice) {\n                        data.totalPrice = this.options.checkoutPrice;\n                    }\n\n                    if (this.options.checkoutPrice < this.options.minBalance) {\n                        // Add free input field, hide and disable unchecked checkbox payment method and all radio button payment methods\n                        this._disablePaymentMethods();\n                    } else {\n                        // Remove free input field, show all payment method\n                        this._enablePaymentMethods();\n                    }\n                }, this))\n                .on('click', 'dt input:radio', $.proxy(this._paymentMethodHandler, this));\n\n            if (this.options.checkoutPrice < this.options.minBalance) {\n                this._disablePaymentMethods();\n            } else {\n                this._enablePaymentMethods();\n            }\n        },\n\n        /**\n         * Display payment details when payment method radio button is checked\n         * @private\n         * @param {EventObject} e\n         */\n        _paymentMethodHandler: function (e) {\n            var element = $(e.target),\n                parentsDl = element.closest('dl');\n\n            parentsDl.find('dt input:radio').prop('checked', false);\n            parentsDl.find('.items').hide().find('[name^=\"payment[\"]').prop('disabled', true);\n            element.prop('checked', true).parent().nextUntil('dt').find('.items').show().find('[name^=\"payment[\"]').prop('disabled', false);\n        },\n\n        /**\n         * make sure one payment method is selected\n         * @private\n         * @return {Boolean}\n         */\n        _validatePaymentMethod: function () {\n            var methods = this.element.find('[name^=\"payment[\"]'),\n                isValid = false;\n\n            if (methods.length === 0) {\n                alert({\n                    content: $.mage.__('We can\\'t complete your order because you don\\'t have a payment method set up.')\n                });\n            } else if (this.options.checkoutPrice < this.options.minBalance) {\n                isValid = true;\n            } else if (methods.filter('input:radio:checked').length) {\n                isValid = true;\n            } else {\n                alert({\n                    content: $.mage.__('Please choose a payment method.')\n                });\n            }\n\n            return isValid;\n        },\n\n        /**\n         * Disable and enable payment methods\n         * @private\n         */\n        _disablePaymentMethods: function () {\n            var tmpl = mageTemplate(this.options.tmpl, {\n                data: {}\n            });\n\n            this.element.find('input[name=\"payment[method]\"]').prop('disabled', true).end()\n                .find('input[id^=\"use\"][name^=\"payment[use\"]:not(:checked)').prop('disabled', true).parent().hide();\n            this.element.find('[name=\"payment[method]\"][value=\"free\"]').parent('dt').remove();\n            this.element.find(this.options.methodsContainer).hide().find('[name^=\"payment[\"]').prop('disabled', true);\n\n            $(tmpl).appendTo(this.element);\n        },\n\n        /**\n         * Enable and enable payment methods\n         * @private\n         */\n        _enablePaymentMethods: function () {\n            this.element.find('input[name=\"payment[method]\"]').prop('disabled', false).end()\n                .find('input[name=\"payment[method]\"][value=\"free\"]').remove().end()\n                .find('dt input:radio:checked').trigger('click').end()\n                .find('input[id^=\"use\"][name^=\"payment[use\"]:not(:checked)').prop('disabled', false).parent().show();\n            this.element.find(this.options.methodsContainer).show();\n        },\n\n        /**\n         * Validate  before form submit\n         * @private\n         * @param {EventObject} e\n         */\n        _submitHandler: function (e) {\n            e.preventDefault();\n\n            if (this._validatePaymentMethod()) {\n                this.element.submit();\n            }\n        }\n    });\n\n    return $.mage.payment;\n});\n","Magento_Fedex/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        'use strict';\n\n        return {\n            getRules: function () {\n                return {\n                    'postcode': {\n                        'required': true\n                    },\n                    'country_id': {\n                        'required': true\n                    },\n                    'city': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_Fedex/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        'Magento_Fedex/js/model/shipping-rates-validation-rules',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var self = this;\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n\n                        self.validationErrors.push(message);\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_Fedex/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        'Magento_Fedex/js/model/shipping-rates-validator',\n        'Magento_Fedex/js/model/shipping-rates-validation-rules'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        fedexShippingRatesValidator,\n        fedexShippingRatesValidationRules\n    ) {\n        'use strict';\n        defaultShippingRatesValidator.registerValidator('fedex', fedexShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('fedex', fedexShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_Dhl/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [],\n    function () {\n        'use strict';\n\n        return {\n            getRules: function () {\n                return {\n                    'postcode': {\n                        'required': true\n                    },\n                    'country_id': {\n                        'required': true\n                    },\n                    'city': {\n                        'required': true\n                    }\n                };\n            }\n        };\n    }\n);\n","Magento_Dhl/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'mageUtils',\n        'Magento_Dhl/js/model/shipping-rates-validation-rules',\n        'mage/translate'\n    ],\n    function ($, utils, validationRules, $t) {\n        'use strict';\n\n        return {\n            validationErrors: [],\n            validate: function (address) {\n                var self = this;\n\n                this.validationErrors = [];\n                $.each(validationRules.getRules(), function (field, rule) {\n                    if (rule.required && utils.isEmpty(address[field])) {\n                        var message = $t('Field ') + field + $t(' is required.');\n\n                        self.validationErrors.push(message);\n                    }\n                });\n                return !Boolean(this.validationErrors.length);\n            }\n        };\n    }\n);\n","Magento_Dhl/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        'Magento_Dhl/js/model/shipping-rates-validator',\n        'Magento_Dhl/js/model/shipping-rates-validation-rules'\n    ],\n    function (\n        Component,\n        defaultShippingRatesValidator,\n        defaultShippingRatesValidationRules,\n        dhlShippingRatesValidator,\n        dhlShippingRatesValidationRules\n    ) {\n        'use strict';\n\n        defaultShippingRatesValidator.registerValidator('dhl', dhlShippingRatesValidator);\n        defaultShippingRatesValidationRules.registerRules('dhl', dhlShippingRatesValidationRules);\n        return Component;\n    }\n);\n","Magento_CheckoutAgreements/js/model/agreement-validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        'jquery',\n        'mage/validation'\n    ],\n    function ($) {\n        'use strict';\n        var checkoutConfig = window.checkoutConfig,\n            agreementsConfig = checkoutConfig ? checkoutConfig.checkoutAgreements : {};\n\n        var agreementsInputPath = '.payment-method._active div.checkout-agreements input';\n\n        return {\n            /**\n             * Validate checkout agreements\n             *\n             * @returns {boolean}\n             */\n            validate: function() {\n                if (!agreementsConfig.isEnabled) {\n                    return true;\n                }\n\n                if ($(agreementsInputPath).length == 0) {\n                    return true;\n                }\n\n                return $('#co-payment-form').validate({\n                    errorClass: 'mage-error',\n                    errorElement: 'div',\n                    meta: 'validate',\n                    errorPlacement: function (error, element) {\n                        var errorPlacement = element;\n                        if (element.is(':checkbox') || element.is(':radio')) {\n                            errorPlacement = element.siblings('label').last();\n                        }\n                        errorPlacement.after(error);\n                    }\n                }).element(agreementsInputPath);\n            }\n        }\n    }\n);\n","Magento_CheckoutAgreements/js/model/agreements-assigner.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var agreementsConfig = window.checkoutConfig.checkoutAgreements;\n\n    /** Override default place order action and add agreement_ids to request */\n    return function (paymentData) {\n        var agreementForm,\n            agreementData,\n            agreementIds;\n\n        if (!agreementsConfig.isEnabled) {\n            return;\n        }\n\n        agreementForm = $('.payment-method._active div[data-role=checkout-agreements] input');\n        agreementData = agreementForm.serializeArray();\n        agreementIds = [];\n\n        agreementData.forEach(function (item) {\n            agreementIds.push(item.value);\n        });\n\n        if (paymentData['extension_attributes'] === undefined) {\n            paymentData['extension_attributes'] = {};\n        }\n\n        paymentData['extension_attributes']['agreement_ids'] = agreementIds;\n    };\n});\n","Magento_CheckoutAgreements/js/model/agreements-modal.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        'jquery',\n        'Magento_Ui/js/modal/modal',\n        'mage/translate'\n    ],\n    function ($, modal, $t) {\n        'use strict';\n        return {\n            modalWindow: null,\n\n            /** Create popUp window for provided element */\n            createModal: function(element) {\n                this.modalWindow = element;\n                var options = {\n                    'type': 'popup',\n                    'modalClass': 'agreements-modal',\n                    'responsive': true,\n                    'innerScroll': true,\n                    'trigger': '.show-modal',\n                    'buttons': [\n                        {\n                            text: $t('Close'),\n                            class: 'action secondary action-hide-popup',\n                            click: function() {\n                                this.closeModal();\n                            }\n                        }\n                    ]\n                };\n                modal(options, $(this.modalWindow));\n            },\n\n            /** Show login popup window */\n            showModal: function() {\n                $(this.modalWindow).modal('openModal');\n            }\n        }\n    }\n);\n","Magento_CheckoutAgreements/js/model/place-order-mixin.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_CheckoutAgreements/js/model/agreements-assigner'\n], function ($, wrapper, agreementsAssigner) {\n    'use strict';\n\n    return function (placeOrderAction) {\n\n        /** Override default place order action and add agreement_ids to request */\n        return wrapper.wrap(placeOrderAction, function (originalAction, paymentData, messageContainer) {\n            agreementsAssigner(paymentData);\n\n            return originalAction(paymentData, messageContainer);\n        });\n    };\n});\n","Magento_CheckoutAgreements/js/model/set-payment-information-mixin.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magento_CheckoutAgreements/js/model/agreements-assigner'\n], function ($, wrapper, agreementsAssigner) {\n    'use strict';\n\n    return function (placeOrderAction) {\n\n        /** Override place-order-mixin for set-payment-information action as they differs only by method signature */\n        return wrapper.wrap(placeOrderAction, function (originalAction, messageContainer, paymentData) {\n            agreementsAssigner(paymentData);\n\n            return originalAction(messageContainer, paymentData);\n        });\n    };\n});\n","Magento_CheckoutAgreements/js/view/agreement-validation.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_CheckoutAgreements/js/model/agreement-validator'\n    ],\n    function (Component, additionalValidators, agreementValidator) {\n        'use strict';\n        additionalValidators.registerValidator(agreementValidator);\n        return Component.extend({});\n    }\n);\n","Magento_CheckoutAgreements/js/view/checkout-agreements.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'ko',\n        'jquery',\n        'uiComponent',\n        'Magento_CheckoutAgreements/js/model/agreements-modal'\n    ],\n    function (ko, $, Component, agreementsModal) {\n        'use strict';\n        var checkoutConfig = window.checkoutConfig,\n            agreementManualMode = 1,\n            agreementsConfig = checkoutConfig ? checkoutConfig.checkoutAgreements : {};\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_CheckoutAgreements/checkout/checkout-agreements'\n            },\n            isVisible: agreementsConfig.isEnabled,\n            agreements: agreementsConfig.agreements,\n            modalTitle: ko.observable(null),\n            modalContent: ko.observable(null),\n            modalWindow: null,\n\n            /**\n             * Checks if agreement required\n             *\n             * @param element\n             */\n            isAgreementRequired: function(element) {\n                return element.mode == agreementManualMode;\n            },\n\n            /**\n             * Show agreement content in modal\n             *\n             * @param element\n             */\n            showContent: function (element) {\n                this.modalTitle(element.checkboxText);\n                this.modalContent(element.content);\n                agreementsModal.showModal();\n            },\n\n            /**\n             * Init modal window for rendered element\n             *\n             * @param element\n             */\n            initModal: function(element) {\n                agreementsModal.createModal(element);\n            }\n        });\n    }\n);\n","Magento_Captcha/captcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    \"jquery\",\n    \"jquery/ui\"\n], function($){\n    \"use strict\";\n    \n    $.widget('mage.captcha', {\n        options: {\n            refreshClass: 'refreshing',\n            reloadSelector: '.captcha-reload',\n            imageSelector: '.captcha-img',\n            imageLoader: ''\n        },\n\n        /**\n         * Method binds click event to reload image\n         * @private\n         */\n        _create: function() {\n            this.element.on('click', this.options.reloadSelector, $.proxy(this.refresh, this));\n        },\n\n        /**\n         * Method triggeres an AJAX request to refresh the CAPTCHA image\n         * @param e - Event\n         */\n        refresh: function(e) {\n            var imageLoader = this.options.imageLoader;\n\n            if (imageLoader) {\n                this.element.find(this.options.imageSelector).attr('src', imageLoader);\n            }\n            this.element.addClass(this.options.refreshClass);\n\n            $.ajax({\n                url: this.options.url,\n                type: 'post',\n                async: false,\n                dataType: 'json',\n                context: this,\n                data: {\n                    'formId': this.options.type\n                },\n                success: function (response) {\n                    if (response.imgSrc) {\n                        this.element.find(this.options.imageSelector).attr('src', response.imgSrc);\n                    }\n                },\n                complete: function() {\n                    this.element.removeClass(this.options.refreshClass);\n                }\n            });\n        }\n    });\n\n    return $.mage.captcha;\n});\n","Magento_Captcha/onepage.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\"jquery\"], function($){\n    \"use strict\";\n    $(document).on(\"login\",function() {\n        $(\"[data-captcha='guest_checkout'], [data-captcha='register_during_checkout']\").hide();\n        $(\"[role='guest_checkout'], [role='register_during_checkout']\").hide();\n        var type = ($(\"#login\\\\:guest\").is(':checked')) ? 'guest_checkout' : 'register_during_checkout';\n        $(\"[role='\" + type + \"'], [data-captcha='\" + type + \"']\").show();\n    }).on('billingSave', function() {\n            $(\".captcha-reload:visible\").trigger(\"click\");\n        });\n});\n","Magento_Captcha/js/action/refresh.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n/*global define*/\ndefine(\n    ['mage/storage'],\n    function(storage) {\n        \"use strict\";\n        return function(refreshUrl, formId, imageSource) {\n            return storage.post(\n                refreshUrl,\n                JSON.stringify({'formId': formId}),\n                false\n            ).done(\n                function (response) {\n                    if (response.imgSrc) {\n                        imageSource(response.imgSrc);\n                    }\n                }\n            );\n        };\n    }\n);\n","Magento_Captcha/js/model/captcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\n/*global alert*/\ndefine(\n    [\n        'jquery',\n        'ko',\n        'Magento_Captcha/js/action/refresh'\n    ],\n    function($, ko, refreshAction) {\n        return function (captchaData) {\n            return {\n                formId: captchaData.formId,\n                imageSource: ko.observable(captchaData.imageSrc),\n                visibility: ko.observable(false),\n                captchaValue: ko.observable(null),\n                isRequired: captchaData.isRequired,\n                isCaseSensitive: captchaData.isCaseSensitive,\n                imageHeight: captchaData.imageHeight,\n                refreshUrl: captchaData.refreshUrl,\n                isLoading: ko.observable(false),\n\n                getFormId: function () {\n                    return this.formId;\n                },\n                setFormId: function (formId) {\n                    this.formId = formId;\n                },\n                getIsVisible: function () {\n                    return this.visibility;\n                },\n                setIsVisible: function (flag) {\n                    this.visibility(flag);\n                },\n                getIsRequired: function () {\n                    return this.isRequired;\n                },\n                setIsRequired: function (flag) {\n                    this.isRequired = flag;\n                },\n                getIsCaseSensitive: function () {\n                    return this.isCaseSensitive;\n                },\n                setIsCaseSensitive: function (flag) {\n                    this.isCaseSensitive = flag;\n                },\n                getImageHeight: function () {\n                    return this.imageHeight;\n                },\n                setImageHeight: function (height) {\n                    this.imageHeight = height;\n                },\n                getImageSource: function () {\n                    return this.imageSource;\n                },\n                setImageSource: function (imageSource) {\n                     this.imageSource(imageSource);\n                },\n                getRefreshUrl: function () {\n                    return this.refreshUrl;\n                },\n                setRefreshUrl: function (url) {\n                    this.refreshUrl = url;\n                },\n                getCaptchaValue: function () {\n                    return this.captchaValue;\n                },\n                setCaptchaValue: function (value) {\n                    this.captchaValue(value);\n                },\n                refresh: function() {\n                    var refresh,\n                        self = this;\n                    this.isLoading(true);\n\n                    refresh = refreshAction(this.getRefreshUrl(), this.getFormId(), this.getImageSource());\n                    $.when(refresh).done(function() {\n                        self.isLoading(false);\n                    });\n                }\n            };\n        }\n    }\n);\n","Magento_Captcha/js/model/captchaList.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n/*global define*/\ndefine(['jquery'], function($) {\n    \"use strict\";\n    var captchaList = [];\n    return {\n        add: function (captcha) {\n            captchaList.push(captcha);\n        },\n        getCaptchaByFormId: function(formId) {\n            var captcha = null;\n            $.each(captchaList, function(key, item) {\n                if (formId === item.formId) {\n                    captcha = item;\n                    return false;\n                }\n            });\n            return captcha;\n        },\n        getCaptchaList: function() {\n            return captchaList;\n        }\n    };\n});\n","Magento_Captcha/js/view/checkout/defaultCaptcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true jquery:true*/\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'uiComponent',\n        'Magento_Captcha/js/model/captcha',\n        'Magento_Captcha/js/model/captchaList'\n    ],\n    function ($, Component, Captcha, captchaList) {\n        'use strict';\n        var captchaConfig;\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Captcha/checkout/captcha'\n            },\n            dataScope: 'global',\n            currentCaptcha: null,\n            captchaValue: function() {\n                return this.currentCaptcha.getCaptchaValue();\n            },\n            initialize: function() {\n                this._super();\n\n                if (window[this.configSource] && window[this.configSource]['captcha']) {\n                    captchaConfig = window[this.configSource]['captcha'];\n                    $.each(captchaConfig, function(formId, captchaData) {\n                        captchaData.formId = formId;\n                        captchaList.add(Captcha(captchaData));\n                    });\n                }\n            },\n            getIsLoading: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.isLoading : false;\n            },\n            getCurrentCaptcha: function() {\n                return this.currentCaptcha;\n            },\n            setCurrentCaptcha: function(captcha) {\n                this.currentCaptcha = captcha;\n            },\n            getFormId: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getFormId() : null;\n            },\n            getIsVisible: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getIsVisible() : false;\n            },\n            setIsVisible: function(flag) {\n                this.currentCaptcha.setIsVisible(flag);\n            },\n            isRequired: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getIsRequired() : false;\n            },\n            isCaseSensitive: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getIsCaseSensitive() : false;\n            },\n            imageHeight: function() {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getImageHeight() : null;\n            },\n            getImageSource: function () {\n                return this.currentCaptcha !== null ? this.currentCaptcha.getImageSource() : null;\n            },\n            refresh: function() {\n                this.currentCaptcha.refresh();\n            }\n        });\n    }\n);\n","Magento_Captcha/js/view/checkout/loginCaptcha.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true jquery:true*/\n/*global define*/\ndefine(\n    [\n        'Magento_Captcha/js/view/checkout/defaultCaptcha',\n        'Magento_Captcha/js/model/captchaList',\n        'Magento_Customer/js/action/login'\n    ],\n    function (defaultCaptcha, captchaList, loginAction) {\n        'use strict';\n        return defaultCaptcha.extend({\n            initialize: function() {\n                this._super();\n                var currentCaptcha = captchaList.getCaptchaByFormId(this.formId),\n                    self = this;\n\n                if (currentCaptcha != null) {\n                    currentCaptcha.setIsVisible(true);\n                    this.setCurrentCaptcha(currentCaptcha);\n\n                    loginAction.registerLoginCallback(function(loginData) {\n                        if (loginData.captcha_form_id && loginData.captcha_form_id == self.formId) {\n                            self.refresh();\n                        }\n                    });\n                }\n            }\n        });\n    }\n);\n","Magento_Braintree/js/validator.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    return {\n        config: {},\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Get List of available card types\n         * @returns {*|exports.defaults.availableCardTypes|{}}\n         */\n        getAvailableCardTypes: function () {\n            return this.config.availableCardTypes;\n        },\n\n        /**\n         * Get list of card types\n         * @returns {Object}\n         */\n        getCcTypesMapper: function () {\n            return this.config.ccTypesMapper;\n        },\n\n        /**\n         * Find mage card type by Braintree type\n         * @param {String} type\n         * @param {Object} availableTypes\n         * @returns {*}\n         */\n        getMageCardType: function (type, availableTypes) {\n            var storedCardType = null,\n                mapper = this.getCcTypesMapper();\n\n            if (type && typeof mapper[type] !== 'undefined') {\n                storedCardType = mapper[type];\n\n                if (_.indexOf(availableTypes, storedCardType) !== -1) {\n                    return storedCardType;\n                }\n            }\n\n            return null;\n        },\n\n        /**\n         * Filter list of available card types\n         * @param {Object} availableTypes\n         * @param {Object} countrySpecificCardTypes\n         * @returns {Object}\n         */\n        collectTypes: function (availableTypes, countrySpecificCardTypes) {\n            var key,\n                filteredTypes = [];\n\n            for (key in availableTypes) {\n                if (_.indexOf(countrySpecificCardTypes, availableTypes[key]) !== -1) {\n                    filteredTypes.push(availableTypes[key]);\n                }\n            }\n\n            return filteredTypes;\n        },\n\n        /**\n         * Get list of card types for country\n         * @param {String} countryId\n         * @returns {*}\n         */\n        getCountrySpecificCardTypes: function (countryId) {\n            if (typeof this.config.countrySpecificCardTypes[countryId] !== 'undefined') {\n\n                return this.config.countrySpecificCardTypes[countryId];\n            }\n\n            return false;\n        }\n    };\n});\n","Magento_Braintree/js/paypal/button.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'rjsResolver',\n        'uiRegistry',\n        'uiComponent',\n        'underscore',\n        'jquery',\n        'braintree',\n        'Magento_Braintree/js/paypal/form-builder',\n        'domReady!'\n    ],\n    function (\n        resolver,\n        registry,\n        Component,\n        _,\n        $,\n        braintree,\n        formBuilder\n    ) {\n        'use strict';\n\n        return Component.extend({\n\n            defaults: {\n\n                integrationName: 'braintreePaypal.currentIntegration',\n\n                /**\n                 * {String}\n                 */\n                displayName: null,\n\n                /**\n                 * {String}\n                 */\n                clientToken: null,\n\n                /**\n                 * {Object}\n                 */\n                clientConfig: {\n\n                    /**\n                     * @param {Object} integration\n                     */\n                    onReady: function (integration) {\n                        resolver(function () {\n                            registry.set(this.integrationName, integration);\n                            $('#' + this.id).removeAttr('disabled');\n                        }, this);\n                    },\n\n                    /**\n                     * @param {Object} payload\n                     */\n                    onPaymentMethodReceived: function (payload) {\n                        $('body').trigger('processStart');\n\n                        formBuilder.build(\n                            {\n                                action: this.actionSuccess,\n                                fields: {\n                                    result: JSON.stringify(payload)\n                                }\n                            }\n                        ).submit();\n                    }\n                }\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initialize: function () {\n                this._super()\n                    .initComponent();\n\n                return this;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            initComponent: function () {\n                var currentIntegration = registry.get(this.integrationName),\n                    $this = $('#' + this.id),\n                    self = this,\n                    data = {\n                        amount: $this.data('amount'),\n                        locale: $this.data('locale'),\n                        currency: $this.data('currency')\n                    },\n                    initCallback = function () {\n                        $this.attr('disabled', 'disabled');\n                        registry.remove(this.integrationName);\n                        braintree.setup(this.clientToken, 'custom', this.getClientConfig(data));\n\n                        $this.off('click')\n                            .on('click', function (event) {\n                                event.preventDefault();\n\n                                registry.get(self.integrationName, function (integration) {\n                                    integration.paypal.initAuthFlow();\n                                });\n                            });\n                    }.bind(this);\n\n                currentIntegration ?\n                    currentIntegration.teardown(initCallback) :\n                    initCallback();\n\n                return this;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            getClientConfig: function (data) {\n                this.clientConfig.paypal = {\n                    singleUse: true,\n                    amount: data.amount,\n                    currency: data.currency,\n                    locale: data.locale,\n                    enableShippingAddress: true,\n                    headless: true\n                };\n\n                if (this.displayName) {\n                    this.clientConfig.paypal.displayName = this.displayName;\n                }\n\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n\n                return this.clientConfig;\n            }\n        });\n    }\n);\n","Magento_Braintree/js/paypal/form-builder.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'underscore',\n        'mage/template'\n    ],\n    function ($, _, mageTemplate) {\n        'use strict';\n\n        return {\n\n            /**\n             * @param {Object} formData\n             * @returns {*|jQuery}\n             */\n            build: function (formData) {\n                var formTmpl = mageTemplate('<form action=\"<%= data.action %>\"' +\n                    ' method=\"POST\" hidden enctype=\"application/x-www-form-urlencoded\">' +\n                        '<% _.each(data.fields, function(val, key){ %>' +\n                            '<input value=\\'<%= val %>\\' name=\"<%= key %>\" type=\"hidden\">' +\n                        '<% }); %>' +\n                    '</form>');\n\n                return $(formTmpl({\n                    data: {\n                        action: formData.action,\n                        fields: formData.fields\n                    }\n                })).appendTo($('[data-container=\"body\"]'));\n            }\n        };\n    }\n);\n","Magento_Braintree/js/view/payment/3d-secure.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Braintree/js/view/payment/adapter',\n    'Magento_Checkout/js/model/quote',\n    'mage/translate'\n], function ($, braintree, quote, $t) {\n    'use strict';\n\n    return {\n        config: null,\n\n        /**\n         * Set 3d secure config\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n            this.config.thresholdAmount = parseFloat(config.thresholdAmount);\n        },\n\n        /**\n         * Get code\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'three_d_secure';\n        },\n\n        /**\n         * Validate Braintree payment nonce\n         * @param {Object} context\n         * @returns {Object}\n         */\n        validate: function (context) {\n            var client = braintree.getApiClient(),\n                state = $.Deferred(),\n                totalAmount = quote.totals()['base_grand_total'],\n                billingAddress = quote.billingAddress();\n\n            if (!this.isAmountAvailable(totalAmount) || !this.isCountryAvailable(billingAddress.countryId)) {\n                state.resolve();\n\n                return state.promise();\n            }\n\n            client.verify3DS({\n                amount: totalAmount,\n                creditCard: context.paymentMethodNonce\n            }, function (error, response) {\n                var liability;\n\n                if (error) {\n                    state.reject(error.message);\n\n                    return;\n                }\n\n                liability = {\n                    shifted: response.verificationDetails.liabilityShifted,\n                    shiftPossible: response.verificationDetails.liabilityShiftPossible\n                };\n\n                if (liability.shifted || !liability.shifted && !liability.shiftPossible) {\n                    context.paymentMethodNonce = response.nonce;\n                    state.resolve();\n                } else {\n                    state.reject($t('Please try again with another form of payment.'));\n                }\n            });\n\n            return state.promise();\n        },\n\n        /**\n         * Check minimal amount for 3d secure activation\n         * @param {Number} amount\n         * @returns {Boolean}\n         */\n        isAmountAvailable: function (amount) {\n            amount = parseFloat(amount);\n\n            return amount >= this.config.thresholdAmount;\n        },\n\n        /**\n         * Check if current country is available for 3d secure\n         * @param {String} countryId\n         * @returns {Boolean}\n         */\n        isCountryAvailable: function (countryId) {\n            var key,\n                specificCountries = this.config.specificCountries;\n\n            // all countries are available\n            if (!specificCountries.length) {\n                return true;\n            }\n\n            for (key in specificCountries) {\n                if (countryId === specificCountries[key]) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    };\n});\n","Magento_Braintree/js/view/payment/adapter.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'braintree',\n    'Magento_Ui/js/model/messageList',\n    'mage/translate'\n], function ($, braintree, globalMessageList, $t) {\n    'use strict';\n\n    return {\n        apiClient: null,\n        config: {},\n        checkout: null,\n\n        /**\n         * Get Braintree api client\n         * @returns {Object}\n         */\n        getApiClient: function () {\n            if (!this.apiClient) {\n                this.apiClient = new braintree.api.Client({\n                    clientToken: this.getClientToken()\n                });\n            }\n\n            return this.apiClient;\n        },\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Setup Braintree SDK\n         */\n        setup: function () {\n            if (!this.getClientToken()) {\n                this.showError($t('Sorry, but something went wrong.'));\n            }\n\n            braintree.setup(this.getClientToken(), 'custom', this.config);\n        },\n\n        /**\n         * Get payment name\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'braintree';\n        },\n\n        /**\n         * Get client token\n         * @returns {String|*}\n         */\n        getClientToken: function () {\n\n            return window.checkoutConfig.payment[this.getCode()].clientToken;\n        },\n\n        /**\n         * Show error message\n         *\n         * @param {String} errorMessage\n         */\n        showError: function (errorMessage) {\n            globalMessageList.addErrorMessage({\n                message: errorMessage\n            });\n        },\n\n        /**\n         * May be triggered on Braintree SDK setup\n         */\n        onReady: function () {}\n    };\n});\n","Magento_Braintree/js/view/payment/braintree.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n\n        var config = window.checkoutConfig.payment,\n            braintreeType = 'braintree',\n            payPalType = 'braintree_paypal';\n\n        if (config[braintreeType].isActive) {\n            rendererList.push(\n                {\n                    type: braintreeType,\n                    component: 'Magento_Braintree/js/view/payment/method-renderer/hosted-fields'\n                }\n            );\n        }\n\n        if (config[payPalType].isActive) {\n            rendererList.push(\n                {\n                    type: payPalType,\n                    component: 'Magento_Braintree/js/view/payment/method-renderer/paypal'\n                }\n            );\n        }\n\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n","Magento_Braintree/js/view/payment/validator-handler.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Braintree/js/view/payment/3d-secure'\n], function ($, globalMessageList, verify3DSecure) {\n    'use strict';\n\n    return {\n        validators: [],\n\n        /**\n         * Get payment config\n         * @returns {Object}\n         */\n        getConfig: function () {\n            return window.checkoutConfig.payment;\n        },\n\n        /**\n         * Init list of validators\n         */\n        initialize: function () {\n            var config = this.getConfig();\n\n            if (config[verify3DSecure.getCode()].enabled) {\n                verify3DSecure.setConfig(config[verify3DSecure.getCode()]);\n                this.add(verify3DSecure);\n            }\n        },\n\n        /**\n         * Add new validator\n         * @param {Object} validator\n         */\n        add: function (validator) {\n            this.validators.push(validator);\n        },\n\n        /**\n         * Run pull of validators\n         * @param {Object} context\n         * @param {Function} callback\n         */\n        validate: function (context, callback) {\n            var self = this,\n                deferred;\n\n            // no available validators\n            if (!self.validators.length) {\n                callback();\n\n                return;\n            }\n\n            // get list of deferred validators\n            deferred = $.map(self.validators, function (current) {\n                return current.validate(context);\n            });\n\n            $.when.apply($, deferred)\n                .done(function () {\n                    callback();\n                }).fail(function (error) {\n                    self.showError(error);\n                });\n        },\n\n        /**\n         * Show error message\n         * @param {String} errorMessage\n         */\n        showError: function (errorMessage) {\n            globalMessageList.addErrorMessage({\n                message: errorMessage\n            });\n        }\n    };\n});\n","Magento_Braintree/js/view/payment/method-renderer/cc-form.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'Magento_Payment/js/view/payment/cc-form',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Braintree/js/view/payment/adapter',\n        'mage/translate',\n        'Magento_Braintree/js/validator',\n        'Magento_Braintree/js/view/payment/validator-handler',\n        'Magento_Checkout/js/model/full-screen-loader'\n    ],\n    function (\n        _,\n        $,\n        Component,\n        quote,\n        braintree,\n        $t,\n        validator,\n        validatorManager,\n        fullScreenLoader\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                active: false,\n                braintreeClient: null,\n                braintreeDeviceData: null,\n                paymentMethodNonce: null,\n                lastBillingAddress: null,\n                validatorManager: validatorManager,\n                code: 'braintree',\n\n                /**\n                 * Additional payment data\n                 *\n                 * {Object}\n                 */\n                additionalData: {},\n\n                /**\n                 * Braintree client configuration\n                 *\n                 * {Object}\n                 */\n                clientConfig: {\n\n                    /**\n                     * Triggers on payment nonce receive\n                     * @param {Object} response\n                     */\n                    onPaymentMethodReceived: function (response) {\n                        this.beforePlaceOrder(response);\n                    },\n\n                    /**\n                     * Device data initialization\n                     *\n                     * @param {Object} checkout\n                     */\n                    onReady: function (checkout) {\n                        braintree.checkout = checkout;\n                        braintree.onReady();\n                    },\n\n                    /**\n                     * Triggers on any Braintree error\n                     * @param {Object} response\n                     */\n                    onError: function (response) {\n                        braintree.showError($t('Payment ' + this.getTitle() + ' can\\'t be initialized'));\n                        throw response.message;\n                    },\n\n                    /**\n                     * Triggers when customer click \"Cancel\"\n                     */\n                    onCancelled: function () {\n                        this.paymentMethodNonce = null;\n                    }\n                },\n                imports: {\n                    onActiveChange: 'active'\n                }\n            },\n\n            /**\n             * Set list of observable attributes\n             *\n             * @returns {exports.initObservable}\n             */\n            initObservable: function () {\n                validator.setConfig(window.checkoutConfig.payment[this.getCode()]);\n                this._super()\n                    .observe(['active']);\n                this.validatorManager.initialize();\n                this.initClientConfig();\n\n                return this;\n            },\n\n            /**\n             * Get payment name\n             *\n             * @returns {String}\n             */\n            getCode: function () {\n                return this.code;\n            },\n\n            /**\n             * Check if payment is active\n             *\n             * @returns {Boolean}\n             */\n            isActive: function () {\n                var active = this.getCode() === this.isChecked();\n\n                this.active(active);\n\n                return active;\n            },\n\n            /**\n             * Triggers when payment method change\n             * @param {Boolean} isActive\n             */\n            onActiveChange: function (isActive) {\n                if (!isActive) {\n                    return;\n                }\n\n                this.initBraintree();\n            },\n\n            /**\n             * Init config\n             */\n            initClientConfig: function () {\n                // Advanced fraud tools settings\n                if (this.hasFraudProtection()) {\n                    this.clientConfig = _.extend(this.clientConfig, this.kountConfig());\n                }\n\n                _.each(this.clientConfig, function (fn, name) {\n                    if (typeof fn === 'function') {\n                        this.clientConfig[name] = fn.bind(this);\n                    }\n                }, this);\n            },\n\n            /**\n             * Init Braintree configuration\n             */\n            initBraintree: function () {\n                var intervalId = setInterval(function () {\n                    // stop loader when frame will be loaded\n                    if ($('#braintree-hosted-field-number').length) {\n                        clearInterval(intervalId);\n                        fullScreenLoader.stopLoader();\n                    }\n                }, 500);\n\n                if (braintree.checkout) {\n                    braintree.checkout.teardown(function () {\n                        braintree.checkout = null;\n                    });\n                }\n\n                fullScreenLoader.startLoader();\n                braintree.setConfig(this.clientConfig);\n                braintree.setup();\n            },\n\n            /**\n             * @returns {Object}\n             */\n            kountConfig: function () {\n                var config = {\n                    dataCollector: {\n                        kount: {\n                            environment: this.getEnvironment()\n                        }\n                    },\n\n                    /**\n                     * Device data initialization\n                     *\n                     * @param {Object} checkout\n                     */\n                    onReady: function (checkout) {\n                        braintree.checkout = checkout;\n                        this.additionalData['device_data'] = checkout.deviceData;\n                        braintree.onReady();\n                    }\n                };\n\n                if (this.getKountMerchantId()) {\n                    config.dataCollector.kount.merchantId = this.getKountMerchantId();\n                }\n\n                return config;\n            },\n\n            /**\n             * Get full selector name\n             *\n             * @param {String} field\n             * @returns {String}\n             */\n            getSelector: function (field) {\n                return '#' + this.getCode() + '_' + field;\n            },\n\n            /**\n             * Get list of available CC types\n             *\n             * @returns {Object}\n             */\n            getCcAvailableTypes: function () {\n                var availableTypes = validator.getAvailableCardTypes(),\n                    billingAddress = quote.billingAddress(),\n                    billingCountryId;\n\n                this.lastBillingAddress = quote.shippingAddress();\n\n                if (!billingAddress) {\n                    billingAddress = this.lastBillingAddress;\n                }\n\n                billingCountryId = billingAddress.countryId;\n\n                if (billingCountryId && validator.getCountrySpecificCardTypes(billingCountryId)) {\n\n                    return validator.collectTypes(\n                        availableTypes, validator.getCountrySpecificCardTypes(billingCountryId)\n                    );\n                }\n\n                return availableTypes;\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            hasFraudProtection: function () {\n                return window.checkoutConfig.payment[this.getCode()].hasFraudProtection;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getEnvironment: function () {\n                return window.checkoutConfig.payment[this.getCode()].environment;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getKountMerchantId: function () {\n                return window.checkoutConfig.payment[this.getCode()].kountMerchantId;\n            },\n\n            /**\n             * Get data\n             *\n             * @returns {Object}\n             */\n            getData: function () {\n                var data = {\n                    'method': this.getCode(),\n                    'additional_data': {\n                        'payment_method_nonce': this.paymentMethodNonce\n                    }\n                };\n\n                data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n                return data;\n            },\n\n            /**\n             * Set payment nonce\n             * @param {String} paymentMethodNonce\n             */\n            setPaymentMethodNonce: function (paymentMethodNonce) {\n                this.paymentMethodNonce = paymentMethodNonce;\n            },\n\n            /**\n             * Prepare data to place order\n             * @param {Object} data\n             */\n            beforePlaceOrder: function (data) {\n                this.setPaymentMethodNonce(data.nonce);\n                this.placeOrder();\n            },\n\n            /**\n             * Action to place order\n             * @param {String} key\n             */\n            placeOrder: function (key) {\n                var self = this;\n\n                if (key) {\n                    return self._super();\n                }\n                // place order on success validation\n                self.validatorManager.validate(self, function () {\n                    return self.placeOrder('parent');\n                });\n\n                return false;\n            }\n        });\n    }\n);\n","Magento_Braintree/js/view/payment/method-renderer/hosted-fields.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\n\ndefine([\n    'jquery',\n    'Magento_Braintree/js/view/payment/method-renderer/cc-form',\n    'Magento_Braintree/js/validator',\n    'Magento_Vault/js/view/payment/vault-enabler',\n    'mage/translate'\n], function ($, Component, validator, VaultEnabler, $t) {\n    'use strict';\n\n    return Component.extend({\n\n        defaults: {\n            template: 'Magento_Braintree/payment/form',\n            clientConfig: {\n\n                /**\n                 * {String}\n                 */\n                id: 'co-transparent-form-braintree'\n            },\n            isValidCardNumber: false\n        },\n\n        /**\n         * @returns {exports.initialize}\n         */\n        initialize: function () {\n            this._super();\n            this.vaultEnabler = new VaultEnabler();\n            this.vaultEnabler.setPaymentCode(this.getVaultCode());\n\n            return this;\n        },\n\n        /**\n         * Init config\n         */\n        initClientConfig: function () {\n            this._super();\n\n            // Hosted fields settings\n            this.clientConfig.hostedFields = this.getHostedFields();\n        },\n\n        /**\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = this._super();\n\n            this.vaultEnabler.visitAdditionalData(data);\n\n            return data;\n        },\n\n        /**\n         * @returns {Bool}\n         */\n        isVaultEnabled: function () {\n            return this.vaultEnabler.isVaultEnabled();\n        },\n\n        /**\n         * Get Braintree Hosted Fields\n         * @returns {Object}\n         */\n        getHostedFields: function () {\n            var self = this,\n                fields = {\n                    number: {\n                        selector: self.getSelector('cc_number')\n                    },\n                    expirationMonth: {\n                        selector: self.getSelector('expirationMonth'),\n                        placeholder: $t('MM')\n                    },\n                    expirationYear: {\n                        selector: self.getSelector('expirationYear'),\n                        placeholder: $t('YY')\n                    }\n                };\n\n            if (self.hasVerification()) {\n                fields.cvv = {\n                    selector: self.getSelector('cc_cid')\n                };\n            }\n\n            /**\n             * Triggers on Hosted Field changes\n             * @param {Object} event\n             * @returns {Boolean}\n             */\n            fields.onFieldEvent = function (event) {\n                if (event.isEmpty === false) {\n                    self.validateCardType();\n                }\n\n                if (event.type !== 'fieldStateChange') {\n\n                    return false;\n                }\n\n                // Handle a change in validation or card type\n                if (event.target.fieldKey === 'number') {\n                    self.selectedCardType(null);\n                }\n\n                if (event.target.fieldKey === 'number' && event.card) {\n                    self.isValidCardNumber = event.isValid;\n                    self.selectedCardType(\n                        validator.getMageCardType(event.card.type, self.getCcAvailableTypes())\n                    );\n                }\n            };\n\n            return fields;\n        },\n\n        /**\n         * Validate current credit card type\n         * @returns {Boolean}\n         */\n        validateCardType: function () {\n            var $selector = $(this.getSelector('cc_number')),\n                invalidClass = 'braintree-hosted-fields-invalid';\n\n            $selector.removeClass(invalidClass);\n\n            if (this.selectedCardType() === null || !this.isValidCardNumber) {\n                $(this.getSelector('cc_number')).addClass(invalidClass);\n\n                return false;\n            }\n\n            return true;\n        },\n\n        /**\n         * Trigger order placing\n         */\n        placeOrderClick: function () {\n            if (this.validateCardType()) {\n                $(this.getSelector('submit')).trigger('click');\n            }\n        },\n\n        /**\n         * @returns {String}\n         */\n        getVaultCode: function () {\n            return window.checkoutConfig.payment[this.getCode()].ccVaultCode;\n        }\n    });\n});\n","Magento_Braintree/js/view/payment/method-renderer/paypal-vault.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Vault/js/view/payment/method-renderer/vault',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, _, VaultComponent, globalMessageList, fullScreenLoader) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            template: 'Magento_Braintree/payment/paypal/vault',\n            additionalData: {}\n        },\n\n        /**\n         * Get PayPal payer email\n         * @returns {String}\n         */\n        getPayerEmail: function () {\n            return this.details.payerEmail;\n        },\n\n        /**\n         * Get type of payment\n         * @returns {String}\n         */\n        getPaymentIcon: function () {\n            return window.checkoutConfig.payment['braintree_paypal'].paymentIcon;\n        },\n\n        /**\n         * Place order\n         */\n        beforePlaceOrder: function () {\n            this.getPaymentMethodNonce();\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            var self = this;\n\n            fullScreenLoader.startLoader();\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash\n            })\n                .done(function (response) {\n                    fullScreenLoader.stopLoader();\n                    self.additionalData['payment_method_nonce'] = response.paymentMethodNonce;\n                    self.placeOrder();\n                })\n                .fail(function (response) {\n                    var error = JSON.parse(response.responseText);\n\n                    fullScreenLoader.stopLoader();\n                    globalMessageList.addErrorMessage({\n                        message: error.message\n                    });\n                });\n        },\n\n        /**\n         * Get payment method data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.code,\n                'additional_data': {\n                    'public_hash': this.publicHash\n                }\n            };\n\n            data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n            return data;\n        }\n    });\n});\n","Magento_Braintree/js/view/payment/method-renderer/paypal.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_Checkout/js/view/payment/default',\n    'Magento_Braintree/js/view/payment/adapter',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Vault/js/view/payment/vault-enabler',\n    'Magento_Checkout/js/action/create-billing-address'\n], function (\n    $,\n    _,\n    Component,\n    Braintree,\n    quote,\n    fullScreenLoader,\n    additionalValidators,\n    VaultEnabler,\n    createBillingAddress\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Braintree/payment/paypal',\n            code: 'braintree_paypal',\n            active: false,\n            paymentMethodNonce: null,\n            grandTotalAmount: null,\n            isReviewRequired: false,\n            customerEmail: null,\n\n            /**\n             * Additional payment data\n             *\n             * {Object}\n             */\n            additionalData: {},\n\n            /**\n             * PayPal client configuration\n             * {Object}\n             */\n            clientConfig: {\n                dataCollector: {\n                    paypal: true\n                },\n\n                /**\n                 * Triggers when widget is loaded\n                 * @param {Object} checkout\n                 */\n                onReady: function (checkout) {\n                    Braintree.checkout = checkout;\n                    this.additionalData['device_data'] = checkout.deviceData;\n                    this.enableButton();\n                    Braintree.onReady();\n                },\n\n                /**\n                 * Triggers on payment nonce receive\n                 * @param {Object} response\n                 */\n                onPaymentMethodReceived: function (response) {\n                    this.beforePlaceOrder(response);\n                }\n            },\n            imports: {\n                onActiveChange: 'active'\n            }\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            this._super()\n                .observe(['active', 'isReviewRequired', 'customerEmail']);\n\n            this.vaultEnabler = new VaultEnabler();\n            this.vaultEnabler.setPaymentCode(this.getVaultCode());\n            this.vaultEnabler.isActivePaymentTokenEnabler.subscribe(function () {\n                self.onVaultPaymentTokenEnablerChange();\n            });\n\n            this.grandTotalAmount = quote.totals()['base_grand_total'];\n\n            quote.totals.subscribe(function () {\n                if (self.grandTotalAmount !== quote.totals()['base_grand_total']) {\n                    self.grandTotalAmount = quote.totals()['base_grand_total'];\n                }\n            });\n\n            // for each component initialization need update property\n            this.isReviewRequired(false);\n            this.initClientConfig();\n\n            return this;\n        },\n\n        /**\n         * Get payment name\n         *\n         * @returns {String}\n         */\n        getCode: function () {\n            return this.code;\n        },\n\n        /**\n         * Get payment title\n         *\n         * @returns {String}\n         */\n        getTitle: function () {\n            return window.checkoutConfig.payment[this.getCode()].title;\n        },\n\n        /**\n         * Check if payment is active\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            var active = this.getCode() === this.isChecked();\n\n            this.active(active);\n\n            return active;\n        },\n\n        /**\n         * Triggers when payment method change\n         * @param {Boolean} isActive\n         */\n        onActiveChange: function (isActive) {\n            if (!isActive) {\n                return;\n            }\n\n            // need always re-init Braintree with PayPal configuration\n            this.reInitPayPal();\n        },\n\n        /**\n         * Init config\n         */\n        initClientConfig: function () {\n            this.clientConfig = _.extend(this.clientConfig, this.getPayPalConfig());\n\n            _.each(this.clientConfig, function (fn, name) {\n                if (typeof fn === 'function') {\n                    this.clientConfig[name] = fn.bind(this);\n                }\n            }, this);\n        },\n\n        /**\n         * Set payment nonce\n         * @param {String} paymentMethodNonce\n         */\n        setPaymentMethodNonce: function (paymentMethodNonce) {\n            this.paymentMethodNonce = paymentMethodNonce;\n        },\n\n        /**\n         * Update quote billing address\n         * @param {Object}customer\n         * @param {Object}address\n         */\n        setBillingAddress: function (customer, address) {\n            var billingAddress = {\n                street: [address.streetAddress],\n                city: address.locality,\n                postcode: address.postalCode,\n                countryId: address.countryCodeAlpha2,\n                email: customer.email,\n                firstname: customer.firstName,\n                lastname: customer.lastName,\n                telephone: customer.phone\n            };\n\n            billingAddress['region_code'] = address.region;\n            billingAddress = createBillingAddress(billingAddress);\n            quote.billingAddress(billingAddress);\n        },\n\n        /**\n         * Prepare data to place order\n         * @param {Object} data\n         */\n        beforePlaceOrder: function (data) {\n            this.setPaymentMethodNonce(data.nonce);\n\n            if (quote.billingAddress() === null && typeof data.details.billingAddress !== 'undefined') {\n                this.setBillingAddress(data.details, data.details.billingAddress);\n            }\n\n            if (this.isSkipOrderReview()) {\n                this.placeOrder();\n            } else {\n                this.customerEmail(data.details.email);\n                this.isReviewRequired(true);\n            }\n        },\n\n        /**\n         * Re-init PayPal Auth Flow\n         */\n        reInitPayPal: function () {\n            if (Braintree.checkout) {\n                Braintree.checkout.teardown(function () {\n                    Braintree.checkout = null;\n                });\n            }\n\n            this.disableButton();\n            this.clientConfig.paypal.amount = this.grandTotalAmount;\n\n            Braintree.setConfig(this.clientConfig);\n            Braintree.setup();\n        },\n\n        /**\n         * Get locale\n         * @returns {String}\n         */\n        getLocale: function () {\n            return window.checkoutConfig.payment[this.getCode()].locale;\n        },\n\n        /**\n         * Is shipping address can be editable on PayPal side\n         * @returns {Boolean}\n         */\n        isAllowOverrideShippingAddress: function () {\n            return window.checkoutConfig.payment[this.getCode()].isAllowShippingAddressOverride;\n        },\n\n        /**\n         * Get configuration for PayPal\n         * @returns {Object}\n         */\n        getPayPalConfig: function () {\n            var totals = quote.totals(),\n                config = {},\n                isActiveVaultEnabler = this.isActiveVault();\n\n            config.paypal = {\n                container: 'paypal-container',\n                singleUse: !isActiveVaultEnabler,\n                headless: true,\n                amount: this.grandTotalAmount,\n                currency: totals['base_currency_code'],\n                locale: this.getLocale(),\n                enableShippingAddress: true,\n\n                /**\n                 * Triggers on any Braintree error\n                 */\n                onError: function () {\n                    this.paymentMethodNonce = null;\n                },\n\n                /**\n                 * Triggers if browser doesn't support PayPal Checkout\n                 */\n                onUnsupported: function () {\n                    this.paymentMethodNonce = null;\n                }\n            };\n\n            config.paypal.shippingAddressOverride = this.getShippingAddress();\n\n            if (this.getMerchantName()) {\n                config.paypal.displayName = this.getMerchantName();\n            }\n\n            return config;\n        },\n\n        /**\n         * Get shipping address\n         * @returns {Object}\n         */\n        getShippingAddress: function () {\n            var address = quote.shippingAddress();\n\n            if (address.postcode === null) {\n\n                return {};\n            }\n\n            return {\n                recipientName: address.firstname + ' ' + address.lastname,\n                streetAddress: address.street[0],\n                locality: address.city,\n                countryCodeAlpha2: address.countryId,\n                postalCode: address.postcode,\n                region: address.regionCode,\n                phone: address.telephone,\n                editable: this.isAllowOverrideShippingAddress()\n            };\n        },\n\n        /**\n         * Get merchant name\n         * @returns {String}\n         */\n        getMerchantName: function () {\n            return window.checkoutConfig.payment[this.getCode()].merchantName;\n        },\n\n        /**\n         * Get data\n         * @returns {Object}\n         */\n        getData: function () {\n            var data = {\n                'method': this.getCode(),\n                'additional_data': {\n                    'payment_method_nonce': this.paymentMethodNonce\n                }\n            };\n\n            data['additional_data'] = _.extend(data['additional_data'], this.additionalData);\n\n            this.vaultEnabler.visitAdditionalData(data);\n\n            return data;\n        },\n\n        /**\n         * Returns payment acceptance mark image path\n         * @returns {String}\n         */\n        getPaymentAcceptanceMarkSrc: function () {\n\n            return window.checkoutConfig.payment[this.getCode()].paymentAcceptanceMarkSrc;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getVaultCode: function () {\n            return window.checkoutConfig.payment[this.getCode()].vaultCode;\n        },\n\n        /**\n         * Check if need to skip order review\n         * @returns {Boolean}\n         */\n        isSkipOrderReview: function () {\n            return window.checkoutConfig.payment[this.getCode()].skipOrderReview;\n        },\n\n        /**\n         * Checks if vault is active\n         * @returns {Boolean}\n         */\n        isActiveVault: function () {\n            return this.vaultEnabler.isVaultEnabled() && this.vaultEnabler.isActivePaymentTokenEnabler();\n        },\n\n        /**\n         * Re-init PayPal Auth flow to use Vault\n         */\n        onVaultPaymentTokenEnablerChange: function () {\n            this.clientConfig.paypal.singleUse = !this.isActiveVault();\n            this.reInitPayPal();\n        },\n\n        /**\n         * Disable submit button\n         */\n        disableButton: function () {\n            // stop any previous shown loaders\n            fullScreenLoader.stopLoader(true);\n            fullScreenLoader.startLoader();\n            $('[data-button=\"place\"]').attr('disabled', 'disabled');\n        },\n\n        /**\n         * Enable submit button\n         */\n        enableButton: function () {\n            $('[data-button=\"place\"]').removeAttr('disabled');\n            fullScreenLoader.stopLoader();\n        },\n\n        /**\n         * Triggers when customer click \"Continue to PayPal\" button\n         */\n        payWithPayPal: function () {\n            if (additionalValidators.validate()) {\n                Braintree.checkout.paypal.initAuthFlow();\n            }\n        },\n\n        /**\n         * Get button title\n         * @returns {String}\n         */\n        getButtonTitle: function () {\n            return this.isSkipOrderReview() ? 'Pay with PayPal' : 'Continue to PayPal';\n        },\n\n        /**\n         * Get button id\n         * @returns {String}\n         */\n        getButtonId: function () {\n            return this.getCode() + (this.isSkipOrderReview() ? '_pay_with' : '_continue_to');\n        }\n    });\n});\n","Magento_Braintree/js/view/payment/method-renderer/vault.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'Magento_Vault/js/view/payment/method-renderer/vault',\n    'Magento_Braintree/js/view/payment/adapter',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, VaultComponent, Braintree, globalMessageList, fullScreenLoader) {\n    'use strict';\n\n    return VaultComponent.extend({\n        defaults: {\n            template: 'Magento_Vault/payment/form',\n            modules: {\n                hostedFields: '${ $.parentName }.braintree'\n            }\n        },\n\n        /**\n         * Get last 4 digits of card\n         * @returns {String}\n         */\n        getMaskedCard: function () {\n            return this.details.maskedCC;\n        },\n\n        /**\n         * Get expiration date\n         * @returns {String}\n         */\n        getExpirationDate: function () {\n            return this.details.expirationDate;\n        },\n\n        /**\n         * Get card type\n         * @returns {String}\n         */\n        getCardType: function () {\n            return this.details.type;\n        },\n\n        /**\n         * Place order\n         */\n        placeOrder: function () {\n            var self = this;\n\n            /**\n             * Define already callback\n             */\n            Braintree.onReady = function () {\n                self.getPaymentMethodNonce();\n            };\n            self.hostedFields(function (formComponent) {\n                formComponent.initBraintree();\n            });\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            var self = this;\n\n            fullScreenLoader.startLoader();\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash\n            })\n                .done(function (response) {\n                    fullScreenLoader.stopLoader();\n                    self.hostedFields(function (formComponent) {\n                        formComponent.setPaymentMethodNonce(response.paymentMethodNonce);\n                        formComponent.additionalData['public_hash'] = self.publicHash;\n                        formComponent.code = self.code;\n                        formComponent.placeOrder();\n                    });\n                })\n                .fail(function (response) {\n                    var error = JSON.parse(response.responseText);\n\n                    fullScreenLoader.stopLoader();\n                    globalMessageList.addErrorMessage({\n                        message: error.message\n                    });\n                });\n        }\n    });\n});\n","Magento_Authorizenet/js/view/payment/authorizenet.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n        rendererList.push(\n            {\n                type: 'authorizenet_directpost',\n                component: 'Magento_Authorizenet/js/view/payment/method-renderer/authorizenet-directpost'\n            }\n        );\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n","Magento_Authorizenet/js/view/payment/method-renderer/authorizenet-directpost.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(\n    [\n        'jquery',\n        'Magento_Payment/js/view/payment/iframe'\n    ],\n    function ($, Component) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magento_Authorizenet/payment/authorizenet-directpost',\n                timeoutMessage: 'Sorry, but something went wrong. Please contact the seller.'\n            },\n            placeOrderHandler: null,\n            validateHandler: null,\n\n            /**\n             * @param {Object} handler\n             */\n            setPlaceOrderHandler: function (handler) {\n                this.placeOrderHandler = handler;\n            },\n\n            /**\n             * @param {Object} handler\n             */\n            setValidateHandler: function (handler) {\n                this.validateHandler = handler;\n            },\n\n            /**\n             * @returns {Object}\n             */\n            context: function () {\n                return this;\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            isShowLegend: function () {\n                return true;\n            },\n\n            /**\n             * @returns {String}\n             */\n            getCode: function () {\n                return 'authorizenet_directpost';\n            },\n\n            /**\n             * @returns {Boolean}\n             */\n            isActive: function () {\n                return true;\n            }\n        });\n    }\n);\n","TemplateMonster_AjaxCatalog/js/compare-products-top-link.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/modal/modal',\r\n    'Magento_Catalog/js/compare',\r\n    'mage/loader'\r\n],function($,$t,alert,modal) {\r\n    'use strict';\r\n\r\n    var isLoadCompareAjax = false;\r\n\r\n    $.widget('tm.showCompareProduct',{\r\n\r\n        productInCompareList: [],\r\n\r\n        _create: function() {\r\n            if(!compareProductAddAjax) {\r\n                return false;\r\n            }\r\n            this._initProductCompareListArray();\r\n            this._actionAddToCompare();\r\n            this._actionCompare();\r\n            this._actionPrint();\r\n            this._actionRemoveProduct();\r\n        },\r\n\r\n        _actionCompare : function(){\r\n            $('body').on('click','.action.compare',function(e){\r\n                e.preventDefault();\r\n\r\n                var href = $(e.currentTarget).attr('href');\r\n\r\n                $.ajaxSetup({showLoader: true});\r\n                $.post(href,function(data){\r\n                    var compareProductBox = $('#productComparePopup');\r\n                    compareProductBox.html('');\r\n                    compareProductBox.html(data.content);\r\n                    compareProductBox.modal();\r\n                    compareProductBox.modal('openModal');\r\n                }).fail(function(){\r\n                    alert({\r\n                        content: $t('Can not finish request.Try again.')\r\n                    });\r\n                });\r\n                return false;\r\n            });\r\n        },\r\n\r\n        _actionPrint : function(){\r\n            //Print compare product\r\n            $('body').on('click', '.action.print',function(e) {\r\n                e.preventDefault();\r\n                window.print();\r\n            });\r\n\r\n        },\r\n\r\n        _actionRemoveProduct : function(){\r\n            //  Add event for remove in modal compare product\r\n            $('body').on('click','.cell.remove.product',function(e){\r\n\r\n                if(isLoadCompareAjax) {return false;}\r\n                isLoadCompareAjax = true;\r\n\r\n                e.preventDefault();\r\n\r\n                var index;\r\n                index = $( \".cell.remove.product\" ).index( this );\r\n                var params = $(e.currentTarget).children('a').data('post');\r\n                var postParams = params.data;\r\n\r\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\r\n\r\n                $.ajaxSetup({showLoader: true});\r\n                $.post(params.action,postParams,function(data){\r\n                }).success(function(){\r\n                    ++index; // Psevdo class nth-child starts count from 1\r\n                    ++index; // Add Label product column\r\n                    //Remove product information from modal window\r\n                    $('#product-comparison .cell.product.attribute:nth-child(' + index + ')').remove();\r\n                    $('#product-comparison .cell.product.info:nth-child(' + index + ')').remove();\r\n                    $('#product-comparison .cell.remove.product:nth-child(' + index + ')').remove();\r\n                }).fail(function(){\r\n                    alert({\r\n                        content: $t('Can not finish request.Try again.')\r\n                    });\r\n                }).always(function(){\r\n                    isLoadCompareAjax = false;\r\n                });\r\n                return false;\r\n            });\r\n        },\r\n\r\n        _actionAddToCompare : function(){\r\n            $('body').on('click','a[data-post].tocompare', $.proxy(function(e){\r\n\r\n                e.preventDefault();\r\n\r\n                var params = $(e.currentTarget).data('post');\r\n                var postParams = params.data;\r\n\r\n                //Check if product is in compare list already.\r\n                if($.inArray(postParams.product,this.productInCompareList) !== -1) {\r\n                    alert({\r\n                        content: $t('Current product is already in the comparison list.')\r\n                    });\r\n                    return false;\r\n                }\r\n\r\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\r\n\r\n                $.ajaxSetup({showLoader: true});\r\n                $.post(params.action,postParams,function(data){\r\n                    $('body').trigger('contentUpdated');\r\n                }).fail(function(){\r\n                    alert({\r\n                        content: $t('Can not finish request.Try again.')\r\n                    });\r\n                });\r\n                return false;\r\n            },this));\r\n        },\r\n\r\n        _initProductCompareListArray: function()\r\n        {\r\n            //On init widget create array.\r\n            this._getProductCompareArray();\r\n            //Create array on ajax action.\r\n            $(document).on('ajaxComplete', $.proxy(this._getProductCompareArray,this));\r\n        },\r\n\r\n        _getProductCompareArray: function() {\r\n            var storage = $.localStorage;\r\n            var cacheStorage = storage.get('mage-cache-storage');\r\n            if(cacheStorage.hasOwnProperty('compare-products')) {\r\n                var compareProduct = cacheStorage['compare-products'];\r\n                this.productInCompareList = [];\r\n                if(compareProduct.count !== 0) {\r\n                    $.each(compareProduct.items,$.proxy(function(index,value){\r\n                        if($.inArray(value.id,this.productInCompareList) === -1) {\r\n                            this.productInCompareList.push(value.id);\r\n                        }\r\n                    },this));\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    return $.tm.showCompareProduct;\r\n\r\n});","TemplateMonster_AjaxCatalog/js/tm-catalog-ajax.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Catalog/js/product/list/toolbar',\r\n    'mage/loader'\r\n],function($,$t){\r\n\r\n    var isLoadTmAjaxCatalog = false;\r\n\r\n    $.widget('tm.catalogAjax',$.mage.productListToolbarForm,{\r\n\r\n        options: {\r\n            paginationControl : \".pages a\",\r\n            layoutNavigation : \"#layered-filter-block a:not(.ui-slider-handle)\",\r\n            layerMap: {name:'layer'},\r\n            paginationMap: {name:'showpagination'},\r\n            activeFilters: {},\r\n            catalogAjaxLoading: 'catalog-ajax-loading',\r\n            showLoader: true,\r\n\r\n            scrollAnchor: '#infinite_loadMoreAnchor',\r\n            //allPages: parseInt($('#infinite_loadMoreAnchor').data('all-pages')),\r\n            //pagesToShow: parseInt($('#infinite_loadMoreAnchor').data('pages-to-show')),\r\n            infiniteScrollPages: parseInt($('#infinite_loadMoreAnchor').data('pages')),\r\n            allProductsSelector: '#toolbar-amount .toolbar-number:last-child',\r\n            minProductsRange: '#toolbar-amount .toolbar-number:first-child',\r\n            allProducts: null,\r\n            scrollProcessing: false,\r\n            windowHeightOffset: 200,\r\n            defaultPage: 1,\r\n            showMoreActions: '.infiniteScroll_wrap'\r\n        },\r\n\r\n        _create: function () {\r\n            // Add ajax handlers for pagination and layer filter\r\n            this._layerPaginationInit();\r\n            this._super();\r\n\r\n            if(this._isEnabledScroll()){\r\n                this.options.activeFilters.p = 1;\r\n\r\n                this._getAllProducts();\r\n                this._infiniteScrollInit();\r\n                this._hidePagination();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init selectors for layered filters and pagination\r\n         * @private\r\n         */\r\n        _layerPaginationInit : function() {\r\n\r\n            //Layer filters intercept\r\n            var actionType = $(this.options.paginationControl).is(\"select\") ? 'change' : 'click';\r\n\r\n            $(this.options.paginationControl).on(actionType,\r\n                {paramName:this.options.paginationMap.name},\r\n                $.proxy(this._layerPagination,this)\r\n            );\r\n\r\n            //Pagination filtes intercept\r\n            $(this.options.layoutNavigation).on(actionType,\r\n                {paramName:this.options.layerMap.name},\r\n                $.proxy(this._layerPagination,this)\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Handler for layered filters and pagination\r\n         * @param event\r\n         * @returns {boolean}\r\n         * @private\r\n         */\r\n        _layerPagination: function(event){\r\n\r\n            if(!this.options.activeFilters[event.data.paramName]) {\r\n                return true;\r\n            }\r\n            event.preventDefault();\r\n\r\n            //TODO: need fix for differend layered filter type.In next version!\r\n            var locationURL = $(event.currentTarget).attr('href');\r\n\r\n            this._ajaxNavClient(locationURL);\r\n        },\r\n\r\n        /**\r\n         * Update url and pass to ajax request\r\n         * @param paramName\r\n         * @param paramValue\r\n         * @param defaultValue\r\n         */\r\n        changeUrl: function (paramName, paramValue, defaultValue) {\r\n\r\n            ////Check if need activate ajax filter\r\n            if(!this.options.activeFilters[paramName]) {\r\n                this._super(paramName, paramValue, defaultValue);\r\n                return;\r\n            }\r\n\r\n            var urlPaths = this.options.url.split('?');\r\n\r\n            //If infinite scroll enabled use window location\r\n            if(this.options.scrollProcessing){\r\n                urlPaths = window.location.href.split('?');\r\n            }\r\n\r\n            var baseUrl = urlPaths[0],\r\n                urlParams = urlPaths[1] ? urlPaths[1].split('&') : [],\r\n                paramData = {},\r\n                parameters;\r\n\r\n            for (var i = 0; i < urlParams.length; i++) {\r\n                parameters = urlParams[i].split('=');\r\n                paramData[parameters[0]] = parameters[1] !== undefined\r\n                    ? window.decodeURIComponent(parameters[1].replace(/\\+/g, '%20'))\r\n                    : '';\r\n            }\r\n\r\n            //Drop infinite scroll if any filter activated\r\n            if(!this.options.scrollProcessing){\r\n                delete paramData.p;\r\n            }\r\n\r\n            paramData[paramName] = paramValue;\r\n            if (paramValue == defaultValue) {\r\n                delete paramData[paramName];\r\n            }\r\n            paramData = $.param(paramData);\r\n\r\n            var locationURL = baseUrl + (paramData.length ? '?' + paramData : '');\r\n\r\n            this._ajaxNavClient(locationURL);\r\n        },\r\n\r\n        /**\r\n         * Get URL params as object\r\n         * @returns {{}}\r\n         * @private\r\n         */\r\n        _getUrlParams: function(url){\r\n            var urlPaths = url.split('?'),\r\n                baseUrl = urlPaths[0],\r\n                urlParams = urlPaths[1] ? urlPaths[1].split('&') : [],\r\n                paramData = {},\r\n                parameters;\r\n            for (var i = 0; i < urlParams.length; i++) {\r\n                parameters = urlParams[i].split('=');\r\n                paramData[parameters[0]] = parameters[1] !== undefined\r\n                    ? window.decodeURIComponent(parameters[1].replace(/\\+/g, '%20'))\r\n                    : '';\r\n            }\r\n\r\n            return paramData;\r\n        },\r\n\r\n        /**\r\n         * Get number of products in current request and save in options\r\n         * @private\r\n         */\r\n        _getAllProducts: function(){\r\n            this.options.allProducts = parseInt($(this.options.allProductsSelector).html());\r\n        },\r\n\r\n        /**\r\n         * Get number of product pages\r\n         * @returns {number}\r\n         * @private\r\n         */\r\n        _getMaxPages: function(){\r\n            var url = window.location.href,\r\n                params = this._getUrlParams('url'),\r\n                limit = params.product_list_limit;\r\n\r\n            if(limit == undefined){\r\n                limit = parseInt(this.options.limitDefault);\r\n            }\r\n\r\n            return Math.ceil(this.options.allProducts / limit);\r\n        },\r\n\r\n        /**\r\n         * Get current page number\r\n         * @returns {Number}\r\n         * @private\r\n         */\r\n        _getCurrentPage: function(){\r\n            var params = this._getUrlParams(window.location.href),\r\n                result = params['p'] ? params['p'] : this.options.defaultPage;\r\n\r\n            return parseInt(result);\r\n        },\r\n\r\n        /**\r\n         * Hide pagination\r\n         * @private\r\n         */\r\n        _hidePagination: function(){\r\n            $('.pages').hide();\r\n        },\r\n\r\n        /**\r\n         * Init infinite scroll\r\n         * @private\r\n         */\r\n        _infiniteScrollInit: function(){\r\n\r\n            var self = this,\r\n                options = this.options;\r\n\r\n            this._setMinProductsRange();\r\n\r\n            $(document).on('scroll', function(){\r\n\r\n                var windowMarkerPosition = $(this).scrollTop() + ($(window).height() - options.windowHeightOffset),\r\n                    scrollAnchorPosition = $(options.scrollAnchor).position().top;\r\n\r\n                //Check if window scrollTop match anchor position\r\n                if( scrollAnchorPosition - windowMarkerPosition <= 20 ){\r\n\r\n                    if(self.options.scrollProcessing){\r\n                        return false;\r\n                    }\r\n\r\n                    if(self._getCurrentPage() >= self.options.infiniteScrollPages){\r\n                        self._loadMoreButton();\r\n                        return false;\r\n                    }\r\n\r\n                    self.options.scrollProcessing = true;\r\n\r\n                    self.changeUrl('p', self._getCurrentPage() + 1, self.options.defaultPage);\r\n                }\r\n            })\r\n        },\r\n\r\n        _isEnabledScroll: function(){\r\n            return $(this.options.scrollAnchor).length > 0\r\n        },\r\n\r\n        _loadMoreButton: function(){\r\n            var self = this,\r\n                actions = $(this.options.showMoreActions).find('.actions'),\r\n                button = actions.find('button');\r\n\r\n            if(self._getCurrentPage() < self._getMaxPages()){\r\n                self.options.scrollProcessing = true;\r\n\r\n                button.on('click', function(){\r\n                    self.changeUrl('p', self._getCurrentPage() + 1, self.options.defaultPage);\r\n                });\r\n\r\n                actions.show();\r\n            } else {\r\n                actions.hide();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Return and insert html by ajax request\r\n         * @param locationURL\r\n         * @returns {boolean}\r\n         * @private\r\n         */\r\n        _ajaxNavClient: function(locationURL){\r\n\r\n            var self = this;\r\n\r\n            if(isLoadTmAjaxCatalog){\r\n                return false;\r\n            }\r\n\r\n            isLoadTmAjaxCatalog = true;\r\n\r\n            var encodeUrl = decodeURIComponent(locationURL);\r\n\r\n            $.ajax(encodeUrl,{\r\n                method: 'POST',\r\n                showLoader: this.options.showLoader\r\n            }).done(function(data){\r\n\r\n                if (data.error){\r\n                    if ((typeof data.message) == 'string') {\r\n                        alert(data.message);\r\n                    } else {\r\n                        alert(data.message.join(\"\\n\"));\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                var contentHtml = data.content;\r\n                if(contentHtml) {\r\n                    self._updateProducts(contentHtml);\r\n                }\r\n\r\n                self._getAllProducts();\r\n\r\n                var layerHtml = data.layer;\r\n                if(layerHtml) {\r\n                    $('#layered-filter-block').replaceWith(\r\n                        $('<div />').html(layerHtml).find('#layered-filter-block')\r\n                    );\r\n                }\r\n\r\n                var parser;\r\n                parser = document.createElement('a');\r\n                parser.href = locationURL;\r\n\r\n                var pathName = parser.pathname;\r\n                var search = parser.search;\r\n                var pathSearch = pathName + search;\r\n                var pathSearchEncode = decodeURIComponent(pathSearch);\r\n\r\n                /*@overwrite function in SwatchRenderer.js*/\r\n                $.parseParams = function (query) {\r\n                    var re = /([^&=]+)=?([^&]*)/g,\r\n                        decodeRE = /\\+/g,  /*Regex for replacing addition symbol with a space*/\r\n                        decode = function (str) {\r\n                            return decodeURIComponent(str.replace(decodeRE, \" \"));\r\n                        },\r\n                        params = {}, e;\r\n\r\n                    while (e = re.exec(query)) {\r\n                        var k = decode(e[1]), v = decode(e[2]);\r\n                        if (k.substring(k.length - 2) === '[]') {\r\n                            k = k.substring(0, k.length - 2);\r\n                            (params[k] || (params[k] = [])).push(v);\r\n                        }\r\n                        else params[k] = v;\r\n                    }\r\n                    return params;\r\n                };\r\n\r\n                var result = $.parseParams(parser.search.substring(1));\r\n                /*@overwrite function in SwatchRenderer.js\r\n                 when SR Swatcher try change color after filter apply*/\r\n                $.parseParams = function() {\r\n                    return result;\r\n                };\r\n\r\n                if(pathSearchEncode) {\r\n                    window.history.pushState({\"path\":pathSearchEncode}, \"Ajax Search\", pathSearchEncode);\r\n                }\r\n\r\n                /*REFRESH ALL WIDGETS*/\r\n                $('body').trigger('contentUpdated');\r\n                $(\"html, body\").animate({ scrollTop: $('.toolbar-products').offset().top - 100 }, 1000);\r\n\r\n            }).fail(function(){\r\n                alert($t('Can not finish request.Try again.'));\r\n            }).always(function(){\r\n                isLoadTmAjaxCatalog = false;\r\n            });\r\n\r\n        },\r\n\r\n        _updateProducts: function(contentHtml){\r\n\r\n            $('.toolbar.toolbar-products').replaceWith(\r\n                $('<div />').html(contentHtml).find('.toolbar.toolbar-products').first()\r\n            );\r\n\r\n            if(this.options.scrollProcessing){\r\n                var productList = $('<div />').html(contentHtml).find('.product-items').html();\r\n\r\n                $('.products.wrapper .product-items').append(productList);\r\n\r\n                this.options.scrollProcessing = false;\r\n            } else  {\r\n                $('.products.wrapper').replaceWith(\r\n                    $('<div />').html(contentHtml).find('.products.wrapper')\r\n                );\r\n            }\r\n        },\r\n\r\n        _setMinProductsRange: function(){\r\n            var firstRange = this.options.minProductsRange;\r\n\r\n            $(firstRange).html(1);\r\n        }\r\n    });\r\n\r\n    return $.tm.catalogAjax;\r\n});\r\n\r\n","TemplateMonster_AjaxCatalog/js/tm-compare-ajax.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\n\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Catalog/js/compare',\r\n    'mage/loader'\r\n],function($,alert){\r\n    'use strict';\r\n\r\n    $.widget('tm.compareItems',$.mage.compareItems,{\r\n\r\n        _create: function() {\r\n            this._super();\r\n        },\r\n\r\n        _confirm: function(selector, message) {\r\n\r\n            if(!compareProductAddAjax) {\r\n                return this._super(selector, message);\r\n            }\r\n\r\n            $('body').on('click', selector,function(e) {\r\n                e.preventDefault();\r\n                var agree =  confirm(message);\r\n                if(!agree) {return false;}\r\n\r\n                var params = $(e.currentTarget).data('post');\r\n\r\n                var postParams = params.data;\r\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\r\n\r\n                 $.ajaxSetup({showLoader: true});\r\n                 $.post(params.action,postParams,function(data){\r\n                    $('body').trigger('contentUpdated');\r\n                 }).fail(function(){\r\n                     alert({\r\n                         content: $t('Can not finish request.Try again.')\r\n                     });\r\n                 });\r\n\r\n                return false;\r\n            });\r\n        }\r\n    });\r\n\r\n    return $.tm.compareItems;\r\n});\r\n","TemplateMonster_AjaxCatalog/js/tm-price-slider.js":"define([\n    'jquery',\n    'jquery/ui'\n], function($){\n    $.widget('tm.priceRangeSlider', {\n        options:{\n            minPrice: null,\n            maxPrice: null,\n            minField: '#minPrice',\n            maxField: '#maxPrice',\n            range: null,\n            url: null,\n            paramName: 'price',\n            defaultValue: null,\n            submitSelector: '#slider-range_submit',\n            precision: .01\n        },\n\n        _create: function() {\n            var self = this,\n                options = self.options,\n                minField = options.minField,\n                maxField = options.maxField,\n                minPrice = parseFloat(options.minPrice),\n                maxPrice = parseFloat(options.maxPrice);\n\n            var slider = this.element.slider({\n                range: true,\n                min: minPrice,\n                max: maxPrice,\n                step: options.precision,\n                values: [ minPrice, maxPrice ],\n                slide: function( event, ui ) {\n                    var resultMin = parseFloat(ui.values[ 0 ]).toFixed(2),\n                        resultMax = parseFloat(ui.values[ 1 ]).toFixed(2);\n\n                    $(minField).val(resultMin);\n                    $(maxField).val(resultMax);\n\n                    options.range = resultMin + '-' + resultMax;\n\n                    self._updateUrl();\n                }\n            });\n\n            $(minField).on('change', function(){\n                slider.slider(\"values\", [$(this).val(), $(minField).val()]);\n\n                options.range = $(this).val() + '-' + $(maxField).val();\n                self._updateUrl();\n            });\n\n            $(maxField).on('change', function(){\n                slider.slider(\"values\", [$(minField).val(), $(this).val()]);\n\n                options.range = $(minField).val() + '-' + $(this).val();\n                self._updateUrl();\n            });\n        },\n\n        _updateUrl: function(){\n            var self = this,\n                options = self.options,\n                submitButton = $(options.submitSelector);\n\n            submitButton.attr(\n                'href',\n                self._changeUrl(options.paramName, options.range, options.defaultValue )\n            );\n        },\n\n        _changeUrl: function(paramName, paramValue, defaultValue){\n            var urlPaths = this.options.url.split('?'),\n                baseUrl = urlPaths[0],\n                urlParams = urlPaths[1] ? urlPaths[1].split('&') : [],\n                paramData = {},\n                parameters;\n            for (var i = 0; i < urlParams.length; i++) {\n                parameters = urlParams[i].split('=');\n                paramData[parameters[0]] = parameters[1] !== undefined\n                    ? window.decodeURIComponent(parameters[1].replace(/\\+/g, '%20'))\n                    : '';\n            }\n            paramData[paramName] = paramValue;\n            if (paramValue == defaultValue) {\n                delete paramData[paramName];\n            }\n\n            paramData = $.param(paramData);\n\n            return baseUrl + (paramData.length ? '?' + paramData : '');\n        }\n    });\n\n    return $.tm.priceRangeSlider;\n});","TemplateMonster_AjaxCompare/js/compare-products-top-link.js":"/**\n *\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\n * See COPYING.txt for license details.\n *\n */\ndefine([\n    'jquery',\n    'mage/translate',\n    'Magento_Ui/js/modal/alert',\n    'underscore',\n    'Magento_Ui/js/modal/modal',\n    'Magento_Catalog/js/compare',\n    'catalogAddToCart',\n    'mage/loader'\n],function($,$t,alert,_) {\n    'use strict';\n\n    var isLoadCompareAjax = false;\n\n    $.widget('tm.showCompareProduct',{\n        options: {\n            loaderTemplate:\n                '<div class=\"loading-mask\" data-role=\"loader\">' +\n                    '<div class=\"loader ajax-compare\">' +\n                        '<img alt=\"<%- data.texts.imgAlt %>\" src=\"<%- data.icon %>\">' +\n                        '<p><%- data.texts.loaderText %></p>' +\n                    '</div>' +\n                '</div>'\n        },\n        productInCompareList: [],\n        compareProductBox: null,\n        prevTemplate: null,\n        prevIcon: null,\n\n        _create: function() {\n            if(!compareProductAddAjax) {\n                return false;\n            }\n            this._initProductCompareListArray();\n            this._actionAddToCompare();\n            this._actionCompare();\n            this._actionPrint();\n            this._actionRemoveProduct();\n            _.bindAll(this, '_changeLoaderTemplate', '_recoverLoaderTemplate');\n        },\n\n        _actionCompare : function(){\n            var self = this;\n            $('body').on('click','.action.compare',function(e){\n                e.preventDefault();\n\n                var href = $(e.currentTarget).attr('href');\n\n                $.ajaxSetup({showLoader: true});\n                $.ajax({\n                    method: 'POST',\n                    url: href,\n                    beforeSend: self._changeLoaderTemplate,\n                    complete:  self._recoverLoaderTemplate\n                }).done(function(data){\n                    self.compareProductBox = $('#productComparePopup').html(data.content).modal();\n                    self.compareProductBox.modal('openModal');\n                    $('[data-role=tocart-form]').catalogAddToCart();\n                }).fail(function(){\n                    alert({\n                        content: $t('Can not finish request.Try again.')\n                    });\n                });\n                return false;\n            });\n        },\n\n        _actionPrint : function(){\n            //Print compare product\n            $('body').on('click', '.action.print',function(e) {\n                e.preventDefault();\n                window.print();\n            });\n\n        },\n\n        _actionRemoveProduct : function(){\n            //  Add event for remove in modal compare product\n            var self = this;\n            $('body').on('click','.cell.remove.product',function(e){\n\n                if(isLoadCompareAjax) {return false;}\n                isLoadCompareAjax = true;\n\n                e.preventDefault();\n\n                var index;\n                index = $( \".cell.remove.product\" ).index( this );\n                var params = $(e.currentTarget).children('a').data('post');\n                var postParams = params.data;\n\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\n\n                $.ajaxSetup({showLoader: true});\n                $.ajax({\n                    method: 'POST',\n                    url: params.action,\n                    data: postParams,\n                    beforeSend: self._changeLoaderTemplate,\n                    complete:  self._recoverLoaderTemplate\n                }).success(function() {\n                    ++index; // Psevdo class nth-child starts count from 1\n                    ++index; // Add Label product column\n                    // Remove product information from modal window\n                    $('#product-comparison .cell.product.attribute:nth-child(' + index + ')').remove();\n                    $('#product-comparison .cell.product.info:nth-child(' + index + ')').remove();\n                    $('#product-comparison .cell.remove.product:nth-child(' + index + ')').remove();\n\n                    if ($('#product-comparison .cell.product.info').length < 1) {\n                        self.compareProductBox.modal('closeModal');\n                    }\n                }).fail(function() {\n                    alert({\n                        content: $t('Can not finish request.Try again.')\n                    });\n                }).always(function() {\n                    isLoadCompareAjax = false;\n                });\n                return false;\n            });\n        },\n\n        _actionAddToCompare : function(){\n            $('body').on('click','a[data-post].tocompare', $.proxy(function(e){\n\n                e.preventDefault();\n\n                var params = $(e.currentTarget).data('post');\n                var postParams = params.data;\n\n                //Check if product is in compare list already.\n                if($.inArray(postParams.product,this.productInCompareList) !== -1) {\n                    alert({\n                        content: $t('Current product is already in the comparison list.')\n                    });\n                    return false;\n                }\n\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\n\n                $.ajaxSetup({showLoader: true});\n                $.ajax({\n                    method: 'POST',\n                    url: params.action,\n                    data: postParams,\n                    beforeSend: this._changeLoaderTemplate,\n                    complete:  this._recoverLoaderTemplate\n                }).done(function(data) {\n                    alert({\n                        title: 'Ajax Compare',\n                        content: data.message\n                    });\n                    $('body').trigger('contentUpdated');\n                }).fail(function() {\n                    alert({\n                        content: $t('Can not finish request.Try again.')\n                    });\n                });\n                return false;\n            },this));\n        },\n\n        _initProductCompareListArray: function()\n        {\n            //On init widget create array.\n            this._getProductCompareArray();\n            //Create array on ajax action.\n            $(document).on('ajaxComplete', $.proxy(this._getProductCompareArray, this));\n        },\n\n        _getProductCompareArray: function() {\n            var storage = $.localStorage;\n            var cacheStorage = storage.get('mage-cache-storage');\n            if(cacheStorage.hasOwnProperty('compare-products')) {\n                var compareProduct = cacheStorage['compare-products'];\n                this.productInCompareList = [];\n                if(compareProduct.count !== 0) {\n                    $.each(compareProduct.items,$.proxy(function(index,value){\n                        if($.inArray(value.id,this.productInCompareList) === -1) {\n                            this.productInCompareList.push(value.id);\n                        }\n                    },this));\n                }\n            }\n        },\n\n        _changeLoaderTemplate: function() {\n            var ctx = $('[data-container=body]');\n            this.prevTemplate = ctx.loader('option', 'template');\n            this.prevIcon = ctx.loader('option', 'icon');\n            try {ctx.loader('destroy')} catch (e) {}\n            ctx.loader({\n                icon: this.prevIcon,\n                template: this.options.loaderTemplate\n            });\n        },\n\n        _recoverLoaderTemplate: function () {\n            var ctx = $('[data-container=body]');\n            try {ctx.loader('destroy')} catch (e) {}\n            ctx.loader({\n                icon: this.prevIcon,\n                template: this.prevTemplate\n            });\n        }\n    });\n\n    return $.tm.showCompareProduct;\n\n});","TemplateMonster_AjaxCompare/js/tm-compare-ajax.js":"/**\n *\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\n * See COPYING.txt for license details.\n *\n */\n\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Catalog/js/compare',\n    'mage/loader'\n],function($,alert){\n    'use strict';\n\n    $.widget('tm.compareItems',$.mage.compareItems,{\n\n        _create: function() {\n            this._super();\n        },\n\n        _confirm: function(selector, message) {\n\n            if(!compareProductAddAjax) {\n                return this._super(selector, message);\n            }\n\n            $('body').on('click', selector,function(e) {\n                e.preventDefault();\n                var agree =  confirm(message);\n                if(!agree) {return false;}\n\n                var params = $(e.currentTarget).data('post');\n\n                var postParams = params.data;\n                postParams['form_key'] = $('input[name=\"form_key\"]').val();\n\n                 $.ajaxSetup({showLoader: true});\n                 $.post(params.action,postParams,function(data){\n                    $('body').trigger('contentUpdated');\n                 }).fail(function(){\n                     alert({\n                         content: $t('Can not finish request.Try again.')\n                     });\n                 });\n\n                return false;\n            });\n        }\n    });\n\n    return $.tm.compareItems;\n});\n","TemplateMonster_AjaxSearch/js/tm-search-ajax.js":"define([\n    'jquery',\n    'jquery/ui',\n    'Magento_Search/form-mini'\n\n],function($) {\n    'use strict';\n\n    $.widget('tm.quickSearchAjax', $.mage.quickSearch,{\n        options: {\n            template:\n                '<li class=\"<%- data.row_class %> search-item\" id=\"qs-option-<%- data.index %>\" role=\"option\">' +\n                    //product item\n                    '<% if(data.product) { %>' +\n                        '<a href=\"<%- data.url %>\">' +\n                    '<% if(data.image) { %>' +\n                        '<span class=\"search-thumb\">' +\n                            '<img src=\"<%- data.image %>\"/>' +\n                        '</span>' +\n                    '<% } %>' +\n                        '<span class=\"qs-option-name\">' +\n                            ' <%- data.title %>' +\n                        '</span>' +\n                            '<%= data.price %>' +\n                        '</a>' +\n                        //category item\n                    '<% } else if(data.category) { %>' +\n                        '<a href=\"<%- data.url %>\">' +\n                        '<span class=\"qs-option-name\">' +\n                            ' <%- data.title %>' +\n                        '</span>' +\n                        '</a>' +\n                        //search item\n                    '<% } else { %>' +\n                        '<span class=\"qs-option-name\">' +\n                            '<%- data.title %>' +\n                        '</span>' +\n                        '<span aria-hidden=\"true\" class=\"amount\"> (' +\n                            '<%- data.num_results %>' +\n                        ')</span>' +\n                    '<% } %>' +\n                '</li>',\n       }\n    });\n\n    return $.tm.quickSearchAjax;\n\n});","TemplateMonster_AjaxWishlist/js/ajaxwishlist.js":"define([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/loader'\n], function($, mageTemplate, alert) {\n    'use strict';\n\n    $.widget('tm.ajaxWishlist', {\n\n        options: {\n            addToWishlistSelector: '[data-action=\"add-to-wishlist\"]',\n            removeFromWishlistSelector: '.block-wishlist .btn-remove',\n            wishlistBlockSelector: '#wishlist-view-form',\n            formKeyInputSelector: 'input[name=\"form_key\"]',\n            notLoggedInErrorMessage: 'Please <a href=\"<%- url %>\">log in</a> to be able add items to wishlist.',\n            errorMessage: 'There is an error occurred while processing the request.',\n            isShowSpinner: true,\n            isShowSuccessMessage: true,\n            customerLoginUrl: null\n        },\n\n        _create: function() {\n            this._bind();\n        },\n        \n        _bind: function () {\n            var selectors = [\n                this.options.addToWishlistSelector,\n                this.options.removeFromWishlistSelector\n            ];\n\n            $('body').on('click', selectors.join(','), $.proxy(this._processViaAjax, this));\n        },\n\n        _processViaAjax: function(event) {\n            var\n                post = $(event.currentTarget).data('post'),\n                url = post.action,\n                data = $.extend(post.data, {form_key: $(this.options.formKeyInputSelector).val()});\n\n            $.ajax(url, {\n                method: 'POST',\n                data: data,\n                showLoader: this.options.isShowSpinner\n            }).done($.proxy(this._successHandler, this)).fail($.proxy(this._errorHandler, this));\n\n            event.stopPropagation();\n            event.preventDefault();\n        },\n\n        _successHandler: function(data) {\n            if (!data.success && data.error == 'not_logged_in') {\n                alert({\n                    title: 'Ajax Wishlist',\n                    content: mageTemplate(this.options.notLoggedInErrorMessage, {\n                        url: this.options.customerLoginUrl\n                    })\n                });\n\n                return;\n            }\n\n            $(this.options.wishlistBlockSelector).replaceWith(data.wishlist);\n            $('body').trigger('contentUpdated');\n\n            if (this.options.isShowSuccessMessage && data.message) {\n                alert({\n                    title: 'Ajax Wishlist',\n                    content: data.message\n                });\n            }\n        },\n\n        _errorHandler: function () {\n            alert({\n                title: 'Ajax Wishlist',\n                content: mageTemplate(this.options.errorMessage)\n            });\n        }\n\n    });\n\n    return $.tm.ajaxWishlist;\n\n});","TemplateMonster_AjaxWishlist/js/wishlist.js":"define([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'TemplateMonster_AjaxWishlist/js/ajaxwishlist',\n    'jquery/ui',\n    'Magento_Wishlist/wishlist',\n    'mage/loader'\n], function($, alert) {\n    'use strict';\n\n    if ($('body').data('tmAjaxWishlist')) {\n\n        $.widget('tm.wishlist', $.mage.wishlist, {\n            options: {\n                btnUpdateSelector: '.update',\n                formKeyInputSelector: 'input[name=\"form_key\"]',\n                errorMessage: 'There is an error occurred while processing the request.'\n            },\n\n            _create: function () {\n                this._super();\n                this._bind();\n            },\n\n            _bind: function () {\n                this.element\n                    .off('click', this.options.btnRemoveSelector) // remove parent widget's handlers\n                    .on('click', this.options.btnRemoveSelector, $.proxy(this._remove, this))\n                    .on('click', this.options.btnUpdateSelector, $.proxy(this._update, this));\n            },\n\n            _remove: function (event) {\n                var\n                    params = $(event.currentTarget).data('post-remove'),\n                    url = params.action,\n                    data = $.extend(params.data, {form_key: $(this.options.formKeyInputSelector).val()});\n\n                this._processAjaxRequest(url, data);\n\n                event.stopPropagation();\n                event.preventDefault();\n            },\n\n            _update: function (event) {\n                var\n                    form = $(event.currentTarget).closest('form'),\n                    url = $(form).attr('action'),\n                    data = $(form).serialize();\n\n                this._processAjaxRequest(url, data);\n\n                event.stopPropagation();\n                event.preventDefault();\n            },\n\n            _processAjaxRequest: function (url, data) {\n                $.ajax(url, {\n                    method: 'POST',\n                    data: data,\n                    showLoader: $('body').ajaxWishlist('option', 'isShowSpinner')\n                }).done($.proxy(this._successHandler, this)).fail($.proxy(this._errorHandler, this));\n            },\n\n            _successHandler: function (data) {\n                $(this.element).replaceWith(data.wishlist);\n                $('body').trigger('contentUpdated');\n            },\n\n            _errorHandler: function () {\n                alert({\n                    content: this.options.errorMessage\n                });\n            }\n\n        });\n\n    }\n\n});","TemplateMonster_Blog/js/blog-carousel.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'blogOwlCarousel'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.blogCarousel', {\n\n        options: {\n            items: 3,\n            itemsDesktop: [1199,3],\n            itemsDesktopSmall: [979,3],\n            itemsTablet: [768,2],\n            itemsMobile: [400,1],\n            autoPlay: false,\n            navigation:true,\n            pagination: false,\n            addClassActive: true,\n            navigationText: []\n        },\n\n        _create: function() {\n            this.element.owlCarousel(this.options);\n        }\n        \n    });\n\n    return $.TemplateMonster.blogCarousel;\n\n});\n","TemplateMonster_Blog/js/categories-list-collapse.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.categoriesListCollapse', {\n\n        options: {\n            extender : '#blog-show-all',\n            extendable : '.categories-list',\n            limit: 3,\n            total: 100\n        },\n\n        _create: function() {\n            var data = this.options,\n                extender = data.extender,\n                list = data.extendable,\n                limit = data.limit,\n                total = data.total;\n\n            $(extender).click(function(){\n                if($(extender).hasClass('closed')) {\n                    var currentIndex = $(list).children('li:visible:last').index(),\n                        nextIndex = currentIndex + (total - limit) + 1;\n                    $('li:lt(' + nextIndex + '):gt(' + currentIndex + ')', list).show(300);\n                    $(extender).toggleClass('closed opened');\n                } else {\n                    var prevIndex = limit - 1;\n                    $('li:gt(' + prevIndex + ')', list).hide(300);\n                    $(extender).toggleClass('closed opened');\n                }\n            });\n        }\n        \n    });\n\n    return $.TemplateMonster.categoriesListCollapse;\n\n});\n","TemplateMonster_Blog/js/owl.carousel.js":"/*\n *  jQuery OwlCarousel v1.3.3\n *\n *  Copyright (c) 2013 Bartosz Wojciechowski\n *  http://www.owlgraphic.com/owlcarousel/\n *\n *  Licensed under MIT\n *\n */\n\n/*JS Lint helpers: */\n/*global dragMove: false, dragEnd: false, $, jQuery, alert, window, document */\n/*jslint nomen: true, continue:true */\n\nif (typeof Object.create !== \"function\") {\n    Object.create = function (obj) {\n        function F() {}\n        F.prototype = obj;\n        return new F();\n    };\n}\n(function ($, window, document) {\n\n    var Carousel = {\n        init : function (options, el) {\n            var base = this;\n\n            base.$elem = $(el);\n            base.options = $.extend({}, $.fn.owlCarousel.options, base.$elem.data(), options);\n\n            base.userOptions = options;\n            base.loadContent();\n        },\n\n        loadContent : function () {\n            var base = this, url;\n\n            function getData(data) {\n                var i, content = \"\";\n                if (typeof base.options.jsonSuccess === \"function\") {\n                    base.options.jsonSuccess.apply(this, [data]);\n                } else {\n                    for (i in data.owl) {\n                        if (data.owl.hasOwnProperty(i)) {\n                            content += data.owl[i].item;\n                        }\n                    }\n                    base.$elem.html(content);\n                }\n                base.logIn();\n            }\n\n            if (typeof base.options.beforeInit === \"function\") {\n                base.options.beforeInit.apply(this, [base.$elem]);\n            }\n\n            if (typeof base.options.jsonPath === \"string\") {\n                url = base.options.jsonPath;\n                $.getJSON(url, getData);\n            } else {\n                base.logIn();\n            }\n        },\n\n        logIn : function () {\n            var base = this;\n\n            base.$elem.data(\"owl-originalStyles\", base.$elem.attr(\"style\"));\n            base.$elem.data(\"owl-originalClasses\", base.$elem.attr(\"class\"));\n\n            base.$elem.css({opacity: 0});\n            base.orignalItems = base.options.items;\n            base.checkBrowser();\n            base.wrapperWidth = 0;\n            base.checkVisible = null;\n            base.setVars();\n        },\n\n        setVars : function () {\n            var base = this;\n            if (base.$elem.children().length === 0) {return false; }\n            base.baseClass();\n            base.eventTypes();\n            base.$userItems = base.$elem.children();\n            base.itemsAmount = base.$userItems.length;\n            base.wrapItems();\n            base.$owlItems = base.$elem.find(\".owl-item\");\n            base.$owlWrapper = base.$elem.find(\".owl-wrapper\");\n            base.playDirection = \"next\";\n            base.prevItem = 0;\n            base.prevArr = [0];\n            base.currentItem = 0;\n            base.customEvents();\n            base.onStartup();\n        },\n\n        onStartup : function () {\n            var base = this;\n            base.updateItems();\n            base.calculateAll();\n            base.buildControls();\n            base.updateControls();\n            base.response();\n            base.moveEvents();\n            base.stopOnHover();\n            base.owlStatus();\n\n            if (base.options.transitionStyle !== false) {\n                base.transitionTypes(base.options.transitionStyle);\n            }\n            if (base.options.autoPlay === true) {\n                base.options.autoPlay = 5000;\n            }\n            base.play();\n\n            base.$elem.find(\".owl-wrapper\").css(\"display\", \"block\");\n\n            if (!base.$elem.is(\":visible\")) {\n                base.watchVisibility();\n            } else {\n                base.$elem.css(\"opacity\", 1);\n            }\n            base.onstartup = false;\n            base.eachMoveUpdate();\n            if (typeof base.options.afterInit === \"function\") {\n                base.options.afterInit.apply(this, [base.$elem]);\n            }\n        },\n\n        eachMoveUpdate : function () {\n            var base = this;\n\n            if (base.options.lazyLoad === true) {\n                base.lazyLoad();\n            }\n            if (base.options.autoHeight === true) {\n                base.autoHeight();\n            }\n            base.onVisibleItems();\n\n            if (typeof base.options.afterAction === \"function\") {\n                base.options.afterAction.apply(this, [base.$elem]);\n            }\n        },\n\n        updateVars : function () {\n            var base = this;\n            if (typeof base.options.beforeUpdate === \"function\") {\n                base.options.beforeUpdate.apply(this, [base.$elem]);\n            }\n            base.watchVisibility();\n            base.updateItems();\n            base.calculateAll();\n            base.updatePosition();\n            base.updateControls();\n            base.eachMoveUpdate();\n            if (typeof base.options.afterUpdate === \"function\") {\n                base.options.afterUpdate.apply(this, [base.$elem]);\n            }\n        },\n\n        reload : function () {\n            var base = this;\n            window.setTimeout(function () {\n                base.updateVars();\n            }, 0);\n        },\n\n        watchVisibility : function () {\n            var base = this;\n\n            if (base.$elem.is(\":visible\") === false) {\n                base.$elem.css({opacity: 0});\n                window.clearInterval(base.autoPlayInterval);\n                window.clearInterval(base.checkVisible);\n            } else {\n                return false;\n            }\n            base.checkVisible = window.setInterval(function () {\n                if (base.$elem.is(\":visible\")) {\n                    base.reload();\n                    base.$elem.animate({opacity: 1}, 200);\n                    window.clearInterval(base.checkVisible);\n                }\n            }, 500);\n        },\n\n        wrapItems : function () {\n            var base = this;\n            base.$userItems.wrapAll(\"<div class=\\\"owl-wrapper\\\">\").wrap(\"<div class=\\\"owl-item\\\"></div>\");\n            base.$elem.find(\".owl-wrapper\").wrap(\"<div class=\\\"owl-wrapper-outer\\\">\");\n            base.wrapperOuter = base.$elem.find(\".owl-wrapper-outer\");\n            base.$elem.css(\"display\", \"block\");\n        },\n\n        baseClass : function () {\n            var base = this,\n                hasBaseClass = base.$elem.hasClass(base.options.baseClass),\n                hasThemeClass = base.$elem.hasClass(base.options.theme);\n\n            if (!hasBaseClass) {\n                base.$elem.addClass(base.options.baseClass);\n            }\n\n            if (!hasThemeClass) {\n                base.$elem.addClass(base.options.theme);\n            }\n        },\n\n        updateItems : function () {\n            var base = this, width, i;\n\n            if (base.options.responsive === false) {\n                return false;\n            }\n            if (base.options.singleItem === true) {\n                base.options.items = base.orignalItems = 1;\n                base.options.itemsCustom = false;\n                base.options.itemsDesktop = false;\n                base.options.itemsDesktopSmall = false;\n                base.options.itemsTablet = false;\n                base.options.itemsTabletSmall = false;\n                base.options.itemsMobile = false;\n                return false;\n            }\n\n            width = $(base.options.responsiveBaseWidth).width();\n\n            if (width > (base.options.itemsDesktop[0] || base.orignalItems)) {\n                base.options.items = base.orignalItems;\n            }\n            if (base.options.itemsCustom !== false) {\n                //Reorder array by screen size\n                base.options.itemsCustom.sort(function (a, b) {return a[0] - b[0]; });\n\n                for (i = 0; i < base.options.itemsCustom.length; i += 1) {\n                    if (base.options.itemsCustom[i][0] <= width) {\n                        base.options.items = base.options.itemsCustom[i][1];\n                    }\n                }\n\n            } else {\n\n                if (width <= base.options.itemsDesktop[0] && base.options.itemsDesktop !== false) {\n                    base.options.items = base.options.itemsDesktop[1];\n                }\n\n                if (width <= base.options.itemsDesktopSmall[0] && base.options.itemsDesktopSmall !== false) {\n                    base.options.items = base.options.itemsDesktopSmall[1];\n                }\n\n                if (width <= base.options.itemsTablet[0] && base.options.itemsTablet !== false) {\n                    base.options.items = base.options.itemsTablet[1];\n                }\n\n                if (width <= base.options.itemsTabletSmall[0] && base.options.itemsTabletSmall !== false) {\n                    base.options.items = base.options.itemsTabletSmall[1];\n                }\n\n                if (width <= base.options.itemsMobile[0] && base.options.itemsMobile !== false) {\n                    base.options.items = base.options.itemsMobile[1];\n                }\n            }\n\n            //if number of items is less than declared\n            if (base.options.items > base.itemsAmount && base.options.itemsScaleUp === true) {\n                base.options.items = base.itemsAmount;\n            }\n        },\n\n        response : function () {\n            var base = this,\n                smallDelay,\n                lastWindowWidth;\n\n            if (base.options.responsive !== true) {\n                return false;\n            }\n            lastWindowWidth = $(window).width();\n\n            base.resizer = function () {\n                if ($(window).width() !== lastWindowWidth) {\n                    if (base.options.autoPlay !== false) {\n                        window.clearInterval(base.autoPlayInterval);\n                    }\n                    window.clearTimeout(smallDelay);\n                    smallDelay = window.setTimeout(function () {\n                        lastWindowWidth = $(window).width();\n                        base.updateVars();\n                    }, base.options.responsiveRefreshRate);\n                }\n            };\n            $(window).resize(base.resizer);\n        },\n\n        updatePosition : function () {\n            var base = this;\n            base.jumpTo(base.currentItem);\n            if (base.options.autoPlay !== false) {\n                base.checkAp();\n            }\n        },\n\n        appendItemsSizes : function () {\n            var base = this,\n                roundPages = 0,\n                lastItem = base.itemsAmount - base.options.items;\n\n            base.$owlItems.each(function (index) {\n                var $this = $(this);\n                $this\n                    .css({\"width\": base.itemWidth})\n                    .data(\"owl-item\", Number(index));\n\n                if (index % base.options.items === 0 || index === lastItem) {\n                    if (!(index > lastItem)) {\n                        roundPages += 1;\n                    }\n                }\n                $this.data(\"owl-roundPages\", roundPages);\n            });\n        },\n\n        appendWrapperSizes : function () {\n            var base = this,\n                width = base.$owlItems.length * base.itemWidth;\n\n            base.$owlWrapper.css({\n                \"width\": width * 2,\n                \"left\": 0\n            });\n            base.appendItemsSizes();\n        },\n\n        calculateAll : function () {\n            var base = this;\n            base.calculateWidth();\n            base.appendWrapperSizes();\n            base.loops();\n            base.max();\n        },\n\n        calculateWidth : function () {\n            var base = this;\n            base.itemWidth = Math.round(base.$elem.width() / base.options.items);\n        },\n\n        max : function () {\n            var base = this,\n                maximum = ((base.itemsAmount * base.itemWidth) - base.options.items * base.itemWidth) * -1;\n            if (base.options.items > base.itemsAmount) {\n                base.maximumItem = 0;\n                maximum = 0;\n                base.maximumPixels = 0;\n            } else {\n                base.maximumItem = base.itemsAmount - base.options.items;\n                base.maximumPixels = maximum;\n            }\n            return maximum;\n        },\n\n        min : function () {\n            return 0;\n        },\n\n        loops : function () {\n            var base = this,\n                prev = 0,\n                elWidth = 0,\n                i,\n                item,\n                roundPageNum;\n\n            base.positionsInArray = [0];\n            base.pagesInArray = [];\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                elWidth += base.itemWidth;\n                base.positionsInArray.push(-elWidth);\n\n                if (base.options.scrollPerPage === true) {\n                    item = $(base.$owlItems[i]);\n                    roundPageNum = item.data(\"owl-roundPages\");\n                    if (roundPageNum !== prev) {\n                        base.pagesInArray[prev] = base.positionsInArray[i];\n                        prev = roundPageNum;\n                    }\n                }\n            }\n        },\n\n        buildControls : function () {\n            var base = this;\n            if (base.options.navigation === true || base.options.pagination === true) {\n                base.owlControls = $(\"<div class=\\\"owl-controls\\\"/>\").toggleClass(\"clickable\", !base.browser.isTouch).appendTo(base.$elem);\n            }\n            if (base.options.pagination === true) {\n                base.buildPagination();\n            }\n            if (base.options.navigation === true) {\n                base.buildButtons();\n            }\n        },\n\n        buildButtons : function () {\n            var base = this,\n                buttonsWrapper = $(\"<div class=\\\"owl-buttons\\\"/>\");\n            base.owlControls.append(buttonsWrapper);\n\n            base.buttonPrev = $(\"<div/>\", {\n                \"class\" : \"owl-prev\",\n                \"html\" : base.options.navigationText[0] || \"\"\n            });\n\n            base.buttonNext = $(\"<div/>\", {\n                \"class\" : \"owl-next\",\n                \"html\" : base.options.navigationText[1] || \"\"\n            });\n\n            buttonsWrapper\n                .append(base.buttonPrev)\n                .append(base.buttonNext);\n\n            buttonsWrapper.on(\"touchstart.owlControls mousedown.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n            });\n\n            buttonsWrapper.on(\"touchend.owlControls mouseup.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n                if ($(this).hasClass(\"owl-next\")) {\n                    base.next();\n                } else {\n                    base.prev();\n                }\n            });\n        },\n\n        buildPagination : function () {\n            var base = this;\n\n            base.paginationWrapper = $(\"<div class=\\\"owl-pagination\\\"/>\");\n            base.owlControls.append(base.paginationWrapper);\n\n            base.paginationWrapper.on(\"touchend.owlControls mouseup.owlControls\", \".owl-page\", function (event) {\n                event.preventDefault();\n                if (Number($(this).data(\"owl-page\")) !== base.currentItem) {\n                    base.goTo(Number($(this).data(\"owl-page\")), true);\n                }\n            });\n        },\n\n        updatePagination : function () {\n            var base = this,\n                counter,\n                lastPage,\n                lastItem,\n                i,\n                paginationButton,\n                paginationButtonInner;\n\n            if (base.options.pagination === false) {\n                return false;\n            }\n\n            base.paginationWrapper.html(\"\");\n\n            counter = 0;\n            lastPage = base.itemsAmount - base.itemsAmount % base.options.items;\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                if (i % base.options.items === 0) {\n                    counter += 1;\n                    if (lastPage === i) {\n                        lastItem = base.itemsAmount - base.options.items;\n                    }\n                    paginationButton = $(\"<div/>\", {\n                        \"class\" : \"owl-page\"\n                    });\n                    paginationButtonInner = $(\"<span></span>\", {\n                        \"text\": base.options.paginationNumbers === true ? counter : \"\",\n                        \"class\": base.options.paginationNumbers === true ? \"owl-numbers\" : \"\"\n                    });\n                    paginationButton.append(paginationButtonInner);\n\n                    paginationButton.data(\"owl-page\", lastPage === i ? lastItem : i);\n                    paginationButton.data(\"owl-roundPages\", counter);\n\n                    base.paginationWrapper.append(paginationButton);\n                }\n            }\n            base.checkPagination();\n        },\n        checkPagination : function () {\n            var base = this;\n            if (base.options.pagination === false) {\n                return false;\n            }\n            base.paginationWrapper.find(\".owl-page\").each(function () {\n                if ($(this).data(\"owl-roundPages\") === $(base.$owlItems[base.currentItem]).data(\"owl-roundPages\")) {\n                    base.paginationWrapper\n                        .find(\".owl-page\")\n                        .removeClass(\"active\");\n                    $(this).addClass(\"active\");\n                }\n            });\n        },\n\n        checkNavigation : function () {\n            var base = this;\n\n            if (base.options.navigation === false) {\n                return false;\n            }\n            if (base.options.rewindNav === false) {\n                if (base.currentItem === 0 && base.maximumItem === 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem === 0 && base.maximumItem !== 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                } else if (base.currentItem === base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem !== 0 && base.currentItem !== base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                }\n            }\n        },\n\n        updateControls : function () {\n            var base = this;\n            base.updatePagination();\n            base.checkNavigation();\n            if (base.owlControls) {\n                if (base.options.items >= base.itemsAmount) {\n                    base.owlControls.hide();\n                } else {\n                    base.owlControls.show();\n                }\n            }\n        },\n\n        destroyControls : function () {\n            var base = this;\n            if (base.owlControls) {\n                base.owlControls.remove();\n            }\n        },\n\n        next : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            base.currentItem += base.options.scrollPerPage === true ? base.options.items : 1;\n            if (base.currentItem > base.maximumItem + (base.options.scrollPerPage === true ? (base.options.items - 1) : 0)) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = 0;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = base.maximumItem;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        prev : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            if (base.options.scrollPerPage === true && base.currentItem > 0 && base.currentItem < base.options.items) {\n                base.currentItem = 0;\n            } else {\n                base.currentItem -= base.options.scrollPerPage === true ? base.options.items : 1;\n            }\n            if (base.currentItem < 0) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = base.maximumItem;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = 0;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        goTo : function (position, speed, drag) {\n            var base = this,\n                goToPixel;\n\n            if (base.isTransition) {\n                return false;\n            }\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n\n            base.currentItem = base.owl.currentItem = position;\n            if (base.options.transitionStyle !== false && drag !== \"drag\" && base.options.items === 1 && base.browser.support3d === true) {\n                base.swapSpeed(0);\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.positionsInArray[position]);\n                } else {\n                    base.css2slide(base.positionsInArray[position], 1);\n                }\n                base.afterGo();\n                base.singleItemTransition();\n                return false;\n            }\n            goToPixel = base.positionsInArray[position];\n\n            if (base.browser.support3d === true) {\n                base.isCss3Finish = false;\n\n                if (speed === true) {\n                    base.swapSpeed(\"paginationSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.paginationSpeed);\n\n                } else if (speed === \"rewind\") {\n                    base.swapSpeed(base.options.rewindSpeed);\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.rewindSpeed);\n\n                } else {\n                    base.swapSpeed(\"slideSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.slideSpeed);\n                }\n                base.transition3d(goToPixel);\n            } else {\n                if (speed === true) {\n                    base.css2slide(goToPixel, base.options.paginationSpeed);\n                } else if (speed === \"rewind\") {\n                    base.css2slide(goToPixel, base.options.rewindSpeed);\n                } else {\n                    base.css2slide(goToPixel, base.options.slideSpeed);\n                }\n            }\n            base.afterGo();\n        },\n\n        jumpTo : function (position) {\n            var base = this;\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem || position === -1) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n            base.swapSpeed(0);\n            if (base.browser.support3d === true) {\n                base.transition3d(base.positionsInArray[position]);\n            } else {\n                base.css2slide(base.positionsInArray[position], 1);\n            }\n            base.currentItem = base.owl.currentItem = position;\n            base.afterGo();\n        },\n\n        afterGo : function () {\n            var base = this;\n\n            base.prevArr.push(base.currentItem);\n            base.prevItem = base.owl.prevItem = base.prevArr[base.prevArr.length - 2];\n            base.prevArr.shift(0);\n\n            if (base.prevItem !== base.currentItem) {\n                base.checkPagination();\n                base.checkNavigation();\n                base.eachMoveUpdate();\n\n                if (base.options.autoPlay !== false) {\n                    base.checkAp();\n                }\n            }\n            if (typeof base.options.afterMove === \"function\" && base.prevItem !== base.currentItem) {\n                base.options.afterMove.apply(this, [base.$elem]);\n            }\n        },\n\n        stop : function () {\n            var base = this;\n            base.apStatus = \"stop\";\n            window.clearInterval(base.autoPlayInterval);\n        },\n\n        checkAp : function () {\n            var base = this;\n            if (base.apStatus !== \"stop\") {\n                base.play();\n            }\n        },\n\n        play : function () {\n            var base = this;\n            base.apStatus = \"play\";\n            if (base.options.autoPlay === false) {\n                return false;\n            }\n            window.clearInterval(base.autoPlayInterval);\n            base.autoPlayInterval = window.setInterval(function () {\n                base.next(true);\n            }, base.options.autoPlay);\n        },\n\n        swapSpeed : function (action) {\n            var base = this;\n            if (action === \"slideSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed));\n            } else if (action === \"paginationSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed));\n            } else if (typeof action !== \"string\") {\n                base.$owlWrapper.css(base.addCssSpeed(action));\n            }\n        },\n\n        addCssSpeed : function (speed) {\n            return {\n                \"-webkit-transition\": \"all \" + speed + \"ms ease\",\n                \"-moz-transition\": \"all \" + speed + \"ms ease\",\n                \"-o-transition\": \"all \" + speed + \"ms ease\",\n                \"transition\": \"all \" + speed + \"ms ease\"\n            };\n        },\n\n        removeTransition : function () {\n            return {\n                \"-webkit-transition\": \"\",\n                \"-moz-transition\": \"\",\n                \"-o-transition\": \"\",\n                \"transition\": \"\"\n            };\n        },\n\n        doTranslate : function (pixels) {\n            return {\n                \"-webkit-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-moz-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-o-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-ms-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"transform\": \"translate3d(\" + pixels + \"px, 0px,0px)\"\n            };\n        },\n\n        transition3d : function (value) {\n            var base = this;\n            base.$owlWrapper.css(base.doTranslate(value));\n        },\n\n        css2move : function (value) {\n            var base = this;\n            base.$owlWrapper.css({\"left\" : value});\n        },\n\n        css2slide : function (value, speed) {\n            var base = this;\n\n            base.isCssFinish = false;\n            base.$owlWrapper.stop(true, true).animate({\n                \"left\" : value\n            }, {\n                duration : speed || base.options.slideSpeed,\n                complete : function () {\n                    base.isCssFinish = true;\n                }\n            });\n        },\n\n        checkBrowser : function () {\n            var base = this,\n                translate3D = \"translate3d(0px, 0px, 0px)\",\n                tempElem = document.createElement(\"div\"),\n                regex,\n                asSupport,\n                support3d,\n                isTouch;\n\n            tempElem.style.cssText = \"  -moz-transform:\" + translate3D +\n                                  \"; -ms-transform:\"     + translate3D +\n                                  \"; -o-transform:\"      + translate3D +\n                                  \"; -webkit-transform:\" + translate3D +\n                                  \"; transform:\"         + translate3D;\n            regex = /translate3d\\(0px, 0px, 0px\\)/g;\n            asSupport = tempElem.style.cssText.match(regex);\n            support3d = (asSupport !== null && asSupport.length === 1);\n\n            isTouch = \"ontouchstart\" in window || window.navigator.msMaxTouchPoints;\n\n            base.browser = {\n                \"support3d\" : support3d,\n                \"isTouch\" : isTouch\n            };\n        },\n\n        moveEvents : function () {\n            var base = this;\n            if (base.options.mouseDrag !== false || base.options.touchDrag !== false) {\n                base.gestures();\n                base.disabledEvents();\n            }\n        },\n\n        eventTypes : function () {\n            var base = this,\n                types = [\"s\", \"e\", \"x\"];\n\n            base.ev_types = {};\n\n            if (base.options.mouseDrag === true && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl mousedown.owl\",\n                    \"touchmove.owl mousemove.owl\",\n                    \"touchend.owl touchcancel.owl mouseup.owl\"\n                ];\n            } else if (base.options.mouseDrag === false && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl\",\n                    \"touchmove.owl\",\n                    \"touchend.owl touchcancel.owl\"\n                ];\n            } else if (base.options.mouseDrag === true && base.options.touchDrag === false) {\n                types = [\n                    \"mousedown.owl\",\n                    \"mousemove.owl\",\n                    \"mouseup.owl\"\n                ];\n            }\n\n            base.ev_types.start = types[0];\n            base.ev_types.move = types[1];\n            base.ev_types.end = types[2];\n        },\n\n        disabledEvents :  function () {\n            var base = this;\n            base.$elem.on(\"dragstart.owl\", function (event) { event.preventDefault(); });\n            base.$elem.on(\"mousedown.disableTextSelect\", function (e) {\n                return $(e.target).is('input, textarea, select, option');\n            });\n        },\n\n        gestures : function () {\n            /*jslint unparam: true*/\n            var base = this,\n                locals = {\n                    offsetX : 0,\n                    offsetY : 0,\n                    baseElWidth : 0,\n                    relativePos : 0,\n                    position: null,\n                    minSwipe : null,\n                    maxSwipe: null,\n                    sliding : null,\n                    dargging: null,\n                    targetElement : null\n                };\n\n            base.isCssFinish = true;\n\n            function getTouches(event) {\n                if (event.touches !== undefined) {\n                    return {\n                        x : event.touches[0].pageX,\n                        y : event.touches[0].pageY\n                    };\n                }\n\n                if (event.touches === undefined) {\n                    if (event.pageX !== undefined) {\n                        return {\n                            x : event.pageX,\n                            y : event.pageY\n                        };\n                    }\n                    if (event.pageX === undefined) {\n                        return {\n                            x : event.clientX,\n                            y : event.clientY\n                        };\n                    }\n                }\n            }\n\n            function swapEvents(type) {\n                if (type === \"on\") {\n                    $(document).on(base.ev_types.move, dragMove);\n                    $(document).on(base.ev_types.end, dragEnd);\n                } else if (type === \"off\") {\n                    $(document).off(base.ev_types.move);\n                    $(document).off(base.ev_types.end);\n                }\n            }\n\n            function dragStart(event) {\n                var ev = event.originalEvent || event || window.event,\n                    position;\n\n                if (ev.which === 3) {\n                    return false;\n                }\n                if (base.itemsAmount <= base.options.items) {\n                    return;\n                }\n                if (base.isCssFinish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n                if (base.isCss3Finish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n\n                if (base.options.autoPlay !== false) {\n                    window.clearInterval(base.autoPlayInterval);\n                }\n\n                if (base.browser.isTouch !== true && !base.$owlWrapper.hasClass(\"grabbing\")) {\n                    base.$owlWrapper.addClass(\"grabbing\");\n                }\n\n                base.newPosX = 0;\n                base.newRelativeX = 0;\n\n                $(this).css(base.removeTransition());\n\n                position = $(this).position();\n                locals.relativePos = position.left;\n\n                locals.offsetX = getTouches(ev).x - position.left;\n                locals.offsetY = getTouches(ev).y - position.top;\n\n                swapEvents(\"on\");\n\n                locals.sliding = false;\n                locals.targetElement = ev.target || ev.srcElement;\n            }\n\n            function dragMove(event) {\n                var ev = event.originalEvent || event || window.event,\n                    minSwipe,\n                    maxSwipe;\n\n                base.newPosX = getTouches(ev).x - locals.offsetX;\n                base.newPosY = getTouches(ev).y - locals.offsetY;\n                base.newRelativeX = base.newPosX - locals.relativePos;\n\n                if (typeof base.options.startDragging === \"function\" && locals.dragging !== true && base.newRelativeX !== 0) {\n                    locals.dragging = true;\n                    base.options.startDragging.apply(base, [base.$elem]);\n                }\n\n                if ((base.newRelativeX > 8 || base.newRelativeX < -8) && (base.browser.isTouch === true)) {\n                    if (ev.preventDefault !== undefined) {\n                        ev.preventDefault();\n                    } else {\n                        ev.returnValue = false;\n                    }\n                    locals.sliding = true;\n                }\n\n                if ((base.newPosY > 10 || base.newPosY < -10) && locals.sliding === false) {\n                    $(document).off(\"touchmove.owl\");\n                }\n\n                minSwipe = function () {\n                    return base.newRelativeX / 5;\n                };\n\n                maxSwipe = function () {\n                    return base.maximumPixels + base.newRelativeX / 5;\n                };\n\n                base.newPosX = Math.max(Math.min(base.newPosX, minSwipe()), maxSwipe());\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.newPosX);\n                } else {\n                    base.css2move(base.newPosX);\n                }\n            }\n\n            function dragEnd(event) {\n                var ev = event.originalEvent || event || window.event,\n                    newPosition,\n                    handlers,\n                    owlStopEvent;\n\n                ev.target = ev.target || ev.srcElement;\n\n                locals.dragging = false;\n\n                if (base.browser.isTouch !== true) {\n                    base.$owlWrapper.removeClass(\"grabbing\");\n                }\n\n                if (base.newRelativeX < 0) {\n                    base.dragDirection = base.owl.dragDirection = \"left\";\n                } else {\n                    base.dragDirection = base.owl.dragDirection = \"right\";\n                }\n\n                if (base.newRelativeX !== 0) {\n                    newPosition = base.getNewPosition();\n                    base.goTo(newPosition, false, \"drag\");\n                    if (locals.targetElement === ev.target && base.browser.isTouch !== true) {\n                        $(ev.target).on(\"click.disable\", function (ev) {\n                            ev.stopImmediatePropagation();\n                            ev.stopPropagation();\n                            ev.preventDefault();\n                            $(ev.target).off(\"click.disable\");\n                        });\n                        handlers = $._data(ev.target, \"events\").click;\n                        owlStopEvent = handlers.pop();\n                        handlers.splice(0, 0, owlStopEvent);\n                    }\n                }\n                swapEvents(\"off\");\n            }\n            base.$elem.on(base.ev_types.start, \".owl-wrapper\", dragStart);\n        },\n\n        getNewPosition : function () {\n            var base = this,\n                newPosition = base.closestItem();\n\n            if (newPosition > base.maximumItem) {\n                base.currentItem = base.maximumItem;\n                newPosition  = base.maximumItem;\n            } else if (base.newPosX >= 0) {\n                newPosition = 0;\n                base.currentItem = 0;\n            }\n            return newPosition;\n        },\n        closestItem : function () {\n            var base = this,\n                array = base.options.scrollPerPage === true ? base.pagesInArray : base.positionsInArray,\n                goal = base.newPosX,\n                closest = null;\n\n            $.each(array, function (i, v) {\n                if (goal - (base.itemWidth / 20) > array[i + 1] && goal - (base.itemWidth / 20) < v && base.moveDirection() === \"left\") {\n                    closest = v;\n                    if (base.options.scrollPerPage === true) {\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        base.currentItem = i;\n                    }\n                } else if (goal + (base.itemWidth / 20) < v && goal + (base.itemWidth / 20) > (array[i + 1] || array[i] - base.itemWidth) && base.moveDirection() === \"right\") {\n                    if (base.options.scrollPerPage === true) {\n                        closest = array[i + 1] || array[array.length - 1];\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        closest = array[i + 1];\n                        base.currentItem = i + 1;\n                    }\n                }\n            });\n            return base.currentItem;\n        },\n\n        moveDirection : function () {\n            var base = this,\n                direction;\n            if (base.newRelativeX < 0) {\n                direction = \"right\";\n                base.playDirection = \"next\";\n            } else {\n                direction = \"left\";\n                base.playDirection = \"prev\";\n            }\n            return direction;\n        },\n\n        customEvents : function () {\n            /*jslint unparam: true*/\n            var base = this;\n            base.$elem.on(\"owl.next\", function () {\n                base.next();\n            });\n            base.$elem.on(\"owl.prev\", function () {\n                base.prev();\n            });\n            base.$elem.on(\"owl.play\", function (event, speed) {\n                base.options.autoPlay = speed;\n                base.play();\n                base.hoverStatus = \"play\";\n            });\n            base.$elem.on(\"owl.stop\", function () {\n                base.stop();\n                base.hoverStatus = \"stop\";\n            });\n            base.$elem.on(\"owl.goTo\", function (event, item) {\n                base.goTo(item);\n            });\n            base.$elem.on(\"owl.jumpTo\", function (event, item) {\n                base.jumpTo(item);\n            });\n        },\n\n        stopOnHover : function () {\n            var base = this;\n            if (base.options.stopOnHover === true && base.browser.isTouch !== true && base.options.autoPlay !== false) {\n                base.$elem.on(\"mouseover\", function () {\n                    base.stop();\n                });\n                base.$elem.on(\"mouseout\", function () {\n                    if (base.hoverStatus !== \"stop\") {\n                        base.play();\n                    }\n                });\n            }\n        },\n\n        lazyLoad : function () {\n            var base = this,\n                i,\n                $item,\n                itemNumber,\n                $lazyImg,\n                follow;\n\n            if (base.options.lazyLoad === false) {\n                return false;\n            }\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                $item = $(base.$owlItems[i]);\n\n                if ($item.data(\"owl-loaded\") === \"loaded\") {\n                    continue;\n                }\n\n                itemNumber = $item.data(\"owl-item\");\n                $lazyImg = $item.find(\".lazyOwl\");\n\n                if (typeof $lazyImg.data(\"src\") !== \"string\") {\n                    $item.data(\"owl-loaded\", \"loaded\");\n                    continue;\n                }\n                if ($item.data(\"owl-loaded\") === undefined) {\n                    $lazyImg.hide();\n                    $item.addClass(\"loading\").data(\"owl-loaded\", \"checked\");\n                }\n                if (base.options.lazyFollow === true) {\n                    follow = itemNumber >= base.currentItem;\n                } else {\n                    follow = true;\n                }\n                if (follow && itemNumber < base.currentItem + base.options.items && $lazyImg.length) {\n                    base.lazyPreload($item, $lazyImg);\n                }\n            }\n        },\n\n        lazyPreload : function ($item, $lazyImg) {\n            var base = this,\n                iterations = 0,\n                isBackgroundImg;\n\n            if ($lazyImg.prop(\"tagName\") === \"DIV\") {\n                $lazyImg.css(\"background-image\", \"url(\" + $lazyImg.data(\"src\") + \")\");\n                isBackgroundImg = true;\n            } else {\n                $lazyImg[0].src = $lazyImg.data(\"src\");\n            }\n\n            function showImage() {\n                $item.data(\"owl-loaded\", \"loaded\").removeClass(\"loading\");\n                $lazyImg.removeAttr(\"data-src\");\n                if (base.options.lazyEffect === \"fade\") {\n                    $lazyImg.fadeIn(400);\n                } else {\n                    $lazyImg.show();\n                }\n                if (typeof base.options.afterLazyLoad === \"function\") {\n                    base.options.afterLazyLoad.apply(this, [base.$elem]);\n                }\n            }\n\n            function checkLazyImage() {\n                iterations += 1;\n                if (base.completeImg($lazyImg.get(0)) || isBackgroundImg === true) {\n                    showImage();\n                } else if (iterations <= 100) {//if image loads in less than 10 seconds \n                    window.setTimeout(checkLazyImage, 100);\n                } else {\n                    showImage();\n                }\n            }\n\n            checkLazyImage();\n        },\n\n        autoHeight : function () {\n            var base = this,\n                $currentimg = $(base.$owlItems[base.currentItem]).find(\"img\"),\n                iterations;\n\n            function addHeight() {\n                var $currentItem = $(base.$owlItems[base.currentItem]).height();\n                base.wrapperOuter.css(\"height\", $currentItem + \"px\");\n                if (!base.wrapperOuter.hasClass(\"autoHeight\")) {\n                    window.setTimeout(function () {\n                        base.wrapperOuter.addClass(\"autoHeight\");\n                    }, 0);\n                }\n            }\n\n            function checkImage() {\n                iterations += 1;\n                if (base.completeImg($currentimg.get(0))) {\n                    addHeight();\n                } else if (iterations <= 100) { //if image loads in less than 10 seconds \n                    window.setTimeout(checkImage, 100);\n                } else {\n                    base.wrapperOuter.css(\"height\", \"\"); //Else remove height attribute\n                }\n            }\n\n            if ($currentimg.get(0) !== undefined) {\n                iterations = 0;\n                checkImage();\n            } else {\n                addHeight();\n            }\n        },\n\n        completeImg : function (img) {\n            var naturalWidthType;\n\n            if (!img.complete) {\n                return false;\n            }\n            naturalWidthType = typeof img.naturalWidth;\n            if (naturalWidthType !== \"undefined\" && img.naturalWidth === 0) {\n                return false;\n            }\n            return true;\n        },\n\n        onVisibleItems : function () {\n            var base = this,\n                i;\n\n            if (base.options.addClassActive === true) {\n                base.$owlItems.removeClass(\"active\");\n            }\n            base.visibleItems = [];\n            for (i = base.currentItem; i < base.currentItem + base.options.items; i += 1) {\n                base.visibleItems.push(i);\n\n                if (base.options.addClassActive === true) {\n                    $(base.$owlItems[i]).addClass(\"active\");\n                }\n            }\n            base.owl.visibleItems = base.visibleItems;\n        },\n\n        transitionTypes : function (className) {\n            var base = this;\n            //Currently available: \"fade\", \"backSlide\", \"goDown\", \"fadeUp\"\n            base.outClass = \"owl-\" + className + \"-out\";\n            base.inClass = \"owl-\" + className + \"-in\";\n        },\n\n        singleItemTransition : function () {\n            var base = this,\n                outClass = base.outClass,\n                inClass = base.inClass,\n                $currentItem = base.$owlItems.eq(base.currentItem),\n                $prevItem = base.$owlItems.eq(base.prevItem),\n                prevPos = Math.abs(base.positionsInArray[base.currentItem]) + base.positionsInArray[base.prevItem],\n                origin = Math.abs(base.positionsInArray[base.currentItem]) + base.itemWidth / 2,\n                animEnd = 'webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend';\n\n            base.isTransition = true;\n\n            base.$owlWrapper\n                .addClass('owl-origin')\n                .css({\n                    \"-webkit-transform-origin\" : origin + \"px\",\n                    \"-moz-perspective-origin\" : origin + \"px\",\n                    \"perspective-origin\" : origin + \"px\"\n                });\n            function transStyles(prevPos) {\n                return {\n                    \"position\" : \"relative\",\n                    \"left\" : prevPos + \"px\"\n                };\n            }\n\n            $prevItem\n                .css(transStyles(prevPos, 10))\n                .addClass(outClass)\n                .on(animEnd, function () {\n                    base.endPrev = true;\n                    $prevItem.off(animEnd);\n                    base.clearTransStyle($prevItem, outClass);\n                });\n\n            $currentItem\n                .addClass(inClass)\n                .on(animEnd, function () {\n                    base.endCurrent = true;\n                    $currentItem.off(animEnd);\n                    base.clearTransStyle($currentItem, inClass);\n                });\n        },\n\n        clearTransStyle : function (item, classToRemove) {\n            var base = this;\n            item.css({\n                \"position\" : \"\",\n                \"left\" : \"\"\n            }).removeClass(classToRemove);\n\n            if (base.endPrev && base.endCurrent) {\n                base.$owlWrapper.removeClass('owl-origin');\n                base.endPrev = false;\n                base.endCurrent = false;\n                base.isTransition = false;\n            }\n        },\n\n        owlStatus : function () {\n            var base = this;\n            base.owl = {\n                \"userOptions\"   : base.userOptions,\n                \"baseElement\"   : base.$elem,\n                \"userItems\"     : base.$userItems,\n                \"owlItems\"      : base.$owlItems,\n                \"currentItem\"   : base.currentItem,\n                \"prevItem\"      : base.prevItem,\n                \"visibleItems\"  : base.visibleItems,\n                \"isTouch\"       : base.browser.isTouch,\n                \"browser\"       : base.browser,\n                \"dragDirection\" : base.dragDirection\n            };\n        },\n\n        clearEvents : function () {\n            var base = this;\n            base.$elem.off(\".owl owl mousedown.disableTextSelect\");\n            $(document).off(\".owl owl\");\n            $(window).off(\"resize\", base.resizer);\n        },\n\n        unWrap : function () {\n            var base = this;\n            if (base.$elem.children().length !== 0) {\n                base.$owlWrapper.unwrap();\n                base.$userItems.unwrap().unwrap();\n                if (base.owlControls) {\n                    base.owlControls.remove();\n                }\n            }\n            base.clearEvents();\n            base.$elem\n                .attr(\"style\", base.$elem.data(\"owl-originalStyles\") || \"\")\n                .attr(\"class\", base.$elem.data(\"owl-originalClasses\"));\n        },\n\n        destroy : function () {\n            var base = this;\n            base.stop();\n            window.clearInterval(base.checkVisible);\n            base.unWrap();\n            base.$elem.removeData();\n        },\n\n        reinit : function (newOptions) {\n            var base = this,\n                options = $.extend({}, base.userOptions, newOptions);\n            base.unWrap();\n            base.init(options, base.$elem);\n        },\n\n        addItem : function (htmlString, targetPosition) {\n            var base = this,\n                position;\n\n            if (!htmlString) {return false; }\n\n            if (base.$elem.children().length === 0) {\n                base.$elem.append(htmlString);\n                base.setVars();\n                return false;\n            }\n            base.unWrap();\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n            if (position >= base.$userItems.length || position === -1) {\n                base.$userItems.eq(-1).after(htmlString);\n            } else {\n                base.$userItems.eq(position).before(htmlString);\n            }\n\n            base.setVars();\n        },\n\n        removeItem : function (targetPosition) {\n            var base = this,\n                position;\n\n            if (base.$elem.children().length === 0) {\n                return false;\n            }\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n\n            base.unWrap();\n            base.$userItems.eq(position).remove();\n            base.setVars();\n        }\n\n    };\n\n    $.fn.owlCarousel = function (options) {\n        return this.each(function () {\n            if ($(this).data(\"owl-init\") === true) {\n                return false;\n            }\n            $(this).data(\"owl-init\", true);\n            var carousel = Object.create(Carousel);\n            carousel.init(options, this);\n            $.data(this, \"owlCarousel\", carousel);\n        });\n    };\n\n    $.fn.owlCarousel.options = {\n\n        items : 5,\n        itemsCustom : false,\n        itemsDesktop : [1199, 4],\n        itemsDesktopSmall : [979, 3],\n        itemsTablet : [768, 2],\n        itemsTabletSmall : false,\n        itemsMobile : [479, 1],\n        singleItem : false,\n        itemsScaleUp : false,\n\n        slideSpeed : 200,\n        paginationSpeed : 800,\n        rewindSpeed : 1000,\n\n        autoPlay : false,\n        stopOnHover : false,\n\n        navigation : false,\n        navigationText : [\"prev\", \"next\"],\n        rewindNav : true,\n        scrollPerPage : false,\n\n        pagination : true,\n        paginationNumbers : false,\n\n        responsive : true,\n        responsiveRefreshRate : 200,\n        responsiveBaseWidth : window,\n\n        baseClass : \"owl-carousel\",\n        theme : \"owl-theme\",\n\n        lazyLoad : false,\n        lazyFollow : true,\n        lazyEffect : \"fade\",\n\n        autoHeight : false,\n\n        jsonPath : false,\n        jsonSuccess : false,\n\n        dragBeforeAnimFinish : true,\n        mouseDrag : true,\n        touchDrag : true,\n\n        addClassActive : false,\n        transitionStyle : false,\n\n        beforeUpdate : false,\n        afterUpdate : false,\n        beforeInit : false,\n        afterInit : false,\n        beforeMove : false,\n        afterMove : false,\n        afterAction : false,\n        startDragging : false,\n        afterLazyLoad: false\n    };\n}(jQuery, window, document));","TemplateMonster_CountdownTimer/js/countdowntimer.js":"define([\n    \"jquery\",\n    \"jquery.countdown\"\n], function($) {\n    \"use strict\";\n    $.widget('tm.countdowntimer', {\n        _create: function() {\n            this._move();\n            var format = this.options.format;\n            this.element.countdown(this.options.end_date, function(event) {\n                $(this).html(\n                    event.strftime(format)\n                );\n            });\n        },\n        _move:function() {\n            var closestClass = '.product-item-info';\n            switch (this.options.area) {\n                case \"0\":\n                    closestClass = '.product-info-main';\n                    break;\n                case \"1\":\n                    closestClass = '.product-item-info';\n                    break;\n                case \"2\":\n                    closestClass = '.product-item-info';\n                    break;\n            }\n            var selector = this.options.selector;\n            var timerWrapper = this.element.closest('.timer-wrapper');\n            var closesProductWrapper = this.element.closest(closestClass);\n            var matchElement = closesProductWrapper.find(selector);\n            if (matchElement.length != 0) {\n                timerWrapper.detach();\n                timerWrapper.insertAfter(matchElement);\n            }\n        }\n    });\n    return $.tm.countdowntimer;\n});","TemplateMonster_CountdownTimer/js/jquery.countdown.js":"/*!\n * The Final Countdown for jQuery v2.1.0 (http://hilios.github.io/jQuery.countdown/)\n * Copyright (c) 2015 Edson Hilios\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n(function(factory) {\n    \"use strict\";\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], factory);\n    } else {\n        factory(jQuery);\n    }\n})(function($) {\n    \"use strict\";\n    var instances = [], matchers = [], defaultOptions = {\n        precision: 100,\n        elapse: false\n    };\n    matchers.push(/^[0-9]*$/.source);\n    matchers.push(/([0-9]{1,2}\\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers.push(/[0-9]{4}([\\/\\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers = new RegExp(matchers.join(\"|\"));\n    function parseDateString(dateString) {\n        if (dateString instanceof Date) {\n            return dateString;\n        }\n        if (String(dateString).match(matchers)) {\n            if (String(dateString).match(/^[0-9]*$/)) {\n                dateString = Number(dateString);\n            }\n            if (String(dateString).match(/\\-/)) {\n                dateString = String(dateString).replace(/\\-/g, \"/\");\n            }\n            return new Date(dateString);\n        } else {\n            throw new Error(\"Couldn't cast `\" + dateString + \"` to a date object.\");\n        }\n    }\n    var DIRECTIVE_KEY_MAP = {\n        Y: \"years\",\n        J: \"months\",\n        n: \"daysToMonth\",\n        w: \"weeks\",\n        d: \"daysToWeek\",\n        D: \"totalDays\",\n        H: \"hours\",\n        M: \"minutes\",\n        S: \"seconds\",\n        h: \"totalHours\",\n        m: \"totalMinutes\",\n        s: \"totalSeconds\"\n    };\n    function escapedRegExp(str) {\n        var sanitize = str.toString().replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        return new RegExp(sanitize);\n    }\n    function strftime(offsetObject) {\n        return function(format) {\n            var directives = format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);\n            if (directives) {\n                for (var i = 0, len = directives.length; i < len; ++i) {\n                    var directive = directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/), regexp = escapedRegExp(directive[0]), modifier = directive[1] || \"\", plural = directive[3] || \"\", value = null;\n                    directive = directive[2];\n                    if (DIRECTIVE_KEY_MAP.hasOwnProperty(directive)) {\n                        value = DIRECTIVE_KEY_MAP[directive];\n                        value = Number(offsetObject[value]);\n                    }\n                    if (value !== null) {\n                        if (modifier === \"!\") {\n                            value = pluralize(plural, value);\n                        }\n                        if (modifier === \"\") {\n                            if (value < 10) {\n                                value = \"0\" + value.toString();\n                            }\n                        }\n                        format = format.replace(regexp, value.toString());\n                    }\n                }\n            }\n            format = format.replace(/%%/, \"%\");\n            return format;\n        };\n    }\n    function pluralize(format, count) {\n        var plural = \"s\", singular = \"\";\n        if (format) {\n            format = format.replace(/(:|;|\\s)/gi, \"\").split(/\\,/);\n            if (format.length === 1) {\n                plural = format[0];\n            } else {\n                singular = format[0];\n                plural = format[1];\n            }\n        }\n        if (Math.abs(count) === 1) {\n            return singular;\n        } else {\n            return plural;\n        }\n    }\n    var Countdown = function(el, finalDate, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.interval = null;\n        this.offset = {};\n        this.options = $.extend({}, defaultOptions);\n        this.instanceNumber = instances.length;\n        instances.push(this);\n        this.$el.data(\"countdown-instance\", this.instanceNumber);\n        if (options) {\n            if (typeof options === \"function\") {\n                this.$el.on(\"update.countdown\", options);\n                this.$el.on(\"stoped.countdown\", options);\n                this.$el.on(\"finish.countdown\", options);\n            } else {\n                this.options = $.extend({}, defaultOptions, options);\n            }\n        }\n        this.setFinalDate(finalDate);\n        this.start();\n    };\n    $.extend(Countdown.prototype, {\n        start: function() {\n            if (this.interval !== null) {\n                clearInterval(this.interval);\n            }\n            var self = this;\n            this.update();\n            this.interval = setInterval(function() {\n                self.update.call(self);\n            }, this.options.precision);\n        },\n        stop: function() {\n            clearInterval(this.interval);\n            this.interval = null;\n            this.dispatchEvent(\"stoped\");\n        },\n        toggle: function() {\n            if (this.interval) {\n                this.stop();\n            } else {\n                this.start();\n            }\n        },\n        pause: function() {\n            this.stop();\n        },\n        resume: function() {\n            this.start();\n        },\n        remove: function() {\n            this.stop.call(this);\n            instances[this.instanceNumber] = null;\n            delete this.$el.data().countdownInstance;\n        },\n        setFinalDate: function(value) {\n            this.finalDate = parseDateString(value);\n        },\n        update: function() {\n            if (this.$el.closest(\"html\").length === 0) {\n                this.remove();\n                return;\n            }\n            var hasEventsAttached = $._data(this.el, \"events\") !== undefined, now = new Date(), newTotalSecsLeft;\n            newTotalSecsLeft = this.finalDate.getTime() - now.getTime();\n            newTotalSecsLeft = Math.ceil(newTotalSecsLeft / 1e3);\n            newTotalSecsLeft = !this.options.elapse && newTotalSecsLeft < 0 ? 0 : Math.abs(newTotalSecsLeft);\n            if (this.totalSecsLeft === newTotalSecsLeft || !hasEventsAttached) {\n                return;\n            } else {\n                this.totalSecsLeft = newTotalSecsLeft;\n            }\n            this.elapsed = now >= this.finalDate;\n            this.offset = {\n                seconds: this.totalSecsLeft % 60,\n                totalSeconds: this.totalSecsLeft,\n                minutes: Math.floor(this.totalSecsLeft / 60) % 60,\n                totalMinutes: Math.floor(this.totalSecsLeft / 60),\n                hours: Math.floor(this.totalSecsLeft / 60 / 60) % 24,\n                totalHours: Math.floor(this.totalSecsLeft / 60 / 60),\n                days: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToWeek: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToMonth: Math.floor(this.totalSecsLeft / 60 / 60 / 24 % 30.4368),\n                totalDays: Math.floor(this.totalSecsLeft / 60 / 60 / 24),\n                weeks: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7),\n                months: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 30.4368),\n                years: Math.abs(this.finalDate.getFullYear() - now.getFullYear())\n            };\n            if (!this.options.elapse && this.totalSecsLeft === 0) {\n                this.stop();\n                this.dispatchEvent(\"finish\");\n            } else {\n                this.dispatchEvent(\"update\");\n            }\n        },\n        dispatchEvent: function(eventName) {\n            var event = $.Event(eventName + \".countdown\");\n            event.finalDate = this.finalDate;\n            event.elapsed = this.elapsed;\n            event.offset = $.extend({}, this.offset);\n            event.strftime = strftime(this.offset);\n            this.$el.trigger(event);\n        }\n    });\n    $.fn.countdown = function() {\n        var argumentsArray = Array.prototype.slice.call(arguments, 0);\n        return this.each(function() {\n            var instanceNumber = $(this).data(\"countdown-instance\");\n            if (instanceNumber !== undefined) {\n                var instance = instances[instanceNumber], method = argumentsArray[0];\n                if (Countdown.prototype.hasOwnProperty(method)) {\n                    instance[method].apply(instance, argumentsArray.slice(1));\n                } else if (String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i) === null) {\n                    instance.setFinalDate.call(instance, method);\n                    instance.start();\n                } else {\n                    $.error(\"Method %s does not exist on jQuery.countdown\".replace(/\\%s/gi, method));\n                }\n            } else {\n                new Countdown(this, argumentsArray[0], argumentsArray[1]);\n            }\n        });\n    };\n});","TemplateMonster_FeaturedProduct/js/featured-carousel.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'featuredOwlCarousel'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.featuredCarousel', {\n        options: {\n            margin: 0,\n            nav:true,\n            navText: [],\n            dots: false,\n            autoplay: false,\n            responsive : {\n                0 : {\n                    items: 2\n                },\n                450 : {\n                    items: 3\n                },\n                600 : {\n                    items: 3\n                },\n                767 : {\n                    items: 4\n                },\n                979 : {\n                    items: 4\n                },\n                1199 : {\n                    items: 4\n                }\n            },\n            inSidebar: false,\n            touchDrag: false,\n            mouseDrag: false,\n            sidebarOptions: {\n                0 : { items: 1},\n                450 : { items: 1},\n                600 : { items: 1},\n                767 : { items: 1},\n                979 : { items: 1},\n                1199 : { items: 1}\n            },\n            prevCssClass: '',\n            nextCssClass: '',\n            defaultPrevCssClass: 'fa-angle-left',\n            defaultNextCssClass: 'fa-angle-right'\n        },\n\n        _create: function() {\n            var self = this;\n            this.options.navigation = Boolean(this.options.navigation);\n            this.options.pagination = Boolean(this.options.pagination);\n\n            var onInitialized = {\n                onInitialized: function () {\n                    $('.owl-prev', self.element).addClass(this.options.defaultPrevCssClass+' '+this.options.prevCssClass);\n                    $('.owl-next', self.element).addClass(this.options.defaultNextCssClass+' '+this.options.nextCssClass);\n                    $(self.element).parent('.is-carousel').animate({ opacity: 1}, 500);\n                }\n            };\n            if(this.options.inSidebar) {\n                this.options.responsive = $.extend(this.options.responsive, this.options.sidebarOptions)\n            }\n            $(this.element).parent('.is-carousel').css({opacity: 0});\n            this.element.owlCarousel($.extend(this.options, onInitialized));\n        },\n        \n    });\n\n    return $.TemplateMonster.featuredCarousel;\n\n});\n","TemplateMonster_FeaturedProduct/js/featured-product-gallery.js":"define([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('TemplateMonster.featuredProductGallery', {\n\n        options: {},\n\n        _create: function() {\n            $(this.element).closest('a').contents().unwrap();\n            $(this.element).on('fotorama:load', function (e, fotorama) {\n                $('.fotorama__wrap--toggle-arrows', this.element).addClass('fotorama__wrap--no-controls');\n            });\n        },\n\n    });\n\n    return $.TemplateMonster.featuredProductGallery;\n});","TemplateMonster_FeaturedProduct/js/featured-switch-image.js":"define([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('TemplateMonster.featuredSwitchImage', {\n\n        options: {\n            duration: 300,\n        },\n\n        _create: function() {\n            this._replaceImage();\n            this._playVideo();\n        },\n\n        _replaceImage: function() {\n            var self = this.element;\n            var duration = this.options.duration;\n            $(self).hover(\n                function() {\n                    $('.base', this).stop().fadeTo(duration, 0);\n                    $('.replaced', this).stop().fadeIn(duration);\n            },\n                function () {\n                    $('.replaced', this).stop().fadeOut(duration);\n                    $('.base', this).stop().fadeTo(duration, 1);\n                }\n            );\n        },\n\n        _playVideo: function() {\n            if(!$(this.element).hasClass('is-video')) return false;\n\n            console.log('222');\n\n            var self = this.element;\n            var duration = this.options.duration;\n\n            $(self).hover(\n                function() {\n                    $('.base', this).fadeTo(duration, 0);\n                    $('.switch-video', this).fadeIn(duration);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL += \"&autoplay=1\";\n                    $('iframe', self).prop('src',videoURL);\n                },\n                function () {\n                    $('.switch-video', this).fadeOut(duration);\n                    $('.base', this).fadeTo(duration, 1);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL = videoURL.replace(\"&autoplay=1\", \"\");\n                    $('iframe', self).prop('src','');\n                    $('iframe', self).prop('src',videoURL);\n                    $('iframe', self).fadeIn('slow');\n                }\n            );\n\n\n\n\n\n        }\n\n    });\n\n    return $.TemplateMonster.featuredSwitchImage;\n});","TemplateMonster_FeaturedProduct/js/featured-tab.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'matchMedia',\n    'tabs',\n    'featuredOwlCarousel'\n], function($, mediaCheck){\n    \"use strict\";\n\n    $.widget('TemplateMonster.featuredTab', $.mage.tabs, {\n        options: {\n            mobile: {\n                \"openedState\": \"active\",\n                \"collapsible\": true,\n                \"animate\": 200,\n                \"active\": 0,\n            },\n            desktop: {\n                \"openedState\": \"active\",\n                \"collapsible\": false,\n                \"animate\": false,\n                \"active\": 0\n            },\n        },\n        tabsBlock: false,\n\n        _create: function() {\n            var self = this;\n            mediaCheck({\n                media: '(max-width: 767px)',\n                entry: function () {\n                    self._destroyTab();\n                    self._createTab('mobile');\n                },\n                exit: function () {\n                    self._destroyTab();\n                    self._createTab('desktop');\n                }\n            });\n        },\n\n        _createTab: function (device) {\n            var self = this;\n            var isGallery =  $('.gallery-placeholder', self.element);\n\n            if(isGallery.length) {\n                isGallery.last().on('fotorama:ready', function () {\n                    self._initTab(device);\n                });\n            } else {\n                self._initTab(device);\n            }\n\n        },\n\n        _initTab: function (device) {\n            var self = this;\n            this.tabsBlock = this.element.tabs(this.options[device]);\n            var currentCarouselHeight = $('[aria-hidden=\"false\"] .owl-carousel', this.element).height();\n            this.tabsBlock.on('dimensionsChanged', function() {\n                self._loaderInit(currentCarouselHeight);\n            })\n        },\n\n        _destroyTab: function () {\n            if(this.tabsBlock) {\n                this.tabsBlock.tabs(\"destroy\");\n                $('[data-role=\"content\"]', this.element).show();\n            }\n        },\n\n        _loaderInit: function (carouselHeight) {\n            var block = $('[aria-hidden=\"false\"]', this.element);\n            var carousel = $('.owl-carousel', block);\n            carousel.trigger('featuredOwlCarousel').css({'opacity': 0, 'max-height': carouselHeight+'px'});\n            block.addClass('loader');\n            setTimeout(function(){\n                carousel.animate({ 'opacity': 1, 'max-height': '100%'}, 300);\n                block.removeClass('loader');\n            }, 500);\n        }\n        \n    });\n\n    return $.TemplateMonster.featuredTab;\n\n});\n","TemplateMonster_FeaturedProduct/js/owl.carousel2.js":"/**\n * Owl Carousel v2.2.1\n * Copyright 2013-2017 David Deutsch\n * Licensed under  ()\n */\n/**\n * Owl carousel\n * @version 2.1.6\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @public\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t * Current options set by the caller including defaults.\n\t\t * @public\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Plugin element.\n\t\t * @public\n\t\t */\n\t\tthis.$element = $(element);\n\n\t\t/**\n\t\t * Proxied event handlers.\n\t\t * @protected\n\t\t */\n\t\tthis._handlers = {};\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * Absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * Animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * Coordinates of all items in pixel.\n\t\t * @todo The name of this member is missleading.\n\t\t * @protected\n\t\t */\n\t\tthis._coordinates = [];\n\n\t\t/**\n\t\t * Current breakpoint.\n\t\t * @todo Real media queries would be nice.\n\t\t * @protected\n\t\t */\n\t\tthis._breakpoint = null;\n\n\t\t/**\n\t\t * Current width of the plugin element.\n\t\t */\n\t\tthis._width = null;\n\n\t\t/**\n\t\t * All real items.\n\t\t * @protected\n\t\t */\n\t\tthis._items = [];\n\n\t\t/**\n\t\t * All cloned items.\n\t\t * @protected\n\t\t */\n\t\tthis._clones = [];\n\n\t\t/**\n\t\t * Merge values of all items.\n\t\t * @todo Maybe this could be part of a plugin.\n\t\t * @protected\n\t\t */\n\t\tthis._mergers = [];\n\n\t\t/**\n\t\t * Widths of all items.\n\t\t */\n\t\tthis._widths = [];\n\n\t\t/**\n\t\t * Invalidated parts within the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._invalidated = {};\n\n\t\t/**\n\t\t * Ordered list of workers for the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._pipe = [];\n\n\t\t/**\n\t\t * Current state information for the drag operation.\n\t\t * @todo #261\n\t\t * @protected\n\t\t */\n\t\tthis._drag = {\n\t\t\ttime: null,\n\t\t\ttarget: null,\n\t\t\tpointer: null,\n\t\t\tstage: {\n\t\t\t\tstart: null,\n\t\t\t\tcurrent: null\n\t\t\t},\n\t\t\tdirection: null\n\t\t};\n\n\t\t/**\n\t\t * Current state information and their tags.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._states = {\n\t\t\tcurrent: {},\n\t\t\ttags: {\n\t\t\t\t'initializing': [ 'busy' ],\n\t\t\t\t'animating': [ 'busy' ],\n\t\t\t\t'dragging': [ 'interacting' ]\n\t\t\t}\n\t\t};\n\n\t\t$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {\n\t\t\tthis._handlers[handler] = $.proxy(this[handler], this);\n\t\t}, this));\n\n\t\t$.each(Owl.Plugins, $.proxy(function(key, plugin) {\n\t\t\tthis._plugins[key.charAt(0).toLowerCase() + key.slice(1)]\n\t\t\t\t= new plugin(this);\n\t\t}, this));\n\n\t\t$.each(Owl.Workers, $.proxy(function(priority, worker) {\n\t\t\tthis._pipe.push({\n\t\t\t\t'filter': worker.filter,\n\t\t\t\t'run': $.proxy(worker.run, this)\n\t\t\t});\n\t\t}, this));\n\n\t\tthis.setup();\n\t\tthis.initialize();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\t\trewind: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\t\trtl: false,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\trefreshClass: 'owl-refresh',\n\t\tloadedClass: 'owl-loaded',\n\t\tloadingClass: 'owl-loading',\n\t\trtlClass: 'owl-rtl',\n\t\tresponsiveClass: 'owl-responsive',\n\t\tdragClass: 'owl-drag',\n\t\titemClass: 'owl-item',\n\t\tstageClass: 'owl-stage',\n\t\tstageOuterClass: 'owl-stage-outer',\n\t\tgrabClass: 'owl-grab'\n\t};\n\n\t/**\n\t * Enumeration for width.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Width = {\n\t\tDefault: 'default',\n\t\tInner: 'inner',\n\t\tOuter: 'outer'\n\t};\n\n\t/**\n\t * Enumeration for types.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Type = {\n\t\tEvent: 'event',\n\t\tState: 'state'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * List of workers involved in the update process.\n\t */\n\tOwl.Workers = [ {\n\t\tfilter: [ 'width', 'settings' ],\n\t\trun: function() {\n\t\t\tthis._width = this.$element.width();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = this._items && this._items[this.relative(this._current)];\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tthis.$stage.children('.cloned').remove();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar margin = this.settings.margin || '',\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\trtl = this.settings.rtl,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'margin-left': rtl ? margin : '',\n\t\t\t\t\t'margin-right': rtl ? '' : margin\n\t\t\t\t};\n\n\t\t\t!grid && this.$stage.children().css(css);\n\n\t\t\tcache.css = css;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,\n\t\t\t\tmerge = null,\n\t\t\t\titerator = this._items.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\twidths = [];\n\n\t\t\tcache.items = {\n\t\t\t\tmerge: false,\n\t\t\t\twidth: width\n\t\t\t};\n\n\t\t\twhile (iterator--) {\n\t\t\t\tmerge = this._mergers[iterator];\n\t\t\t\tmerge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;\n\n\t\t\t\tcache.items.merge = merge > 1 || cache.items.merge;\n\n\t\t\t\twidths[iterator] = !grid ? this._items[iterator].width() : width * merge;\n\t\t\t}\n\n\t\t\tthis._widths = widths;\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar clones = [],\n\t\t\t\titems = this._items,\n\t\t\t\tsettings = this.settings,\n\t\t\t\t// TODO: Should be computed from number of min width items in stage\n\t\t\t\tview = Math.max(settings.items * 2, 4),\n\t\t\t\tsize = Math.ceil(items.length / 2) * 2,\n\t\t\t\trepeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,\n\t\t\t\tappend = '',\n\t\t\t\tprepend = '';\n\n\t\t\trepeat /= 2;\n\n\t\t\twhile (repeat--) {\n\t\t\t\t// Switch to only using appended clones\n\t\t\t\tclones.push(this.normalize(clones.length / 2, true));\n\t\t\t\tappend = append + items[clones[clones.length - 1]][0].outerHTML;\n\t\t\t\tclones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));\n\t\t\t\tprepend = items[clones[clones.length - 1]][0].outerHTML + prepend;\n\t\t\t}\n\n\t\t\tthis._clones = clones;\n\n\t\t\t$(append).addClass('cloned').appendTo(this.$stage);\n\t\t\t$(prepend).addClass('cloned').prependTo(this.$stage);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tsize = this._clones.length + this._items.length,\n\t\t\t\titerator = -1,\n\t\t\t\tprevious = 0,\n\t\t\t\tcurrent = 0,\n\t\t\t\tcoordinates = [];\n\n\t\t\twhile (++iterator < size) {\n\t\t\t\tprevious = coordinates[iterator - 1] || 0;\n\t\t\t\tcurrent = this._widths[this.relative(iterator)] + this.settings.margin;\n\t\t\t\tcoordinates.push(previous + current * rtl);\n\t\t\t}\n\n\t\t\tthis._coordinates = coordinates;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar padding = this.settings.stagePadding,\n\t\t\t\tcoordinates = this._coordinates,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,\n\t\t\t\t\t'padding-left': padding || '',\n\t\t\t\t\t'padding-right': padding || ''\n\t\t\t\t};\n\n\t\t\tthis.$stage.css(css);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar iterator = this._coordinates.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\titems = this.$stage.children();\n\n\t\t\tif (grid && cache.items.merge) {\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\tcache.css.width = this._widths[this.relative(iterator)];\n\t\t\t\t\titems.eq(iterator).css(cache.css);\n\t\t\t\t}\n\t\t\t} else if (grid) {\n\t\t\t\tcache.css.width = cache.items.width;\n\t\t\t\titems.css(cache.css);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tfilter: [ 'items' ],\n\t\trun: function() {\n\t\t\tthis._coordinates.length < 1 && this.$stage.removeAttr('style');\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = cache.current ? this.$stage.children().index(cache.current) : 0;\n\t\t\tcache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));\n\t\t\tthis.reset(cache.current);\n\t\t}\n\t}, {\n\t\tfilter: [ 'position' ],\n\t\trun: function() {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'position', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tpadding = this.settings.stagePadding * 2,\n\t\t\t\tbegin = this.coordinates(this.current()) + padding,\n\t\t\t\tend = begin + this.width() * rtl,\n\t\t\t\tinner, outer, matches = [], i, n;\n\n\t\t\tfor (i = 0, n = this._coordinates.length; i < n; i++) {\n\t\t\t\tinner = this._coordinates[i - 1] || 0;\n\t\t\t\touter = Math.abs(this._coordinates[i]) + padding * rtl;\n\n\t\t\t\tif ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))\n\t\t\t\t\t|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {\n\t\t\t\t\tmatches.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$stage.children('.active').removeClass('active');\n\t\t\tthis.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');\n\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis.$stage.children('.center').removeClass('center');\n\t\t\t\tthis.$stage.children().eq(this.current()).addClass('center');\n\t\t\t}\n\t\t}\n\t} ];\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.initialize = function() {\n\t\tthis.enter('initializing');\n\t\tthis.trigger('initialize');\n\n\t\tthis.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);\n\n\t\tif (this.settings.autoWidth && !this.is('pre-loading')) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.$element.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.$element.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t}\n\t\t}\n\n\t\tthis.$element.addClass(this.options.loadingClass);\n\n\t\t// create stage\n\t\tthis.$stage = $('<' + this.settings.stageElement + ' class=\"' + this.settings.stageClass + '\"/>')\n\t\t\t.wrap('<div class=\"' + this.settings.stageOuterClass + '\"/>');\n\n\t\t// append stage\n\t\tthis.$element.append(this.$stage.parent());\n\n\t\t// append content\n\t\tthis.replace(this.$element.children().not(this.$stage.parent()));\n\n\t\t// check visibility\n\t\tif (this.$element.is(':visible')) {\n\t\t\t// update view\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\t// invalidate width\n\t\t\tthis.invalidate('width');\n\t\t}\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.addClass(this.options.loadedClass);\n\n\t\t// register event handlers\n\t\tthis.registerEventHandlers();\n\n\t\tthis.leave('initializing');\n\t\tthis.trigger('initialized');\n\t};\n\n\t/**\n\t * Setups the current settings.\n\t * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?\n\t * @todo Support for media queries by using `matchMedia` would be nice.\n\t * @public\n\t */\n\tOwl.prototype.setup = function() {\n\t\tvar viewport = this.viewport(),\n\t\t\toverwrites = this.options.responsive,\n\t\t\tmatch = -1,\n\t\t\tsettings = null;\n\n\t\tif (!overwrites) {\n\t\t\tsettings = $.extend({}, this.options);\n\t\t} else {\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings = $.extend({}, this.options, overwrites[match]);\n\t\t\tif (typeof settings.stagePadding === 'function') {\n\t\t\t\tsettings.stagePadding = settings.stagePadding();\n\t\t\t}\n\t\t\tdelete settings.responsive;\n\n\t\t\t// responsive class\n\t\t\tif (settings.responsiveClass) {\n\t\t\t\tthis.$element.attr('class',\n\t\t\t\t\tthis.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\\\S+\\\\s', 'g'), '$1' + match)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.trigger('change', { property: { name: 'settings', value: settings } });\n\t\tthis._breakpoint = match;\n\t\tthis.settings = settings;\n\t\tthis.invalidate('settings');\n\t\tthis.trigger('changed', { property: { name: 'settings', value: this.settings } });\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Prepares an item before add.\n\t * @todo Rename event parameter `content` to `item`.\n\t * @protected\n\t * @returns {jQuery|HTMLElement} - The item container.\n\t */\n\tOwl.prototype.prepare = function(item) {\n\t\tvar event = this.trigger('prepare', { content: item });\n\n\t\tif (!event.data) {\n\t\t\tevent.data = $('<' + this.settings.itemElement + '/>')\n\t\t\t\t.addClass(this.options.itemClass).append(item)\n\t\t}\n\n\t\tthis.trigger('prepared', { content: event.data });\n\n\t\treturn event.data;\n\t};\n\n\t/**\n\t * Updates the view.\n\t * @public\n\t */\n\tOwl.prototype.update = function() {\n\t\tvar i = 0,\n\t\t\tn = this._pipe.length,\n\t\t\tfilter = $.proxy(function(p) { return this[p] }, this._invalidated),\n\t\t\tcache = {};\n\n\t\twhile (i < n) {\n\t\t\tif (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {\n\t\t\t\tthis._pipe[i].run(cache);\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tthis._invalidated = {};\n\n\t\t!this.is('valid') && this.enter('valid');\n\t};\n\n\t/**\n\t * Gets the width of the view.\n\t * @public\n\t * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.\n\t * @returns {Number} - The width of the view in pixel.\n\t */\n\tOwl.prototype.width = function(dimension) {\n\t\tdimension = dimension || Owl.Width.Default;\n\t\tswitch (dimension) {\n\t\t\tcase Owl.Width.Inner:\n\t\t\tcase Owl.Width.Outer:\n\t\t\t\treturn this._width;\n\t\t\tdefault:\n\t\t\t\treturn this._width - this.settings.stagePadding * 2 + this.settings.margin;\n\t\t}\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tthis.enter('refreshing');\n\t\tthis.trigger('refresh');\n\n\t\tthis.setup();\n\n\t\tthis.optionsLogic();\n\n\t\tthis.$element.addClass(this.options.refreshClass);\n\n\t\tthis.update();\n\n\t\tthis.$element.removeClass(this.options.refreshClass);\n\n\t\tthis.leave('refreshing');\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onThrottledResize = function() {\n\t\twindow.clearTimeout(this.resizeTimer);\n\t\tthis.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onResize = function() {\n\t\tif (!this._items.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._width === this.$element.width()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.$element.is(':visible')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.enter('resizing');\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\tthis.leave('resizing');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.invalidate('width');\n\n\t\tthis.refresh();\n\n\t\tthis.leave('resizing');\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Registers event handlers.\n\t * @todo Check `msPointerEnabled`\n\t * @todo #261\n\t * @protected\n\t */\n\tOwl.prototype.registerEventHandlers = function() {\n\t\tif ($.support.transition) {\n\t\t\tthis.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tif (this.settings.mouseDrag) {\n\t\t\tthis.$element.addClass(this.options.dragClass);\n\t\t\tthis.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });\n\t\t}\n\n\t\tif (this.settings.touchDrag){\n\t\t\tthis.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));\n\t\t}\n\t};\n\n\t/**\n\t * Handles `touchstart` and `mousedown` events.\n\t * @todo Horizontal swipe threshold as option\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar stage = null;\n\n\t\tif (event.which === 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($.support.transform) {\n\t\t\tstage = this.$stage.css('transform').replace(/.*\\(|\\)| /g, '').split(',');\n\t\t\tstage = {\n\t\t\t\tx: stage[stage.length === 16 ? 12 : 4],\n\t\t\t\ty: stage[stage.length === 16 ? 13 : 5]\n\t\t\t};\n\t\t} else {\n\t\t\tstage = this.$stage.position();\n\t\t\tstage = {\n\t\t\t\tx: this.settings.rtl ?\n\t\t\t\t\tstage.left + this.$stage.width() - this.width() + this.settings.margin :\n\t\t\t\t\tstage.left,\n\t\t\t\ty: stage.top\n\t\t\t};\n\t\t}\n\n\t\tif (this.is('animating')) {\n\t\t\t$.support.transform ? this.animate(stage.x) : this.$stage.stop()\n\t\t\tthis.invalidate('position');\n\t\t}\n\n\t\tthis.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');\n\n\t\tthis.speed(0);\n\n\t\tthis._drag.time = new Date().getTime();\n\t\tthis._drag.target = $(event.target);\n\t\tthis._drag.stage.start = stage;\n\t\tthis._drag.stage.current = stage;\n\t\tthis._drag.pointer = this.pointer(event);\n\n\t\t$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));\n\n\t\t$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {\n\t\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event));\n\n\t\t\t$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));\n\n\t\t\tif (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.enter('dragging');\n\t\t\tthis.trigger('drag');\n\t\t}, this));\n\t};\n\n\t/**\n\t * Handles the `touchmove` and `mousemove` events.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar minimum = null,\n\t\t\tmaximum = null,\n\t\t\tpull = null,\n\t\t\tdelta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this.difference(this._drag.stage.start, delta);\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (this.settings.loop) {\n\t\t\tminimum = this.coordinates(this.minimum());\n\t\t\tmaximum = this.coordinates(this.maximum() + 1) - minimum;\n\t\t\tstage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;\n\t\t} else {\n\t\t\tminimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;\n\t\t\tstage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);\n\t\t}\n\n\t\tthis._drag.stage.current = stage;\n\n\t\tthis.animate(stage.x);\n\t};\n\n\t/**\n\t * Handles the `touchend` and `mouseup` events.\n\t * @todo #261\n\t * @todo Threshold for click event\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragEnd = function(event) {\n\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this._drag.stage.current,\n\t\t\tdirection = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';\n\n\t\t$(document).off('.owl.core');\n\n\t\tthis.$element.removeClass(this.options.grabClass);\n\n\t\tif (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {\n\t\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\t\tthis.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));\n\t\t\tthis.invalidate('position');\n\t\t\tthis.update();\n\n\t\t\tthis._drag.direction = direction;\n\n\t\t\tif (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {\n\t\t\t\tthis._drag.target.one('click.owl.core', function() { return false; });\n\t\t\t}\n\t\t}\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.leave('dragging');\n\t\tthis.trigger('dragged');\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @todo Setting `freeDrag` makes `closest` not reusable. See #165.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate, direction) {\n\t\tvar position = -1,\n\t\t\tpull = 30,\n\t\t\twidth = this.width(),\n\t\t\tcoordinates = this.coordinates();\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(coordinates, $.proxy(function(index, value) {\n\t\t\t\t// on a left pull, check on current index\n\t\t\t\tif (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t// on a right pull, check on previous index\n\t\t\t\t// to do so, subtract width from value and set position = index + 1\n\t\t\t\t} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', coordinates[index + 1] || value - width)) {\n\t\t\t\t\tposition = direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t\treturn position === -1;\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', coordinates[this.minimum()])) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @todo #270\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tvar animate = this.speed() > 0;\n\n\t\tthis.is('animating') && this.onTransitionEnd();\n\n\t\tif (animate) {\n\t\t\tthis.enter('animating');\n\t\t\tthis.trigger('translate');\n\t\t}\n\n\t\tif ($.support.transform3d && $.support.transition) {\n\t\t\tthis.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px,0px,0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (animate) {\n\t\t\tthis.$stage.animate({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));\n\t\t} else {\n\t\t\tthis.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Checks whether the carousel is in a specific state or not.\n\t * @param {String} state - The state to check.\n\t * @returns {Boolean} - The flag which indicates if the carousel is busy.\n\t */\n\tOwl.prototype.is = function(state) {\n\t\treturn this._states.current[state] && this._states.current[state] > 0;\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this._items.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current !== position) {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.invalidate('position');\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Invalidates the given part of the update routine.\n\t * @param {String} [part] - The part to invalidate.\n\t * @returns {Array.<String>} - The invalidated parts.\n\t */\n\tOwl.prototype.invalidate = function(part) {\n\t\tif ($.type(part) === 'string') {\n\t\t\tthis._invalidated[part] = true;\n\t\t\tthis.is('valid') && this.leave('valid');\n\t\t}\n\t\treturn $.map(this._invalidated, function(v, i) { return i });\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tposition = this.normalize(position);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._speed = 0;\n\t\tthis._current = position;\n\n\t\tthis.suppress([ 'translate', 'translated' ]);\n\n\t\tthis.animate(this.coordinates(position));\n\n\t\tthis.release([ 'translate', 'translated' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute or a relative position of an item.\n\t * @public\n\t * @param {Number} position - The absolute or relative position to normalize.\n\t * @param {Boolean} [relative=false] - Whether the given position is relative or not.\n\t * @returns {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tvar n = this._items.length,\n\t\t\tm = relative ? 0 : this._clones.length;\n\n\t\tif (!this.isNumeric(position) || n < 1) {\n\t\t\tposition = undefined;\n\t\t} else if (position < 0 || position >= n + m) {\n\t\t\tposition = ((position - m / 2) % n + n) % n + m / 2;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Converts an absolute position of an item into a relative one.\n\t * @public\n\t * @param {Number} position - The absolute position to convert.\n\t * @returns {Number} - The converted position.\n\t */\n\tOwl.prototype.relative = function(position) {\n\t\tposition -= this._clones.length / 2;\n\t\treturn this.normalize(position, true);\n\t};\n\n\t/**\n\t * Gets the maximum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function(relative) {\n\t\tvar settings = this.settings,\n\t\t\tmaximum = this._coordinates.length,\n\t\t\titerator,\n\t\t\treciprocalItemsWidth,\n\t\t\telementWidth;\n\n\t\tif (settings.loop) {\n\t\t\tmaximum = this._clones.length / 2 + this._items.length - 1;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\titerator = this._items.length;\n\t\t\treciprocalItemsWidth = this._items[--iterator].width();\n\t\t\telementWidth = this.$element.width();\n\t\t\twhile (iterator--) {\n\t\t\t\treciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;\n\t\t\t\tif (reciprocalItemsWidth > elementWidth) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaximum = iterator + 1;\n\t\t} else if (settings.center) {\n\t\t\tmaximum = this._items.length - 1;\n\t\t} else {\n\t\t\tmaximum = this._items.length - settings.items;\n\t\t}\n\n\t\tif (relative) {\n\t\t\tmaximum -= this._clones.length / 2;\n\t\t}\n\n\t\treturn Math.max(maximum, 0);\n\t};\n\n\t/**\n\t * Gets the minimum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function(relative) {\n\t\treturn relative ? 0 : this._clones.length / 2;\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.items = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._items.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._items[position];\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.mergers = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._mergers.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._mergers[position];\n\t};\n\n\t/**\n\t * Gets the absolute positions of clones for an item.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.\n\t */\n\tOwl.prototype.clones = function(position) {\n\t\tvar odd = this._clones.length / 2,\n\t\t\teven = odd + this._items.length,\n\t\t\tmap = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._clones, function(v, i) { return map(i) });\n\t\t}\n\n\t\treturn $.map(this._clones, function(v, i) { return v === position ? map(i) : null });\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate of an item.\n\t * @todo The name of this method is missleanding.\n\t * @public\n\t * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\tvar multiplier = 1,\n\t\t\tnewPosition = position - 1,\n\t\t\tcoordinate;\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._coordinates, $.proxy(function(coordinate, index) {\n\t\t\t\treturn this.coordinates(index);\n\t\t\t}, this));\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tmultiplier = -1;\n\t\t\t\tnewPosition = position + 1;\n\t\t\t}\n\n\t\t\tcoordinate = this._coordinates[position];\n\t\t\tcoordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;\n\t\t} else {\n\t\t\tcoordinate = this._coordinates[newPosition] || 0;\n\t\t}\n\n\t\tcoordinate = Math.ceil(coordinate);\n\n\t\treturn coordinate;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\tif (factor === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tvar current = this.current(),\n\t\t\trevert = null,\n\t\t\tdistance = position - this.relative(current),\n\t\t\tdirection = (distance > 0) - (distance < 0),\n\t\t\titems = this._items.length,\n\t\t\tminimum = this.minimum(),\n\t\t\tmaximum = this.maximum();\n\n\t\tif (this.settings.loop) {\n\t\t\tif (!this.settings.rewind && Math.abs(distance) > items / 2) {\n\t\t\t\tdistance += direction * -1 * items;\n\t\t\t}\n\n\t\t\tposition = current + distance;\n\t\t\trevert = ((position - minimum) % items + items) % items + minimum;\n\n\t\t\tif (revert !== position && revert - distance <= maximum && revert - distance > 0) {\n\t\t\t\tcurrent = revert - distance;\n\t\t\t\tposition = revert;\n\t\t\t\tthis.reset(current);\n\t\t\t}\n\t\t} else if (this.settings.rewind) {\n\t\t\tmaximum += 1;\n\t\t\tposition = (position % maximum + maximum) % maximum;\n\t\t} else {\n\t\t\tposition = Math.max(minimum, Math.min(maximum, position));\n\t\t}\n\n\t\tthis.speed(this.duration(current, position, speed));\n\t\tthis.current(position);\n\n\t\tif (this.$element.is(':visible')) {\n\t\t\tthis.update();\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onTransitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tif ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.leave('animating');\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tconsole.warn('Can not detect viewport width.');\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.replace = function(content) {\n\t\tthis.$stage.empty();\n\t\tthis._items = [];\n\n\t\tif (content) {\n\t\t\tcontent = (content instanceof jQuery) ? content : $(content);\n\t\t}\n\n\t\tif (this.settings.nestedItemSelector) {\n\t\t\tcontent = content.find('.' + this.settings.nestedItemSelector);\n\t\t}\n\n\t\tcontent.filter(function() {\n\t\t\treturn this.nodeType === 1;\n\t\t}).each($.proxy(function(index, item) {\n\t\t\titem = this.prepare(item);\n\t\t\tthis.$stage.append(item);\n\t\t\tthis._items.push(item);\n\t\t\tthis._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}, this));\n\n\t\tthis.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);\n\n\t\tthis.invalidate('items');\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.\n\t */\n\tOwl.prototype.add = function(content, position) {\n\t\tvar current = this.relative(this._current);\n\n\t\tposition = position === undefined ? this._items.length : this.normalize(position, true);\n\t\tcontent = content instanceof jQuery ? content : $(content);\n\n\t\tthis.trigger('add', { content: content, position: position });\n\n\t\tcontent = this.prepare(content);\n\n\t\tif (this._items.length === 0 || position === this._items.length) {\n\t\t\tthis._items.length === 0 && this.$stage.append(content);\n\t\t\tthis._items.length !== 0 && this._items[position - 1].after(content);\n\t\t\tthis._items.push(content);\n\t\t\tthis._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t} else {\n\t\t\tthis._items[position].before(content);\n\t\t\tthis._items.splice(position, 0, content);\n\t\t\tthis._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}\n\n\t\tthis._items[current] && this.reset(this._items[current].index());\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('added', { content: content, position: position });\n\t};\n\n\t/**\n\t * Removes an item by its position.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {Number} position - The relative position of the item to remove.\n\t */\n\tOwl.prototype.remove = function(position) {\n\t\tposition = this.normalize(position, true);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.trigger('remove', { content: this._items[position], position: position });\n\n\t\tthis._items[position].remove();\n\t\tthis._items.splice(position, 1);\n\t\tthis._mergers.splice(position, 1);\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('removed', { content: null, position: position });\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @todo Replace by a more generic approach\n\t * @protected\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(images) {\n\t\timages.each($.proxy(function(i, element) {\n\t\t\tthis.enter('pre-loading');\n\t\t\telement = $(element);\n\t\t\t$(new Image()).one('load', $.proxy(function(e) {\n\t\t\t\telement.attr('src', e.target.src);\n\t\t\t\telement.css('opacity', 1);\n\t\t\t\tthis.leave('pre-loading');\n\t\t\t\t!this.is('pre-loading') && !this.is('initializing') && this.refresh();\n\t\t\t}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tthis.$element.off('.owl.core');\n\t\tthis.$stage.off('.owl.core');\n\t\t$(document).off('.owl.core');\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\twindow.clearTimeout(this.resizeTimer);\n\t\t\tthis.off(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tfor (var i in this._plugins) {\n\t\t\tthis._plugins[i].destroy();\n\t\t}\n\n\t\tthis.$stage.children('.cloned').remove();\n\n\t\tthis.$stage.unwrap();\n\t\tthis.$stage.children().contents().unwrap();\n\t\tthis.$stage.children().unwrap();\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.refreshClass)\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.removeClass(this.options.loadedClass)\n\t\t\t.removeClass(this.options.rtlClass)\n\t\t\t.removeClass(this.options.dragClass)\n\t\t\t.removeClass(this.options.grabClass)\n\t\t\t.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\\\S+\\\\s', 'g'), ''))\n\t\t\t.removeData('owl.carousel');\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\t\tcase '<':\n\t\t\t\treturn rtl ? a > b : a < b;\n\t\t\tcase '>':\n\t\t\t\treturn rtl ? a < b : a > b;\n\t\t\tcase '>=':\n\t\t\t\treturn rtl ? a <= b : a >= b;\n\t\t\tcase '<=':\n\t\t\t\treturn rtl ? a >= b : a <= b;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers a public event.\n\t * @todo Remove `status`, `relatedTarget` should be used instead.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=carousel] - The event namespace.\n\t * @param {String} [state] - The state which is associated with the event.\n\t * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace, state, enter) {\n\t\tvar status = {\n\t\t\titem: { count: this._items.length, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[name]) {\n\t\t\t$.each(this._plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.register({ type: Owl.Type.Event, name: name });\n\t\t\tthis.$element.trigger(event);\n\n\t\t\tif (this.settings && typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].call(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Enters a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.enter = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tif (this._states.current[name] === undefined) {\n\t\t\t\tthis._states.current[name] = 0;\n\t\t\t}\n\n\t\t\tthis._states.current[name]++;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Leaves a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.leave = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tthis._states.current[name]--;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Registers an event or state.\n\t * @public\n\t * @param {Object} object - The event or state to register.\n\t */\n\tOwl.prototype.register = function(object) {\n\t\tif (object.type === Owl.Type.Event) {\n\t\t\tif (!$.event.special[object.name]) {\n\t\t\t\t$.event.special[object.name] = {};\n\t\t\t}\n\n\t\t\tif (!$.event.special[object.name].owl) {\n\t\t\t\tvar _default = $.event.special[object.name]._default;\n\t\t\t\t$.event.special[object.name]._default = function(e) {\n\t\t\t\t\tif (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {\n\t\t\t\t\t\treturn _default.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn e.namespace && e.namespace.indexOf('owl') > -1;\n\t\t\t\t};\n\t\t\t\t$.event.special[object.name].owl = true;\n\t\t\t}\n\t\t} else if (object.type === Owl.Type.State) {\n\t\t\tif (!this._states.tags[object.name]) {\n\t\t\t\tthis._states.tags[object.name] = object.tags;\n\t\t\t} else {\n\t\t\t\tthis._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);\n\t\t\t}\n\n\t\t\tthis._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {\n\t\t\t\treturn $.inArray(tag, this._states.tags[object.name]) === i;\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t};\n\n\t/**\n\t * Gets unified pointer coordinates from event.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} - The `mousedown` or `touchstart` event.\n\t * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.\n\t */\n\tOwl.prototype.pointer = function(event) {\n\t\tvar result = { x: null, y: null };\n\n\t\tevent = event.originalEvent || event || window.event;\n\n\t\tevent = event.touches && event.touches.length ?\n\t\t\tevent.touches[0] : event.changedTouches && event.changedTouches.length ?\n\t\t\t\tevent.changedTouches[0] : event;\n\n\t\tif (event.pageX) {\n\t\t\tresult.x = event.pageX;\n\t\t\tresult.y = event.pageY;\n\t\t} else {\n\t\t\tresult.x = event.clientX;\n\t\t\tresult.y = event.clientY;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Determines if the input is a Number or something that can be coerced to a Number\n\t * @protected\n\t * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested\n\t * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number\n\t */\n\tOwl.prototype.isNumeric = function(number) {\n\t\treturn !isNaN(parseFloat(number));\n\t};\n\n\t/**\n\t * Gets the difference of two vectors.\n\t * @todo #261\n\t * @protected\n\t * @param {Object} - The first vector.\n\t * @param {Object} - The second vector.\n\t * @returns {Object} - The difference.\n\t */\n\tOwl.prototype.difference = function(first, second) {\n\t\treturn {\n\t\t\tx: first.x - second.x,\n\t\t\ty: first.y - second.y\n\t\t};\n\t};\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @todo Navigation plugin `next` and `prev`\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('owl.carousel');\n\n\t\t\tif (!data) {\n\t\t\t\tdata = new Owl(this, typeof option == 'object' && option);\n\t\t\t\t$this.data('owl.carousel', data);\n\n\t\t\t\t$.each([\n\t\t\t\t\t'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'\n\t\t\t\t], function(i, event) {\n\t\t\t\t\tdata.register({ type: Owl.Type.Event, name: event });\n\t\t\t\t\tdata.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {\n\t\t\t\t\t\tif (e.namespace && e.relatedTarget !== this) {\n\t\t\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\t\t\tdata[event].apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, data));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof option == 'string' && option.charAt(0) !== '_') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoRefresh Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto refresh plugin.\n\t * @class The Auto Refresh Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoRefresh = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Refresh interval.\n\t\t * @protected\n\t\t * @type {number}\n\t\t */\n\t\tthis._interval = null;\n\n\t\t/**\n\t\t * Whether the element is currently visible or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._visible = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoRefresh) {\n\t\t\t\t\tthis.watch();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoRefresh.Defaults = {\n\t\tautoRefresh: true,\n\t\tautoRefreshInterval: 500\n\t};\n\n\t/**\n\t * Watches the element.\n\t */\n\tAutoRefresh.prototype.watch = function() {\n\t\tif (this._interval) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = this._core.$element.is(':visible');\n\t\tthis._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);\n\t};\n\n\t/**\n\t * Refreshes the element.\n\t */\n\tAutoRefresh.prototype.refresh = function() {\n\t\tif (this._core.$element.is(':visible') === this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = !this._visible;\n\n\t\tthis._core.$element.toggleClass('owl-hidden', !this._visible);\n\n\t\tthis._visible && (this._core.invalidate('width') && this._core.refresh());\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoRefresh.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this._interval);\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Lazy Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy plugin.\n\t * @class The Lazy Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Lazy = function(carousel) {\n\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Already loaded items.\n\t\t * @protected\n\t\t * @type {Array.<jQuery>}\n\t\t */\n\t\tthis._loaded = [];\n\n\t\t/**\n\t\t * Event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._core.settings || !this._core.settings.lazyLoad) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ((e.property && e.property.name == 'position') || e.type == 'initialized') {\n\t\t\t\t\tvar settings = this._core.settings,\n\t\t\t\t\t\tn = (settings.center && Math.ceil(settings.items / 2) || settings.items),\n\t\t\t\t\t\ti = ((settings.center && n * -1) || 0),\n\t\t\t\t\t\tposition = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,\n\t\t\t\t\t\tclones = this._core.clones().length,\n\t\t\t\t\t\tload = $.proxy(function(i, v) { this.load(v) }, this);\n\n\t\t\t\t\twhile (i++ < n) {\n\t\t\t\t\t\tthis.load(clones / 2 + this._core.relative(position));\n\t\t\t\t\t\tclones && $.each(this._core.clones(this._core.relative(position)), load);\n\t\t\t\t\t\tposition++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set the default options\n\t\tthis._core.options = $.extend({}, Lazy.Defaults, this._core.options);\n\n\t\t// register event handler\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazy.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Loads all resources of an item at the specified position.\n\t * @param {Number} position - The absolute position of the item.\n\t * @protected\n\t */\n\tLazy.prototype.load = function(position) {\n\t\tvar $item = this._core.$stage.children().eq(position),\n\t\t\t$elements = $item && $item.find('.owl-lazy');\n\n\t\tif (!$elements || $.inArray($item.get(0), this._loaded) > -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t$elements.each($.proxy(function(index, element) {\n\t\t\tvar $element = $(element), image,\n\t\t\t\turl = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src');\n\n\t\t\tthis._core.trigger('load', { element: $element, url: url }, 'lazy');\n\n\t\t\tif ($element.is('img')) {\n\t\t\t\t$element.one('load.owl.lazy', $.proxy(function() {\n\t\t\t\t\t$element.css('opacity', 1);\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this)).attr('src', url);\n\t\t\t} else {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = $.proxy(function() {\n\t\t\t\t\t$element.css({\n\t\t\t\t\t\t'background-image': 'url(\"' + url + '\")',\n\t\t\t\t\t\t'opacity': '1'\n\t\t\t\t\t});\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this);\n\t\t\t\timage.src = url;\n\t\t\t}\n\t\t}, this));\n\n\t\tthis._loaded.push($item.get(0));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazy.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis._core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoHeight = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight && e.property.name == 'position'){\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'loaded.owl.lazy': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight\n\t\t\t\t\t&& e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoHeight.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t * Updates the view.\n\t */\n\tAutoHeight.prototype.update = function() {\n\t\tvar start = this._core._current,\n\t\t\tend = start + this._core.settings.items,\n\t\t\tvisible = this._core.$stage.children().toArray().slice(start, end),\n\t\t\theights = [],\n\t\t\tmaxheight = 0;\n\n\t\t$.each(visible, function(index, item) {\n\t\t\theights.push($(item).height());\n\t\t});\n\n\t\tmaxheight = Math.max.apply(null, heights);\n\n\t\tthis._core.$stage.parent()\n\t\t\t.height(maxheight)\n\t\t\t.addClass(this._core.settings.autoHeightClass);\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Video = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Cache all video URLs.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._videos = {};\n\n\t\t/**\n\t\t * Current playing item.\n\t\t * @protected\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis._playing = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @todo The cloned content removale is too late\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis._core.register({ type: 'state', name: 'playing', tags: [ 'interacting' ] });\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.video && this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.is('resizing')) {\n\t\t\t\t\tthis._core.$stage.find('.cloned .owl-video-frame').remove();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position' && this._playing) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $element = $(e.content).find('.owl-video');\n\n\t\t\t\tif ($element.length) {\n\t\t\t\t\t$element.css('display', 'none');\n\t\t\t\t\tthis.fetch($element, $(e.content));\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Video.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\tthis._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.play(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo/vzaar only).\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.fetch = function(target, item) {\n\t\t\tvar type = (function() {\n\t\t\t\t\tif (target.attr('data-vimeo-id')) {\n\t\t\t\t\t\treturn 'vimeo';\n\t\t\t\t\t} else if (target.attr('data-vzaar-id')) {\n\t\t\t\t\t\treturn 'vzaar'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'youtube';\n\t\t\t\t\t}\n\t\t\t\t})(),\n\t\t\t\tid = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'),\n\t\t\t\twidth = target.attr('data-width') || this._core.settings.videoWidth,\n\t\t\t\theight = target.attr('data-height') || this._core.settings.videoHeight,\n\t\t\t\turl = target.attr('href');\n\n\t\tif (url) {\n\n\t\t\t/*\n\t\t\t\t\tParses the id's out of the following urls (and probably more):\n\t\t\t\t\thttps://www.youtube.com/watch?v=:id\n\t\t\t\t\thttps://youtu.be/:id\n\t\t\t\t\thttps://vimeo.com/:id\n\t\t\t\t\thttps://vimeo.com/channels/:channel/:id\n\t\t\t\t\thttps://vimeo.com/groups/:group/videos/:id\n\t\t\t\t\thttps://app.vzaar.com/videos/:id\n\n\t\t\t\t\tVisual example: https://regexper.com/#(http%3A%7Chttps%3A%7C)%5C%2F%5C%2F(player.%7Cwww.%7Capp.)%3F(vimeo%5C.com%7Cyoutu(be%5C.com%7C%5C.be%7Cbe%5C.googleapis%5C.com)%7Cvzaar%5C.com)%5C%2F(video%5C%2F%7Cvideos%5C%2F%7Cembed%5C%2F%7Cchannels%5C%2F.%2B%5C%2F%7Cgroups%5C%2F.%2B%5C%2F%7Cwatch%5C%3Fv%3D%7Cv%5C%2F)%3F(%5BA-Za-z0-9._%25-%5D*)(%5C%26%5CS%2B)%3F\n\t\t\t*/\n\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t} else if (id[3].indexOf('vzaar') > -1) {\n\t\t\t\ttype = 'vzaar';\n\t\t\t} else {\n\t\t\t\tthrow new Error('Video URL not supported.');\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video URL.');\n\t\t}\n\n\t\tthis._videos[url] = {\n\t\t\ttype: type,\n\t\t\tid: id,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\n\t\titem.attr('data-video', url);\n\n\t\tthis.thumbnail(target, this._videos[url]);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `fetch`\n\t */\n\tVideo.prototype.thumbnail = function(target, video) {\n\t\tvar tnLink,\n\t\t\ticon,\n\t\t\tpath,\n\t\t\tdimensions = video.width && video.height ? 'style=\"width:' + video.width + 'px;height:' + video.height + 'px;\"' : '',\n\t\t\tcustomTn = target.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tsettings = this._core.settings,\n\t\t\tcreate = function(path) {\n\t\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\t\tif (settings.lazyLoad) {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn ' + lazyClass + '\" ' + srcType + '=\"' + path + '\"></div>';\n\t\t\t\t} else {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url(' + path + ')\"></div>';\n\t\t\t\t}\n\t\t\t\ttarget.after(tnLink);\n\t\t\t\ttarget.after(icon);\n\t\t\t};\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\ttarget.wrap('<div class=\"owl-video-wrapper\"' + dimensions + '></div>');\n\n\t\tif (this._core.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// custom thumbnail\n\t\tif (customTn.length) {\n\t\t\tcreate(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (video.type === 'youtube') {\n\t\t\tpath = \"//img.youtube.com/vi/\" + video.id + \"/hqdefault.jpg\";\n\t\t\tcreate(path);\n\t\t} else if (video.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vimeo.com/api/v2/video/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (video.type === 'vzaar') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vzaar.com/api/videos/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data.framegrab_url;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stop = function() {\n\t\tthis._core.trigger('stop', null, 'video');\n\t\tthis._playing.find('.owl-video-frame').remove();\n\t\tthis._playing.removeClass('owl-video-playing');\n\t\tthis._playing = null;\n\t\tthis._core.leave('playing');\n\t\tthis._core.trigger('stopped', null, 'video');\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} event - The event arguments.\n\t */\n\tVideo.prototype.play = function(event) {\n\t\tvar target = $(event.target),\n\t\t\titem = target.closest('.' + this._core.settings.itemClass),\n\t\t\tvideo = this._videos[item.attr('data-video')],\n\t\t\twidth = video.width || '100%',\n\t\t\theight = video.height || this._core.$stage.height(),\n\t\t\thtml;\n\n\t\tif (this._playing) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('playing');\n\t\tthis._core.trigger('play', null, 'video');\n\n\t\titem = this._core.items(this._core.relative(item.index()));\n\n\t\tthis._core.reset(item.index());\n\n\t\tif (video.type === 'youtube') {\n\t\t\thtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"//www.youtube.com/embed/' +\n\t\t\t\tvideo.id + '?autoplay=1&rel=0&v=' + video.id + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vimeo') {\n\t\t\thtml = '<iframe src=\"//player.vimeo.com/video/' + video.id +\n\t\t\t\t'?autoplay=1\" width=\"' + width + '\" height=\"' + height +\n\t\t\t\t'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vzaar') {\n\t\t\thtml = '<iframe frameborder=\"0\"' + 'height=\"' + height + '\"' + 'width=\"' + width +\n\t\t\t\t'\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ' +\n\t\t\t\t'src=\"//view.vzaar.com/' + video.id + '/player?autoplay=true\"></iframe>';\n\t\t}\n\n\t\t$('<div class=\"owl-video-frame\">' + html + '</div>').insertAfter(item.find('.owl-video'));\n\n\t\tthis._playing = item.addClass('owl-video-playing');\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @todo Bad style because looks like a readonly method but changes members.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\t\tvar element = document.fullscreenElement || document.mozFullScreenElement ||\n\t\t\t\tdocument.webkitFullscreenElement;\n\n\t\treturn element && $(element).parent().hasClass('owl-video-frame');\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis._core.$element.off('click.owl.video');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Animate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.$element.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!$.support.animation || !$.support.transition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.$stage.children().eq(this.previous),\n\t\t\tnext = this.core.$stage.children().eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.one($.support.animation.end, clear)\n\t\t\t\t.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.one($.support.animation.end, clear)\n\t\t\t\t.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.onTransitionEnd();\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Autoplay = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * The autoplay timeout.\n\t\t * @type {Timeout}\n\t\t */\n\t\tthis._timeout = null;\n\n\t\t/**\n\t\t * Indicates whenever the autoplay is paused.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._paused = false;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'settings') {\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t}\n\t\t\t\t} else if (e.namespace && e.property.name === 'position') {\n\t\t\t\t\t//console.log('play?', e);\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis._setAutoPlayInterval();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoplay) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.play(t, s);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchstart.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchend.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Autoplay.Defaults, this._core.options);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\tthis._paused = false;\n\n\t\tif (this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('rotating');\n\n\t\tthis._setAutoPlayInterval();\n\t};\n\n\t/**\n\t * Gets a new timeout\n\t * @private\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t * @return {Timeout}\n\t */\n\tAutoplay.prototype._getNextTimeout = function(timeout, speed) {\n\t\tif ( this._timeout ) {\n\t\t\twindow.clearTimeout(this._timeout);\n\t\t}\n\t\treturn window.setTimeout($.proxy(function() {\n\t\t\tif (this._paused || this._core.is('busy') || this._core.is('interacting') || document.hidden) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._core.next(speed || this._core.settings.autoplaySpeed);\n\t\t}, this), timeout || this._core.settings.autoplayTimeout);\n\t};\n\n\t/**\n\t * Sets autoplay in motion.\n\t * @private\n\t */\n\tAutoplay.prototype._setAutoPlayInterval = function() {\n\t\tthis._timeout = this._getNextTimeout();\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.clearTimeout(this._timeout);\n\t\tthis._core.leave('rotating');\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._paused = true;\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.stop();\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @protected\n\t\t * @type {Array.<String>}\n\t\t */\n\t\tthis._templates = [];\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._overrides = {\n\t\t\tnext: this._core.next,\n\t\t\tprev: this._core.prev,\n\t\t\tto: this._core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.push('<div class=\"' + this._core.settings.dotClass + '\">' +\n\t\t\t\t\t\t$(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'added.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 0, this._templates.pop());\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'remove.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 1);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && !this._initialized) {\n\t\t\t\t\tthis._core.trigger('initialize', null, 'navigation');\n\t\t\t\t\tthis.initialize();\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._initialized = true;\n\t\t\t\t\tthis._core.trigger('initialized', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._initialized) {\n\t\t\t\t\tthis._core.trigger('refresh', null, 'navigation');\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._core.trigger('refreshed', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Navigation.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavText: [ 'prev', 'next' ],\n\t\tnavSpeed: false,\n\t\tnavElement: 'div',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [ 'owl-prev', 'owl-next' ],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotsData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false\n\t};\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar override,\n\t\t\tsettings = this._core.settings;\n\n\t\t// create DOM structure for relative navigation\n\t\tthis._controls.$relative = (settings.navContainer ? $(settings.navContainer)\n\t\t\t: $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$previous = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[0])\n\t\t\t.html(settings.navText[0])\n\t\t\t.prependTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.prev(settings.navSpeed);\n\t\t\t}, this));\n\t\tthis._controls.$next = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[1])\n\t\t\t.html(settings.navText[1])\n\t\t\t.appendTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.next(settings.navSpeed);\n\t\t\t}, this));\n\n\t\t// create DOM structure for absolute navigation\n\t\tif (!settings.dotsData) {\n\t\t\tthis._templates = [ $('<div>')\n\t\t\t\t.addClass(settings.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML') ];\n\t\t}\n\n\t\tthis._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer)\n\t\t\t: $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$absolute.on('click', 'div', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this._controls.$absolute)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, settings.dotsSpeed);\n\t\t}, this));\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this._overrides) {\n\t\t\tthis._core[override] = $.proxy(this[override], this);\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (control in this._controls) {\n\t\t\tthis._controls[control].remove();\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis._core[override] = this._overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\tlower = this._core.clones().length / 2,\n\t\t\tupper = lower + this._core.items().length,\n\t\t\tmaximum = this._core.maximum(true),\n\t\t\tsettings = this._core.settings,\n\t\t\tsize = settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items;\n\n\t\tif (settings.slideBy !== 'page') {\n\t\t\tsettings.slideBy = Math.min(settings.slideBy, settings.items);\n\t\t}\n\n\t\tif (settings.dots || settings.slideBy == 'page') {\n\t\t\tthis._pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis._pages.push({\n\t\t\t\t\t\tstart: Math.min(maximum, i - lower),\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tif (Math.min(maximum, i - lower) === maximum) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this._core.mergers(this._core.relative(i));\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Draws the user interface.\n\t * @todo The option `dotsData` wont work.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference,\n\t\t\tsettings = this._core.settings,\n\t\t\tdisabled = this._core.items().length <= settings.items,\n\t\t\tindex = this._core.relative(this._core.current()),\n\t\t\tloop = settings.loop || settings.rewind;\n\n\t\tthis._controls.$relative.toggleClass('disabled', !settings.nav || disabled);\n\n\t\tif (settings.nav) {\n\t\t\tthis._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true));\n\t\t\tthis._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true));\n\t\t}\n\n\t\tthis._controls.$absolute.toggleClass('disabled', !settings.dots || disabled);\n\n\t\tif (settings.dots) {\n\t\t\tdifference = this._pages.length - this._controls.$absolute.children().length;\n\n\t\t\tif (settings.dotsData && difference !== 0) {\n\t\t\t\tthis._controls.$absolute.html(this._templates.join(''));\n\t\t\t} else if (difference > 0) {\n\t\t\t\tthis._controls.$absolute.append(new Array(difference + 1).join(this._templates[0]));\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis._controls.$absolute.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis._controls.$absolute.find('.active').removeClass('active');\n\t\t\tthis._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');\n\t\t}\n\t};\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar settings = this._core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this._pages),\n\t\t\tcount: this._pages.length,\n\t\t\tsize: settings && (settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items)\n\t\t};\n\t};\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar current = this._core.relative(this._core.current());\n\t\treturn $.grep(this._pages, $.proxy(function(page, index) {\n\t\t\treturn page.start <= current && page.end >= current;\n\t\t}, this)).pop();\n\t};\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\tsettings = this._core.settings;\n\n\t\tif (settings.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this._pages);\n\t\t\tlength = this._pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this._pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this._core.relative(this._core.current());\n\t\t\tlength = this._core.items().length;\n\t\t\tsuccessor ? position += settings.slideBy : position -= settings.slideBy;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(true), speed);\n\t};\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(false), speed);\n\t};\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard && this._pages.length) {\n\t\t\tlength = this._pages.length;\n\t\t\t$.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this._overrides.to, this._core)(position, speed);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Hash index for the items.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.startPosition === 'URLHash') {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tvar hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash');\n\n\t\t\t\t\tif (!hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._hashes[hash] = e.content;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position') {\n\t\t\t\t\tvar current = this._core.items(this._core.relative(this._core.current())),\n\t\t\t\t\t\thash = $.map(this._hashes, function(item, hash) {\n\t\t\t\t\t\t\treturn item === current ? hash : null;\n\t\t\t\t\t\t}).join();\n\n\t\t\t\t\tif (!hash || window.location.hash.slice(1) === hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location.hash = hash;\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Hash.Defaults, this._core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this._handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function(e) {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this._core.$stage.children(),\n\t\t\t\tposition = this._hashes[hash] && items.index(this._hashes[hash]);\n\n\t\t\tif (position === undefined || position === this._core.current()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._core.to(this._core.relative(position), false, true);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Support Plugin\n *\n * @version 2.1.0\n * @author Vivid Planet Software GmbH\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\tvar style = $('<support>').get(0).style,\n\t\tprefixes = 'Webkit Moz O ms'.split(' '),\n\t\tevents = {\n\t\t\ttransition: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitTransition: 'webkitTransitionEnd',\n\t\t\t\t\tMozTransition: 'transitionend',\n\t\t\t\t\tOTransition: 'oTransitionEnd',\n\t\t\t\t\ttransition: 'transitionend'\n\t\t\t\t}\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitAnimation: 'webkitAnimationEnd',\n\t\t\t\t\tMozAnimation: 'animationend',\n\t\t\t\t\tOAnimation: 'oAnimationEnd',\n\t\t\t\t\tanimation: 'animationend'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttests = {\n\t\t\tcsstransforms: function() {\n\t\t\t\treturn !!test('transform');\n\t\t\t},\n\t\t\tcsstransforms3d: function() {\n\t\t\t\treturn !!test('perspective');\n\t\t\t},\n\t\t\tcsstransitions: function() {\n\t\t\t\treturn !!test('transition');\n\t\t\t},\n\t\t\tcssanimations: function() {\n\t\t\t\treturn !!test('animation');\n\t\t\t}\n\t\t};\n\n\tfunction test(property, prefixed) {\n\t\tvar result = false,\n\t\t\tupper = property.charAt(0).toUpperCase() + property.slice(1);\n\n\t\t$.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function(i, property) {\n\t\t\tif (style[property] !== undefined) {\n\t\t\t\tresult = prefixed ? property : true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction prefixed(property) {\n\t\treturn test(property, true);\n\t}\n\n\tif (tests.csstransitions()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transition = new String(prefixed('transition'))\n\t\t$.support.transition.end = events.transition.end[ $.support.transition ];\n\t}\n\n\tif (tests.cssanimations()) {\n\t\t/* jshint -W053 */\n\t\t$.support.animation = new String(prefixed('animation'))\n\t\t$.support.animation.end = events.animation.end[ $.support.animation ];\n\t}\n\n\tif (tests.csstransforms()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transform = new String(prefixed('transform'));\n\t\t$.support.transform3d = tests.csstransforms3d();\n\t}\n\n})(window.Zepto || window.jQuery, window, document);\n","TemplateMonster_FilmSlider/js/film-slider.js":"define([\n    \"jquery\",\n    \"jquery/ui\",\n    \"sliderInit\",\n], function ($, sliderPro) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.FilmSlider', {\n\n        options: {\n            width: '100%',\n            height: 500\n        },\n\n        _create: function () {\n            var sliderContainer = this.element,\n                sliderObject = this,\n                proContainer = $('.slider-pro-container'),\n                loaderMask = $('.slider-pro-container .loading-mask.for-slider');\n\n            //Layers on first slide\n            var firstAnimatingElems = sliderContainer.find('.sp-slide:first').find(\"[data-animation ^= 'animated']\");\n\n            //Initialize carousel\n            var params = this._optionsCustomize(this.options);\n            var slider = sliderContainer.sliderPro(params).hide().fadeIn(500, function () {\n                proContainer.css('height', 'auto');\n            });\n            loaderMask.fadeOut(500);\n\n            //Animate captions in first slide on page load\n            this._doAnimations(firstAnimatingElems);\n\n            //Other slides to be animated on carousel slide event\n            this._getCurrentLayers(sliderObject, sliderContainer, slider);\n\n            sliderContainer.on('gotoSlide sliderResize', function () {\n                sliderObject._customOffsetLayer(sliderObject, sliderContainer);\n            }).trigger('gotoSlide');\n\n        },\n\n        _customOffsetLayer: function (sliderObject, sliderContainer) {\n            $('.sp-layer', sliderContainer).each(function () {\n                if ($(this).data('position') == 'topCenter' || $(this).data('position') == 'bottomCenter' || $(this).data('position') == 'centerCenter') {\n                    sliderObject._makeOffset(sliderObject, $(this));\n                } else {\n                    return;\n                }\n            })\n        },\n\n        _makeOffset: function (sliderContainer, layer) {\n            var windowWidth = $(window).width();\n            var layerWidth = parseInt(layer.css('width'));\n            // var originOffset = parseInt(layer.css('left'));\n            if (layerWidth >= windowWidth) {\n                layer.css('left', -1 * (layerWidth - windowWidth) / 2);\n            }\n        },\n\n        _doAnimations: function (elems) {\n\n            //Cache the animationend event in a variable\n            var animEndEv = 'webkitAnimationEnd animationend';\n\n            elems.each(function () {\n                var $this = $(this),\n                    $animationType = $this.data('animation'),\n                    $delay = $this.data('show-delay');\n\n                // Animation after delay\n                setTimeout(function () {\n                    $this.addClass($animationType).one(animEndEv, function () {\n                        $this.removeClass($animationType);\n                    });\n                }, $delay);\n            });\n        },\n\n        _getCurrentLayers: function (sliderObject, sliderContainer, slider) {\n            slider.on('gotoSlide', function (event) {\n                var animatingElems = $('.sp-slide.sp-selected', sliderContainer).find(\"[data-animation ^= 'animated']\");\n                sliderObject._doAnimations(animatingElems);\n            });\n        },\n\n        _optionsCustomize: function (options) {\n\n            var params = JSON.parse(JSON.stringify(options), function (name, value) {\n\n                value = (value === \"true\") ? true : value;\n                value = (value === \"false\") ? false : value;\n\n                if (!isNaN(parseInt(value))) {\n                    if (( name == 'width' || name == 'height') && value[value.length - 1] == '%') {\n                        return value;\n                    } else {\n                        value = Number(value);\n                    }\n                }\n                return value;\n            });\n            return params;\n        }\n\n    });\n\n    return $.TemplateMonster.FilmSlider;\n\n});","TemplateMonster_FilmSlider/js/jquery.sliderPro.js":"/*!\r\n*  - v1.2.5\r\n* Homepage: http://bqworks.com/slider-pro/\r\n* Author: bqworks\r\n* Author URL: http://bqworks.com/\r\n*/\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\t// Static methods for Slider Pro\r\n\t$.SliderPro = {\r\n\r\n\t\t// List of added modules\r\n\t\tmodules: [],\r\n\r\n\t\t// Add a module by extending the core prototype\r\n\t\taddModule: function( name, module ) {\r\n\t\t\tthis.modules.push( name );\r\n\t\t\t$.extend( SliderPro.prototype, module );\r\n\t\t}\r\n\t};\r\n\r\n\t// namespace\r\n\tvar NS = $.SliderPro.namespace = 'SliderPro';\r\n\r\n\tvar SliderPro = function( instance, options ) {\r\n\r\n\t\t// Reference to the slider instance\r\n\t\tthis.instance = instance;\r\n\r\n\t\t// Reference to the slider jQuery element\r\n\t\tthis.$slider = $( this.instance );\r\n\r\n\t\t// Reference to the slides (sp-slides) jQuery element\r\n\t\tthis.$slides = null;\r\n\r\n\t\t// Reference to the mask (sp-mask) jQuery element\r\n\t\tthis.$slidesMask = null;\r\n\r\n\t\t// Reference to the slides (sp-slides-container) jQuery element\r\n\t\tthis.$slidesContainer = null;\r\n\r\n\t\t// Array of SliderProSlide objects, ordered by their DOM index\r\n\t\tthis.slides = [];\r\n\r\n\t\t// Array of SliderProSlide objects, ordered by their left/top position in the slider.\r\n\t\t// This will be updated continuously if the slider is loopable.\r\n\t\tthis.slidesOrder = [];\r\n\r\n\t\t// Holds the options passed to the slider when it was instantiated\r\n\t\tthis.options = options;\r\n\r\n\t\t// Holds the final settings of the slider after merging the specified\r\n\t\t// ones with the default ones.\r\n\t\tthis.settings = {};\r\n\r\n\t\t// Another reference to the settings which will not be altered by breakpoints or by other means\r\n\t\tthis.originalSettings = {};\r\n\r\n\t\t// Reference to the original 'gotoSlide' method\r\n\t\tthis.originalGotoSlide = null;\r\n\r\n\t\t// The index of the currently selected slide (starts with 0)\r\n\t\tthis.selectedSlideIndex = 0;\r\n\r\n\t\t// The index of the previously selected slide\r\n\t\tthis.previousSlideIndex = 0;\r\n\r\n\t\t// Indicates the position of the slide considered to be in the middle.\r\n\t\t// If there are 5 slides (0, 1, 2, 3, 4) the middle position will be 2.\r\n\t\t// If there are 6 slides (0, 1, 2, 3, 4, 5) the middle position will be approximated to 2.\r\n\t\tthis.middleSlidePosition = 0;\r\n\r\n\t\t// Indicates the type of supported transition (CSS3 2D, CSS3 3D or JavaScript)\r\n\t\tthis.supportedAnimation = null;\r\n\r\n\t\t// Indicates the required vendor prefix for CSS (i.e., -webkit, -moz, etc.)\r\n\t\tthis.vendorPrefix = null;\r\n\r\n\t\t// Indicates the name of the CSS transition's complete event (i.e., transitionend, webkitTransitionEnd, etc.)\r\n\t\tthis.transitionEvent = null;\r\n\r\n\t\t// Indicates the 'left' or 'top' position\r\n\t\tthis.positionProperty = null;\r\n\r\n\t\t// Indicates if the current browser is IE\r\n\t\tthis.isIE = null;\r\n\r\n\t\t// The position of the slides container\r\n\t\tthis.slidesPosition = 0;\r\n\r\n\t\t// The width of the individual slide\r\n\t\tthis.slideWidth = 0;\r\n\r\n\t\t// The height of the individual slide\r\n\t\tthis.slideHeight = 0;\r\n\r\n\t\t// The width or height, depending on the orientation, of the individual slide\r\n\t\tthis.slideSize = 0;\r\n\r\n\t\t// Reference to the old slide width, used to check if the width has changed\r\n\t\tthis.previousSlideWidth = 0;\r\n\r\n\t\t// Reference to the old slide height, used to check if the height has changed\r\n\t\tthis.previousSlideHeight = 0;\r\n\t\t\r\n\t\t// Reference to the old window width, used to check if the window width has changed\r\n\t\tthis.previousWindowWidth = 0;\r\n\t\t\r\n\t\t// Reference to the old window height, used to check if the window height has changed\r\n\t\tthis.previousWindowHeight = 0;\r\n\r\n\t\t// The distance from the margin of the slider to the left/top of the selected slide.\r\n\t\t// This is useful in calculating the position of the selected slide when there are \r\n\t\t// more visible slides.\r\n\t\tthis.visibleOffset = 0;\r\n\r\n\t\t// Property used for deferring the resizing of the slider\r\n\t\tthis.allowResize = true;\r\n\r\n\t\t// Unique ID to be used for event listening\r\n\t\tthis.uniqueId = new Date().valueOf();\r\n\r\n\t\t// Stores size breakpoints\r\n\t\tthis.breakpoints = [];\r\n\r\n\t\t// Indicates the current size breakpoint\r\n\t\tthis.currentBreakpoint = -1;\r\n\r\n\t\t// An array of shuffled indexes, based on which the slides will be shuffled\r\n\t\tthis.shuffledIndexes = [];\r\n\r\n\t\t// Initialize the slider\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tSliderPro.prototype = {\r\n\r\n\t\t// The starting place for the slider\r\n\t\t_init: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.supportedAnimation = SliderProUtils.getSupportedAnimation();\r\n\t\t\tthis.vendorPrefix = SliderProUtils.getVendorPrefix();\r\n\t\t\tthis.transitionEvent = SliderProUtils.getTransitionEvent();\r\n\t\t\tthis.isIE = SliderProUtils.checkIE();\r\n\r\n\t\t\t// Remove the 'sp-no-js' when the slider's JavaScript code starts running\r\n\t\t\tthis.$slider.removeClass( 'sp-no-js' );\r\n\r\n\t\t\t// Add the 'ios' class if it's an iOS device\r\n\t\t\tif ( window.navigator.userAgent.match( /(iPad|iPhone|iPod)/g ) ) {\r\n\t\t\t\tthis.$slider.addClass( 'ios' );\r\n\t\t\t}\r\n\r\n\t\t\t// Check if IE (older than 11) is used and add the version number as a class to the slider since\r\n\t\t\t// older IE versions might need CSS tweaks.\r\n\t\t\tvar rmsie = /(msie) ([\\w.]+)/,\r\n\t\t\t\tieVersion = rmsie.exec( window.navigator.userAgent.toLowerCase() );\r\n\t\t\t\r\n\t\t\tif ( this.isIE ) {\r\n\t\t\t\tthis.$slider.addClass( 'ie' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( ieVersion !== null ) {\r\n\t\t\t\tthis.$slider.addClass( 'ie' + parseInt( ieVersion[2], 10 ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Set up the slides containers\r\n\t\t\t// slider-pro > sp-slides-container > sp-mask > sp-slides > sp-slide\r\n\t\t\tthis.$slidesContainer = $( '<div class=\"sp-slides-container\"></div>' ).appendTo( this.$slider );\r\n\t\t\tthis.$slidesMask = $( '<div class=\"sp-mask\"></div>' ).appendTo( this.$slidesContainer );\r\n\t\t\tthis.$slides = this.$slider.find( '.sp-slides' ).appendTo( this.$slidesMask );\r\n\t\t\tthis.$slider.find( '.sp-slide' ).appendTo( this.$slides );\r\n\t\t\t\r\n\t\t\tvar modules = $.SliderPro.modules;\r\n\r\n\t\t\t// Merge the modules' default settings with the core's default settings\r\n\t\t\tif ( typeof modules !== 'undefined' ) {\r\n\t\t\t\tfor ( var i = 0; i < modules.length; i++ ) {\r\n\t\t\t\t\tvar defaults = modules[ i ].substring( 0, 1 ).toLowerCase() + modules[ i ].substring( 1 ) + 'Defaults';\r\n\r\n\t\t\t\t\tif ( typeof this[ defaults ] !== 'undefined' ) {\r\n\t\t\t\t\t\t$.extend( this.defaults, this[ defaults ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Merge the specified setting with the default ones\r\n\t\t\tthis.settings = $.extend( {}, this.defaults, this.options );\r\n\r\n\t\t\t// Initialize the modules\r\n\t\t\tif ( typeof modules !== 'undefined' ) {\r\n\t\t\t\tfor ( var j = 0; j < modules.length; j++ ) {\r\n\t\t\t\t\tif ( typeof this[ 'init' + modules[ j ] ] !== 'undefined' ) {\r\n\t\t\t\t\t\tthis[ 'init' + modules[ j ] ]();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Keep a reference of the original settings and use it\r\n\t\t\t// to restore the settings when the breakpoints are used.\r\n\t\t\tthis.originalSettings = $.extend( {}, this.settings );\r\n\r\n\t\t\t// Get the reference to the 'gotoSlide' method\r\n\t\t\tthis.originalGotoSlide = this.gotoSlide;\r\n\r\n\t\t\t// Parse the breakpoints object and store the values into an array,\r\n\t\t\t// sorting them in ascending order based on the specified size.\r\n\t\t\tif ( this.settings.breakpoints !== null ) {\r\n\t\t\t\tfor ( var sizes in this.settings.breakpoints ) {\r\n\t\t\t\t\tthis.breakpoints.push({ size: parseInt( sizes, 10 ), properties:this.settings.breakpoints[ sizes ] });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.breakpoints = this.breakpoints.sort(function( a, b ) {\r\n\t\t\t\t\treturn a.size >= b.size ? 1: -1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Set which slide should be selected initially\r\n\t\t\tthis.selectedSlideIndex = this.settings.startSlide;\r\n\r\n\t\t\t// Shuffle/randomize the slides\r\n\t\t\tif ( this.settings.shuffle === true ) {\r\n\t\t\t\tvar slides = this.$slides.find( '.sp-slide' ),\r\n\t\t\t\t\tshuffledSlides = [];\r\n\r\n\t\t\t\t// Populate the 'shuffledIndexes' with index numbers\r\n\t\t\t\tslides.each(function( index ) {\r\n\t\t\t\t\tthat.shuffledIndexes.push( index );\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor ( var k = this.shuffledIndexes.length - 1; k > 0; k-- ) {\r\n\t\t\t\t\tvar l = Math.floor( Math.random() * ( k + 1 ) ),\r\n\t\t\t\t\t\ttemp = this.shuffledIndexes[ k ];\r\n\r\n\t\t\t\t\tthis.shuffledIndexes[ k ] = this.shuffledIndexes[ l ];\r\n\t\t\t\t\tthis.shuffledIndexes[ l ] = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reposition the slides based on the order of the indexes in the\r\n\t\t\t\t// 'shuffledIndexes' array\r\n\t\t\t\t$.each( this.shuffledIndexes, function( index, element ) {\r\n\t\t\t\t\tshuffledSlides.push( slides[ element ] );\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// Append the sorted slides to the slider\r\n\t\t\t\tthis.$slides.empty().append( shuffledSlides ) ;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Resize the slider when the browser window resizes.\r\n\t\t\t// Also, deffer the resizing in order to not allow multiple\r\n\t\t\t// resizes in a 200 milliseconds interval.\r\n\t\t\t$( window ).on( 'resize.' + this.uniqueId + '.' + NS, function() {\r\n\t\t\t\r\n\t\t\t\t// Get the current width and height of the window\r\n\t\t\t\tvar newWindowWidth = $( window ).width(),\r\n\t\t\t\t\tnewWindowHeight = $( window ).height();\r\n\t\t\t\t\r\n\t\t\t\t// If the resize is not allowed yet or if the window size hasn't changed (this needs to be verified\r\n\t\t\t\t// because in IE8 and lower the resize event is triggered whenever an element from the page changes\r\n\t\t\t\t// its size) return early.\r\n\t\t\t\tif ( that.allowResize === false ||\r\n\t\t\t\t\t( that.previousWindowWidth === newWindowWidth && that.previousWindowHeight === newWindowHeight ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Asign the new values for the window width and height\r\n\t\t\t\tthat.previousWindowWidth = newWindowWidth;\r\n\t\t\t\tthat.previousWindowHeight = newWindowHeight;\r\n\t\t\t\r\n\t\t\t\tthat.allowResize = false;\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat.resize();\r\n\t\t\t\t\tthat.allowResize = true;\r\n\t\t\t\t}, 200 );\r\n\t\t\t});\r\n\r\n\t\t\t// Resize the slider when the 'update' method is called.\r\n\t\t\tthis.on( 'update.' + NS, function() {\r\n\r\n\t\t\t\t// Reset the previous slide width\r\n\t\t\t\tthat.previousSlideWidth = 0;\r\n\r\n\t\t\t\t// Some updates might require a resize\r\n\t\t\t\tthat.resize();\r\n\t\t\t});\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t\t// add the 'sp-selected' class to the initially selected slide\r\n\t\t\tthis.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected' );\r\n\r\n\t\t\t// Fire the 'init' event\r\n\t\t\tthis.trigger({ type: 'init' });\r\n\t\t\tif ( $.isFunction( this.settings.init ) ) {\r\n\t\t\t\tthis.settings.init.call( this, { type: 'init' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Update the slider by checking for setting changes and for slides\r\n\t\t// that weren't initialized yet.\r\n\t\tupdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Check the current slider orientation and reset CSS that might have been\r\n\t\t\t// added for a different orientation, since the orientation can be changed\r\n\t\t\t// at runtime.\r\n\t\t\tif ( this.settings.orientation === 'horizontal' ) {\r\n\t\t\t\tthis.$slider.removeClass( 'sp-vertical' ).addClass( 'sp-horizontal' );\r\n\t\t\t\tthis.$slider.css({ 'height': '', 'max-height': '' });\r\n\t\t\t\tthis.$slides.find( '.sp-slide' ).css( 'top', '' );\r\n\t\t\t} else if ( this.settings.orientation === 'vertical' ) {\r\n\t\t\t\tthis.$slider.removeClass( 'sp-horizontal' ).addClass( 'sp-vertical' );\r\n\t\t\t\tthis.$slides.find( '.sp-slide' ).css( 'left', '' );\r\n\t\t\t}\r\n\r\n\t\t\t// Set the position that will be used to arrange elements, like the slides,\r\n\t\t\t// based on the orientation.\r\n\t\t\tthis.positionProperty = this.settings.orientation === 'horizontal' ? 'left' : 'top';\r\n\r\n\t\t\t// Reset the 'gotoSlide' method\r\n\t\t\tthis.gotoSlide = this.originalGotoSlide;\r\n\r\n\t\t\t// Loop through the array of SliderProSlide objects and if a stored slide is found\r\n\t\t\t// which is not in the DOM anymore, destroy that slide.\r\n\t\t\tfor ( var i = this.slides.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tif ( this.$slider.find( '.sp-slide[data-index=\"' + i + '\"]' ).length === 0 ) {\r\n\t\t\t\t\tvar slide = this.slides[ i ];\r\n\r\n\t\t\t\t\tslide.destroy();\r\n\t\t\t\t\tthis.slides.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.slidesOrder.length = 0;\r\n\r\n\t\t\t// Loop through the list of slides and initialize newly added slides if any,\r\n\t\t\t// and reset the index of each slide.\r\n\t\t\tthis.$slider.find( '.sp-slide' ).each(function( index ) {\r\n\t\t\t\tvar $slide = $( this );\r\n\r\n\t\t\t\tif ( typeof $slide.attr( 'data-init' ) === 'undefined' ) {\r\n\t\t\t\t\tthat._createSlide( index, $slide );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.slides[ index ].setIndex( index );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.slidesOrder.push( index );\r\n\t\t\t});\r\n\r\n\t\t\t// Calculate the position/index of the middle slide\r\n\t\t\tthis.middleSlidePosition = parseInt( ( that.slidesOrder.length - 1 ) / 2, 10 );\r\n\r\n\t\t\t// Arrange the slides in a loop\r\n\t\t\tif ( this.settings.loop === true ) {\r\n\t\t\t\tthis._updateSlidesOrder();\r\n\t\t\t}\r\n\r\n\t\t\t// Fire the 'update' event\r\n\t\t\tthis.trigger({ type: 'update' });\r\n\t\t\tif ( $.isFunction( this.settings.update ) ) {\r\n\t\t\t\tthis.settings.update.call( this, { type: 'update' } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create a SliderProSlide instance for the slide passed as a jQuery element\r\n\t\t_createSlide: function( index, element ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tslide = new SliderProSlide( $( element ), index, this.settings );\r\n\r\n\t\t\tthis.slides.splice( index, 0, slide );\r\n\t\t},\r\n\r\n\t\t// Arrange the slide elements in a loop inside the 'slidesOrder' array\r\n\t\t_updateSlidesOrder: function() {\r\n\t\t\tvar\tslicedItems,\r\n\t\t\t\ti,\r\n\r\n\t\t\t\t// Calculate the distance between the selected element and the middle position\r\n\t\t\t\tdistance = $.inArray( this.selectedSlideIndex, this.slidesOrder ) - this.middleSlidePosition;\r\n\r\n\t\t\t// If the distance is negative it means that the selected slider is before the middle position, so\r\n\t\t\t// slides from the end of the array will be added at the beginning, in order to shift the selected slide\r\n\t\t\t// forward.\r\n\t\t\t// \r\n\t\t\t// If the distance is positive, slides from the beginning of the array will be added at the end.\r\n\t\t\tif ( distance < 0 ) {\r\n\t\t\t\tslicedItems = this.slidesOrder.splice( distance, Math.abs( distance ) );\r\n\r\n\t\t\t\tfor ( i = slicedItems.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis.slidesOrder.unshift( slicedItems[ i ] );\r\n\t\t\t\t}\r\n\t\t\t} else if ( distance > 0 ) {\r\n\t\t\t\tslicedItems = this.slidesOrder.splice( 0, distance );\r\n\r\n\t\t\t\tfor ( i = 0; i <= slicedItems.length - 1; i++ ) {\r\n\t\t\t\t\tthis.slidesOrder.push( slicedItems[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Set the left/top position of the slides based on their position in the 'slidesOrder' array\r\n\t\t_updateSlidesPosition: function() {\r\n\t\t\tvar selectedSlidePixelPosition = parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 );\r\n\r\n\t\t\tfor ( var slideIndex = 0; slideIndex < this.slidesOrder.length; slideIndex++ ) {\r\n\t\t\t\tvar slide = this.$slides.find( '.sp-slide' ).eq( this.slidesOrder[ slideIndex ] );\r\n\t\t\t\tslide.css( this.positionProperty, selectedSlidePixelPosition + ( slideIndex - this.middleSlidePosition  ) * ( this.slideSize + this.settings.slideDistance ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Set the left/top position of the slides based on their position in the 'slidesOrder' array,\r\n\t\t// and also set the position of the slides container.\r\n\t\t_resetSlidesPosition: function() {\r\n\t\t\tfor ( var slideIndex = 0; slideIndex < this.slidesOrder.length; slideIndex++ ) {\r\n\t\t\t\tvar slide = this.$slides.find( '.sp-slide' ).eq( this.slidesOrder[ slideIndex ] );\r\n\t\t\t\tslide.css( this.positionProperty, slideIndex * ( this.slideSize + this.settings.slideDistance ) );\r\n\t\t\t}\r\n\r\n\t\t\tvar newSlidesPosition = - parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 ) + this.visibleOffset;\r\n\t\t\tthis._moveTo( newSlidesPosition, true );\r\n\t\t},\r\n\r\n\t\t// Called when the slider needs to resize\r\n\t\tresize: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Check if the current window width is bigger than the biggest breakpoint\r\n\t\t\t// and if necessary reset the properties to the original settings.\r\n\t\t\t// \r\n\t\t\t// If the window width is smaller than a certain breakpoint, apply the settings specified\r\n\t\t\t// for that breakpoint but only after merging them with the original settings\r\n\t\t\t// in order to make sure that only the specified settings for the breakpoint are applied\r\n\t\t\tif ( this.settings.breakpoints !== null && this.breakpoints.length > 0 ) {\r\n\t\t\t\tif ( $( window ).width() > this.breakpoints[ this.breakpoints.length - 1 ].size && this.currentBreakpoint !== -1 ) {\r\n\t\t\t\t\tthis.currentBreakpoint = -1;\r\n\t\t\t\t\tthis._setProperties( this.originalSettings, false );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( var i = 0, n = this.breakpoints.length; i < n; i++ ) {\r\n\t\t\t\t\t\tif ( $( window ).width() <= this.breakpoints[ i ].size ) {\r\n\t\t\t\t\t\t\tif ( this.currentBreakpoint !== this.breakpoints[ i ].size ) {\r\n\t\t\t\t\t\t\t\tvar eventObject = { type: 'breakpointReach', size: this.breakpoints[ i ].size, settings: this.breakpoints[ i ].properties };\r\n\t\t\t\t\t\t\t\tthis.trigger( eventObject );\r\n\t\t\t\t\t\t\t\tif ( $.isFunction( this.settings.breakpointReach ) )\r\n\t\t\t\t\t\t\t\t\tthis.settings.breakpointReach.call( this, eventObject );\r\n\r\n\t\t\t\t\t\t\t\tthis.currentBreakpoint = this.breakpoints[ i ].size;\r\n\t\t\t\t\t\t\t\tvar settings = $.extend( {}, this.originalSettings, this.breakpoints[ i ].properties );\r\n\t\t\t\t\t\t\t\tthis._setProperties( settings, false );\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set the width of the main slider container based on whether or not the slider is responsive,\r\n\t\t\t// full width or full size\r\n\t\t\tif ( this.settings.responsive === true ) {\r\n\t\t\t\tif ( ( this.settings.forceSize === 'fullWidth' || this.settings.forceSize === 'fullWindow' ) &&\r\n\t\t\t\t\t( this.settings.visibleSize === 'auto' || this.settings.visibleSize !== 'auto' && this.settings.orientation === 'vertical' )\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.$slider.css( 'margin', 0 );\r\n\t\t\t\t\tthis.$slider.css({ 'width': $( window ).width(), 'max-width': '', 'marginLeft': - this.$slider.offset().left });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$slider.css({ 'width': '100%', 'max-width': this.settings.width, 'marginLeft': '' });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slider.css({ 'width': this.settings.width });\r\n\t\t\t}\r\n\r\n\t\t\t// Calculate the aspect ratio of the slider\r\n\t\t\tif ( this.settings.aspectRatio === -1 ) {\r\n\t\t\t\tthis.settings.aspectRatio = this.settings.width / this.settings.height;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Initially set the slide width to the size of the slider.\r\n\t\t\t// Later, this will be set to less if there are multiple visible slides.\r\n\t\t\tthis.slideWidth = this.$slider.width();\r\n\r\n\t\t\t// Set the height to the same size as the browser window if the slider is set to be 'fullWindow',\r\n\t\t\t// or calculate the height based on the width and the aspect ratio.\r\n\t\t\tif ( this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\tthis.slideHeight = $( window ).height();\r\n\t\t\t} else {\r\n\t\t\t\tthis.slideHeight = isNaN( this.settings.aspectRatio ) ? this.settings.height : this.slideWidth / this.settings.aspectRatio;\r\n\t\t\t}\r\n\r\n\t\t\t// Resize the slider only if the size of the slider has changed\r\n\t\t\t// If it hasn't, return.\r\n\t\t\tif ( this.previousSlideWidth !== this.slideWidth ||\r\n\t\t\t\tthis.previousSlideHeight !== this.slideHeight ||\r\n\t\t\t\tthis.settings.visibleSize !== 'auto' ||\r\n\t\t\t\tthis.$slider.outerWidth() > this.$slider.parent().width() ||\r\n\t\t\t\tthis.$slider.width() !== this.$slidesMask.width()\r\n\t\t\t) {\r\n\t\t\t\tthis.previousSlideWidth = this.slideWidth;\r\n\t\t\t\tthis.previousSlideHeight = this.slideHeight;\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// The slide width or slide height is needed for several calculation, so create a reference to it\r\n\t\t\t// based on the current orientation.\r\n\t\t\tthis.slideSize = this.settings.orientation === 'horizontal' ? this.slideWidth : this.slideHeight;\r\n\t\t\t\r\n\t\t\t// Initially set the visible size of the slides and the offset of the selected slide as if there is only\r\n\t\t\t// on visible slide.\r\n\t\t\t// If there will be multiple visible slides (when 'visibleSize' is different than 'auto'), these will\r\n\t\t\t// be updated accordingly.\r\n\t\t\tthis.visibleSlidesSize = this.slideSize;\r\n\t\t\tthis.visibleOffset = 0;\r\n\r\n\t\t\t// Loop through the existing slides and reset their size.\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\telement.setSize( that.slideWidth, that.slideHeight );\r\n\t\t\t});\r\n\r\n\t\t\t// Set the initial size of the mask container to the size of an individual slide\r\n\t\t\tthis.$slidesMask.css({ 'width': this.slideWidth, 'height': this.slideHeight });\r\n\r\n\t\t\t// Adjust the height if it's set to 'auto'\r\n\t\t\tif ( this.settings.autoHeight === true ) {\r\n\r\n\t\t\t\t// Delay the resizing of the height to allow for other resize handlers\r\n\t\t\t\t// to execute first before calculating the final height of the slide\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\tthat._resizeHeight();\r\n\t\t\t\t}, 1 );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slidesMask.css( this.vendorPrefix + 'transition', '' );\r\n\t\t\t}\r\n\r\n\t\t\t// The 'visibleSize' option can be set to fixed or percentage size to make more slides\r\n\t\t\t// visible at a time.\r\n\t\t\t// By default it's set to 'auto'.\r\n\t\t\tif ( this.settings.visibleSize !== 'auto' ) {\r\n\t\t\t\tif ( this.settings.orientation === 'horizontal' ) {\r\n\r\n\t\t\t\t\t// If the size is forced to full width or full window, the 'visibleSize' option will be\r\n\t\t\t\t\t// ignored and the slider will become as wide as the browser window.\r\n\t\t\t\t\tif ( this.settings.forceSize === 'fullWidth' || this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\t\tthis.$slider.css( 'margin', 0 );\r\n\t\t\t\t\t\tthis.$slider.css({ 'width': $( window ).width(), 'max-width': '', 'marginLeft': - this.$slider.offset().left });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$slider.css({ 'width': this.settings.visibleSize, 'max-width': '100%', 'marginLeft': 0 });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$slidesMask.css( 'width', this.$slider.width() );\r\n\r\n\t\t\t\t\tthis.visibleSlidesSize = this.$slidesMask.width();\r\n\t\t\t\t\tthis.visibleOffset = Math.round( ( this.$slider.width() - this.slideWidth ) / 2 );\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// If the size is forced to full window, the 'visibleSize' option will be\r\n\t\t\t\t\t// ignored and the slider will become as high as the browser window.\r\n\t\t\t\t\tif ( this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\t\tthis.$slider.css({ 'height': $( window ).height(), 'max-height': '' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$slider.css({ 'height': this.settings.visibleSize, 'max-height': '100%' });\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$slidesMask.css( 'height', this.$slider.height() );\r\n\r\n\t\t\t\t\tthis.visibleSlidesSize = this.$slidesMask.height();\r\n\t\t\t\t\tthis.visibleOffset = Math.round( ( this.$slider.height() - this.slideHeight ) / 2 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._resetSlidesPosition();\r\n\r\n\t\t\t// Fire the 'sliderResize' event\r\n\t\t\tthis.trigger({ type: 'sliderResize' });\r\n\t\t\tif ( $.isFunction( this.settings.sliderResize ) ) {\r\n\t\t\t\tthis.settings.sliderResize.call( this, { type: 'sliderResize' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Resize the height of the slider to the height of the selected slide.\r\n\t\t// It's used when the 'autoHeight' option is set to 'true'.\r\n\t\t_resizeHeight: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tselectedSlide = this.getSlideAt( this.selectedSlideIndex ),\r\n\t\t\t\tsize = selectedSlide.getSize();\r\n\r\n\t\t\tselectedSlide.off( 'imagesLoaded.' + NS );\r\n\t\t\tselectedSlide.on( 'imagesLoaded.' + NS, function( event ) {\r\n\t\t\t\tif ( event.index === that.selectedSlideIndex ) {\r\n\t\t\t\t\tvar size = selectedSlide.getSize();\r\n\t\t\t\t\tthat._resizeHeightTo( size.height );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If the selected slide contains images which are still loading,\r\n\t\t\t// wait for the loading to complete and then request the size again.\r\n\t\t\tif ( size !== 'loading' ) {\r\n\t\t\t\tthis._resizeHeightTo( size.height );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Open the slide at the specified index\r\n\t\tgotoSlide: function( index ) {\r\n\t\t\tif ( index === this.selectedSlideIndex || typeof this.slides[ index ] === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.previousSlideIndex = this.selectedSlideIndex;\r\n\t\t\tthis.selectedSlideIndex = index;\r\n\r\n\t\t\t// Re-assign the 'sp-selected' class to the currently selected slide\r\n\t\t\tthis.$slides.find( '.sp-selected' ).removeClass( 'sp-selected' );\r\n\t\t\tthis.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected' );\r\n\r\n\t\t\t// If the slider is loopable reorder the slides to have the selected slide in the middle\r\n\t\t\t// and update the slides' position.\r\n\t\t\tif ( this.settings.loop === true ) {\r\n\t\t\t\tthis._updateSlidesOrder();\r\n\t\t\t\tthis._updateSlidesPosition();\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust the height of the slider\r\n\t\t\tif ( this.settings.autoHeight === true ) {\r\n\t\t\t\tthis._resizeHeight();\r\n\t\t\t}\r\n\r\n\t\t\t// Calculate the new position that the slides container need to take\r\n\t\t\tvar newSlidesPosition = - parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 ) + this.visibleOffset;\r\n\r\n\t\t\t// Move the slides container to the new position\r\n\t\t\tthis._moveTo( newSlidesPosition, false, function() {\r\n\t\t\t\tif ( that.settings.loop === true ) {\r\n\t\t\t\t\tthat._resetSlidesPosition();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'gotoSlideComplete' event\r\n\t\t\t\tthat.trigger({ type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex });\r\n\t\t\t\tif ( $.isFunction( that.settings.gotoSlideComplete ) ) {\r\n\t\t\t\t\tthat.settings.gotoSlideComplete.call( that, { type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex } );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Fire the 'gotoSlide' event\r\n\t\t\tthis.trigger({ type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex });\r\n\t\t\tif ( $.isFunction( this.settings.gotoSlide ) ) {\r\n\t\t\t\tthis.settings.gotoSlide.call( this, { type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Open the next slide\r\n\t\tnextSlide: function() {\r\n\t\t\tvar index = ( this.selectedSlideIndex >= this.getTotalSlides() - 1 ) ? 0 : ( this.selectedSlideIndex + 1 );\r\n\t\t\tthis.gotoSlide( index );\r\n\t\t},\r\n\r\n\t\t// Open the previous slide\r\n\t\tpreviousSlide: function() {\r\n\t\t\tvar index = this.selectedSlideIndex <= 0 ? ( this.getTotalSlides() - 1 ) : ( this.selectedSlideIndex - 1 );\r\n\t\t\tthis.gotoSlide( index );\r\n\t\t},\r\n\r\n\t\t// Move the slides container to the specified position.\r\n\t\t// The movement can be instant or animated.\r\n\t\t_moveTo: function( position, instant, callback ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcss = {};\r\n\r\n\t\t\tif ( position === this.slidesPosition ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.slidesPosition = position;\r\n\t\t\t\r\n\t\t\tif ( ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) && this.isIE === false ) {\r\n\t\t\t\tvar transition,\r\n\t\t\t\t\tleft = this.settings.orientation === 'horizontal' ? position : 0,\r\n\t\t\t\t\ttop = this.settings.orientation === 'horizontal' ? 0 : position;\r\n\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\ttransition = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$slides.addClass( 'sp-animated' );\r\n\t\t\t\t\ttransition = this.vendorPrefix + 'transform ' + this.settings.slideAnimationDuration / 1000 + 's';\r\n\r\n\t\t\t\t\tthis.$slides.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.$slides.off( that.transitionEvent );\r\n\t\t\t\t\t\tthat.$slides.removeClass( 'sp-animated' );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = transition;\r\n\r\n\t\t\t\tthis.$slides.css( css );\r\n\t\t\t} else {\r\n\t\t\t\tcss[ 'margin-' + this.positionProperty ] = position;\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\tthis.$slides.css( css );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$slides.addClass( 'sp-animated' );\r\n\t\t\t\t\tthis.$slides.animate( css, this.settings.slideAnimationDuration, function() {\r\n\t\t\t\t\t\tthat.$slides.removeClass( 'sp-animated' );\r\n\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Stop the movement of the slides\r\n\t\t_stopMovement: function() {\r\n\t\t\tvar css = {};\r\n\r\n\t\t\tif ( ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) && this.isIE === false) {\r\n\r\n\t\t\t\t// Get the current position of the slides by parsing the 'transform' property\r\n\t\t\t\tvar\tmatrixString = this.$slides.css( this.vendorPrefix + 'transform' ),\r\n\t\t\t\t\tmatrixType = matrixString.indexOf( 'matrix3d' ) !== -1 ? 'matrix3d' : 'matrix',\r\n\t\t\t\t\tmatrixArray = matrixString.replace( matrixType, '' ).match( /-?[0-9\\.]+/g ),\r\n\t\t\t\t\tleft = matrixType === 'matrix3d' ? parseInt( matrixArray[ 12 ], 10 ) : parseInt( matrixArray[ 4 ], 10 ),\r\n\t\t\t\t\ttop = matrixType === 'matrix3d' ? parseInt( matrixArray[ 13 ], 10 ) : parseInt( matrixArray[ 5 ], 10 );\r\n\t\t\t\t\t\r\n\t\t\t\t// Set the transform property to the value that the transform had when the function was called\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = '';\r\n\r\n\t\t\t\tthis.$slides.css( css );\r\n\t\t\t\tthis.$slides.off( this.transitionEvent );\r\n\t\t\t\tthis.slidesPosition = this.settings.orientation === 'horizontal' ? left : top;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slides.stop();\r\n\t\t\t\tthis.slidesPosition = parseInt( this.$slides.css( 'margin-' + this.positionProperty ), 10 );\r\n\t\t\t}\r\n\r\n\t\t\tthis.$slides.removeClass( 'sp-animated' );\r\n\t\t},\r\n\r\n\t\t// Resize the height of the slider to the specified value\r\n\t\t_resizeHeightTo: function( height ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcss = { 'height': height };\r\n\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = 'height ' + this.settings.heightAnimationDuration / 1000 + 's';\r\n\r\n\t\t\t\tthis.$slidesMask.off( this.transitionEvent );\r\n\t\t\t\tthis.$slidesMask.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$slidesMask.off( that.transitionEvent );\r\n\r\n\t\t\t\t\t// Fire the 'resizeHeightComplete' event\r\n\t\t\t\t\tthat.trigger({ type: 'resizeHeightComplete' });\r\n\t\t\t\t\tif ( $.isFunction( that.settings.resizeHeightComplete ) ) {\r\n\t\t\t\t\t\tthat.settings.resizeHeightComplete.call( that, { type: 'resizeHeightComplete' } );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$slidesMask.css( css );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slidesMask.stop().animate( css, this.settings.heightAnimationDuration, function( event ) {\r\n\t\t\t\t\t// Fire the 'resizeHeightComplete' event\r\n\t\t\t\t\tthat.trigger({ type: 'resizeHeightComplete' });\r\n\t\t\t\t\tif ( $.isFunction( that.settings.resizeHeightComplete ) ) {\r\n\t\t\t\t\t\tthat.settings.resizeHeightComplete.call( that, { type: 'resizeHeightComplete' } );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the slider instance\r\n\t\tdestroy: function() {\r\n\t\t\t// Remove the stored reference to this instance\r\n\t\t\tthis.$slider.removeData( 'sliderPro' );\r\n\t\t\t\r\n\t\t\t// Clean the CSS\r\n\t\t\tthis.$slider.removeAttr( 'style' );\r\n\t\t\tthis.$slides.removeAttr( 'style' );\r\n\r\n\t\t\t// Remove event listeners\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\t$( window ).off( 'resize.' + this.uniqueId + '.' + NS );\r\n\r\n\t\t\t// Destroy modules\r\n\t\t\tvar modules = $.SliderPro.modules;\r\n\r\n\t\t\tif ( typeof modules !== 'undefined' ) {\r\n\t\t\t\tfor ( var i = 0; i < modules.length; i++ ) {\r\n\t\t\t\t\tif ( typeof this[ 'destroy' + modules[ i ] ] !== 'undefined' ) {\r\n\t\t\t\t\t\tthis[ 'destroy' + modules[ i ] ]();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Destroy all slides\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\telement.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.slides.length = 0;\r\n\r\n\t\t\t// Move the slides to their initial position in the DOM and \r\n\t\t\t// remove the container elements created dynamically.\r\n\t\t\tthis.$slides.prependTo( this.$slider );\r\n\t\t\tthis.$slidesContainer.remove();\r\n\t\t},\r\n\r\n\t\t// Set properties on runtime\r\n\t\t_setProperties: function( properties, store ) {\r\n\t\t\t// Parse the properties passed as an object\r\n\t\t\tfor ( var prop in properties ) {\r\n\t\t\t\tthis.settings[ prop ] = properties[ prop ];\r\n\r\n\t\t\t\t// Alter the original settings as well unless 'false' is passed to the 'store' parameter\r\n\t\t\t\tif ( store !== false ) {\r\n\t\t\t\t\tthis.originalSettings[ prop ] = properties[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\t// Attach an event handler to the slider\r\n\t\ton: function( type, callback ) {\r\n\t\t\treturn this.$slider.on( type, callback );\r\n\t\t},\r\n\r\n\t\t// Detach an event handler\r\n\t\toff: function( type ) {\r\n\t\t\treturn this.$slider.off( type );\r\n\t\t},\r\n\r\n\t\t// Trigger an event on the slider\r\n\t\ttrigger: function( data ) {\r\n\t\t\treturn this.$slider.triggerHandler( data );\r\n\t\t},\r\n\r\n\t\t// Return the slide at the specified index\r\n\t\tgetSlideAt: function( index ) {\r\n\t\t\treturn this.slides[ index ];\r\n\t\t},\r\n\r\n\t\t// Return the index of the currently opened slide\r\n\t\tgetSelectedSlide: function() {\r\n\t\t\treturn this.selectedSlideIndex;\r\n\t\t},\r\n\r\n\t\t// Return the total amount of slides\r\n\t\tgetTotalSlides: function() {\r\n\t\t\treturn this.slides.length;\r\n\t\t},\r\n\r\n\t\t// The default options of the slider\r\n\t\tdefaults: {\r\n\t\t\t// Width of the slide\r\n\t\t\twidth: 500,\r\n\r\n\t\t\t// Height of the slide\r\n\t\t\theight: 300,\r\n\r\n\t\t\t// Indicates if the slider is responsive\r\n\t\t\tresponsive: true,\r\n\r\n\t\t\t// The aspect ratio of the slider (width/height)\r\n\t\t\taspectRatio: -1,\r\n\r\n\t\t\t// The scale mode for images (cover, contain, exact and none)\r\n\t\t\timageScaleMode: 'cover',\r\n\r\n\t\t\t// Indicates if the image will be centered\r\n\t\t\tcenterImage: true,\r\n\r\n\t\t\t// Indicates if the image can be scaled up more than its original size\r\n\t\t\tallowScaleUp: true,\r\n\r\n\t\t\t// Indicates if height of the slider will be adjusted to the\r\n\t\t\t// height of the selected slide\r\n\t\t\tautoHeight: false,\r\n\r\n\t\t\t// Indicates the initially selected slide\r\n\t\t\tstartSlide: 0,\r\n\r\n\t\t\t// Indicates if the slides will be shuffled\r\n\t\t\tshuffle: false,\r\n\r\n\t\t\t// Indicates whether the slides will be arranged horizontally\r\n\t\t\t// or vertically. Can be set to 'horizontal' or 'vertical'.\r\n\t\t\torientation: 'horizontal',\r\n\r\n\t\t\t// Indicates if the size of the slider will be forced to 'fullWidth' or 'fullWindow'\r\n\t\t\tforceSize: 'none',\r\n\r\n\t\t\t// Indicates if the slider will be loopable\r\n\t\t\tloop: true,\r\n\r\n\t\t\t// The distance between slides\r\n\t\t\tslideDistance: 10,\r\n\r\n\t\t\t// The duration of the slide animation\r\n\t\t\tslideAnimationDuration: 700,\r\n\r\n\t\t\t// The duration of the height animation\r\n\t\t\theightAnimationDuration: 700,\r\n\r\n\t\t\t// Sets the size of the visible area, allowing the increase of it in order\r\n\t\t\t// to make more slides visible.\r\n\t\t\t// By default, only the selected slide will be visible. \r\n\t\t\tvisibleSize: 'auto',\r\n\r\n\t\t\t// Breakpoints for allowing the slider's options to be changed\r\n\t\t\t// based on the size of the window.\r\n\t\t\tbreakpoints: null,\r\n\r\n\t\t\t// Called when the slider is initialized\r\n\t\t\tinit: function() {},\r\n\r\n\t\t\t// Called when the slider is updates\r\n\t\t\tupdate: function() {},\r\n\r\n\t\t\t// Called when the slider is resized\r\n\t\t\tsliderResize: function() {},\r\n\r\n\t\t\t// Called when a new slide is selected\r\n\t\t\tgotoSlide: function() {},\r\n\r\n\t\t\t// Called when the navigation to the newly selected slide is complete\r\n\t\t\tgotoSlideComplete: function() {},\r\n\r\n\t\t\t// Called when the height animation of the slider is complete\r\n\t\t\tresizeHeightComplete: function() {},\r\n\r\n\t\t\t// Called when a breakpoint is reached\r\n\t\t\tbreakpointReach: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\tvar SliderProSlide = function( slide, index, settings ) {\r\n\r\n\t\t// Reference to the slide jQuery element\r\n\t\tthis.$slide = slide;\r\n\r\n\t\t// Reference to the main slide image\r\n\t\tthis.$mainImage = null;\r\n\r\n\t\t// Reference to the container that will hold the main image\r\n\t\tthis.$imageContainer = null;\r\n\r\n\t\t// Indicates whether the slide has a main image\r\n\t\tthis.hasMainImage = false;\r\n\r\n\t\t// Indicates whether the main image is loaded\r\n\t\tthis.isMainImageLoaded = false;\r\n\r\n\t\t// Indicates whether the main image is in the process of being loaded\r\n\t\tthis.isMainImageLoading = false;\r\n\r\n\t\t// Indicates whether the slide has any image. There could be other images (i.e., in layers)\r\n\t\t// besides the main slide image.\r\n\t\tthis.hasImages = false;\r\n\r\n\t\t// Indicates if all the images in the slide are loaded\r\n\t\tthis.areImagesLoaded = false;\r\n\r\n\t\t// The width and height of the slide\r\n\t\tthis.width = 0;\r\n\t\tthis.height = 0;\r\n\r\n\t\t// Reference to the global settings of the slider\r\n\t\tthis.settings = settings;\r\n\r\n\t\t// Set the index of the slide\r\n\t\tthis.setIndex( index );\r\n\r\n\t\t// Initialize the slide\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tSliderProSlide.prototype = {\r\n\r\n\t\t// The starting point for the slide\r\n\t\t_init: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Mark the slide as initialized\r\n\t\t\tthis.$slide.attr( 'data-init', true );\r\n\r\n\t\t\t// Get the main slide image if there is one\r\n\t\t\tthis.$mainImage = this.$slide.find( '.sp-image' ).length !== 0 ? this.$slide.find( '.sp-image' ) : null;\r\n\r\n\t\t\t// If there is a main slide image, create a container for it and add the image to this container.\r\n\t\t\t// The container will allow the isolation of the image from the rest of the slide's content. This is\r\n\t\t\t// helpful when you want to show some content below the image and not cover it.\r\n\t\t\tif ( this.$mainImage !== null ) {\r\n\t\t\t\tthis.hasMainImage = true;\r\n\r\n\t\t\t\tthis.$imageContainer = $( '<div class=\"sp-image-container\"></div>' ).prependTo( this.$slide );\r\n\r\n\t\t\t\tif ( this.$mainImage.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\t\tthis.$mainImage.parent( 'a' ).appendTo( this.$imageContainer );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$mainImage.appendTo( this.$imageContainer );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.hasImages = this.$slide.find( 'img' ).length !== 0 ? true : false;\r\n\t\t},\r\n\r\n\t\t// Set the size of the slide\r\n\t\tsetSize: function( width, height ) {\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = this.settings.autoHeight === true ? 'auto' : height;\r\n\r\n\t\t\tthis.$slide.css({\r\n\t\t\t\t'width': this.width,\r\n\t\t\t\t'height': this.height\r\n\t\t\t});\r\n\r\n\t\t\tif ( this.hasMainImage === true ) {\r\n\t\t\t\tthis.$imageContainer.css({\r\n\t\t\t\t\t'width': this.width,\r\n\t\t\t\t\t'height': this.height\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Resize the main image if it's loaded. If the 'data-src' attribute is present it means\r\n\t\t\t\t// that the image will be lazy-loaded\r\n\t\t\t\tif ( typeof this.$mainImage.attr( 'data-src' ) === 'undefined' ) {\r\n\t\t\t\t\tthis.resizeMainImage();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get the size (width and height) of the slide\r\n\t\tgetSize: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tsize;\r\n\r\n\t\t\t// Check if all images have loaded, and if they have, return the size, else, return 'loading'\r\n\t\t\tif ( this.hasImages === true && this.areImagesLoaded === false && typeof this.$slide.attr( 'data-loading' ) === 'undefined' ) {\r\n\t\t\t\tthis.$slide.attr( 'data-loading', true );\r\n\r\n\t\t\t\tvar status = SliderProUtils.checkImagesComplete( this.$slide, function() {\r\n\t\t\t\t\tthat.areImagesLoaded = true;\r\n\t\t\t\t\tthat.$slide.removeAttr( 'data-loading' );\r\n\t\t\t\t\tthat.trigger({ type: 'imagesLoaded.' + NS, index: that.index });\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( status === 'complete' ) {\r\n\t\t\t\t\tsize = this.calculateSize();\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t'width': size.width,\r\n\t\t\t\t\t\t'height': size.height\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'loading';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsize = this.calculateSize();\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t'width': size.width,\r\n\t\t\t\t\t'height': size.height\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Calculate the width and height of the slide by going\r\n\t\t// through all the child elements and measuring their 'bottom'\r\n\t\t// and 'right' properties. The element with the biggest\r\n\t\t// 'right'/'bottom' property will determine the slide's\r\n\t\t// width/height.\r\n\t\tcalculateSize: function() {\r\n\t\t\tvar width = this.$slide.width(),\r\n\t\t\t\theight = this.$slide.height();\r\n\r\n\t\t\tthis.$slide.children().each(function( index, element ) {\r\n\t\t\t\tvar child = $( element );\r\n\r\n\t\t\t\tif ( child.is( ':hidden' ) === true ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar\trect = element.getBoundingClientRect(),\r\n\t\t\t\t\tbottom = child.position().top + ( rect.bottom - rect.top ),\r\n\t\t\t\t\tright = child.position().left + ( rect.right - rect.left );\r\n\r\n\t\t\t\tif ( bottom > height ) {\r\n\t\t\t\t\theight = bottom;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( right > width ) {\r\n\t\t\t\t\twidth = right;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn { width: width, height: height };\r\n\t\t},\r\n\r\n\t\t// Resize the main image.\r\n\t\t// \r\n\t\t// Call this when the slide resizes or when the main image has changed to a different image.\r\n\t\tresizeMainImage: function( isNewImage ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// If the main image has changed, reset the 'flags'\r\n\t\t\tif ( isNewImage === true ) {\r\n\t\t\t\tthis.isMainImageLoaded = false;\r\n\t\t\t\tthis.isMainImageLoading = false;\r\n\t\t\t}\r\n\r\n\t\t\t// If the image was not loaded yet and it's not in the process of being loaded, load it\r\n\t\t\tif ( this.isMainImageLoaded === false && this.isMainImageLoading === false ) {\r\n\t\t\t\tthis.isMainImageLoading = true;\r\n\r\n\t\t\t\tSliderProUtils.checkImagesComplete( this.$mainImage, function() {\r\n\t\t\t\t\tthat.isMainImageLoaded = true;\r\n\t\t\t\t\tthat.isMainImageLoading = false;\r\n\t\t\t\t\tthat.resizeMainImage();\r\n\t\t\t\t\tthat.trigger({ type: 'imagesLoaded.' + NS, index: that.index });\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.allowScaleUp === false ) {\r\n\t\t\t\tthis.$mainImage.css({ 'width': '', 'height': '', 'maxWidth': '', 'maxHeight': '' });\r\n\r\n\t\t\t\tvar naturalWidth = this.$mainImage.width(),\r\n\t\t\t\t\tnaturalHeight = this.$mainImage.height();\r\n\r\n\t\t\t\tthis.$mainImage.css({ 'maxWidth': naturalWidth, 'maxHeight': naturalHeight });\r\n\t\t\t}\r\n\r\n\t\t\t// After the main image has loaded, resize it\r\n\t\t\tif ( this.settings.autoHeight === true ) {\r\n\t\t\t\tthis.$mainImage.css({ width: '100%', height: 'auto' });\r\n\t\t\t} else {\r\n\t\t\t\tif ( this.settings.imageScaleMode === 'cover' ) {\r\n\t\t\t\t\tif ( this.$mainImage.width() / this.$mainImage.height() <= this.width / this.height ) {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: '100%', height: 'auto' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: 'auto', height: '100%' });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( this.settings.imageScaleMode === 'contain' ) {\r\n\t\t\t\t\tif ( this.$mainImage.width() / this.$mainImage.height() >= this.width / this.height ) {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: '100%', height: 'auto' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$mainImage.css({ width: 'auto', height: '100%' });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( this.settings.imageScaleMode === 'exact' ) {\r\n\t\t\t\t\tthis.$mainImage.css({ width: '100%', height: '100%' });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.centerImage === true ) {\r\n\t\t\t\tthis.$mainImage.css({ 'marginLeft': ( this.$imageContainer.width() - this.$mainImage.width() ) * 0.5, 'marginTop': ( this.$imageContainer.height() - this.$mainImage.height() ) * 0.5 });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the slide\r\n\t\tdestroy: function() {\r\n\t\t\t// Clean the slide element from attached styles and data\r\n\t\t\tthis.$slide.removeAttr( 'style' );\r\n\t\t\tthis.$slide.removeAttr( 'data-init' );\r\n\t\t\tthis.$slide.removeAttr( 'data-index' );\r\n\t\t\tthis.$slide.removeAttr( 'data-loaded' );\r\n\r\n\t\t\t// If there is a main image, remove its container\r\n\t\t\tif ( this.hasMainImage === true ) {\r\n\t\t\t\tthis.$slide.find( '.sp-image' )\r\n\t\t\t\t\t.removeAttr( 'style' )\r\n\t\t\t\t\t.appendTo( this.$slide );\r\n\r\n\t\t\t\tthis.$slide.find( '.sp-image-container' ).remove();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Return the index of the slide\r\n\t\tgetIndex: function() {\r\n\t\t\treturn this.index;\r\n\t\t},\r\n\r\n\t\t// Set the index of the slide\r\n\t\tsetIndex: function( index ) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.$slide.attr( 'data-index', this.index );\r\n\t\t},\r\n\r\n\t\t// Attach an event handler to the slide\r\n\t\ton: function( type, callback ) {\r\n\t\t\treturn this.$slide.on( type, callback );\r\n\t\t},\r\n\r\n\t\t// Detach an event handler to the slide\r\n\t\toff: function( type ) {\r\n\t\t\treturn this.$slide.off( type );\r\n\t\t},\r\n\r\n\t\t// Trigger an event on the slide\r\n\t\ttrigger: function( data ) {\r\n\t\t\treturn this.$slide.triggerHandler( data );\r\n\t\t}\r\n\t};\r\n\r\n\twindow.SliderPro = SliderPro;\r\n\twindow.SliderProSlide = SliderProSlide;\r\n\r\n\t$.fn.sliderPro = function( options ) {\r\n\t\tvar args = Array.prototype.slice.call( arguments, 1 );\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\t// Instantiate the slider or alter it\r\n\t\t\tif ( typeof $( this ).data( 'sliderPro' ) === 'undefined' ) {\r\n\t\t\t\tvar newInstance = new SliderPro( this, options );\r\n\r\n\t\t\t\t// Store a reference to the instance created\r\n\t\t\t\t$( this ).data( 'sliderPro', newInstance );\r\n\t\t\t} else if ( typeof options !== 'undefined' ) {\r\n\t\t\t\tvar\tcurrentInstance = $( this ).data( 'sliderPro' );\r\n\r\n\t\t\t\t// Check the type of argument passed\r\n\t\t\t\tif ( typeof currentInstance[ options ] === 'function' ) {\r\n\t\t\t\t\tcurrentInstance[ options ].apply( currentInstance, args );\r\n\t\t\t\t} else if ( typeof currentInstance.settings[ options ] !== 'undefined' ) {\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tobj[ options ] = args[ 0 ];\r\n\t\t\t\t\tcurrentInstance._setProperties( obj );\r\n\t\t\t\t} else if ( typeof options === 'object' ) {\r\n\t\t\t\t\tcurrentInstance._setProperties( options );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.error( options + ' does not exist in sliderPro.' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// Contains useful utility functions\r\n\tvar SliderProUtils = {\r\n\r\n\t\t// Indicates what type of animations are supported in the current browser\r\n\t\t// Can be CSS 3D, CSS 2D or JavaScript\r\n\t\tsupportedAnimation: null,\r\n\r\n\t\t// Indicates the required vendor prefix for the current browser\r\n\t\tvendorPrefix: null,\r\n\r\n\t\t// Indicates the name of the transition's complete event for the current browser\r\n\t\ttransitionEvent: null,\r\n\r\n\t\t// Indicates if the current browser is Internet Explorer (any version)\r\n\t\tisIE: null,\r\n\r\n\t\t// Check whether CSS3 3D or 2D transforms are supported. If they aren't, use JavaScript animations\r\n\t\tgetSupportedAnimation: function() {\r\n\t\t\tif ( this.supportedAnimation !== null ) {\r\n\t\t\t\treturn this.supportedAnimation;\r\n\t\t\t}\r\n\r\n\t\t\tvar element = document.body || document.documentElement,\r\n\t\t\t\telementStyle = element.style,\r\n\t\t\t\tisCSSTransitions = typeof elementStyle.transition !== 'undefined' ||\r\n\t\t\t\t\t\t\t\t\ttypeof elementStyle.WebkitTransition !== 'undefined' ||\r\n\t\t\t\t\t\t\t\t\ttypeof elementStyle.MozTransition !== 'undefined' ||\r\n\t\t\t\t\t\t\t\t\ttypeof elementStyle.OTransition !== 'undefined';\r\n\r\n\t\t\tif ( isCSSTransitions === true ) {\r\n\t\t\t\tvar div = document.createElement( 'div' );\r\n\r\n\t\t\t\t// Check if 3D transforms are supported\r\n\t\t\t\tif ( typeof div.style.WebkitPerspective !== 'undefined' || typeof div.style.perspective !== 'undefined' ) {\r\n\t\t\t\t\tthis.supportedAnimation = 'css-3d';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Additional checks for Webkit\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' && typeof div.styleWebkitPerspective !== 'undefined' ) {\r\n\t\t\t\t\tvar style = document.createElement( 'style' );\r\n\t\t\t\t\tstyle.textContent = '@media (transform-3d),(-webkit-transform-3d){#test-3d{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0;}}';\r\n\t\t\t\t\tdocument.getElementsByTagName( 'head' )[0].appendChild( style );\r\n\r\n\t\t\t\t\tdiv.id = 'test-3d';\r\n\t\t\t\t\tdocument.body.appendChild( div );\r\n\r\n\t\t\t\t\tif ( ! ( div.offsetLeft === 9 && div.offsetHeight === 5 ) ) {\r\n\t\t\t\t\t\tthis.supportedAnimation = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstyle.parentNode.removeChild( style );\r\n\t\t\t\t\tdiv.parentNode.removeChild( div );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If CSS 3D transforms are not supported, check if 2D transforms are supported\r\n\t\t\t\tif ( this.supportedAnimation === null && ( typeof div.style['-webkit-transform'] !== 'undefined' || typeof div.style.transform !== 'undefined' ) ) {\r\n\t\t\t\t\tthis.supportedAnimation = 'css-2d';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.supportedAnimation = 'javascript';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this.supportedAnimation;\r\n\t\t},\r\n\r\n\t\t// Check what vendor prefix should be used in the current browser\r\n\t\tgetVendorPrefix: function() {\r\n\t\t\tif ( this.vendorPrefix !== null ) {\r\n\t\t\t\treturn this.vendorPrefix;\r\n\t\t\t}\r\n\r\n\t\t\tvar div = document.createElement( 'div' ),\r\n\t\t\t\tprefixes = [ 'Webkit', 'Moz', 'ms', 'O' ];\r\n\t\t\t\r\n\t\t\tif ( 'transform' in div.style ) {\r\n\t\t\t\tthis.vendorPrefix = '';\r\n\t\t\t\treturn this.vendorPrefix;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor ( var i = 0; i < prefixes.length; i++ ) {\r\n\t\t\t\tif ( ( prefixes[ i ] + 'Transform' ) in div.style ) {\r\n\t\t\t\t\tthis.vendorPrefix = '-' + prefixes[ i ].toLowerCase() + '-';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this.vendorPrefix;\r\n\t\t},\r\n\r\n\t\t// Check the name of the transition's complete event in the current browser\r\n\t\tgetTransitionEvent: function() {\r\n\t\t\tif ( this.transitionEvent !== null ) {\r\n\t\t\t\treturn this.transitionEvent;\r\n\t\t\t}\r\n\r\n\t\t\tvar div = document.createElement( 'div' ),\r\n\t\t\t\ttransitions = {\r\n\t\t\t\t\t'transition': 'transitionend',\r\n\t\t\t\t\t'WebkitTransition': 'webkitTransitionEnd',\r\n\t\t\t\t\t'MozTransition': 'transitionend',\r\n\t\t\t\t\t'OTransition': 'oTransitionEnd'\r\n\t\t\t\t};\r\n\r\n\t\t\tfor ( var transition in transitions ) {\r\n\t\t\t\tif ( transition in div.style ) {\r\n\t\t\t\t\tthis.transitionEvent = transitions[ transition ];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this.transitionEvent;\r\n\t\t},\r\n\r\n\t\t// If a single image is passed, check if it's loaded.\r\n\t\t// If a different element is passed, check if there are images\r\n\t\t// inside it, and check if these images are loaded.\r\n\t\tcheckImagesComplete: function( target, callback ) {\r\n\t\t\tvar that = this,\r\n\r\n\t\t\t\t// Check the initial status of the image(s)\r\n\t\t\t\tstatus = this.checkImagesStatus( target );\r\n\r\n\t\t\t// If there are loading images, wait for them to load.\r\n\t\t\t// If the images are loaded, call the callback function directly.\r\n\t\t\tif ( status === 'loading' ) {\r\n\t\t\t\tvar checkImages = setInterval(function() {\r\n\t\t\t\t\tstatus = that.checkImagesStatus( target );\r\n\r\n\t\t\t\t\tif ( status === 'complete' ) {\r\n\t\t\t\t\t\tclearInterval( checkImages );\r\n\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100 );\r\n\t\t\t} else if ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\r\n\t\t\treturn status;\r\n\t\t},\r\n\r\n\t\tcheckImagesStatus: function( target ) {\r\n\t\t\tvar status = 'complete';\r\n\r\n\t\t\tif ( target.is( 'img' ) && target[0].complete === false ) {\r\n\t\t\t\tstatus = 'loading';\r\n\t\t\t} else {\r\n\t\t\t\ttarget.find( 'img' ).each(function( index ) {\r\n\t\t\t\t\tvar image = $( this )[0];\r\n\r\n\t\t\t\t\tif ( image.complete === false ) {\r\n\t\t\t\t\t\tstatus = 'loading';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn status;\r\n\t\t},\r\n\r\n\t\tcheckIE: function() {\r\n\t\t\tif ( this.isIE !== null ) {\r\n\t\t\t\treturn this.isIE;\r\n\t\t\t}\r\n\r\n\t\t\tvar userAgent = window.navigator.userAgent,\r\n\t\t\t\tmsie = userAgent.indexOf( 'MSIE' );\r\n\r\n\t\t\tif ( userAgent.indexOf( 'MSIE' ) !== -1 || userAgent.match( /Trident.*rv\\:11\\./ ) ) {\r\n\t\t\t\tthis.isIE = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isIE = false;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.isIE;\r\n\t\t}\r\n\t};\r\n\r\n\twindow.SliderProUtils = SliderProUtils;\r\n\r\n})( window, jQuery );\r\n\r\n// Thumbnails module for Slider Pro.\r\n// \r\n// Adds the possibility to create a thumbnail scroller, each thumbnail\r\n// corresponding to a slide.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Thumbnails.' + $.SliderPro.namespace;\r\n\r\n\tvar Thumbnails = {\r\n\r\n\t\t// Reference to the thumbnail scroller \r\n\t\t$thumbnails: null,\r\n\r\n\t\t// Reference to the container of the thumbnail scroller\r\n\t\t$thumbnailsContainer: null,\r\n\r\n\t\t// List of Thumbnail objects\r\n\t\tthumbnails: null,\r\n\r\n\t\t// Index of the selected thumbnail\r\n\t\tselectedThumbnailIndex: 0,\r\n\r\n\t\t// Total size (width or height, depending on the orientation) of the thumbnails\r\n\t\tthumbnailsSize: 0,\r\n\r\n\t\t// Size of the thumbnail's container\r\n\t\tthumbnailsContainerSize: 0,\r\n\r\n\t\t// The position of the thumbnail scroller inside its container\r\n\t\tthumbnailsPosition: 0,\r\n\r\n\t\t// Orientation of the thumbnails\r\n\t\tthumbnailsOrientation: null,\r\n\r\n\t\t// Indicates the 'left' or 'top' position based on the orientation of the thumbnails\r\n\t\tthumbnailsPositionProperty: null,\r\n\r\n\t\t// Indicates if there are thumbnails in the slider\r\n\t\tisThumbnailScroller: false,\r\n\r\n\t\tinitThumbnails: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.thumbnails = [];\r\n\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._thumbnailsOnUpdate, this ) );\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._thumbnailsOnResize, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, function( event ) {\r\n\t\t\t\tthat._gotoThumbnail( event.index );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Called when the slider is updated\r\n\t\t_thumbnailsOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail' ).length === 0 && this.thumbnails.length === 0 ) {\r\n\t\t\t\tthis.isThumbnailScroller = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isThumbnailScroller = true;\r\n\r\n\t\t\t// Create the container of the thumbnail scroller, if it wasn't created yet\r\n\t\t\tif ( this.$thumbnailsContainer === null ) {\r\n\t\t\t\tthis.$thumbnailsContainer = $( '<div class=\"sp-thumbnails-container\"></div>' ).insertAfter( this.$slidesContainer );\r\n\t\t\t}\r\n\r\n\t\t\t// If the thumbnails' main container doesn't exist, create it, and get a reference to it\r\n\t\t\tif ( this.$thumbnails === null ) {\r\n\t\t\t\tif ( this.$slider.find( '.sp-thumbnails' ).length !== 0 ) {\r\n\t\t\t\t\tthis.$thumbnails = this.$slider.find( '.sp-thumbnails' ).appendTo( this.$thumbnailsContainer );\r\n\r\n\t\t\t\t\t// Shuffle/randomize the thumbnails\r\n\t\t\t\t\tif ( this.settings.shuffle === true ) {\r\n\t\t\t\t\t\tvar thumbnails = this.$thumbnails.find( '.sp-thumbnail' ),\r\n\t\t\t\t\t\t\tshuffledThumbnails = [];\r\n\r\n\t\t\t\t\t\t// Reposition the thumbnails based on the order of the indexes in the\r\n\t\t\t\t\t\t// 'shuffledIndexes' array\r\n\t\t\t\t\t\t$.each( this.shuffledIndexes, function( index, element ) {\r\n\t\t\t\t\t\t\tvar $thumbnail = $( thumbnails[ element ] );\r\n\r\n\t\t\t\t\t\t\tif ( $thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\t\t\t\t\t$thumbnail = $thumbnail.parent( 'a' );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tshuffledThumbnails.push( $thumbnail );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Append the sorted thumbnails to the thumbnail scroller\r\n\t\t\t\t\t\tthis.$thumbnails.empty().append( shuffledThumbnails ) ;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$thumbnails = $( '<div class=\"sp-thumbnails\"></div>' ).appendTo( this.$thumbnailsContainer );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Check if there are thumbnails inside the slides and move them in the thumbnails container\r\n\t\t\tthis.$slides.find( '.sp-thumbnail' ).each( function( index ) {\r\n\t\t\t\tvar $thumbnail = $( this ),\r\n\t\t\t\t\tthumbnailIndex = $thumbnail.parents( '.sp-slide' ).index(),\r\n\t\t\t\t\tlastThumbnailIndex = that.$thumbnails.find( '.sp-thumbnail' ).length - 1;\r\n\r\n\t\t\t\tif ( $thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\t\t$thumbnail = $thumbnail.parent( 'a' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the index of the slide that contains the thumbnail is greater than the total number\r\n\t\t\t\t// of thumbnails from the thumbnails container, position the thumbnail at the end.\r\n\t\t\t\t// Otherwise, add the thumbnails at the corresponding position.\r\n\t\t\t\tif ( thumbnailIndex > lastThumbnailIndex ) {\r\n\t\t\t\t\t$thumbnail.appendTo( that.$thumbnails );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$thumbnail.insertBefore( that.$thumbnails.find( '.sp-thumbnail' ).eq( thumbnailIndex ) );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Loop through the Thumbnail objects and if a corresponding element is not found in the DOM,\r\n\t\t\t// it means that the thumbnail might have been removed. In this case, destroy that Thumbnail instance.\r\n\t\t\tfor ( var i = this.thumbnails.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tif ( this.$thumbnails.find( '.sp-thumbnail[data-index=\"' + i + '\"]' ).length === 0 ) {\r\n\t\t\t\t\tvar thumbnail = this.thumbnails[ i ];\r\n\r\n\t\t\t\t\tthumbnail.destroy();\r\n\t\t\t\t\tthis.thumbnails.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Loop through the thumbnails and if there is any uninitialized thumbnail,\r\n\t\t\t// initialize it, else update the thumbnail's index.\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail' ).each(function( index ) {\r\n\t\t\t\tvar $thumbnail = $( this );\r\n\r\n\t\t\t\tif ( typeof $thumbnail.attr( 'data-init' ) === 'undefined' ) {\r\n\t\t\t\t\tthat._createThumbnail( $thumbnail, index );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.thumbnails[ index ].setIndex( index );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Remove the previous class that corresponds to the position of the thumbnail scroller\r\n\t\t\tthis.$thumbnailsContainer.removeClass( 'sp-top-thumbnails sp-bottom-thumbnails sp-left-thumbnails sp-right-thumbnails' );\r\n\r\n\t\t\t// Check the position of the thumbnail scroller and assign it the appropriate class and styling\r\n\t\t\tif ( this.settings.thumbnailsPosition === 'top' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-top-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'horizontal';\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'bottom' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-bottom-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'horizontal';\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'left' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-left-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'vertical';\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'right' ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-right-thumbnails' );\r\n\t\t\t\tthis.thumbnailsOrientation = 'vertical';\r\n\t\t\t}\r\n\r\n\t\t\t// Check if the pointer needs to be created\r\n\t\t\tif ( this.settings.thumbnailPointer === true ) {\r\n\t\t\t\tthis.$thumbnailsContainer.addClass( 'sp-has-pointer' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnailsContainer.removeClass( 'sp-has-pointer' );\r\n\t\t\t}\r\n\r\n\t\t\t// Mark the thumbnail that corresponds to the selected slide\r\n\t\t\tthis.selectedThumbnailIndex = this.selectedSlideIndex;\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail-container' ).eq( this.selectedThumbnailIndex ).addClass( 'sp-selected-thumbnail' );\r\n\t\t\t\r\n\t\t\t// Calculate the total size of the thumbnails\r\n\t\t\tthis.thumbnailsSize = 0;\r\n\r\n\t\t\t$.each( this.thumbnails, function( index, thumbnail ) {\r\n\t\t\t\tthumbnail.setSize( that.settings.thumbnailWidth, that.settings.thumbnailHeight );\r\n\t\t\t\tthat.thumbnailsSize += that.thumbnailsOrientation === 'horizontal' ? thumbnail.getSize().width : thumbnail.getSize().height;\r\n\t\t\t});\r\n\r\n\t\t\t// Set the size of the thumbnails\r\n\t\t\tif ( this.thumbnailsOrientation === 'horizontal' ) {\r\n\t\t\t\tthis.$thumbnails.css({ 'width': this.thumbnailsSize, 'height': this.settings.thumbnailHeight });\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'height', '' );\r\n\t\t\t\tthis.thumbnailsPositionProperty = 'left';\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnails.css({ 'width': this.settings.thumbnailWidth, 'height': this.thumbnailsSize });\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'width', '' );\r\n\t\t\t\tthis.thumbnailsPositionProperty = 'top';\r\n\t\t\t}\r\n\r\n\t\t\t// Fire the 'thumbnailsUpdate' event\r\n\t\t\tthis.trigger({ type: 'thumbnailsUpdate' });\r\n\t\t\tif ( $.isFunction( this.settings.thumbnailsUpdate ) ) {\r\n\t\t\t\tthis.settings.thumbnailsUpdate.call( this, { type: 'thumbnailsUpdate' } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create an individual thumbnail\r\n\t\t_createThumbnail: function( element, index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tthumbnail = new Thumbnail( element, this.$thumbnails, index );\r\n\r\n\t\t\t// When the thumbnail is clicked, navigate to the corresponding slide\r\n\t\t\tthumbnail.on( 'thumbnailClick.' + NS, function( event ) {\r\n\t\t\t\tthat.gotoSlide( event.index );\r\n\t\t\t});\r\n\r\n\t\t\t// Add the thumbnail at the specified index\r\n\t\t\tthis.thumbnails.splice( index, 0, thumbnail );\r\n\t\t},\r\n\r\n\t\t// Called when the slider is resized.\r\n\t\t// Resets the size and position of the thumbnail scroller container.\r\n\t\t_thumbnailsOnResize: function() {\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\tnewThumbnailsPosition;\r\n\r\n\t\t\tif ( this.thumbnailsOrientation === 'horizontal' ) {\r\n\t\t\t\tthis.thumbnailsContainerSize = Math.min( this.$slidesMask.width(), this.thumbnailsSize );\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'width', this.thumbnailsContainerSize );\r\n\r\n\t\t\t\t// Reduce the slide mask's height, to make room for the thumbnails\r\n\t\t\t\tif ( this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\tthis.$slidesMask.css( 'height', this.$slidesMask.height() - this.$thumbnailsContainer.outerHeight( true ) );\r\n\r\n\t\t\t\t\t// Resize the slide\r\n\t\t\t\t\tthis.slideHeight = this.$slidesMask.height();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\t\telement.setSize( that.slideWidth, that.slideHeight );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.thumbnailsOrientation === 'vertical' ) {\r\n\r\n\t\t\t\t// Check if the width of the slide mask plus the width of the thumbnail scroller is greater than\r\n\t\t\t\t// the width of the slider's container and if that's the case, reduce the slides container width\r\n\t\t\t\t// in order to make the entire slider fit inside the slider's container.\r\n\t\t\t\tif ( this.$slidesMask.width() + this.$thumbnailsContainer.outerWidth( true ) > this.$slider.parent().width() ) {\r\n\t\t\t\t\t// Reduce the slider's width, to make room for the thumbnails\r\n\t\t\t\t\tif ( this.settings.forceSize === 'fullWidth' || this.settings.forceSize === 'fullWindow' ) {\r\n\t\t\t\t\t\tthis.$slider.css( 'max-width', $( window ).width() - this.$thumbnailsContainer.outerWidth( true ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$slider.css( 'max-width', this.$slider.parent().width() - this.$thumbnailsContainer.outerWidth( true ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$slidesMask.css( 'width', this.$slider.width() );\r\n\r\n\t\t\t\t\t// If the slides are horizontally oriented, update the visible size and the offset\r\n\t\t\t\t\t// of the selected slide, since the slider's size was reduced to make room for the thumbnails.\r\n\t\t\t\t\t// \r\n\t\t\t\t\t// If the slides are vertically oriented, update the width and height (to maintain the aspect ratio)\r\n\t\t\t\t\t// of the slides.\r\n\t\t\t\t\tif ( this.settings.orientation === 'horizontal' ) {\r\n\t\t\t\t\t\tthis.visibleOffset = Math.round( ( this.$slider.width() - this.slideSize ) / 2 );\r\n\t\t\t\t\t\tthis.visibleSlidesSize = this.$slidesMask.width();\r\n\t\t\t\t\t} else if ( this.settings.orientation === 'vertical' ) {\r\n\t\t\t\t\t\tthis.slideWidth = this.$slider.width();\r\n\r\n\t\t\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\t\t\telement.setSize( that.slideWidth, that.slideHeight );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Re-arrange the slides\r\n\t\t\t\t\tthis._resetSlidesPosition();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.thumbnailsContainerSize = Math.min( this.$slidesMask.height(), this.thumbnailsSize );\r\n\t\t\t\tthis.$thumbnailsContainer.css( 'height', this.thumbnailsContainerSize );\r\n\t\t\t}\r\n\r\n\t\t\t// If the total size of the thumbnails is smaller than the thumbnail scroller' container (which has\r\n\t\t\t// the same size as the slides container), it means that all the thumbnails will be visible, so set\r\n\t\t\t// the position of the thumbnail scroller to 0.\r\n\t\t\t// \r\n\t\t\t// If that's not the case, the thumbnail scroller will be positioned based on which thumbnail is selected.\r\n\t\t\tif ( this.thumbnailsSize <= this.thumbnailsContainerSize || this.$thumbnails.find( '.sp-selected-thumbnail' ).length === 0 ) {\r\n\t\t\t\tnewThumbnailsPosition = 0;\r\n\t\t\t} else {\r\n\t\t\t\tnewThumbnailsPosition = Math.max( - this.thumbnails[ this.selectedThumbnailIndex ].getPosition()[ this.thumbnailsPositionProperty ], this.thumbnailsContainerSize - this.thumbnailsSize );\r\n\t\t\t}\r\n\r\n\t\t\t// Add a padding to the slider, based on the thumbnail scroller's orientation, to make room\r\n\t\t\t// for the thumbnails.\r\n\t\t\tif ( this.settings.thumbnailsPosition === 'top' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': this.$thumbnailsContainer.outerHeight( true ), 'paddingLeft': '', 'paddingRight': '' });\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'bottom' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': '', 'paddingRight': '' });\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'left' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': this.$thumbnailsContainer.outerWidth( true ), 'paddingRight': '' });\r\n\t\t\t} else if ( this.settings.thumbnailsPosition === 'right' ) {\r\n\t\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': '', 'paddingRight': this.$thumbnailsContainer.outerWidth( true ) });\r\n\t\t\t}\r\n\r\n\t\t\tthis._moveThumbnailsTo( newThumbnailsPosition, true );\r\n\t\t},\r\n\r\n\t\t// Selects the thumbnail at the indicated index and moves the thumbnail scroller\r\n\t\t// accordingly.\r\n\t\t_gotoThumbnail: function( index ) {\r\n\t\t\tif ( this.isThumbnailScroller === false || typeof this.thumbnails[ index ] === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar previousIndex = this.selectedThumbnailIndex,\r\n\t\t\t\tnewThumbnailsPosition = this.thumbnailsPosition;\r\n\r\n\t\t\tthis.selectedThumbnailIndex = index;\r\n\r\n\t\t\t// Set the 'selected' class to the appropriate thumbnail\r\n\t\t\tthis.$thumbnails.find( '.sp-selected-thumbnail' ).removeClass( 'sp-selected-thumbnail' );\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail-container' ).eq( this.selectedThumbnailIndex ).addClass( 'sp-selected-thumbnail' );\r\n\r\n\t\t\t// Calculate the new position that the thumbnail scroller needs to go to.\r\n\t\t\t// \r\n\t\t\t// If the selected thumbnail has a higher index than the previous one, make sure that the thumbnail\r\n\t\t\t// that comes after the selected thumbnail will be visible, if the selected thumbnail is not the\r\n\t\t\t// last thumbnail in the list.\r\n\t\t\t// \r\n\t\t\t// If the selected thumbnail has a lower index than the previous one, make sure that the thumbnail\r\n\t\t\t// that's before the selected thumbnail will be visible, if the selected thumbnail is not the\r\n\t\t\t// first thumbnail in the list.\r\n\t\t\tif ( this.selectedThumbnailIndex >= previousIndex ) {\r\n\t\t\t\tvar nextThumbnailIndex = this.selectedThumbnailIndex === this.thumbnails.length - 1 ? this.selectedThumbnailIndex : this.selectedThumbnailIndex + 1,\r\n\t\t\t\t\tnextThumbnail = this.thumbnails[ nextThumbnailIndex ],\r\n\t\t\t\t\tnextThumbnailPosition = this.thumbnailsOrientation === 'horizontal' ? nextThumbnail.getPosition().right : nextThumbnail.getPosition().bottom,\r\n\t\t\t\t\tthumbnailsRightPosition = - this.thumbnailsPosition + this.thumbnailsContainerSize;\r\n\r\n\t\t\t\tif ( nextThumbnailPosition > thumbnailsRightPosition ) {\r\n\t\t\t\t\tnewThumbnailsPosition = this.thumbnailsPosition - ( nextThumbnailPosition - thumbnailsRightPosition );\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.selectedThumbnailIndex < previousIndex ) {\r\n\t\t\t\tvar previousThumbnailIndex = this.selectedThumbnailIndex === 0 ? this.selectedThumbnailIndex : this.selectedThumbnailIndex - 1,\r\n\t\t\t\t\tpreviousThumbnail = this.thumbnails[ previousThumbnailIndex ],\r\n\t\t\t\t\tpreviousThumbnailPosition = this.thumbnailsOrientation === 'horizontal' ? previousThumbnail.getPosition().left : previousThumbnail.getPosition().top;\r\n\r\n\t\t\t\tif ( previousThumbnailPosition < - this.thumbnailsPosition ) {\r\n\t\t\t\t\tnewThumbnailsPosition = - previousThumbnailPosition;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Move the thumbnail scroller to the calculated position\r\n\t\t\tthis._moveThumbnailsTo( newThumbnailsPosition );\r\n\r\n\t\t\t// Fire the 'gotoThumbnail' event\r\n\t\t\tthis.trigger({ type: 'gotoThumbnail' });\r\n\t\t\tif ( $.isFunction( this.settings.gotoThumbnail ) ) {\r\n\t\t\t\tthis.settings.gotoThumbnail.call( this, { type: 'gotoThumbnail' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Move the thumbnail scroller to the indicated position\r\n\t\t_moveThumbnailsTo: function( position, instant, callback ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcss = {};\r\n\r\n\t\t\t// Return if the position hasn't changed\r\n\t\t\tif ( position === this.thumbnailsPosition ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.thumbnailsPosition = position;\r\n\r\n\t\t\t// Use CSS transitions if they are supported. If not, use JavaScript animation\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\tvar transition,\r\n\t\t\t\t\tleft = this.thumbnailsOrientation === 'horizontal' ? position : 0,\r\n\t\t\t\t\ttop = this.thumbnailsOrientation === 'horizontal' ? 0 : position;\r\n\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\ttransition = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$thumbnails.addClass( 'sp-animated' );\r\n\t\t\t\t\ttransition = this.vendorPrefix + 'transform ' + 700 / 1000 + 's';\r\n\r\n\t\t\t\t\tthis.$thumbnails.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.$thumbnails.off( that.transitionEvent );\r\n\t\t\t\t\t\tthat.$thumbnails.removeClass( 'sp-animated' );\r\n\r\n\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Fire the 'thumbnailsMoveComplete' event\r\n\t\t\t\t\t\tthat.trigger({ type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\tif ( $.isFunction( that.settings.thumbnailsMoveComplete ) ) {\r\n\t\t\t\t\t\t\tthat.settings.thumbnailsMoveComplete.call( that, { type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = transition;\r\n\r\n\t\t\t\tthis.$thumbnails.css( css );\r\n\t\t\t} else {\r\n\t\t\t\tcss[ 'margin-' + this.thumbnailsPositionProperty ] = position;\r\n\r\n\t\t\t\tif ( typeof instant !== 'undefined' && instant === true ) {\r\n\t\t\t\t\tthis.$thumbnails.css( css );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$thumbnails\r\n\t\t\t\t\t\t.addClass( 'sp-animated' )\r\n\t\t\t\t\t\t.animate( css, 700, function() {\r\n\t\t\t\t\t\t\tthat.$thumbnails.removeClass( 'sp-animated' );\r\n\r\n\t\t\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Fire the 'thumbnailsMoveComplete' event\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\t\tif ( $.isFunction( that.settings.thumbnailsMoveComplete ) ) {\r\n\t\t\t\t\t\t\t\tthat.settings.thumbnailsMoveComplete.call( that, { type: 'thumbnailsMoveComplete' });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Stop the movement of the thumbnail scroller\r\n\t\t_stopThumbnailsMovement: function() {\r\n\t\t\tvar css = {};\r\n\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\tvar\tmatrixString = this.$thumbnails.css( this.vendorPrefix + 'transform' ),\r\n\t\t\t\t\tmatrixType = matrixString.indexOf( 'matrix3d' ) !== -1 ? 'matrix3d' : 'matrix',\r\n\t\t\t\t\tmatrixArray = matrixString.replace( matrixType, '' ).match( /-?[0-9\\.]+/g ),\r\n\t\t\t\t\tleft = matrixType === 'matrix3d' ? parseInt( matrixArray[ 12 ], 10 ) : parseInt( matrixArray[ 4 ], 10 ),\r\n\t\t\t\t\ttop = matrixType === 'matrix3d' ? parseInt( matrixArray[ 13 ], 10 ) : parseInt( matrixArray[ 5 ], 10 );\r\n\r\n\t\t\t\tif ( this.supportedAnimation === 'css-3d' ) {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'translate(' + left + 'px, ' + top + 'px)';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcss[ this.vendorPrefix + 'transition' ] = '';\r\n\r\n\t\t\t\tthis.$thumbnails.css( css );\r\n\t\t\t\tthis.$thumbnails.off( this.transitionEvent );\r\n\t\t\t\tthis.thumbnailsPosition = this.thumbnailsOrientation === 'horizontal' ? parseInt( matrixArray[ 4 ] , 10 ) : parseInt( matrixArray[ 5 ] , 10 );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnails.stop();\r\n\t\t\t\tthis.thumbnailsPosition = parseInt( this.$thumbnails.css( 'margin-' + this.thumbnailsPositionProperty ), 10 );\r\n\t\t\t}\r\n\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-animated' );\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyThumbnails: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Remove event listeners\r\n\t\t\tthis.off( 'update.' + NS );\r\n\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\t$( window ).off( 'resize.' + this.uniqueId + '.' + NS );\r\n\r\n\t\t\t// Destroy the individual thumbnails\r\n\t\t\tthis.$thumbnails.find( '.sp-thumbnail' ).each( function() {\r\n\t\t\t\tvar $thumbnail = $( this ),\r\n\t\t\t\t\tindex = parseInt( $thumbnail.attr( 'data-index' ), 10 ),\r\n\t\t\t\t\tthumbnail = that.thumbnails[ index ];\r\n\r\n\t\t\t\tthumbnail.off( 'thumbnailClick.' + NS );\r\n\t\t\t\tthumbnail.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.thumbnails.length = 0;\r\n\r\n\t\t\t// Add the thumbnail scroller directly in the slider and\r\n\t\t\t// remove the thumbnail scroller container\r\n\t\t\tthis.$thumbnails.appendTo( this.$slider );\r\n\t\t\tthis.$thumbnailsContainer.remove();\r\n\t\t\t\r\n\t\t\t// Remove any created padding\r\n\t\t\tthis.$slider.css({ 'paddingTop': '', 'paddingLeft': '', 'paddingRight': '' });\r\n\t\t},\r\n\r\n\t\tthumbnailsDefaults: {\r\n\r\n\t\t\t// Sets the width of the thumbnail\r\n\t\t\tthumbnailWidth: 100,\r\n\r\n\t\t\t// Sets the height of the thumbnail\r\n\t\t\tthumbnailHeight: 80,\r\n\r\n\t\t\t// Sets the position of the thumbnail scroller (top, bottom, right, left)\r\n\t\t\tthumbnailsPosition: 'bottom',\r\n\r\n\t\t\t// Indicates if a pointer will be displayed for the selected thumbnail\r\n\t\t\tthumbnailPointer: false,\r\n\r\n\t\t\t// Called when the thumbnails are updated\r\n\t\t\tthumbnailsUpdate: function() {},\r\n\r\n\t\t\t// Called when a new thumbnail is selected\r\n\t\t\tgotoThumbnail: function() {},\r\n\r\n\t\t\t// Called when the thumbnail scroller has moved\r\n\t\t\tthumbnailsMoveComplete: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\tvar Thumbnail = function( thumbnail, thumbnails, index ) {\r\n\r\n\t\t// Reference to the thumbnail jQuery element\r\n\t\tthis.$thumbnail = thumbnail;\r\n\r\n\t\t// Reference to the thumbnail scroller\r\n\t\tthis.$thumbnails = thumbnails;\r\n\r\n\t\t// Reference to the thumbnail's container, which will be \r\n\t\t// created dynamically.\r\n\t\tthis.$thumbnailContainer = null;\r\n\r\n\t\t// The width and height of the thumbnail\r\n\t\tthis.width = 0;\r\n\t\tthis.height = 0;\r\n\r\n\t\t// Indicates whether the thumbnail's image is loaded\r\n\t\tthis.isImageLoaded = false;\r\n\r\n\t\t// Set the index of the slide\r\n\t\tthis.setIndex( index );\r\n\r\n\t\t// Initialize the thumbnail\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tThumbnail.prototype = {\r\n\r\n\t\t_init: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Mark the thumbnail as initialized\r\n\t\t\tthis.$thumbnail.attr( 'data-init', true );\r\n\r\n\t\t\t// Create a container for the thumbnail and add the original thumbnail to this container.\r\n\t\t\t// Having a container will help crop the thumbnail image if it's too large.\r\n\t\t\tthis.$thumbnailContainer = $( '<div class=\"sp-thumbnail-container\"></div>' ).appendTo( this.$thumbnails );\r\n\r\n\t\t\tif ( this.$thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\tthis.$thumbnail.parent( 'a' ).appendTo( this.$thumbnailContainer );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnail.appendTo( this.$thumbnailContainer );\r\n\t\t\t}\r\n\r\n\t\t\t// When the thumbnail container is clicked, fire an event\r\n\t\t\tthis.$thumbnailContainer.on( 'click.' + NS, function() {\r\n\t\t\t\tthat.trigger({ type: 'thumbnailClick.' + NS, index: that.index });\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Set the width and height of the thumbnail\r\n\t\tsetSize: function( width, height ) {\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\r\n\t\t\t// Apply the width and height to the thumbnail's container\r\n\t\t\tthis.$thumbnailContainer.css({ 'width': this.width, 'height': this.height });\r\n\r\n\t\t\t// If there is an image, resize it to fit the thumbnail container\r\n\t\t\tif ( this.$thumbnail.is( 'img' ) && typeof this.$thumbnail.attr( 'data-src' ) === 'undefined' ) {\r\n\t\t\t\tthis.resizeImage();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Return the width and height of the thumbnail\r\n\t\tgetSize: function() {\r\n\t\t\treturn {\r\n\t\t\t\twidth: this.$thumbnailContainer.outerWidth( true ),\r\n\t\t\t\theight: this.$thumbnailContainer.outerHeight( true )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Return the top, bottom, left and right position of the thumbnail\r\n\t\tgetPosition: function() {\r\n\t\t\treturn {\r\n\t\t\t\tleft: this.$thumbnailContainer.position().left + parseInt( this.$thumbnailContainer.css( 'marginLeft' ) , 10 ),\r\n\t\t\t\tright: this.$thumbnailContainer.position().left + parseInt( this.$thumbnailContainer.css( 'marginLeft' ) , 10 ) + this.$thumbnailContainer.outerWidth(),\r\n\t\t\t\ttop: this.$thumbnailContainer.position().top + parseInt( this.$thumbnailContainer.css( 'marginTop' ) , 10 ),\r\n\t\t\t\tbottom: this.$thumbnailContainer.position().top + parseInt( this.$thumbnailContainer.css( 'marginTop' ) , 10 ) + this.$thumbnailContainer.outerHeight()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Set the index of the thumbnail\r\n\t\tsetIndex: function( index ) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.$thumbnail.attr( 'data-index', this.index );\r\n\t\t},\r\n\r\n\t\t// Resize the thumbnail's image\r\n\t\tresizeImage: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// If the image is not loaded yet, load it\r\n\t\t\tif ( this.isImageLoaded === false ) {\r\n\t\t\t\tSliderProUtils.checkImagesComplete( this.$thumbnailContainer , function() {\r\n\t\t\t\t\tthat.isImageLoaded = true;\r\n\t\t\t\t\tthat.resizeImage();\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Get the reference to the thumbnail image again because it was replaced by\r\n\t\t\t// another img element during the loading process\r\n\t\t\tthis.$thumbnail = this.$thumbnailContainer.find( '.sp-thumbnail' );\r\n\r\n\t\t\t// Calculate whether the image should stretch horizontally or vertically\r\n\t\t\tvar imageWidth = this.$thumbnail.width(),\r\n\t\t\t\timageHeight = this.$thumbnail.height();\r\n\r\n\t\t\tif ( imageWidth / imageHeight <= this.width / this.height ) {\r\n\t\t\t\tthis.$thumbnail.css({ width: '100%', height: 'auto' });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnail.css({ width: 'auto', height: '100%' });\r\n\t\t\t}\r\n\r\n\t\t\tthis.$thumbnail.css({ 'marginLeft': ( this.$thumbnailContainer.width() - this.$thumbnail.width() ) * 0.5, 'marginTop': ( this.$thumbnailContainer.height() - this.$thumbnail.height() ) * 0.5 });\r\n\t\t},\r\n\r\n\t\t// Destroy the thumbnail\r\n\t\tdestroy: function() {\r\n\t\t\tthis.$thumbnailContainer.off( 'click.' + NS );\r\n\r\n\t\t\t// Remove added attributes\r\n\t\t\tthis.$thumbnail.removeAttr( 'data-init' );\r\n\t\t\tthis.$thumbnail.removeAttr( 'data-index' );\r\n\r\n\t\t\t// Remove the thumbnail's container and add the thumbnail\r\n\t\t\t// back to the thumbnail scroller container\r\n\t\t\tif ( this.$thumbnail.parent( 'a' ).length !== 0 ) {\r\n\t\t\t\tthis.$thumbnail.parent( 'a' ).insertBefore( this.$thumbnailContainer );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$thumbnail.insertBefore( this.$thumbnailContainer );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.$thumbnailContainer.remove();\r\n\t\t},\r\n\r\n\t\t// Attach an event handler to the slide\r\n\t\ton: function( type, callback ) {\r\n\t\t\treturn this.$thumbnailContainer.on( type, callback );\r\n\t\t},\r\n\r\n\t\t// Detach an event handler to the slide\r\n\t\toff: function( type ) {\r\n\t\t\treturn this.$thumbnailContainer.off( type );\r\n\t\t},\r\n\r\n\t\t// Trigger an event on the slide\r\n\t\ttrigger: function( data ) {\r\n\t\t\treturn this.$thumbnailContainer.triggerHandler( data );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Thumbnails', Thumbnails );\r\n\r\n})( window, jQuery );\r\n\r\n// ConditionalImages module for Slider Pro.\r\n// \r\n// Adds the possibility to specify multiple sources for each image and\r\n// load the image that's the most appropriate for the size of the slider.\r\n// For example, instead of loading a large image even if the slider will be small\r\n// you can specify a smaller image that will be loaded instead.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'ConditionalImages.' + $.SliderPro.namespace;\r\n\r\n\tvar ConditionalImages = {\r\n\r\n\t\t// Reference to the previous size\r\n\t\tpreviousImageSize: null,\r\n\r\n\t\t// Reference to the current size\r\n\t\tcurrentImageSize: null,\r\n\r\n\t\t// Indicates if the current display supports high PPI\r\n\t\tisRetinaScreen: false,\r\n\r\n\t\tinitConditionalImages: function() {\r\n\t\t\tthis.currentImageSize = this.previousImageSize = 'default';\r\n\t\t\tthis.isRetinaScreen = ( typeof this._isRetina !== 'undefined' ) && ( this._isRetina() === true );\r\n\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._conditionalImagesOnUpdate, this ) );\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._conditionalImagesOnResize, this ) );\r\n\t\t},\r\n\r\n\t\t// Loop through all the existing images and specify the original path of the image\r\n\t\t// inside the 'data-default' attribute.\r\n\t\t_conditionalImagesOnUpdate: function() {\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\t$slide.find( 'img:not([ data-default ])' ).each(function() {\r\n\t\t\t\t\tvar $image = $( this );\r\n\r\n\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\t\t\t$image.attr( 'data-default', $image.attr( 'data-src' ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$image.attr( 'data-default', $image.attr( 'src' ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// When the window resizes, identify the applyable image size based on the current size of the slider\r\n\t\t// and apply it to all images that have a version of the image specified for this size.\r\n\t\t_conditionalImagesOnResize: function() {\r\n\t\t\tif ( this.slideWidth <= this.settings.smallSize ) {\r\n\t\t\t\tthis.currentImageSize = 'small';\r\n\t\t\t} else if ( this.slideWidth <= this.settings.mediumSize ) {\r\n\t\t\t\tthis.currentImageSize = 'medium';\r\n\t\t\t} else if ( this.slideWidth <= this.settings.largeSize ) {\r\n\t\t\t\tthis.currentImageSize = 'large';\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentImageSize = 'default';\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.previousImageSize !== this.currentImageSize ) {\r\n\t\t\t\tvar that = this;\r\n\r\n\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\t\t$slide.find( 'img' ).each(function() {\r\n\t\t\t\t\t\tvar $image = $( this ),\r\n\t\t\t\t\t\t\timageSource = '';\r\n\r\n\t\t\t\t\t\t// Check if the current display supports high PPI and if a retina version of the current size was specified\r\n\t\t\t\t\t\tif ( that.isRetinaScreen === true && typeof $image.attr( 'data-retina' + that.currentImageSize ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\timageSource = $image.attr( 'data-retina' + that.currentImageSize );\r\n\r\n\t\t\t\t\t\t\t// If the retina image was not loaded yet, replace the default image source with the one\r\n\t\t\t\t\t\t\t// that corresponds to the current slider size\r\n\t\t\t\t\t\t\tif ( typeof $image.attr( 'data-retina' ) !== 'undefined' && $image.attr( 'data-retina' ) !== imageSource ) {\r\n\t\t\t\t\t\t\t\t$image.attr( 'data-retina', imageSource );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if ( ( that.isRetinaScreen === false || that.isRetinaScreen === true && typeof $image.attr( 'data-retina' ) === 'undefined' ) && typeof $image.attr( 'data-' + that.currentImageSize ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\timageSource = $image.attr( 'data-' + that.currentImageSize );\r\n\r\n\t\t\t\t\t\t\t// If the image is set to lazy load, replace the image source with the one\r\n\t\t\t\t\t\t\t// that corresponds to the current slider size\r\n\t\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' && $image.attr( 'data-src' ) !== imageSource ) {\r\n\t\t\t\t\t\t\t\t$image.attr( 'data-src', imageSource );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If a new image was found\r\n\t\t\t\t\t\tif ( imageSource !== '' ) {\r\n\r\n\t\t\t\t\t\t\t// The existence of the 'data-src' attribute indicates that the image\r\n\t\t\t\t\t\t\t// will be lazy loaded, so don't load the new image yet\r\n\t\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) === 'undefined' && $image.attr( 'src' ) !== imageSource  ) {\r\n\t\t\t\t\t\t\t\tthat._loadConditionalImage( $image, imageSource, function( newImage ) {\r\n\t\t\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-image' ) ) {\r\n\t\t\t\t\t\t\t\t\t\telement.$mainImage = newImage;\r\n\t\t\t\t\t\t\t\t\t\telement.resizeMainImage( true );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.previousImageSize = this.currentImageSize;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Replace the target image with a new image\r\n\t\t_loadConditionalImage: function( image, source, callback ) {\r\n\r\n\t\t\t// Create a new image element\r\n\t\t\tvar newImage = $( new Image() );\r\n\r\n\t\t\t// Copy the class(es) and inline style\r\n\t\t\tnewImage.attr( 'class', image.attr( 'class' ) );\r\n\t\t\tnewImage.attr( 'style', image.attr( 'style' ) );\r\n\r\n\t\t\t// Copy the data attributes\r\n\t\t\t$.each( image.data(), function( name, value ) {\r\n\t\t\t\tnewImage.attr( 'data-' + name, value );\r\n\t\t\t});\r\n\r\n\t\t\t// Copy the width and height attributes if they exist\r\n\t\t\tif ( typeof image.attr( 'width' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'width', image.attr( 'width' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'height' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'height', image.attr( 'height' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'alt' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'alt', image.attr( 'alt' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'title' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'title', image.attr( 'title' ) );\r\n\t\t\t}\r\n\r\n\t\t\tnewImage.attr( 'src', source );\r\n\r\n\t\t\t// Add the new image in the same container and remove the older image\r\n\t\t\tnewImage.insertAfter( image );\r\n\t\t\timage.remove();\r\n\t\t\timage = null;\r\n\t\t\t\t\r\n\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback( newImage );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyConditionalImages: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t},\r\n\r\n\t\tconditionalImagesDefaults: {\r\n\r\n\t\t\t// If the slider size is below this size, the small version of the images will be used\r\n\t\t\tsmallSize: 480,\r\n\r\n\t\t\t// If the slider size is below this size, the small version of the images will be used\r\n\t\t\tmediumSize: 768,\r\n\r\n\t\t\t// If the slider size is below this size, the small version of the images will be used\r\n\t\t\tlargeSize: 1024\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'ConditionalImages', ConditionalImages );\r\n\r\n})( window, jQuery );\r\n\r\n// Retina module for Slider Pro.\r\n// \r\n// Adds the possibility to load a different image when the slider is\r\n// viewed on a retina screen.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Retina.' + $.SliderPro.namespace;\r\n\r\n\tvar Retina = {\r\n\r\n\t\tinitRetina: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Return if it's not a retina screen\r\n\t\t\tif ( this._isRetina() === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._checkRetinaImages, this ) );\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail' ).length !== 0 ) {\r\n\t\t\t\tthis.on( 'update.Thumbnails.' + NS, $.proxy( this._checkRetinaThumbnailImages, this ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Checks if the current display supports high PPI\r\n\t\t_isRetina: function() {\r\n\t\t\tif ( window.devicePixelRatio >= 2 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( window.matchMedia && ( window.matchMedia( \"(-webkit-min-device-pixel-ratio: 2),(min-resolution: 2dppx)\" ).matches ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t// Loop through the slides and replace the images with their retina version\r\n\t\t_checkRetinaImages: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\tif ( typeof $slide.attr( 'data-retina-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$slide.attr( 'data-retina-loaded', true );\r\n\r\n\t\t\t\t\t$slide.find( 'img[data-retina]' ).each(function() {\r\n\t\t\t\t\t\tvar $image = $( this );\r\n\r\n\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\t$image.attr( 'data-src', $image.attr( 'data-retina' ) );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._loadRetinaImage( $image, function( newImage ) {\r\n\t\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-image' ) ) {\r\n\t\t\t\t\t\t\t\t\telement.$mainImage = newImage;\r\n\t\t\t\t\t\t\t\t\telement.resizeMainImage( true );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Loop through the thumbnails and replace the images with their retina version\r\n\t\t_checkRetinaThumbnailImages: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t$.each( this.thumbnails, function( index, element ) {\r\n\t\t\t\tvar $thumbnail = element.$thumbnailContainer;\r\n\r\n\t\t\t\tif ( typeof $thumbnail.attr( 'data-retina-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$thumbnail.attr( 'data-retina-loaded', true );\r\n\r\n\t\t\t\t\t$thumbnail.find( 'img[data-retina]' ).each(function() {\r\n\t\t\t\t\t\tvar $image = $( this );\r\n\r\n\t\t\t\t\t\tif ( typeof $image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\t\t\t\t$image.attr( 'data-src', $image.attr( 'data-retina' ) );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._loadRetinaImage( $image, function( newImage ) {\r\n\t\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-thumbnail' ) ) {\r\n\t\t\t\t\t\t\t\t\telement.resizeImage();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Load the retina image\r\n\t\t_loadRetinaImage: function( image, callback ) {\r\n\t\t\tvar retinaFound = false,\r\n\t\t\t\tnewImagePath = '';\r\n\r\n\t\t\t// Check if there is a retina image specified\r\n\t\t\tif ( typeof image.attr( 'data-retina' ) !== 'undefined' ) {\r\n\t\t\t\tretinaFound = true;\r\n\r\n\t\t\t\tnewImagePath = image.attr( 'data-retina' );\r\n\t\t\t}\r\n\r\n\t\t\t// Check if there is a lazy loaded, non-retina, image specified\r\n\t\t\tif ( typeof image.attr( 'data-src' ) !== 'undefined' ) {\r\n\t\t\t\tif ( retinaFound === false ) {\r\n\t\t\t\t\tnewImagePath = image.attr( 'data-src') ;\r\n\t\t\t\t}\r\n\r\n\t\t\t\timage.removeAttr('data-src');\r\n\t\t\t}\r\n\r\n\t\t\t// Return if there isn't a retina or lazy loaded image\r\n\t\t\tif ( newImagePath === '' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Create a new image element\r\n\t\t\tvar newImage = $( new Image() );\r\n\r\n\t\t\t// Copy the class(es) and inline style\r\n\t\t\tnewImage.attr( 'class', image.attr('class') );\r\n\t\t\tnewImage.attr( 'style', image.attr('style') );\r\n\r\n\t\t\t// Copy the data attributes\r\n\t\t\t$.each( image.data(), function( name, value ) {\r\n\t\t\t\tnewImage.attr( 'data-' + name, value );\r\n\t\t\t});\r\n\r\n\t\t\t// Copy the width and height attributes if they exist\r\n\t\t\tif ( typeof image.attr( 'width' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'width', image.attr( 'width' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'height' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'height', image.attr( 'height' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'alt' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'alt', image.attr( 'alt' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'title' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'title', image.attr( 'title' ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Add the new image in the same container and remove the older image\r\n\t\t\tnewImage.insertAfter( image );\r\n\t\t\timage.remove();\r\n\t\t\timage = null;\r\n\r\n\t\t\t// Assign the source of the image\r\n\t\t\tnewImage.attr( 'src', newImagePath );\r\n\r\n\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback( newImage );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyRetina: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'update.Thumbnails.' + NS );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Retina', Retina );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Lazy Loading module for Slider Pro.\r\n// \r\n// Adds the possibility to delay the loading of the images until the slides/thumbnails\r\n// that contain them become visible. This technique improves the initial loading\r\n// performance.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'LazyLoading.' + $.SliderPro.namespace;\r\n\r\n\tvar LazyLoading = {\r\n\r\n\t\tallowLazyLoadingCheck: true,\r\n\r\n\t\tinitLazyLoading: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// The 'resize' event is fired after every update, so it's possible to use it for checking\r\n\t\t\t// if the update made new slides become visible\r\n\t\t\t// \r\n\t\t\t// Also, resizing the slider might make new slides or thumbnails visible\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._lazyLoadingOnResize, this ) );\r\n\r\n\t\t\t// Check visible images when a new slide is selected\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._checkAndLoadVisibleImages, this ) );\r\n\r\n\t\t\t// Check visible thumbnail images when the thumbnails are updated because new thumbnail\r\n\t\t\t// might have been added or the settings might have been changed so that more thumbnail\r\n\t\t\t// images become visible\r\n\t\t\t// \r\n\t\t\t// Also, check visible thumbnail images after the thumbnails have moved because new thumbnails might\r\n\t\t\t// have become visible\r\n\t\t\tthis.on( 'thumbnailsUpdate.' + NS + ' ' + 'thumbnailsMoveComplete.' + NS, $.proxy( this._checkAndLoadVisibleThumbnailImages, this ) );\r\n\t\t},\r\n\r\n\t\t_lazyLoadingOnResize: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tif ( this.allowLazyLoadingCheck === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.allowLazyLoadingCheck = false;\r\n\t\t\t\r\n\t\t\tthis._checkAndLoadVisibleImages();\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail' ).length !== 0 ) {\r\n\t\t\t\tthis._checkAndLoadVisibleThumbnailImages();\r\n\t\t\t}\r\n\r\n\t\t\t// Use a timer to deffer the loading of images in order to prevent too many\r\n\t\t\t// checking attempts\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.allowLazyLoadingCheck = true;\r\n\t\t\t}, 500 );\r\n\t\t},\r\n\r\n\t\t// Check visible slides and load their images\r\n\t\t_checkAndLoadVisibleImages: function() {\r\n\t\t\tif ( this.$slider.find( '.sp-slide:not([ data-loaded ])' ).length === 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\r\n\t\t\t\t// Use either the middle position or the index of the selected slide as a reference, depending on\r\n\t\t\t\t// whether the slider is loopable\r\n\t\t\t\treferencePosition = this.settings.loop === true ? this.middleSlidePosition : this.selectedSlideIndex,\r\n\r\n\t\t\t\t// Calculate how many slides are visible at the sides of the selected slide\r\n\t\t\t\tvisibleOnSides = Math.ceil( ( this.visibleSlidesSize - this.slideSize ) / 2 / this.slideSize ),\r\n\r\n\t\t\t\t// Calculate the indexes of the first and last slide that will be checked\r\n\t\t\t\tfrom = referencePosition - visibleOnSides - 1 > 0 ? referencePosition - visibleOnSides - 1 : 0,\r\n\t\t\t\tto = referencePosition + visibleOnSides + 1 < this.getTotalSlides() - 1 ? referencePosition + visibleOnSides + 1 : this.getTotalSlides() - 1,\r\n\t\t\t\t\r\n\t\t\t\t// Get all the slides that need to be checked\r\n\t\t\t\tslidesToCheck = this.slidesOrder.slice( from, to + 1 );\r\n\r\n\t\t\t// Loop through the selected slides and if the slide is not marked as having\r\n\t\t\t// been loaded yet, loop through its images and load them.\r\n\t\t\t$.each( slidesToCheck, function( index, element ) {\r\n\t\t\t\tvar slide = that.slides[ element ],\r\n\t\t\t\t\t$slide = slide.$slide;\r\n\r\n\t\t\t\tif ( typeof $slide.attr( 'data-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$slide.attr( 'data-loaded', true );\r\n\r\n\t\t\t\t\t$slide.find( 'img[ data-src ]' ).each(function() {\r\n\t\t\t\t\t\tvar image = $( this );\r\n\t\t\t\t\t\tthat._loadImage( image, function( newImage ) {\r\n\t\t\t\t\t\t\tif ( newImage.hasClass( 'sp-image' ) ) {\r\n\t\t\t\t\t\t\t\tslide.$mainImage = newImage;\r\n\t\t\t\t\t\t\t\tslide.resizeMainImage( true );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Check visible thumbnails and load their images\r\n\t\t_checkAndLoadVisibleThumbnailImages: function() {\r\n\t\t\tif ( this.$slider.find( '.sp-thumbnail-container:not([ data-loaded ])' ).length === 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\tthumbnailSize = this.thumbnailsSize / this.thumbnails.length,\r\n\r\n\t\t\t\t// Calculate the indexes of the first and last thumbnail that will be checked\r\n\t\t\t\tfrom = Math.floor( Math.abs( this.thumbnailsPosition / thumbnailSize ) ),\r\n\t\t\t\tto = Math.floor( ( - this.thumbnailsPosition + this.thumbnailsContainerSize ) / thumbnailSize ),\r\n\r\n\t\t\t\t// Get all the thumbnails that need to be checked\r\n\t\t\t\tthumbnailsToCheck = this.thumbnails.slice( from, to + 1 );\r\n\r\n\t\t\t// Loop through the selected thumbnails and if the thumbnail is not marked as having\r\n\t\t\t// been loaded yet, load its image.\r\n\t\t\t$.each( thumbnailsToCheck, function( index, element ) {\r\n\t\t\t\tvar $thumbnailContainer = element.$thumbnailContainer;\r\n\r\n\t\t\t\tif ( typeof $thumbnailContainer.attr( 'data-loaded' ) === 'undefined' ) {\r\n\t\t\t\t\t$thumbnailContainer.attr( 'data-loaded', true );\r\n\r\n\t\t\t\t\t$thumbnailContainer.find( 'img[ data-src ]' ).each(function() {\r\n\t\t\t\t\t\tvar image = $( this );\r\n\r\n\t\t\t\t\t\tthat._loadImage( image, function() {\r\n\t\t\t\t\t\t\telement.resizeImage();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Load an image\r\n\t\t_loadImage: function( image, callback ) {\r\n\t\t\t// Create a new image element\r\n\t\t\tvar newImage = $( new Image() );\r\n\r\n\t\t\t// Copy the class(es) and inline style\r\n\t\t\tnewImage.attr( 'class', image.attr( 'class' ) );\r\n\t\t\tnewImage.attr( 'style', image.attr( 'style' ) );\r\n\r\n\t\t\t// Copy the data attributes\r\n\t\t\t$.each( image.data(), function( name, value ) {\r\n\t\t\t\tnewImage.attr( 'data-' + name, value );\r\n\t\t\t});\r\n\r\n\t\t\t// Copy the width and height attributes if they exist\r\n\t\t\tif ( typeof image.attr( 'width' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'width', image.attr( 'width' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'height' ) !== 'undefined') {\r\n\t\t\t\tnewImage.attr( 'height', image.attr( 'height' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'alt' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'alt', image.attr( 'alt' ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof image.attr( 'title' ) !== 'undefined' ) {\r\n\t\t\t\tnewImage.attr( 'title', image.attr( 'title' ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Assign the source of the image\r\n\t\t\tnewImage.attr( 'src', image.attr( 'data-src' ) );\r\n\t\t\tnewImage.removeAttr( 'data-src' );\r\n\r\n\t\t\t// Add the new image in the same container and remove the older image\r\n\t\t\tnewImage.insertAfter( image );\r\n\t\t\timage.remove();\r\n\t\t\timage = null;\r\n\t\t\t\r\n\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\tcallback( newImage );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyLazyLoading: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t\tthis.off( 'thumbnailsUpdate.' + NS );\r\n\t\t\tthis.off( 'thumbnailsMoveComplete.' + NS );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'LazyLoading', LazyLoading );\r\n\r\n})( window, jQuery );\r\n\r\n// Layers module for Slider Pro.\r\n// \r\n// Adds support for animated and static layers. The layers can contain any content,\r\n// from simple text for video elements.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Layers.' +  $.SliderPro.namespace;\r\n\r\n\tvar Layers = {\r\n\r\n\t\t// Reference to the original 'gotoSlide' method\r\n\t\tlayersGotoSlideReference: null,\r\n\r\n\t\t// Reference to the timer that will delay the overriding\r\n\t\t// of the 'gotoSlide' method\r\n\t\twaitForLayersTimer: null,\r\n\r\n\t\tinitLayers: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._layersOnUpdate, this ) );\r\n\t\t\tthis.on( 'sliderResize.' + NS, $.proxy( this._layersOnResize, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._layersOnGotoSlide, this ) );\r\n\t\t},\r\n\r\n\t\t// Loop through the slides and initialize all layers\r\n\t\t_layersOnUpdate: function( event ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\tvar $slide = element.$slide;\r\n\r\n\t\t\t\t// Initialize the layers\r\n\t\t\t\tthis.$slide.find(\".sp-layer:not([data-layer-init])\").each(function() {\r\n\t\t\t\t\tvar layer = new Layer( $( this ) );\r\n\r\n\t\t\t\t\t// Add the 'layers' array to the slide objects (instance of SliderProSlide)\r\n\t\t\t\t\tif ( typeof element.layers === 'undefined' ) {\r\n\t\t\t\t\t\telement.layers = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telement.layers.push( layer );\r\n\r\n\t\t\t\t\tif ( $( this ).hasClass( 'sp-static' ) === false ) {\r\n\r\n\t\t\t\t\t\t// Add the 'animatedLayers' array to the slide objects (instance of SliderProSlide)\r\n\t\t\t\t\t\tif ( typeof element.animatedLayers === 'undefined' ) {\r\n\t\t\t\t\t\t\telement.animatedLayers = [];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telement.animatedLayers.push( layer );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t// If the 'waitForLayers' option is enabled, the slider will not move to another slide\r\n\t\t\t// until all the layers from the previous slide will be hidden. To achieve this,\r\n\t\t\t// replace the current 'gotoSlide' function with another function that will include the \r\n\t\t\t// required functionality.\r\n\t\t\t// \r\n\t\t\t// Since the 'gotoSlide' method might be overridden by other modules as well, delay this\r\n\t\t\t// override to make sure it's the last override.\r\n\t\t\tif ( this.settings.waitForLayers === true ) {\r\n\t\t\t\tclearTimeout( this.waitForLayersTimer );\r\n\r\n\t\t\t\tthis.waitForLayersTimer = setTimeout(function() {\r\n\t\t\t\t\tthat.layersGotoSlideReference = that.gotoSlide;\r\n\t\t\t\t\tthat.gotoSlide = that._layersGotoSlide;\r\n\t\t\t\t}, 1 );\r\n\t\t\t}\r\n\r\n\t\t\t// Show the layers for the initial slide\r\n\t\t\t// Delay the call in order to make sure the layers\r\n\t\t\t// are scaled properly before displaying them\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.showLayers( that.selectedSlideIndex );\r\n\t\t\t}, 1);\r\n\t\t},\r\n\r\n\t\t// When the slider resizes, try to scale down the layers proportionally. The automatic scaling\r\n\t\t// will make use of an option, 'autoScaleReference', by comparing the current width of the slider\r\n\t\t// with the reference width. So, if the reference width is 1000 pixels and the current width is\r\n\t\t// 500 pixels, it means that the layers will be scaled down to 50% of their size.\r\n\t\t_layersOnResize: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tautoScaleReference,\r\n\t\t\t\tuseAutoScale = this.settings.autoScaleLayers,\r\n\t\t\t\tscaleRatio;\r\n\r\n\t\t\tif ( this.settings.autoScaleLayers === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If there isn't a reference for how the layers should scale down automatically, use the 'width'\r\n\t\t\t// option as a reference, unless the width was set to a percentage. If there isn't a set reference and\r\n\t\t\t// the width was set to a percentage, auto scaling will not be used because it's not possible to\r\n\t\t\t// calculate how much should the layers scale.\r\n\t\t\tif ( this.settings.autoScaleReference === -1 ) {\r\n\t\t\t\tif ( typeof this.settings.width === 'string' && this.settings.width.indexOf( '%' ) !== -1 ) {\r\n\t\t\t\t\tuseAutoScale = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tautoScaleReference = parseInt( this.settings.width, 10 );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tautoScaleReference = this.settings.autoScaleReference;\r\n\t\t\t}\r\n\r\n\t\t\tif ( useAutoScale === true && this.slideWidth < autoScaleReference ) {\r\n\t\t\t\tscaleRatio = that.slideWidth / autoScaleReference;\r\n\t\t\t} else {\r\n\t\t\t\tscaleRatio = 1;\r\n\t\t\t}\r\n\r\n\t\t\t$.each( this.slides, function( index, slide ) {\r\n\t\t\t\tif ( typeof slide.layers !== 'undefined' ) {\r\n\t\t\t\t\t$.each( slide.layers, function( index, layer ) {\r\n\t\t\t\t\t\tlayer.scale( scaleRatio );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Replace the 'gotoSlide' method with this one, which makes it possible to \r\n\t\t// change the slide only after the layers from the previous slide are hidden.\r\n\t\t_layersGotoSlide: function( index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tanimatedLayers = this.slides[ this.selectedSlideIndex ].animatedLayers;\r\n\r\n\t\t\t// If the slider is dragged, don't wait for the layer to hide\r\n\t\t\tif ( this.$slider.hasClass( 'sp-swiping' ) || typeof animatedLayers === 'undefined' || animatedLayers.length === 0  ) {\r\n\t\t\t\tthis.layersGotoSlideReference( index );\r\n\t\t\t} else {\r\n\t\t\t\tthis.on( 'hideLayersComplete.' + NS, function() {\r\n\t\t\t\t\tthat.off( 'hideLayersComplete.' + NS );\r\n\t\t\t\t\tthat.layersGotoSlideReference( index );\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.hideLayers( this.selectedSlideIndex );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// When a new slide is selected, hide the layers from the previous slide\r\n\t\t// and show the layers from the current slide.\r\n\t\t_layersOnGotoSlide: function( event ) {\r\n\t\t\tif ( this.previousSlideIndex !== this.selectedSlideIndex &&  this.settings.waitForLayers === false ) {\r\n\t\t\t\tthis.hideLayers( this.previousSlideIndex );\r\n\t\t\t}\r\n\r\n\t\t\tthis.showLayers( this.selectedSlideIndex );\r\n\t\t},\r\n\r\n\t\t// Show the animated layers from the slide at the specified index,\r\n\t\t// and fire an event when all the layers from the slide become visible.\r\n\t\tshowLayers: function( index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tanimatedLayers = this.slides[ index ].animatedLayers,\r\n\t\t\t\tlayerCounter = 0;\r\n\r\n\t\t\tif ( typeof animatedLayers === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$.each( animatedLayers, function( index, element ) {\r\n\r\n\t\t\t\t// If the layer is already visible, increment the counter directly, else wait \r\n\t\t\t\t// for the layer's showing animation to complete.\r\n\t\t\t\tif ( element.isVisible() === true ) {\r\n\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\tthat.trigger({ type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\tif ( $.isFunction( that.settings.showLayersComplete ) ) {\r\n\t\t\t\t\t\t\tthat.settings.showLayersComplete.call( that, { type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.show(function() {\r\n\t\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\t\tif ( $.isFunction( that.settings.showLayersComplete ) ) {\r\n\t\t\t\t\t\t\t\tthat.settings.showLayersComplete.call( that, { type: 'showLayersComplete', index: index });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Hide the animated layers from the slide at the specified index,\r\n\t\t// and fire an event when all the layers from the slide become invisible.\r\n\t\thideLayers: function( index ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tanimatedLayers = this.slides[ index ].animatedLayers,\r\n\t\t\t\tlayerCounter = 0;\r\n\r\n\t\t\tif ( typeof animatedLayers === 'undefined' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$.each( animatedLayers, function( index, element ) {\r\n\r\n\t\t\t\t// If the layer is already invisible, increment the counter directly, else wait \r\n\t\t\t\t// for the layer's hiding animation to complete.\r\n\t\t\t\tif ( element.isVisible() === false ) {\r\n\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\tthat.trigger({ type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\tif ( $.isFunction( that.settings.hideLayersComplete ) ) {\r\n\t\t\t\t\t\t\tthat.settings.hideLayersComplete.call( that, { type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.hide(function() {\r\n\t\t\t\t\t\tlayerCounter++;\r\n\r\n\t\t\t\t\t\tif ( layerCounter === animatedLayers.length ) {\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\t\tif ( $.isFunction( that.settings.hideLayersComplete ) ) {\r\n\t\t\t\t\t\t\t\tthat.settings.hideLayersComplete.call( that, { type: 'hideLayersComplete', index: index });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyLayers: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'resize.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.off( 'hideLayersComplete.' + NS );\r\n\t\t},\r\n\r\n\t\tlayersDefaults: {\r\n\r\n\t\t\t// Indicates whether the slider will wait for the layers to disappear before\r\n\t\t\t// going to a new slide\r\n\t\t\twaitForLayers: false,\r\n\r\n\t\t\t// Indicates whether the layers will be scaled automatically\r\n\t\t\tautoScaleLayers: true,\r\n\r\n\t\t\t// Sets a reference width which will be compared to the current slider width\r\n\t\t\t// in order to determine how much the layers need to scale down. By default,\r\n\t\t\t// the reference width will be equal to the slide width. However, if the slide width\r\n\t\t\t// is set to a percentage value, then it's necessary to set a specific value for 'autoScaleReference'.\r\n\t\t\tautoScaleReference: -1,\r\n\r\n\t\t\t// Called when all animated layers become visible\r\n\t\t\tshowLayersComplete: function() {},\r\n\r\n\t\t\t// Called when all animated layers become invisible\r\n\t\t\thideLayersComplete: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\t// Override the slide's 'destroy' method in order to destroy the \r\n\t// layers that where added to the slide as well.\r\n\tvar slideDestroy = window.SliderProSlide.prototype.destroy;\r\n\r\n\twindow.SliderProSlide.prototype.destroy = function() {\r\n\t\tif ( typeof this.layers !== 'undefined' ) {\r\n\t\t\t$.each( this.layers, function( index, element ) {\r\n\t\t\t\telement.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.layers.length = 0;\r\n\t\t}\r\n\r\n\t\tif ( typeof this.animatedLayers !== 'undefined' ) {\r\n\t\t\tthis.animatedLayers.length = 0;\r\n\t\t}\r\n\r\n\t\tslideDestroy.apply( this );\r\n\t};\r\n\r\n\tvar Layer = function( layer ) {\r\n\r\n\t\t// Reference to the layer jQuery element\r\n\t\tthis.$layer = layer;\r\n\r\n\t\t// Indicates whether a layer is currently visible or hidden\r\n\t\tthis.visible = false;\r\n\r\n\t\t// Indicates whether the layer was styled\r\n\t\tthis.styled = false;\r\n\r\n\t\t// Holds the data attributes added to the layer\r\n\t\tthis.data = null;\r\n\r\n\t\t// Indicates the layer's reference point (topLeft, bottomLeft, topRight or bottomRight)\r\n\t\tthis.position = null;\r\n\t\t\r\n\t\t// Indicates which CSS property (left or right) will be used for positioning the layer \r\n\t\tthis.horizontalProperty = null;\r\n\t\t\r\n\t\t// Indicates which CSS property (top or bottom) will be used for positioning the layer \r\n\t\tthis.verticalProperty = null;\r\n\r\n\t\t// Indicates the value of the horizontal position\r\n\t\tthis.horizontalPosition = null;\r\n\t\t\r\n\t\t// Indicates the value of the vertical position\r\n\t\tthis.verticalPosition = null;\r\n\r\n\t\t// Indicates how much the layers needs to be scaled\r\n\t\tthis.scaleRatio = 1;\r\n\r\n\t\t// Indicates the type of supported transition (CSS3 2D, CSS3 3D or JavaScript)\r\n\t\tthis.supportedAnimation = SliderProUtils.getSupportedAnimation();\r\n\r\n\t\t// Indicates the required vendor prefix for CSS (i.e., -webkit, -moz, etc.)\r\n\t\tthis.vendorPrefix = SliderProUtils.getVendorPrefix();\r\n\r\n\t\t// Indicates the name of the CSS transition's complete event (i.e., transitionend, webkitTransitionEnd, etc.)\r\n\t\tthis.transitionEvent = SliderProUtils.getTransitionEvent();\r\n\r\n\t\t// Reference to the timer that will be used to hide the layers automatically after a given time interval\r\n\t\tthis.stayTimer = null;\r\n\r\n\t\tthis._init();\r\n\t};\r\n\r\n\tLayer.prototype = {\r\n\r\n\t\t// Initialize the layers\r\n\t\t_init: function() {\r\n\t\t\tthis.$layer.attr( 'data-layer-init', true );\r\n\r\n\t\t\tif ( this.$layer.hasClass( 'sp-static' ) ) {\r\n\t\t\t\tthis._setStyle();\r\n\t\t\t} else {\r\n\t\t\t\tthis.$layer.css({ 'visibility': 'hidden' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Set the size and position of the layer\r\n\t\t_setStyle: function() {\r\n\t\t\tthis.styled = true;\r\n\r\n\t\t\t// Get the data attributes specified in HTML\r\n\t\t\tthis.data = this.$layer.data();\r\n\t\t\t\r\n\t\t\tif ( typeof this.data.width !== 'undefined' ) {\r\n\t\t\t\tthis.$layer.css( 'width', this.data.width );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof this.data.height !== 'undefined' ) {\r\n\t\t\t\tthis.$layer.css( 'height', this.data.height );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof this.data.depth !== 'undefined' ) {\r\n\t\t\t\tthis.$layer.css( 'z-index', this.data.depth );\r\n\t\t\t}\r\n\r\n\t\t\tthis.position = this.data.position ? ( this.data.position ).toLowerCase() : 'topleft';\r\n\r\n\t\t\tif ( this.position.indexOf( 'right' ) !== -1 ) {\r\n\t\t\t\tthis.horizontalProperty = 'right';\r\n\t\t\t} else if ( this.position.indexOf( 'left' ) !== -1 ) {\r\n\t\t\t\tthis.horizontalProperty = 'left';\r\n\t\t\t} else {\r\n\t\t\t\tthis.horizontalProperty = 'center';\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.position.indexOf( 'bottom' ) !== -1 ) {\r\n\t\t\t\tthis.verticalProperty = 'bottom';\r\n\t\t\t} else if ( this.position.indexOf( 'top' ) !== -1 ) {\r\n\t\t\t\tthis.verticalProperty = 'top';\r\n\t\t\t} else {\r\n\t\t\t\tthis.verticalProperty = 'center';\r\n\t\t\t}\r\n\r\n\t\t\tthis._setPosition();\r\n\r\n\t\t\tthis.scale( this.scaleRatio );\r\n\t\t},\r\n\r\n\t\t// Set the position of the layer\r\n\t\t_setPosition: function() {\r\n\t\t\tvar inlineStyle = this.$layer.attr( 'style' );\r\n\r\n\t\t\tthis.horizontalPosition = typeof this.data.horizontal !== 'undefined' ? this.data.horizontal : 0;\r\n\t\t\tthis.verticalPosition = typeof this.data.vertical !== 'undefined' ? this.data.vertical : 0;\r\n\r\n\t\t\t// Set the horizontal position of the layer based on the data set\r\n\t\t\tif ( this.horizontalProperty === 'center' ) {\r\n\t\t\t\t\r\n\t\t\t\t// prevent content wrapping while setting the width\r\n\t\t\t\tif ( this.$layer.is( 'img' ) === false && ( typeof inlineStyle === 'undefined' || ( typeof inlineStyle !== 'undefined' && inlineStyle.indexOf( 'width' ) === -1 ) ) ) {\r\n\t\t\t\t\tthis.$layer.css( 'white-space', 'nowrap' );\r\n\t\t\t\t\tthis.$layer.css( 'width', this.$layer.outerWidth( true ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$layer.css({ 'marginLeft': 'auto', 'marginRight': 'auto', 'left': this.horizontalPosition, 'right': 0 });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$layer.css( this.horizontalProperty, this.horizontalPosition );\r\n\t\t\t}\r\n\r\n\t\t\t// Set the vertical position of the layer based on the data set\r\n\t\t\tif ( this.verticalProperty === 'center' ) {\r\n\r\n\t\t\t\t// prevent content wrapping while setting the height\r\n\t\t\t\tif ( this.$layer.is( 'img' ) === false && ( typeof inlineStyle === 'undefined' || ( typeof inlineStyle !== 'undefined' && inlineStyle.indexOf( 'height' ) === -1 ) ) ) {\r\n\t\t\t\t\tthis.$layer.css( 'white-space', 'nowrap' );\r\n\t\t\t\t\tthis.$layer.css( 'height', this.$layer.outerHeight( true ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$layer.css({ 'marginTop': 'auto', 'marginBottom': 'auto', 'top': this.verticalPosition, 'bottom': 0 });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$layer.css( this.verticalProperty, this.verticalPosition );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Scale the layer\r\n\t\tscale: function( ratio ) {\r\n\r\n\t\t\t// Return if the layer is set to be unscalable\r\n\t\t\tif ( this.$layer.hasClass( 'sp-no-scale' ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Store the ratio (even if the layer is not ready to be scaled yet)\r\n\t\t\tthis.scaleRatio = ratio;\r\n\r\n\t\t\t// Return if the layer is not styled yet\r\n\t\t\tif ( this.styled === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar horizontalProperty = this.horizontalProperty === 'center' ? 'left' : this.horizontalProperty,\r\n\t\t\t\tverticalProperty = this.verticalProperty === 'center' ? 'top' : this.verticalProperty,\r\n\t\t\t\tcss = {};\r\n\r\n\t\t\t// Apply the scaling\r\n\t\t\tcss[ this.vendorPrefix + 'transform-origin' ] = this.horizontalProperty + ' ' + this.verticalProperty;\r\n\t\t\tcss[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\r\n\t\t\t// If the position is not set to a percentage value, apply the scaling to the position\r\n\t\t\tif ( typeof this.horizontalPosition !== 'string' ) {\r\n\t\t\t\tcss[ horizontalProperty ] = this.horizontalPosition * this.scaleRatio;\r\n\t\t\t}\r\n\r\n\t\t\t// If the position is not set to a percentage value, apply the scaling to the position\r\n\t\t\tif ( typeof this.verticalPosition !== 'string' ) {\r\n\t\t\t\tcss[ verticalProperty ] = this.verticalPosition * this.scaleRatio;\r\n\t\t\t}\r\n\r\n\t\t\t// If the width or height is set to a percentage value, increase the percentage in order to\r\n\t\t\t// maintain the same layer to slide proportions. This is necessary because otherwise the scaling\r\n\t\t\t// transform would minimize the layers more than intended.\r\n\t\t\tif ( typeof this.data.width === 'string' && this.data.width.indexOf( '%' ) !== -1 ) {\r\n\t\t\t\tcss.width = ( parseInt( this.data.width, 10 ) / this.scaleRatio ).toString() + '%';\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof this.data.height === 'string' && this.data.height.indexOf( '%' ) !== -1 ) {\r\n\t\t\t\tcss.height = ( parseInt( this.data.height, 10 ) / this.scaleRatio ).toString() + '%';\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.css( css );\r\n\t\t},\r\n\r\n\t\t// Show the layer\r\n\t\tshow: function( callback ) {\r\n\t\t\tif ( this.visible === true ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.visible = true;\r\n\r\n\t\t\t// First, style the layer if it's not already styled\r\n\t\t\tif ( this.styled === false ) {\r\n\t\t\t\tthis._setStyle();\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\toffset = typeof this.data.showOffset !== 'undefined' ? this.data.showOffset : 50,\r\n\t\t\t\tduration = typeof this.data.showDuration !== 'undefined' ? this.data.showDuration / 1000 : 0.4,\r\n\t\t\t\tdelay = typeof this.data.showDelay !== 'undefined' ? this.data.showDelay : 10,\r\n\t\t\t\tstayDuration = typeof that.data.stayDuration !== 'undefined' ? parseInt( that.data.stayDuration, 10 ) : -1;\r\n\r\n\t\t\t// Animate the layers with CSS3 or with JavaScript\r\n\t\t\tif ( this.supportedAnimation === 'javascript' ) {\r\n\t\t\t\tthis.$layer\r\n\t\t\t\t\t.stop()\r\n\t\t\t\t\t.delay( delay )\r\n\t\t\t\t\t.css({ 'opacity': 0, 'visibility': 'visible' })\r\n\t\t\t\t\t.animate( { 'opacity': 1 }, duration * 1000, function() {\r\n\r\n\t\t\t\t\t\t// Hide the layer after a given time interval\r\n\t\t\t\t\t\tif ( stayDuration !== -1 ) {\r\n\t\t\t\t\t\t\tthat.stayTimer = setTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.hide();\r\n\t\t\t\t\t\t\t\tthat.stayTimer = null;\r\n\t\t\t\t\t\t\t}, stayDuration );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar start = { 'opacity': 0, 'visibility': 'visible' },\r\n\t\t\t\t\ttarget = { 'opacity': 1 },\r\n\t\t\t\t\ttransformValues = '';\r\n\r\n\t\t\t\tstart[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] = 'opacity ' + duration + 's';\r\n\r\n\t\t\t\tif ( typeof this.data.showTransition !== 'undefined' ) {\r\n\t\t\t\t\tif ( this.data.showTransition === 'left' ) {\r\n\t\t\t\t\t\ttransformValues = offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.showTransition === 'right' ) {\r\n\t\t\t\t\t\ttransformValues = '-' + offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.showTransition === 'up' ) {\r\n\t\t\t\t\t\ttransformValues = '0, ' + offset + 'px';\r\n\t\t\t\t\t} else if ( this.data.showTransition === 'down') {\r\n\t\t\t\t\t\ttransformValues = '0, -' + offset + 'px';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstart[ this.vendorPrefix + 'transform' ] += this.supportedAnimation === 'css-3d' ? ' translate3d(' + transformValues + ', 0)' : ' translate(' + transformValues + ')';\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] += this.supportedAnimation === 'css-3d' ? ' translate3d(0, 0, 0)' : ' translate(0, 0)';\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] += ', ' + this.vendorPrefix + 'transform ' + duration + 's';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Listen when the layer animation is complete\r\n\t\t\t\tthis.$layer.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$layer\r\n\t\t\t\t\t\t.off( that.transitionEvent )\r\n\t\t\t\t\t\t.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\t// Hide the layer after a given time interval\r\n\t\t\t\t\tif ( stayDuration !== -1 ) {\r\n\t\t\t\t\t\tthat.stayTimer = setTimeout(function() {\r\n\t\t\t\t\t\t\tthat.hide();\r\n\t\t\t\t\t\t\tthat.stayTimer = null;\r\n\t\t\t\t\t\t}, stayDuration );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$layer.css( start );\r\n\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\tthat.$layer.css( target );\r\n\t\t\t\t}, delay );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Hide the layer\r\n\t\thide: function( callback ) {\r\n\t\t\tif ( this.visible === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\toffset = typeof this.data.hideOffset !== 'undefined' ? this.data.hideOffset : 50,\r\n\t\t\t\tduration = typeof this.data.hideDuration !== 'undefined' ? this.data.hideDuration / 1000 : 0.4,\r\n\t\t\t\tdelay = typeof this.data.hideDelay !== 'undefined' ? this.data.hideDelay : 10;\r\n\r\n\t\t\tthis.visible = false;\r\n\r\n\t\t\t// If the layer is hidden before it hides automatically, clear the timer\r\n\t\t\tif ( this.stayTimer !== null ) {\r\n\t\t\t\tclearTimeout( this.stayTimer );\r\n\t\t\t}\r\n\r\n\t\t\t// Animate the layers with CSS3 or with JavaScript\r\n\t\t\tif ( this.supportedAnimation === 'javascript' ) {\r\n\t\t\t\tthis.$layer\r\n\t\t\t\t\t.stop()\r\n\t\t\t\t\t.delay( delay )\r\n\t\t\t\t\t.animate({ 'opacity': 0 }, duration * 1000, function() {\r\n\t\t\t\t\t\t$( this ).css( 'visibility', 'hidden' );\r\n\r\n\t\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar transformValues = '',\r\n\t\t\t\t\ttarget = { 'opacity': 0 };\r\n\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] = 'scale(' + this.scaleRatio + ')';\r\n\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] = 'opacity ' + duration + 's';\r\n\r\n\t\t\t\tif ( typeof this.data.hideTransition !== 'undefined' ) {\r\n\t\t\t\t\tif ( this.data.hideTransition === 'left' ) {\r\n\t\t\t\t\t\ttransformValues = '-' + offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.hideTransition === 'right' ) {\r\n\t\t\t\t\t\ttransformValues = offset + 'px, 0';\r\n\t\t\t\t\t} else if ( this.data.hideTransition === 'up' ) {\r\n\t\t\t\t\t\ttransformValues = '0, -' + offset + 'px';\r\n\t\t\t\t\t} else if ( this.data.hideTransition === 'down' ) {\r\n\t\t\t\t\t\ttransformValues = '0, ' + offset + 'px';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transform' ] += this.supportedAnimation === 'css-3d' ? ' translate3d(' + transformValues + ', 0)' : ' translate(' + transformValues + ')';\r\n\t\t\t\t\ttarget[ this.vendorPrefix + 'transition' ] += ', ' + this.vendorPrefix + 'transform ' + duration + 's';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Listen when the layer animation is complete\r\n\t\t\t\tthis.$layer.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$layer\r\n\t\t\t\t\t\t.off( that.transitionEvent )\r\n\t\t\t\t\t\t.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\t// Hide the layer after transition\r\n\t\t\t\t\tif ( that.visible === false ) {\r\n\t\t\t\t\t\tthat.$layer.css( 'visibility', 'hidden' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( typeof callback !== 'undefined' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\tthat.$layer.css( target );\r\n\t\t\t\t}, delay );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tisVisible: function() {\r\n\t\t\tif ( this.visible === false || this.$layer.is( ':hidden' ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t// Destroy the layer\r\n\t\tdestroy: function() {\r\n\t\t\tthis.$layer.removeAttr( 'style' );\r\n\t\t\tthis.$layer.removeAttr( 'data-layer-init' );\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Layers', Layers );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Fade module for Slider Pro.\r\n// \r\n// Adds the possibility to navigate through slides using a cross-fade effect.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Fade.' + $.SliderPro.namespace;\r\n\r\n\tvar Fade = {\r\n\r\n\t\t// Reference to the original 'gotoSlide' method\r\n\t\tfadeGotoSlideReference: null,\r\n\r\n\t\tinitFade: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._fadeOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t// If fade is enabled, store a reference to the original 'gotoSlide' method\r\n\t\t// and then assign a new function to 'gotoSlide'.\r\n\t\t_fadeOnUpdate: function() {\r\n\t\t\tif ( this.settings.fade === true ) {\r\n\t\t\t\tthis.fadeGotoSlideReference = this.gotoSlide;\r\n\t\t\t\tthis.gotoSlide = this._fadeGotoSlide;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Will replace the original 'gotoSlide' function by adding a cross-fade effect\r\n\t\t// between the previous and the next slide.\r\n\t\t_fadeGotoSlide: function( index ) {\r\n\t\t\tif ( index === this.selectedSlideIndex ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// If the slides are being swiped/dragged, don't use fade, but call the original method instead.\r\n\t\t\t// If not, which means that a new slide was selected through a button, arrows or direct call, then\r\n\t\t\t// use fade.\r\n\t\t\tif ( this.$slider.hasClass( 'sp-swiping' ) ) {\r\n\t\t\t\tthis.fadeGotoSlideReference( index );\r\n\t\t\t} else {\r\n\t\t\t\tvar that = this,\r\n\t\t\t\t\t$nextSlide,\r\n\t\t\t\t\t$previousSlide,\r\n\t\t\t\t\tnewIndex = index;\r\n\r\n\t\t\t\t// Loop through all the slides and overlap the the previous and next slide,\r\n\t\t\t\t// and hide the other slides.\r\n\t\t\t\t$.each( this.slides, function( index, element ) {\r\n\t\t\t\t\tvar slideIndex = element.getIndex(),\r\n\t\t\t\t\t\t$slide = element.$slide;\r\n\r\n\t\t\t\t\tif ( slideIndex === newIndex ) {\r\n\t\t\t\t\t\t$slide.css({ 'opacity': 0, 'left': 0, 'top': 0, 'z-index': 20 });\r\n\t\t\t\t\t\t$nextSlide = $slide;\r\n\t\t\t\t\t} else if ( slideIndex === that.selectedSlideIndex ) {\r\n\t\t\t\t\t\t$slide.css({ 'opacity': 1, 'left': 0, 'top': 0, 'z-index': 10 });\r\n\t\t\t\t\t\t$previousSlide = $slide;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$slide.css( 'visibility', 'hidden' );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Set the new indexes for the previous and selected slides\r\n\t\t\t\tthis.previousSlideIndex = this.selectedSlideIndex;\r\n\t\t\t\tthis.selectedSlideIndex = index;\r\n\r\n\t\t\t\t// Re-assign the 'sp-selected' class to the currently selected slide\r\n\t\t\t\tthis.$slides.find( '.sp-selected' ).removeClass( 'sp-selected' );\r\n\t\t\t\tthis.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected' );\r\n\t\t\t\r\n\t\t\t\t// Rearrange the slides if the slider is loopable\r\n\t\t\t\tif ( that.settings.loop === true ) {\r\n\t\t\t\t\tthat._updateSlidesOrder();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Move the slides container so that the cross-fading slides (which now have the top and left\r\n\t\t\t\t// position set to 0) become visible and in the center of the slider.\r\n\t\t\t\tthis._moveTo( this.visibleOffset, true );\r\n\r\n\t\t\t\t// Fade out the previous slide, if indicated, in addition to fading in the next slide\r\n\t\t\t\tif ( this.settings.fadeOutPreviousSlide === true ) {\r\n\t\t\t\t\tthis._fadeSlideTo( $previousSlide, 0 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fade in the selected slide\r\n\t\t\t\tthis._fadeSlideTo( $nextSlide, 1, function() {\r\n\r\n\t\t\t\t\t// After the animation is over, make all the slides visible again\r\n\t\t\t\t\t$.each( that.slides, function( index, element ) {\r\n\t\t\t\t\t\tvar $slide = element.$slide;\r\n\t\t\t\t\t\t$slide.css({ 'visibility': '', 'opacity': '', 'z-index': '' });\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Reset the position of the slides and slides container\r\n\t\t\t\t\tthat._resetSlidesPosition();\r\n\r\n\t\t\t\t\t// Fire the 'gotoSlideComplete' event\r\n\t\t\t\t\tthat.trigger({ type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex });\r\n\t\t\t\t\tif ( $.isFunction( that.settings.gotoSlideComplete ) ) {\r\n\t\t\t\t\t\tthat.settings.gotoSlideComplete.call( that, { type: 'gotoSlideComplete', index: index, previousIndex: that.previousSlideIndex } );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( this.settings.autoHeight === true ) {\r\n\t\t\t\t\tthis._resizeHeight();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'gotoSlide' event\r\n\t\t\t\tthis.trigger({ type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex });\r\n\t\t\t\tif ( $.isFunction( this.settings.gotoSlide ) ) {\r\n\t\t\t\t\tthis.settings.gotoSlide.call( this, { type: 'gotoSlide', index: index, previousIndex: this.previousSlideIndex });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Fade the target slide to the specified opacity (0 or 1)\r\n\t\t_fadeSlideTo: function( target, opacity, callback ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Use CSS transitions if they are supported. If not, use JavaScript animation.\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\r\n\t\t\t\t// There needs to be a delay between the moment the opacity is set\r\n\t\t\t\t// and the moment the transitions starts.\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tvar css = { 'opacity': opacity };\r\n\t\t\t\t\tcss[ that.vendorPrefix + 'transition' ] = 'opacity ' + that.settings.fadeDuration / 1000 + 's';\r\n\t\t\t\t\ttarget.css( css );\r\n\t\t\t\t}, 100 );\r\n\r\n\t\t\t\ttarget.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttarget.off( that.transitionEvent );\r\n\t\t\t\t\ttarget.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttarget.stop().animate({ 'opacity': opacity }, this.settings.fadeDuration, function() {\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyFade: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\r\n\t\t\tif ( this.fadeGotoSlideReference !== null ) {\r\n\t\t\t\tthis.gotoSlide = this.fadeGotoSlideReference;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfadeDefaults: {\r\n\r\n\t\t\t// Indicates if fade will be used\r\n\t\t\tfade: false,\r\n\r\n\t\t\t// Indicates if the previous slide will be faded out (in addition to the next slide being faded in)\r\n\t\t\tfadeOutPreviousSlide: true,\r\n\r\n\t\t\t// Sets the duration of the fade effect\r\n\t\t\tfadeDuration: 500\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Fade', Fade );\r\n\r\n})( window, jQuery );\r\n\r\n// Touch Swipe module for Slider Pro.\r\n// \r\n// Adds touch-swipe functionality for slides.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'TouchSwipe.' + $.SliderPro.namespace;\r\n\r\n\tvar TouchSwipe = {\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's starting position\r\n\t\ttouchStartPoint: {x: 0, y: 0},\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's end position\r\n\t\ttouchEndPoint: {x: 0, y: 0},\r\n\r\n\t\t// The distance from the starting to the end position on the x and y axis\r\n\t\ttouchDistance: {x: 0, y: 0},\r\n\r\n\t\t// The position of the slides when the touch swipe starts\r\n\t\ttouchStartPosition: 0,\r\n\r\n\t\t// Indicates if the slides are being swiped\r\n\t\tisTouchMoving: false,\r\n\r\n\t\t// Stores the names of the events\r\n\t\ttouchSwipeEvents: { startEvent: '', moveEvent: '', endEvent: '' },\r\n\r\n\t\tinitTouchSwipe: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// check if touch swipe is enabled\r\n\t\t\tif ( this.settings.touchSwipe === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.touchSwipeEvents.startEvent = 'touchstart' + '.' + NS + ' mousedown' + '.' + NS;\r\n\t\t\tthis.touchSwipeEvents.moveEvent = 'touchmove' + '.' + NS + ' mousemove' + '.' + NS;\r\n\t\t\tthis.touchSwipeEvents.endEvent = 'touchend' + '.' + this.uniqueId + '.' + NS + ' mouseup' + '.' + this.uniqueId + '.' + NS;\r\n\r\n\t\t\t// Listen for touch swipe/mouse move events\r\n\t\t\tthis.$slidesMask.on( this.touchSwipeEvents.startEvent, $.proxy( this._onTouchStart, this ) );\r\n\t\t\tthis.$slidesMask.on( 'dragstart.' + NS, function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Add the grabbing icon\r\n\t\t\tthis.$slidesMask.addClass( 'sp-grab' );\r\n\t\t},\r\n\r\n\t\t// Called when the slides starts being dragged\r\n\t\t_onTouchStart: function( event ) {\r\n\t\t\r\n\t\t\t// Disable dragging if the element is set to allow selections\r\n\t\t\tif ( $( event.target ).closest( '.sp-selectable' ).length >= 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\teventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Prevent default behavior only for mouse events\r\n\t\t\tif ( typeof event.originalEvent.touches === 'undefined' ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\t// Disable click events on links\r\n\t\t\t$( event.target ).parents( '.sp-slide' ).find( 'a' ).one( 'click.' + NS, function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Get the initial position of the mouse pointer and the initial position\r\n\t\t\t// of the slides' container\r\n\t\t\tthis.touchStartPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.touchStartPoint.y = eventObject.pageY || eventObject.clientY;\r\n\t\t\tthis.touchStartPosition = this.slidesPosition;\r\n\r\n\t\t\t// Clear the previous distance values\r\n\t\t\tthis.touchDistance.x = this.touchDistance.y = 0;\r\n\r\n\t\t\t// If the slides are being grabbed while they're still animating, stop the\r\n\t\t\t// current movement\r\n\t\t\tif ( this.$slides.hasClass( 'sp-animated' ) ) {\r\n\t\t\t\tthis.isTouchMoving = true;\r\n\t\t\t\tthis._stopMovement();\r\n\t\t\t\tthis.touchStartPosition = this.slidesPosition;\r\n\t\t\t}\r\n\r\n\t\t\t// Listen for move and end events\r\n\t\t\tthis.$slidesMask.on( this.touchSwipeEvents.moveEvent, $.proxy( this._onTouchMove, this ) );\r\n\t\t\t$( document ).on( this.touchSwipeEvents.endEvent, $.proxy( this._onTouchEnd, this ) );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$slidesMask.removeClass( 'sp-grab' ).addClass( 'sp-grabbing' );\r\n\r\n\t\t\t// Add 'sp-swiping' class to indicate that the slides are being swiped\r\n\t\t\tthis.$slider.addClass( 'sp-swiping' );\r\n\t\t},\r\n\r\n\t\t// Called during the slides' dragging\r\n\t\t_onTouchMove: function( event ) {\r\n\t\t\tvar eventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Indicate that the move event is being fired\r\n\t\t\tthis.isTouchMoving = true;\r\n\r\n\t\t\t// Get the current position of the mouse pointer\r\n\t\t\tthis.touchEndPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.touchEndPoint.y = eventObject.pageY || eventObject.clientY;\r\n\r\n\t\t\t// Calculate the distance of the movement on both axis\r\n\t\t\tthis.touchDistance.x = this.touchEndPoint.x - this.touchStartPoint.x;\r\n\t\t\tthis.touchDistance.y = this.touchEndPoint.y - this.touchStartPoint.y;\r\n\t\t\t\r\n\t\t\t// Calculate the distance of the swipe that takes place in the same direction as the orientation of the slides\r\n\t\t\t// and calculate the distance from the opposite direction.\r\n\t\t\t// \r\n\t\t\t// For a swipe to be valid there should more distance in the same direction as the orientation of the slides.\r\n\t\t\tvar distance = this.settings.orientation === 'horizontal' ? this.touchDistance.x : this.touchDistance.y,\r\n\t\t\t\toppositeDistance = this.settings.orientation === 'horizontal' ? this.touchDistance.y : this.touchDistance.x;\r\n\r\n\t\t\t// If the movement is in the same direction as the orientation of the slides, the swipe is valid\r\n\t\t\tif ( Math.abs( distance ) > Math.abs( oppositeDistance ) ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.loop === false ) {\r\n\t\t\t\t// Make the slides move slower if they're dragged outside its bounds\r\n\t\t\t\tif ( ( this.slidesPosition > this.touchStartPosition && this.selectedSlideIndex === 0 ) ||\r\n\t\t\t\t\t( this.slidesPosition < this.touchStartPosition && this.selectedSlideIndex === this.getTotalSlides() - 1 )\r\n\t\t\t\t) {\r\n\t\t\t\t\tdistance = distance * 0.2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._moveTo( this.touchStartPosition + distance, true );\r\n\t\t},\r\n\r\n\t\t// Called when the slides are released\r\n\t\t_onTouchEnd: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\ttouchDistance = this.settings.orientation === 'horizontal' ? this.touchDistance.x : this.touchDistance.y;\r\n\r\n\t\t\t// Remove the move and end listeners\r\n\t\t\tthis.$slidesMask.off( this.touchSwipeEvents.moveEvent );\r\n\t\t\t$( document ).off( this.touchSwipeEvents.endEvent );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$slidesMask.removeClass( 'sp-grabbing' ).addClass( 'sp-grab' );\r\n\r\n\t\t\t// Check if there is intention for a tap\r\n\t\t\tif ( this.isTouchMoving === false || this.isTouchMoving === true && Math.abs( this.touchDistance.x ) < 10 && Math.abs( this.touchDistance.y ) < 10 ) {\r\n\t\t\t\t// Re-enable click events on links\r\n\t\t\t\t$( event.target ).parents( '.sp-slide' ).find( 'a' ).off( 'click.' + NS );\r\n\t\t\t\tthis.$slider.removeClass( 'sp-swiping' );\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the 'sp-swiping' class but with a delay\r\n\t\t\t// because there might be other event listeners that check\r\n\t\t\t// the existence of this class, and this class should still be \r\n\t\t\t// applied for those listeners, since there was a swipe event\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.$slider.removeClass( 'sp-swiping' );\r\n\t\t\t}, 1 );\r\n\r\n\t\t\t// Return if the slides didn't move\r\n\t\t\tif ( this.isTouchMoving === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isTouchMoving = false;\r\n\r\n\t\t\t$( event.target ).parents( '.sp-slide' ).one( 'click', function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Calculate the old position of the slides in order to return to it if the swipe\r\n\t\t\t// is below the threshold\r\n\t\t\tvar oldSlidesPosition = - parseInt( this.$slides.find( '.sp-slide' ).eq( this.selectedSlideIndex ).css( this.positionProperty ), 10 ) + this.visibleOffset;\r\n\r\n\t\t\tif ( Math.abs( touchDistance ) < this.settings.touchSwipeThreshold ) {\r\n\t\t\t\tthis._moveTo( oldSlidesPosition );\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Calculate by how many slides the slides container has moved\r\n\t\t\t\tvar slideArrayDistance = touchDistance / ( this.slideSize + this.settings.slideDistance );\r\n\r\n\t\t\t\t// Floor the obtained value and add or subtract 1, depending on the direction of the swipe\r\n\t\t\t\tslideArrayDistance = parseInt( slideArrayDistance, 10 ) + ( slideArrayDistance > 0 ? 1 : - 1 );\r\n\r\n\t\t\t\t// Get the index of the currently selected slide and subtract the position index in order to obtain\r\n\t\t\t\t// the new index of the selected slide. \r\n\t\t\t\tvar nextSlideIndex = this.slidesOrder[ $.inArray( this.selectedSlideIndex, this.slidesOrder ) - slideArrayDistance ];\r\n\r\n\t\t\t\tif ( this.settings.loop === true ) {\r\n\t\t\t\t\tthis.gotoSlide( nextSlideIndex );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( typeof nextSlideIndex !== 'undefined' ) {\r\n\t\t\t\t\t\tthis.gotoSlide( nextSlideIndex );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._moveTo( oldSlidesPosition );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyTouchSwipe: function() {\r\n\t\t\tthis.$slidesMask.off( this.touchSwipeEvents.startEvent );\r\n\t\t\tthis.$slidesMask.off( this.touchSwipeEvents.moveEvent );\r\n\t\t\tthis.$slidesMask.off( 'dragstart.' + NS );\r\n\t\t\t$( document ).off( this.touchSwipeEvents.endEvent );\r\n\t\t\tthis.$slidesMask.removeClass( 'sp-grab' );\r\n\t\t},\r\n\r\n\t\ttouchSwipeDefaults: {\r\n\t\t\t\r\n\t\t\t// Indicates whether the touch swipe will be enabled\r\n\t\t\ttouchSwipe: true,\r\n\r\n\t\t\t// Sets the minimum amount that the slides should move\r\n\t\t\ttouchSwipeThreshold: 50\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'TouchSwipe', TouchSwipe );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Caption module for Slider Pro.\r\n// \r\n// Adds a corresponding caption for each slide. The caption\r\n// will appear and disappear with the slide.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Caption.' + $.SliderPro.namespace;\r\n\r\n\tvar Caption = {\r\n\r\n\t\t// Reference to the container element that will hold the caption\r\n\t\t$captionContainer: null,\r\n\r\n\t\t// The caption content/text\r\n\t\tcaptionContent: '',\r\n\r\n\t\tinitCaption: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._captionOnUpdate, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._updateCaptionContent, this ) );\r\n\t\t},\r\n\r\n\t\t// Create the caption container and hide the captions inside the slides\r\n\t\t_captionOnUpdate: function() {\r\n\t\t\tthis.$captionContainer = this.$slider.find( '.sp-caption-container' );\r\n\r\n\t\t\tif ( this.$slider.find( '.sp-caption' ).length && this.$captionContainer.length === 0 ) {\r\n\t\t\t\tthis.$captionContainer = $( '<div class=\"sp-caption-container\"></div>' ).appendTo( this.$slider );\r\n\r\n\t\t\t\t// Show the caption for the selected slide\r\n\t\t\t\tthis._updateCaptionContent();\r\n\t\t\t}\r\n\r\n\t\t\t// Hide the captions inside the slides\r\n\t\t\tthis.$slides.find( '.sp-caption' ).each(function() {\r\n\t\t\t\t$( this ).css( 'display', 'none' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Show the caption content for the selected slide\r\n\t\t_updateCaptionContent: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\tnewCaptionField = this.$slider.find( '.sp-slide' ).eq( this.selectedSlideIndex ).find( '.sp-caption' ),\r\n\t\t\t\tnewCaptionContent = newCaptionField.length !== 0 ? newCaptionField.html() : '';\r\n\r\n\t\t\t// Either use a fade effect for swapping the captions or use an instant change\r\n\t\t\tif ( this.settings.fadeCaption === true ) {\r\n\t\t\t\t\r\n\t\t\t\t// If the previous slide had a caption, fade out that caption first and when the animation is over\r\n\t\t\t\t// fade in the current caption.\r\n\t\t\t\t// If the previous slide didn't have a caption, fade in the current caption directly.\r\n\t\t\t\tif ( this.captionContent !== '' ) {\r\n\r\n\t\t\t\t\t// If the caption container has 0 opacity when the fade out transition starts, set it\r\n\t\t\t\t\t// to 1 because the transition wouldn't work if the initial and final values are the same,\r\n\t\t\t\t\t// and the callback functions wouldn't fire in this case.\r\n\t\t\t\t\tif ( parseFloat( this.$captionContainer.css( 'opacity' ), 10 ) === 0 ) {\r\n\t\t\t\t\t\tthis.$captionContainer.css( this.vendorPrefix + 'transition', '' );\r\n\t\t\t\t\t\tthis.$captionContainer.css( 'opacity', 1 );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._fadeCaptionTo( 0, function() {\r\n\t\t\t\t\t\tthat.captionContent = newCaptionContent;\r\n\r\n\t\t\t\t\t\tif ( newCaptionContent !== '' ) {\r\n\t\t\t\t\t\t\tthat.$captionContainer.html( that.captionContent );\r\n\t\t\t\t\t\t\tthat._fadeCaptionTo( 1 );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.$captionContainer.empty();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.captionContent = newCaptionContent;\r\n\t\t\t\t\tthis.$captionContainer.html( this.captionContent );\r\n\t\t\t\t\tthis.$captionContainer.css( 'opacity', 0 );\r\n\t\t\t\t\tthis._fadeCaptionTo( 1 );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.captionContent = newCaptionContent;\r\n\t\t\t\tthis.$captionContainer.html( this.captionContent );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Fade the caption container to the specified opacity\r\n\t\t_fadeCaptionTo: function( opacity, callback ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Use CSS transitions if they are supported. If not, use JavaScript animation.\r\n\t\t\tif ( this.supportedAnimation === 'css-3d' || this.supportedAnimation === 'css-2d' ) {\r\n\t\t\t\t\r\n\t\t\t\t// There needs to be a delay between the moment the opacity is set\r\n\t\t\t\t// and the moment the transitions starts.\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tvar css = { 'opacity': opacity };\r\n\t\t\t\t\tcss[ that.vendorPrefix + 'transition' ] = 'opacity ' + that.settings.captionFadeDuration / 1000 + 's';\r\n\t\t\t\t\tthat.$captionContainer.css( css );\r\n\t\t\t\t}, 1 );\r\n\r\n\t\t\t\tthis.$captionContainer.on( this.transitionEvent, function( event ) {\r\n\t\t\t\t\tif ( event.target !== event.currentTarget ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$captionContainer.off( that.transitionEvent );\r\n\t\t\t\t\tthat.$captionContainer.css( that.vendorPrefix + 'transition', '' );\r\n\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$captionContainer.stop().animate({ 'opacity': opacity }, this.settings.captionFadeDuration, function() {\r\n\t\t\t\t\tif ( typeof callback === 'function' ) {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyCaption: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\r\n\t\t\tthis.$captionContainer.remove();\r\n\r\n\t\t\tthis.$slider.find( '.sp-caption' ).each(function() {\r\n\t\t\t\t$( this ).css( 'display', '' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tcaptionDefaults: {\r\n\r\n\t\t\t// Indicates whether or not the captions will be faded\r\n\t\t\tfadeCaption: true,\r\n\r\n\t\t\t// Sets the duration of the fade animation\r\n\t\t\tcaptionFadeDuration: 500\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Caption', Caption );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Deep Linking module for Slider Pro.\r\n// \r\n// Updates the hash of the URL as the user navigates through the slides.\r\n// Also, allows navigating to a specific slide by indicating it in the hash.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'DeepLinking.' + $.SliderPro.namespace;\r\n\r\n\tvar DeepLinking = {\r\n\r\n\t\tinitDeepLinking: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Parse the initial hash\r\n\t\t\tthis.on( 'init.' + NS, function() {\r\n\t\t\t\tthat._gotoHash( window.location.hash );\r\n\t\t\t});\r\n\r\n\t\t\t// Update the hash when a new slide is selected\r\n\t\t\tthis.on( 'gotoSlide.' + NS, function( event ) {\r\n\t\t\t\tif ( that.settings.updateHash === true ) {\r\n\r\n\t\t\t\t\t// get the 'id' attribute of the slide\r\n\t\t\t\t\tvar slideId = that.$slider.find( '.sp-slide' ).eq( event.index ).attr( 'id' );\r\n\r\n\t\t\t\t\t// if the slide doesn't have an 'id' attribute, use the slide index\r\n\t\t\t\t\tif ( typeof slideId === 'undefined' ) {\r\n\t\t\t\t\t\tslideId = event.index;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twindow.location.hash = that.$slider.attr( 'id' ) + '/' + slideId;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Check when the hash changes and navigate to the indicated slide\r\n\t\t\t$( window ).on( 'hashchange.' + this.uniqueId + '.' + NS, function() {\r\n\t\t\t\tthat._gotoHash( window.location.hash );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Parse the hash and return the slider id and the slide id\r\n\t\t_parseHash: function( hash ) {\r\n\t\t\tif ( hash !== '' ) {\r\n\t\t\t\t// Eliminate the # symbol\r\n\t\t\t\thash = hash.substring(1);\r\n\r\n\t\t\t\t// Get the specified slider id and slide id\r\n\t\t\t\tvar values = hash.split( '/' ),\r\n\t\t\t\t\tslideId = values.pop(),\r\n\t\t\t\t\tsliderId = hash.slice( 0, - slideId.toString().length - 1 );\r\n\r\n\t\t\t\tif ( this.$slider.attr( 'id' ) === sliderId ) {\r\n\t\t\t\t\treturn { 'sliderID': sliderId, 'slideId': slideId };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t// Navigate to the appropriate slide, based on the specified hash\r\n\t\t_gotoHash: function( hash ) {\r\n\t\t\tvar result = this._parseHash( hash );\r\n\r\n\t\t\tif ( result === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar slideId = result.slideId,\r\n\t\t\t\tslideIdNumber = parseInt( slideId, 10 );\r\n\r\n\t\t\t// check if the specified slide id is a number or string\r\n\t\t\tif ( isNaN( slideIdNumber ) ) {\r\n\t\t\t\t// get the index of the slide based on the specified id\r\n\t\t\t\tvar slideIndex = this.$slider.find( '.sp-slide#' + slideId ).index();\r\n\r\n\t\t\t\tif ( slideIndex !== -1 && slideIndex !== this.selectedSlideIndex ) {\r\n\t\t\t\t\tthis.gotoSlide( slideIndex );\r\n\t\t\t\t}\r\n\t\t\t} else if ( slideIdNumber !== this.selectedSlideIndex ) {\r\n\t\t\t\tthis.gotoSlide( slideIdNumber );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyDeepLinking: function() {\r\n\t\t\tthis.off( 'init.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\t$( window ).off( 'hashchange.' + this.uniqueId + '.' + NS );\r\n\t\t},\r\n\r\n\t\tdeepLinkingDefaults: {\r\n\r\n\t\t\t// Indicates whether the hash will be updated when a new slide is selected\r\n\t\t\tupdateHash: false\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'DeepLinking', DeepLinking );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Autoplay module for Slider Pro.\r\n// \r\n// Adds automatic navigation through the slides by calling the\r\n// 'nextSlide' or 'previousSlide' methods at certain time intervals.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Autoplay.' + $.SliderPro.namespace;\r\n\r\n\tvar Autoplay = {\r\n\r\n\t\tautoplayTimer: null,\r\n\r\n\t\tisTimerRunning: false,\r\n\r\n\t\tisTimerPaused: false,\r\n\r\n\t\tinitAutoplay: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._autoplayOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t// Start the autoplay if it's enabled, or stop it if it's disabled but running \r\n\t\t_autoplayOnUpdate: function( event ) {\r\n\t\t\tif ( this.settings.autoplay === true ) {\r\n\t\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._autoplayOnGotoSlide, this ) );\r\n\t\t\t\tthis.on( 'mouseenter.' + NS, $.proxy( this._autoplayOnMouseEnter, this ) );\r\n\t\t\t\tthis.on( 'mouseleave.' + NS, $.proxy( this._autoplayOnMouseLeave, this ) );\r\n\r\n\t\t\t\tthis.startAutoplay();\r\n\t\t\t} else {\r\n\t\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\t\tthis.off( 'mouseenter.' + NS );\r\n\t\t\t\tthis.off( 'mouseleave.' + NS );\r\n\r\n\t\t\t\tthis.stopAutoplay();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Restart the autoplay timer when a new slide is selected\r\n\t\t_autoplayOnGotoSlide: function( event ) {\r\n\t\t\t// stop previous timers before starting a new one\r\n\t\t\tif ( this.isTimerRunning === true ) {\r\n\t\t\t\tthis.stopAutoplay();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( this.isTimerPaused === false ) {\r\n\t\t\t\tthis.startAutoplay();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Pause the autoplay when the slider is hovered\r\n\t\t_autoplayOnMouseEnter: function( event ) {\r\n\t\t\tif ( this.isTimerRunning && ( this.settings.autoplayOnHover === 'pause' || this.settings.autoplayOnHover === 'stop' ) ) {\r\n\t\t\t\tthis.stopAutoplay();\r\n\t\t\t\tthis.isTimerPaused = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Start the autoplay when the mouse moves away from the slider\r\n\t\t_autoplayOnMouseLeave: function( event ) {\r\n\t\t\tif ( this.settings.autoplay === true && this.isTimerRunning === false && this.settings.autoplayOnHover !== 'stop' ) {\r\n\t\t\t\tthis.startAutoplay();\r\n\t\t\t\tthis.isTimerPaused = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Starts the autoplay\r\n\t\tstartAutoplay: function() {\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t\tthis.isTimerRunning = true;\r\n\r\n\t\t\tthis.autoplayTimer = setTimeout(function() {\r\n\t\t\t\tif ( that.settings.autoplayDirection === 'normal' ) {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t} else if ( that.settings.autoplayDirection === 'backwards' ) {\r\n\t\t\t\t\tthat.previousSlide();\r\n\t\t\t\t}\r\n\t\t\t}, this.settings.autoplayDelay );\r\n\t\t},\r\n\r\n\t\t// Stops the autoplay\r\n\t\tstopAutoplay: function() {\r\n\t\t\tthis.isTimerRunning = false;\r\n\t\t\tthis.isTimerPaused = false;\r\n\r\n\t\t\tclearTimeout( this.autoplayTimer );\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyAutoplay: function() {\r\n\t\t\tclearTimeout( this.autoplayTimer );\r\n\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.off( 'mouseenter.' + NS );\r\n\t\t\tthis.off( 'mouseleave.' + NS );\r\n\t\t},\r\n\r\n\t\tautoplayDefaults: {\r\n\t\t\t// Indicates whether or not autoplay will be enabled\r\n\t\t\tautoplay: true,\r\n\r\n\t\t\t// Sets the delay/interval at which the autoplay will run\r\n\t\t\tautoplayDelay: 5000,\r\n\r\n\t\t\t// Indicates whether autoplay will navigate to the next slide or previous slide\r\n\t\t\tautoplayDirection: 'normal',\r\n\r\n\t\t\t// Indicates if the autoplay will be paused or stopped when the slider is hovered.\r\n\t\t\t// Possible values are 'pause', 'stop' or 'none'.\r\n\t\t\tautoplayOnHover: 'pause'\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Autoplay', Autoplay );\r\n\t\r\n})(window, jQuery);\r\n\r\n// Keyboard module for Slider Pro.\r\n// \r\n// Adds the possibility to navigate through slides using the keyboard arrow keys, or\r\n// open the link attached to the main slide image by using the Enter key.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Keyboard.' + $.SliderPro.namespace;\r\n\r\n\tvar Keyboard = {\r\n\r\n\t\tinitKeyboard: function() {\r\n\t\t\tvar that = this,\r\n\t\t\t\thasFocus = false;\r\n\r\n\t\t\tif ( this.settings.keyboard === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Detect when the slide is in focus and when it's not, and, optionally, make it\r\n\t\t\t// responsive to keyboard input only when it's in focus\r\n\t\t\tthis.$slider.on( 'focus.' + NS, function() {\r\n\t\t\t\thasFocus = true;\r\n\t\t\t});\r\n\r\n\t\t\tthis.$slider.on( 'blur.' + NS, function() {\r\n\t\t\t\thasFocus = false;\r\n\t\t\t});\r\n\r\n\t\t\t$( document ).on( 'keydown.' + this.uniqueId + '.' + NS, function( event ) {\r\n\t\t\t\tif ( that.settings.keyboardOnlyOnFocus === true && hasFocus === false ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the left arrow key is pressed, go to the previous slide.\r\n\t\t\t\t// If the right arrow key is pressed, go to the next slide.\r\n\t\t\t\t// If the Enter key is pressed, open the link attached to the main slide image.\r\n\t\t\t\tif ( event.which === 37 ) {\r\n\t\t\t\t\tthat.previousSlide();\r\n\t\t\t\t} else if ( event.which === 39 ) {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t} else if ( event.which === 13 ) {\r\n\t\t\t\t\tthat.$slider.find( '.sp-slide' ).eq( that.selectedSlideIndex ).find( '.sp-image-container a' )[0].click();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyKeyboard: function() {\r\n\t\t\tthis.$slider.off( 'focus.' + NS );\r\n\t\t\tthis.$slider.off( 'blur.' + NS );\r\n\t\t\t$( document ).off( 'keydown.' + this.uniqueId + '.' + NS );\r\n\t\t},\r\n\r\n\t\tkeyboardDefaults: {\r\n\r\n\t\t\t// Indicates whether keyboard navigation will be enabled\r\n\t\t\tkeyboard: true,\r\n\r\n\t\t\t// Indicates whether the slider will respond to keyboard input only when\r\n\t\t\t// the slider is in focus.\r\n\t\t\tkeyboardOnlyOnFocus: false\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Keyboard', Keyboard );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Full Screen module for Slider Pro.\r\n// \r\n// Adds the possibility to open the slider full-screen, using the HMTL5 FullScreen API.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'FullScreen.' + $.SliderPro.namespace;\r\n\r\n\tvar FullScreen = {\r\n\r\n\t\t// Indicates whether the slider is currently in full-screen mode\r\n\t\tisFullScreen: false,\r\n\r\n\t\t// Reference to the full-screen button\r\n\t\t$fullScreenButton: null,\r\n\r\n\t\t// Reference to a set of settings that influence the slider's size\r\n\t\t// before it goes full-screen\r\n\t\tsizeBeforeFullScreen: {},\r\n\r\n\t\tinitFullScreen: function() {\r\n\t\t\tif ( ! ( document.fullscreenEnabled ||\r\n\t\t\t\tdocument.webkitFullscreenEnabled ||\r\n\t\t\t\tdocument.mozFullScreenEnabled ||\r\n\t\t\t\tdocument.msFullscreenEnabled ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._fullScreenOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t// Create or remove the full-screen button depending on the value of the 'fullScreen' option\r\n\t\t_fullScreenOnUpdate: function() {\r\n\t\t\tif ( this.settings.fullScreen === true && this.$fullScreenButton === null ) {\r\n\t\t\t\tthis._addFullScreen();\r\n\t\t\t} else if ( this.settings.fullScreen === false && this.$fullScreenButton !== null ) {\r\n\t\t\t\tthis._removeFullScreen();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.fullScreen === true ) {\r\n\t\t\t\tif ( this.settings.fadeFullScreen === true ) {\r\n\t\t\t\t\tthis.$fullScreenButton.addClass( 'sp-fade-full-screen' );\r\n\t\t\t\t} else if ( this.settings.fadeFullScreen === false ) {\r\n\t\t\t\t\tthis.$fullScreenButton.removeClass( 'sp-fade-full-screen' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create the full-screen button\r\n\t\t_addFullScreen: function() {\r\n\t\t\tthis.$fullScreenButton = $('<div class=\"sp-full-screen-button\"></div>').appendTo( this.$slider );\r\n\t\t\tthis.$fullScreenButton.on( 'click.' + NS, $.proxy( this._onFullScreenButtonClick, this ) );\r\n\r\n\t\t\tdocument.addEventListener( 'fullscreenchange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t\tdocument.addEventListener( 'mozfullscreenchange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t\tdocument.addEventListener( 'webkitfullscreenchange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t\tdocument.addEventListener( 'MSFullscreenChange', $.proxy( this._onFullScreenChange, this ) );\r\n\t\t},\r\n\r\n\t\t// Remove the full-screen button\r\n\t\t_removeFullScreen: function() {\r\n\t\t\tif ( this.$fullScreenButton !== null ) {\r\n\t\t\t\tthis.$fullScreenButton.off( 'click.' + NS );\r\n\t\t\t\tthis.$fullScreenButton.remove();\r\n\t\t\t\tthis.$fullScreenButton = null;\r\n\t\t\t\tdocument.removeEventListener( 'fullscreenchange', this._onFullScreenChange );\r\n\t\t\t\tdocument.removeEventListener( 'mozfullscreenchange', this._onFullScreenChange );\r\n\t\t\t\tdocument.removeEventListener( 'webkitfullscreenchange', this._onFullScreenChange );\r\n\t\t\t\tdocument.removeEventListener( 'MSFullscreenChange', this._onFullScreenChange );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// When the full-screen button is clicked, put the slider into full-screen mode, and\r\n\t\t// take it out of the full-screen mode when it's clicked again.\r\n\t\t_onFullScreenButtonClick: function() {\r\n\t\t\tif ( this.isFullScreen === false ) {\r\n\t\t\t\tif ( this.instance.requestFullScreen ) {\r\n\t\t\t\t\tthis.instance.requestFullScreen();\r\n\t\t\t\t} else if ( this.instance.mozRequestFullScreen ) {\r\n\t\t\t\t\tthis.instance.mozRequestFullScreen();\r\n\t\t\t\t} else if ( this.instance.webkitRequestFullScreen ) {\r\n\t\t\t\t\tthis.instance.webkitRequestFullScreen();\r\n\t\t\t\t} else if ( this.instance.msRequestFullscreen ) {\r\n\t\t\t\t\tthis.instance.msRequestFullscreen();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ( document.exitFullScreen ) {\r\n\t\t\t\t\tdocument.exitFullScreen();\r\n\t\t\t\t} else if ( document.mozCancelFullScreen ) {\r\n\t\t\t\t\tdocument.mozCancelFullScreen();\r\n\t\t\t\t} else if ( document.webkitCancelFullScreen ) {\r\n\t\t\t\t\tdocument.webkitCancelFullScreen();\r\n\t\t\t\t} else if ( document.msExitFullscreen ) {\r\n\t\t\t\t\tdocument.msExitFullscreen();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// This will be called whenever the full-screen mode changes.\r\n\t\t// If the slider is in full-screen mode, set it to 'full window', and if it's\r\n\t\t// not in full-screen mode anymore, set it back to the original size.\r\n\t\t_onFullScreenChange: function() {\r\n\t\t\tthis.isFullScreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement ? true : false;\r\n\r\n\t\t\tif ( this.isFullScreen === true ) {\r\n\t\t\t\tthis.sizeBeforeFullScreen = { forceSize: this.settings.forceSize, autoHeight: this.settings.autoHeight };\r\n\t\t\t\tthis.$slider.addClass( 'sp-full-screen' );\r\n\t\t\t\tthis.settings.forceSize = 'fullWindow';\r\n\t\t\t\tthis.settings.autoHeight = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$slider.css( 'margin', '' );\r\n\t\t\t\tthis.$slider.removeClass( 'sp-full-screen' );\r\n\t\t\t\tthis.settings.forceSize = this.sizeBeforeFullScreen.forceSize;\r\n\t\t\t\tthis.settings.autoHeight = this.sizeBeforeFullScreen.autoHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyFullScreen: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis._removeFullScreen();\r\n\t\t},\r\n\r\n\t\tfullScreenDefaults: {\r\n\r\n\t\t\t// Indicates whether the full-screen button is enabled\r\n\t\t\tfullScreen: false,\r\n\r\n\t\t\t// Indicates whether the button will fade in only on hover\r\n\t\t\tfadeFullScreen: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'FullScreen', FullScreen );\r\n\r\n})( window, jQuery );\r\n\r\n// Buttons module for Slider Pro.\r\n// \r\n// Adds navigation buttons at the bottom of the slider.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'Buttons.' + $.SliderPro.namespace;\r\n\r\n\tvar Buttons = {\r\n\r\n\t\t// Reference to the buttons container\r\n\t\t$buttons: null,\r\n\r\n\t\tinitButtons: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._buttonsOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t_buttonsOnUpdate: function() {\r\n\t\t\tthis.$buttons = this.$slider.find('.sp-buttons');\r\n\t\t\t\r\n\t\t\t// If there is more that one slide but the buttons weren't created yet, create the buttons.\r\n\t\t\t// If the buttons were created but their number differs from the total number of slides, re-create the buttons.\r\n\t\t\t// If the buttons were created but there are less than one slide, remove the buttons.s\r\n\t\t\tif ( this.settings.buttons === true && this.getTotalSlides() > 1 && this.$buttons.length === 0 ) {\r\n\t\t\t\tthis._createButtons();\r\n\t\t\t} else if ( this.settings.buttons === true && this.getTotalSlides() !== this.$buttons.find( '.sp-button' ).length && this.$buttons.length !== 0 ) {\r\n\t\t\t\tthis._adjustButtons();\r\n\t\t\t} else if ( this.settings.buttons === false || ( this.getTotalSlides() <= 1 && this.$buttons.length !== 0 ) ) {\r\n\t\t\t\tthis._removeButtons();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create the buttons\r\n\t\t_createButtons: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Create the buttons' container\r\n\t\t\tthis.$buttons = $( '<div class=\"sp-buttons\"></div>' ).appendTo( this.$slider );\r\n\r\n\t\t\t// Create the buttons\r\n\t\t\tfor ( var i = 0; i < this.getTotalSlides(); i++ ) {\r\n\t\t\t\t$( '<div class=\"sp-button\"></div>' ).appendTo( this.$buttons );\r\n\t\t\t}\r\n\r\n\t\t\t// Listen for button clicks \r\n\t\t\tthis.$buttons.on( 'click.' + NS, '.sp-button', function() {\r\n\t\t\t\tthat.gotoSlide( $( this ).index() );\r\n\t\t\t});\r\n\r\n\t\t\t// Set the initially selected button\r\n\t\t\tthis.$buttons.find( '.sp-button' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected-button' );\r\n\r\n\t\t\t// Select the corresponding button when the slide changes\r\n\t\t\tthis.on( 'gotoSlide.' + NS, function( event ) {\r\n\t\t\t\tthat.$buttons.find( '.sp-selected-button' ).removeClass( 'sp-selected-button' );\r\n\t\t\t\tthat.$buttons.find( '.sp-button' ).eq( event.index ).addClass( 'sp-selected-button' );\r\n\t\t\t});\r\n\r\n\t\t\t// Indicate that the slider has buttons \r\n\t\t\tthis.$slider.addClass( 'sp-has-buttons' );\r\n\t\t},\r\n\r\n\t\t// Re-create the buttons. This is calles when the number of slides changes.\r\n\t\t_adjustButtons: function() {\r\n\t\t\tthis.$buttons.empty();\r\n\r\n\t\t\t// Create the buttons\r\n\t\t\tfor ( var i = 0; i < this.getTotalSlides(); i++ ) {\r\n\t\t\t\t$( '<div class=\"sp-button\"></div>' ).appendTo( this.$buttons );\r\n\t\t\t}\r\n\r\n\t\t\t// Change the selected the buttons\r\n\t\t\tthis.$buttons.find( '.sp-selected-button' ).removeClass( 'sp-selected-button' );\r\n\t\t\tthis.$buttons.find( '.sp-button' ).eq( this.selectedSlideIndex ).addClass( 'sp-selected-button' );\r\n\t\t},\r\n\r\n\t\t// Remove the buttons\r\n\t\t_removeButtons: function() {\r\n\t\t\tthis.$buttons.off( 'click.' + NS, '.sp-button' );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t\tthis.$buttons.remove();\r\n\t\t\tthis.$slider.removeClass( 'sp-has-buttons' );\r\n\t\t},\r\n\r\n\t\tdestroyButtons: function() {\r\n\t\t\tthis._removeButtons();\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t},\r\n\r\n\t\tbuttonsDefaults: {\r\n\t\t\t\r\n\t\t\t// Indicates whether the buttons will be created\r\n\t\t\tbuttons: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Buttons', Buttons );\r\n\r\n})( window, jQuery );\r\n\r\n// Arrows module for Slider Pro.\r\n// \r\n// Adds arrows for navigating to the next or previous slide.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Arrows.' + $.SliderPro.namespace;\r\n\r\n\tvar Arrows = {\r\n\r\n\t\t// Reference to the arrows container\r\n\t\t$arrows: null,\r\n\r\n\t\t// Reference to the previous arrow\r\n\t\t$previousArrow: null,\r\n\r\n\t\t// Reference to the next arrow\r\n\t\t$nextArrow: null,\r\n\r\n\t\tinitArrows: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._arrowsOnUpdate, this ) );\r\n\t\t\tthis.on( 'gotoSlide.' + NS, $.proxy( this._checkArrowsVisibility, this ) );\r\n\t\t},\r\n\r\n\t\t_arrowsOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Create the arrows if the 'arrows' option is set to true\r\n\t\t\tif ( this.settings.arrows === true && this.$arrows === null ) {\r\n\t\t\t\tthis.$arrows = $( '<div class=\"sp-arrows\"></div>' ).appendTo( this.$slidesContainer );\r\n\t\t\t\t\r\n\t\t\t\tthis.$previousArrow = $( '<div class=\"sp-arrow sp-previous-arrow\"></div>' ).appendTo( this.$arrows );\r\n\t\t\t\tthis.$nextArrow = $( '<div class=\"sp-arrow sp-next-arrow\"></div>' ).appendTo( this.$arrows );\r\n\r\n\t\t\t\tthis.$previousArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tthat.previousSlide();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$nextArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis._checkArrowsVisibility();\r\n\t\t\t} else if ( this.settings.arrows === false && this.$arrows !== null ) {\r\n\t\t\t\tthis._removeArrows();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.settings.arrows === true ) {\r\n\t\t\t\tif ( this.settings.fadeArrows === true ) {\r\n\t\t\t\t\tthis.$arrows.addClass( 'sp-fade-arrows' );\r\n\t\t\t\t} else if ( this.settings.fadeArrows === false ) {\r\n\t\t\t\t\tthis.$arrows.removeClass( 'sp-fade-arrows' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Show or hide the arrows depending on the position of the selected slide\r\n\t\t_checkArrowsVisibility: function() {\r\n\t\t\tif ( this.settings.arrows === false || this.settings.loop === true ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.selectedSlideIndex === 0 ) {\r\n\t\t\t\tthis.$previousArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$previousArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.selectedSlideIndex === this.getTotalSlides() - 1 ) {\r\n\t\t\t\tthis.$nextArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$nextArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t_removeArrows: function() {\r\n\t\t\tif ( this.$arrows !== null ) {\r\n\t\t\t\tthis.$previousArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$nextArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$arrows.remove();\r\n\t\t\t\tthis.$arrows = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroyArrows: function() {\r\n\t\t\tthis._removeArrows();\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlide.' + NS );\r\n\t\t},\r\n\r\n\t\tarrowsDefaults: {\r\n\r\n\t\t\t// Indicates whether the arrow buttons will be created\r\n\t\t\tarrows: false,\r\n\r\n\t\t\t// Indicates whether the arrows will fade in only on hover\r\n\t\t\tfadeArrows: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Arrows', Arrows );\r\n\r\n})( window, jQuery );\r\n\r\n// Thumbnail Touch Swipe module for Slider Pro.\r\n// \r\n// Adds touch-swipe functionality for thumbnails.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'ThumbnailTouchSwipe.' + $.SliderPro.namespace;\r\n\r\n\tvar ThumbnailTouchSwipe = {\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's starting position\r\n\t\tthumbnailTouchStartPoint: { x: 0, y: 0 },\r\n\r\n\t\t// The x and y coordinates of the pointer/finger's end position\r\n\t\tthumbnailTouchEndPoint: { x: 0, y: 0 },\r\n\r\n\t\t// The distance from the starting to the end position on the x and y axis\r\n\t\tthumbnailTouchDistance: { x: 0, y: 0 },\r\n\r\n\t\t// The position of the thumbnail scroller when the touch swipe starts\r\n\t\tthumbnailTouchStartPosition: 0,\r\n\r\n\t\t// Indicates if the thumbnail scroller is being swiped\r\n\t\tisThumbnailTouchMoving: false,\r\n\r\n\t\t// Indicates if the touch swipe was initialized\r\n\t\tisThumbnailTouchSwipe: false,\r\n\r\n\t\t// Stores the names of the events\r\n\t\tthumbnailTouchSwipeEvents: { startEvent: '', moveEvent: '', endEvent: '' },\r\n\r\n\t\tinitThumbnailTouchSwipe: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._thumbnailTouchSwipeOnUpdate, this ) );\r\n\t\t},\r\n\r\n\t\t_thumbnailTouchSwipeOnUpdate: function() {\r\n\r\n\t\t\t// Return if there are no thumbnails\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Initialize the touch swipe functionality if it wasn't initialized yet\r\n\t\t\tif ( this.settings.thumbnailTouchSwipe === true && this.isThumbnailTouchSwipe === false ) {\r\n\t\t\t\tthis.isThumbnailTouchSwipe = true;\r\n\r\n\t\t\t\tthis.thumbnailTouchSwipeEvents.startEvent = 'touchstart' + '.' + NS + ' mousedown' + '.' + NS;\r\n\t\t\t\tthis.thumbnailTouchSwipeEvents.moveEvent = 'touchmove' + '.' + NS + ' mousemove' + '.' + NS;\r\n\t\t\t\tthis.thumbnailTouchSwipeEvents.endEvent = 'touchend' + '.' + this.uniqueId + '.' + NS + ' mouseup' + '.' + this.uniqueId + '.' + NS;\r\n\t\t\t\t\r\n\t\t\t\t// Listen for touch swipe/mouse move events\r\n\t\t\t\tthis.$thumbnails.on( this.thumbnailTouchSwipeEvents.startEvent, $.proxy( this._onThumbnailTouchStart, this ) );\r\n\t\t\t\tthis.$thumbnails.on( 'dragstart.' + NS, function( event ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t// Add the grabbing icon\r\n\t\t\t\tthis.$thumbnails.addClass( 'sp-grab' );\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the default thumbnailClick\r\n\t\t\t$.each( this.thumbnails, function( index, thumbnail ) {\r\n\t\t\t\tthumbnail.off( 'thumbnailClick' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Called when the thumbnail scroller starts being dragged\r\n\t\t_onThumbnailTouchStart: function( event ) {\r\n\t\t\t// Disable dragging if the element is set to allow selections\r\n\t\t\tif ( $( event.target ).closest( '.sp-selectable' ).length >= 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\teventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Prevent default behavior for mouse events\r\n\t\t\tif ( typeof event.originalEvent.touches === 'undefined' ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\t// Disable click events on links\r\n\t\t\t$( event.target ).parents( '.sp-thumbnail-container' ).find( 'a' ).one( 'click.' + NS, function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Get the initial position of the mouse pointer and the initial position\r\n\t\t\t// of the thumbnail scroller\r\n\t\t\tthis.thumbnailTouchStartPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.thumbnailTouchStartPoint.y = eventObject.pageY || eventObject.clientY;\r\n\t\t\tthis.thumbnailTouchStartPosition = this.thumbnailsPosition;\r\n\r\n\t\t\t// Clear the previous distance values\r\n\t\t\tthis.thumbnailTouchDistance.x = this.thumbnailTouchDistance.y = 0;\r\n\r\n\t\t\t// If the thumbnail scroller is being grabbed while it's still animating, stop the\r\n\t\t\t// current movement\r\n\t\t\tif ( this.$thumbnails.hasClass( 'sp-animated' ) ) {\r\n\t\t\t\tthis.isThumbnailTouchMoving = true;\r\n\t\t\t\tthis._stopThumbnailsMovement();\r\n\t\t\t\tthis.thumbnailTouchStartPosition = this.thumbnailsPosition;\r\n\t\t\t}\r\n\r\n\t\t\t// Listen for move and end events\r\n\t\t\tthis.$thumbnails.on( this.thumbnailTouchSwipeEvents.moveEvent, $.proxy( this._onThumbnailTouchMove, this ) );\r\n\t\t\t$( document ).on( this.thumbnailTouchSwipeEvents.endEvent, $.proxy( this._onThumbnailTouchEnd, this ) );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-grab' ).addClass( 'sp-grabbing' );\r\n\r\n\t\t\t// Add 'sp-swiping' class to indicate that the thumbnail scroller is being swiped\r\n\t\t\tthis.$thumbnailsContainer.addClass( 'sp-swiping' );\r\n\t\t},\r\n\r\n\t\t// Called during the thumbnail scroller's dragging\r\n\t\t_onThumbnailTouchMove: function( event ) {\r\n\t\t\tvar eventObject = typeof event.originalEvent.touches !== 'undefined' ? event.originalEvent.touches[0] : event.originalEvent;\r\n\r\n\t\t\t// Indicate that the move event is being fired\r\n\t\t\tthis.isThumbnailTouchMoving = true;\r\n\r\n\t\t\t// Get the current position of the mouse pointer\r\n\t\t\tthis.thumbnailTouchEndPoint.x = eventObject.pageX || eventObject.clientX;\r\n\t\t\tthis.thumbnailTouchEndPoint.y = eventObject.pageY || eventObject.clientY;\r\n\r\n\t\t\t// Calculate the distance of the movement on both axis\r\n\t\t\tthis.thumbnailTouchDistance.x = this.thumbnailTouchEndPoint.x - this.thumbnailTouchStartPoint.x;\r\n\t\t\tthis.thumbnailTouchDistance.y = this.thumbnailTouchEndPoint.y - this.thumbnailTouchStartPoint.y;\r\n\t\t\t\r\n\t\t\t// Calculate the distance of the swipe that takes place in the same direction as the orientation of the thumbnails\r\n\t\t\t// and calculate the distance from the opposite direction.\r\n\t\t\t// \r\n\t\t\t// For a swipe to be valid there should more distance in the same direction as the orientation of the thumbnails.\r\n\t\t\tvar distance = this.thumbnailsOrientation === 'horizontal' ? this.thumbnailTouchDistance.x : this.thumbnailTouchDistance.y,\r\n\t\t\t\toppositeDistance = this.thumbnailsOrientation === 'horizontal' ? this.thumbnailTouchDistance.y : this.thumbnailTouchDistance.x;\r\n\r\n\t\t\t// If the movement is in the same direction as the orientation of the thumbnails, the swipe is valid\r\n\t\t\tif ( Math.abs( distance ) > Math.abs( oppositeDistance ) ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Make the thumbnail scroller move slower if it's dragged outside its bounds\r\n\t\t\tif ( this.thumbnailsPosition >= 0 ) {\r\n\t\t\t\tvar infOffset = - this.thumbnailTouchStartPosition;\r\n\t\t\t\tdistance = infOffset + ( distance - infOffset ) * 0.2;\r\n\t\t\t} else if ( this.thumbnailsPosition <= - this.thumbnailsSize + this.thumbnailsContainerSize ) {\r\n\t\t\t\tvar supOffset = this.thumbnailsSize - this.thumbnailsContainerSize + this.thumbnailTouchStartPosition;\r\n\t\t\t\tdistance = - supOffset + ( distance + supOffset ) * 0.2;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._moveThumbnailsTo( this.thumbnailTouchStartPosition + distance, true );\r\n\t\t},\r\n\r\n\t\t// Called when the thumbnail scroller is released\r\n\t\t_onThumbnailTouchEnd: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tthumbnailTouchDistance = this.thumbnailsOrientation === 'horizontal' ? this.thumbnailTouchDistance.x : this.thumbnailTouchDistance.y;\r\n\r\n\t\t\t// Remove the move and end listeners\r\n\t\t\tthis.$thumbnails.off( this.thumbnailTouchSwipeEvents.moveEvent );\r\n\t\t\t$( document ).off( this.thumbnailTouchSwipeEvents.endEvent );\r\n\r\n\t\t\t// Swap grabbing icons\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-grabbing' ).addClass( 'sp-grab' );\r\n\r\n\t\t\t// Check if there is intention for a tap/click\r\n\t\t\tif ( this.isThumbnailTouchMoving === false ||\r\n\t\t\t\tthis.isThumbnailTouchMoving === true &&\r\n\t\t\t\tMath.abs( this.thumbnailTouchDistance.x ) < 10 &&\r\n\t\t\t\tMath.abs( this.thumbnailTouchDistance.y ) < 10\r\n\t\t\t) {\r\n\t\t\t\tvar targetThumbnail = $( event.target ).hasClass( 'sp-thumbnail-container' ) ? $( event.target ) : $( event.target ).parents( '.sp-thumbnail-container' ),\r\n\t\t\t\t\tindex = targetThumbnail.index();\r\n\r\n\t\t\t\t// If a link is cliked, navigate to that link, else navigate to the slide that corresponds to the thumbnail\r\n\t\t\t\tif ( $( event.target ).parents( 'a' ).length !== 0 ) {\r\n\t\t\t\t\t$( event.target ).parents( 'a' ).off( 'click.' + NS );\r\n\t\t\t\t\tthis.$thumbnailsContainer.removeClass( 'sp-swiping' );\r\n\t\t\t\t} else if ( index !== this.selectedThumbnailIndex && index !== -1 ) {\r\n\t\t\t\t\tthis.gotoSlide( index );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isThumbnailTouchMoving = false;\r\n\r\n\t\t\t$( event.target ).parents( '.sp-thumbnail' ).one( 'click', function( event ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\t// Remove the 'sp-swiping' class but with a delay\r\n\t\t\t// because there might be other event listeners that check\r\n\t\t\t// the existence of this class, and this class should still be \r\n\t\t\t// applied for those listeners, since there was a swipe event\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.$thumbnailsContainer.removeClass( 'sp-swiping' );\r\n\t\t\t}, 1 );\r\n\r\n\t\t\t// Keep the thumbnail scroller inside the bounds\r\n\t\t\tif ( this.thumbnailsPosition > 0 ) {\r\n\t\t\t\tthis._moveThumbnailsTo( 0 );\r\n\t\t\t} else if ( this.thumbnailsPosition < this.thumbnailsContainerSize - this.thumbnailsSize ) {\r\n\t\t\t\tthis._moveThumbnailsTo( this.thumbnailsContainerSize - this.thumbnailsSize );\r\n\t\t\t}\r\n\r\n\t\t\t// Fire the 'thumbnailsMoveComplete' event\r\n\t\t\tthis.trigger({ type: 'thumbnailsMoveComplete' });\r\n\t\t\tif ( $.isFunction( this.settings.thumbnailsMoveComplete ) ) {\r\n\t\t\t\tthis.settings.thumbnailsMoveComplete.call( this, { type: 'thumbnailsMoveComplete' });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyThumbnailTouchSwipe: function() {\r\n\t\t\tthis.off( 'update.' + NS );\r\n\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$thumbnails.off( this.thumbnailTouchSwipeEvents.startEvent );\r\n\t\t\tthis.$thumbnails.off( this.thumbnailTouchSwipeEvents.moveEvent );\r\n\t\t\tthis.$thumbnails.off( 'dragstart.' + NS );\r\n\t\t\t$( document ).off( this.thumbnailTouchSwipeEvents.endEvent );\r\n\t\t\tthis.$thumbnails.removeClass( 'sp-grab' );\r\n\t\t},\r\n\r\n\t\tthumbnailTouchSwipeDefaults: {\r\n\r\n\t\t\t// Indicates whether the touch swipe will be enabled for thumbnails\r\n\t\t\tthumbnailTouchSwipe: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'ThumbnailTouchSwipe', ThumbnailTouchSwipe );\r\n\r\n})( window, jQuery );\r\n\r\n// Thumbnail Arrows module for Slider Pro.\r\n// \r\n// Adds thumbnail arrows for moving the thumbnail scroller.\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\t\r\n\tvar NS = 'ThumbnailArrows.' + $.SliderPro.namespace;\r\n\r\n\tvar ThumbnailArrows = {\r\n\r\n\t\t// Reference to the arrows container\r\n\t\t$thumbnailArrows: null,\r\n\r\n\t\t// Reference to the 'previous' thumbnail arrow\r\n\t\t$previousThumbnailArrow: null,\r\n\r\n\t\t// Reference to the 'next' thumbnail arrow\r\n\t\t$nextThumbnailArrow: null,\r\n\r\n\t\tinitThumbnailArrows: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._thumbnailArrowsOnUpdate, this ) );\r\n\t\t\t\r\n\t\t\t// Check if the arrows need to be visible or invisible when the thumbnail scroller\r\n\t\t\t// resizes and when the thumbnail scroller moves.\r\n\t\t\tthis.on( 'sliderResize.' + NS + ' ' + 'thumbnailsMoveComplete.' + NS, function() {\r\n\t\t\t\tif ( that.isThumbnailScroller === true && that.settings.thumbnailArrows === true ) {\r\n\t\t\t\t\tthat._checkThumbnailArrowsVisibility();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// Called when the slider is updated\r\n\t\t_thumbnailArrowsOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t\tif ( this.isThumbnailScroller === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Create or remove the thumbnail scroller arrows\r\n\t\t\tif ( this.settings.thumbnailArrows === true && this.$thumbnailArrows === null ) {\r\n\t\t\t\tthis.$thumbnailArrows = $( '<div class=\"sp-thumbnail-arrows\"></div>' ).appendTo( this.$thumbnailsContainer );\r\n\t\t\t\t\r\n\t\t\t\tthis.$previousThumbnailArrow = $( '<div class=\"sp-thumbnail-arrow sp-previous-thumbnail-arrow\"></div>' ).appendTo( this.$thumbnailArrows );\r\n\t\t\t\tthis.$nextThumbnailArrow = $( '<div class=\"sp-thumbnail-arrow sp-next-thumbnail-arrow\"></div>' ).appendTo( this.$thumbnailArrows );\r\n\r\n\t\t\t\tthis.$previousThumbnailArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tvar previousPosition = Math.min( 0, that.thumbnailsPosition + that.thumbnailsContainerSize );\r\n\t\t\t\t\tthat._moveThumbnailsTo( previousPosition );\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$nextThumbnailArrow.on( 'click.' + NS, function() {\r\n\t\t\t\t\tvar nextPosition = Math.max( that.thumbnailsContainerSize - that.thumbnailsSize, that.thumbnailsPosition - that.thumbnailsContainerSize );\r\n\t\t\t\t\tthat._moveThumbnailsTo( nextPosition );\r\n\t\t\t\t});\r\n\t\t\t} else if ( this.settings.thumbnailArrows === false && this.$thumbnailArrows !== null ) {\r\n\t\t\t\tthis._removeThumbnailArrows();\r\n\t\t\t}\r\n\r\n\t\t\t// Add fading functionality and check if the arrows need to be visible or not\r\n\t\t\tif ( this.settings.thumbnailArrows === true ) {\r\n\t\t\t\tif ( this.settings.fadeThumbnailArrows === true ) {\r\n\t\t\t\t\tthis.$thumbnailArrows.addClass( 'sp-fade-thumbnail-arrows' );\r\n\t\t\t\t} else if ( this.settings.fadeThumbnailArrows === false ) {\r\n\t\t\t\t\tthis.$thumbnailArrows.removeClass( 'sp-fade-thumbnail-arrows' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._checkThumbnailArrowsVisibility();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Checks if the 'next' or 'previous' arrows need to be visible or hidden,\r\n\t\t// based on the position of the thumbnail scroller\r\n\t\t_checkThumbnailArrowsVisibility: function() {\r\n\t\t\tif ( this.thumbnailsPosition === 0 ) {\r\n\t\t\t\tthis.$previousThumbnailArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$previousThumbnailArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.thumbnailsPosition === this.thumbnailsContainerSize - this.thumbnailsSize ) {\r\n\t\t\t\tthis.$nextThumbnailArrow.css( 'display', 'none' );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$nextThumbnailArrow.css( 'display', 'block' );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Remove the thumbnail arrows\r\n\t\t_removeThumbnailArrows: function() {\r\n\t\t\tif ( this.$thumbnailArrows !== null ) {\r\n\t\t\t\tthis.$previousThumbnailArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$nextThumbnailArrow.off( 'click.' + NS );\r\n\t\t\t\tthis.$thumbnailArrows.remove();\r\n\t\t\t\tthis.$thumbnailArrows = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyThumbnailArrows: function() {\r\n\t\t\tthis._removeThumbnailArrows();\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'sliderResize.' + NS );\r\n\t\t\tthis.off( 'thumbnailsMoveComplete.' + NS );\r\n\t\t},\r\n\r\n\t\tthumbnailArrowsDefaults: {\r\n\r\n\t\t\t// Indicates whether the thumbnail arrows will be enabled\r\n\t\t\tthumbnailArrows: false,\r\n\r\n\t\t\t// Indicates whether the thumbnail arrows will be faded\r\n\t\t\tfadeThumbnailArrows: true\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'ThumbnailArrows', ThumbnailArrows );\r\n\r\n})( window, jQuery );\r\n\r\n// Video module for Slider Pro\r\n//\r\n// Adds automatic control for several video players and providers\r\n;(function( window, $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n\tvar NS = 'Video.' + $.SliderPro.namespace;\r\n\t\r\n\tvar Video = {\r\n\r\n\t\tfirstInit: false,\r\n\r\n\t\tinitVideo: function() {\r\n\t\t\tthis.on( 'update.' + NS, $.proxy( this._videoOnUpdate, this ) );\r\n\t\t\tthis.on( 'gotoSlideComplete.' + NS, $.proxy( this._videoOnGotoSlideComplete, this ) );\r\n\t\t},\r\n\r\n\t\t_videoOnUpdate: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Find all the inline videos and initialize them\r\n\t\t\tthis.$slider.find( '.sp-video' ).not( 'a, [data-video-init]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tthat._initVideo( video );\r\n\t\t\t});\r\n\r\n\t\t\t// Find all the lazy-loaded videos and preinitialize them. They will be initialized\r\n\t\t\t// only when their play button is clicked.\r\n\t\t\tthis.$slider.find( 'a.sp-video' ).not( '[data-video-preinit]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tthat._preinitVideo( video );\r\n\t\t\t});\r\n\r\n\t\t\t// call the 'gotoSlideComplete' method in case the first slide contains a video that\r\n\t\t\t// needs to play automatically\r\n\t\t\tif ( this.firstInit === false ) {\r\n\t\t\t\tthis.firstInit = true;\r\n\t\t\t\tthis._videoOnGotoSlideComplete({ index: this.selectedSlideIndex, previousIndex: -1 });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Initialize the target video\r\n\t\t_initVideo: function( video ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvideo.attr( 'data-video-init', true )\r\n\t\t\t\t.videoController();\r\n\r\n\t\t\t// When the video starts playing, pause the autoplay if it's running\r\n\t\t\tvideo.on( 'videoPlay.' + NS, function() {\r\n\t\t\t\tif ( that.settings.playVideoAction === 'stopAutoplay' && typeof that.stopAutoplay !== 'undefined' ) {\r\n\t\t\t\t\tthat.stopAutoplay();\r\n\t\t\t\t\tthat.settings.autoplay = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'videoPlay' event\r\n\t\t\t\tvar eventObject = { type: 'videoPlay', video: video };\r\n\t\t\t\tthat.trigger( eventObject );\r\n\t\t\t\tif ( $.isFunction( that.settings.videoPlay ) ) {\r\n\t\t\t\t\tthat.settings.videoPlay.call( that, eventObject );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// When the video is paused, restart the autoplay\r\n\t\t\tvideo.on( 'videoPause.' + NS, function() {\r\n\t\t\t\tif ( that.settings.pauseVideoAction === 'startAutoplay' && typeof that.startAutoplay !== 'undefined' ) {\r\n\t\t\t\t\tthat.startAutoplay();\r\n\t\t\t\t\tthat.settings.autoplay = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'videoPause' event\r\n\t\t\t\tvar eventObject = { type: 'videoPause', video: video };\r\n\t\t\t\tthat.trigger( eventObject );\r\n\t\t\t\tif ( $.isFunction( that.settings.videoPause ) ) {\r\n\t\t\t\t\tthat.settings.videoPause.call( that, eventObject );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// When the video ends, restart the autoplay (which was paused during the playback), or\r\n\t\t\t// go to the next slide, or replay the video\r\n\t\t\tvideo.on( 'videoEnded.' + NS, function() {\r\n\t\t\t\tif ( that.settings.endVideoAction === 'startAutoplay' && typeof that.startAutoplay !== 'undefined' ) {\r\n\t\t\t\t\tthat.startAutoplay();\r\n\t\t\t\t\tthat.settings.autoplay = true;\r\n\t\t\t\t} else if ( that.settings.endVideoAction === 'nextSlide' ) {\r\n\t\t\t\t\tthat.nextSlide();\r\n\t\t\t\t} else if ( that.settings.endVideoAction === 'replayVideo' ) {\r\n\t\t\t\t\tvideo.videoController( 'replay' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fire the 'videoEnd' event\r\n\t\t\t\tvar eventObject = { type: 'videoEnd', video: video };\r\n\t\t\t\tthat.trigger( eventObject );\r\n\t\t\t\tif ( $.isFunction(that.settings.videoEnd ) ) {\r\n\t\t\t\t\tthat.settings.videoEnd.call( that, eventObject );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Pre-initialize the video. This is for lazy loaded videos.\r\n\t\t_preinitVideo: function( video ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvideo.attr( 'data-video-preinit', true );\r\n\r\n\t\t\t// When the video poster is clicked, remove the poster and create\r\n\t\t\t// the inline video\r\n\t\t\tvideo.on( 'click.' + NS, function( event ) {\r\n\r\n\t\t\t\t// If the video is being dragged, don't start the video\r\n\t\t\t\tif ( that.$slider.hasClass( 'sp-swiping' ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tvar href = video.attr( 'href' ),\r\n\t\t\t\t\tiframe,\r\n\t\t\t\t\tprovider,\r\n\t\t\t\t\tregExp,\r\n\t\t\t\t\tmatch,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tsrc,\r\n\t\t\t\t\tvideoAttributes,\r\n\t\t\t\t\tvideoWidth = video.children( 'img' ).attr( 'width' ) || video.children( 'img' ).width(),\r\n\t\t\t\t\tvideoHeight = video.children( 'img' ).attr( 'height') || video.children( 'img' ).height();\r\n\r\n\t\t\t\t// Check if it's a youtube or vimeo video\r\n\t\t\t\tif ( href.indexOf( 'youtube' ) !== -1 || href.indexOf( 'youtu.be' ) !== -1 ) {\r\n\t\t\t\t\tprovider = 'youtube';\r\n\t\t\t\t} else if ( href.indexOf( 'vimeo' ) !== -1 ) {\r\n\t\t\t\t\tprovider = 'vimeo';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get the id of the video\r\n\t\t\t\tregExp = provider === 'youtube' ? /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/ : /http:\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;\r\n\t\t\t\tmatch = href.match( regExp );\r\n\t\t\t\tid = match[2];\r\n\r\n\t\t\t\t// Get the source of the iframe that will be created\r\n\t\t\t\tsrc = provider === 'youtube' ? '//www.youtube.com/embed/' + id + '?enablejsapi=1&wmode=opaque' : '//player.vimeo.com/video/'+ id +'?api=1';\r\n\t\t\t\t\r\n\t\t\t\t// Get the attributes passed to the video link and then pass them to the iframe's src\r\n\t\t\t\tvideoAttributes = href.split( '?' )[ 1 ];\r\n\r\n\t\t\t\tif ( typeof videoAttributes !== 'undefined' ) {\r\n\t\t\t\t\tvideoAttributes = videoAttributes.split( '&' );\r\n\r\n\t\t\t\t\t$.each( videoAttributes, function( index, value ) {\r\n\t\t\t\t\t\tif ( value.indexOf( id ) === -1 ) {\r\n\t\t\t\t\t\t\tsrc += '&' + value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create the iframe\r\n\t\t\t\tiframe = $( '<iframe></iframe>' )\r\n\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t'src': src,\r\n\t\t\t\t\t\t'width': videoWidth,\r\n\t\t\t\t\t\t'height': videoHeight,\r\n\t\t\t\t\t\t'class': video.attr( 'class' ),\r\n\t\t\t\t\t\t'frameborder': 0,\r\n\t\t\t\t\t\t'allowfullscreen': 'allowfullscreen'\r\n\t\t\t\t\t}).insertBefore( video );\r\n\r\n\t\t\t\t// Initialize the video and play it\r\n\t\t\t\tthat._initVideo( iframe );\r\n\t\t\t\tiframe.videoController( 'play' );\r\n\r\n\t\t\t\t// Hide the video poster\r\n\t\t\t\tvideo.css( 'display', 'none' );\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Called when a new slide is selected\r\n\t\t_videoOnGotoSlideComplete: function( event ) {\r\n\r\n\t\t\t// Get the video from the previous slide\r\n\t\t\tvar previousVideo = this.$slides.find( '.sp-slide' ).eq( event.previousIndex ).find( '.sp-video[data-video-init]' );\r\n\r\n\t\t\t// Handle the video from the previous slide by stopping it, or pausing it,\r\n\t\t\t// or remove it, depending on the value of the 'leaveVideoAction' option.\r\n\t\t\tif ( event.previousIndex !== -1 && previousVideo.length !== 0 ) {\r\n\t\t\t\tif ( this.settings.leaveVideoAction === 'stopVideo' ) {\r\n\t\t\t\t\tpreviousVideo.videoController( 'stop' );\r\n\t\t\t\t} else if ( this.settings.leaveVideoAction === 'pauseVideo' ) {\r\n\t\t\t\t\tpreviousVideo.videoController( 'pause' );\r\n\t\t\t\t} else if ( this.settings.leaveVideoAction === 'removeVideo'  ) {\r\n\t\t\t\t\t// If the video was lazy-loaded, remove it and show the poster again. If the video\r\n\t\t\t\t\t// was not lazy-loaded, but inline, stop the video.\r\n\t\t\t\t\tif ( previousVideo.siblings( 'a.sp-video' ).length !== 0 ) {\r\n\t\t\t\t\t\tpreviousVideo.siblings( 'a.sp-video' ).css( 'display', '' );\r\n\t\t\t\t\t\tpreviousVideo.videoController( 'destroy' );\r\n\t\t\t\t\t\tpreviousVideo.remove();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpreviousVideo.videoController( 'stop' );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Handle the video from the selected slide\r\n\t\t\tif ( this.settings.reachVideoAction === 'playVideo' ) {\r\n\t\t\t\tvar loadedVideo = this.$slides.find( '.sp-slide' ).eq( event.index ).find( '.sp-video[data-video-init]' ),\r\n\t\t\t\t\tunloadedVideo = this.$slides.find( '.sp-slide' ).eq( event.index ).find( '.sp-video[data-video-preinit]' );\r\n\r\n\t\t\t\t// If the video was already initialized, play it. If it's not initialized (because\r\n\t\t\t\t// it's lazy loaded) initialize it and play it.\r\n\t\t\t\tif ( loadedVideo.length !== 0 ) {\r\n\t\t\t\t\tloadedVideo.videoController( 'play' );\r\n\t\t\t\t} else if ( unloadedVideo.length !== 0 ) {\r\n\t\t\t\t\tunloadedVideo.trigger( 'click.' + NS );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Destroy the module\r\n\t\tdestroyVideo: function() {\r\n\t\t\tthis.$slider.find( '.sp-video[ data-video-preinit ]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tvideo.removeAttr( 'data-video-preinit' );\r\n\t\t\t\tvideo.off( 'click.' + NS );\r\n\t\t\t});\r\n\r\n\t\t\t// Loop through the all the videos and destroy them\r\n\t\t\tthis.$slider.find( '.sp-video[ data-video-init ]' ).each(function() {\r\n\t\t\t\tvar video = $( this );\r\n\t\t\t\tvideo.removeAttr( 'data-video-init' );\r\n\t\t\t\tvideo.off( 'Video' );\r\n\t\t\t\tvideo.videoController( 'destroy' );\r\n\t\t\t});\r\n\r\n\t\t\tthis.off( 'update.' + NS );\r\n\t\t\tthis.off( 'gotoSlideComplete.' + NS );\r\n\t\t},\r\n\r\n\t\tvideoDefaults: {\r\n\r\n\t\t\t// Sets the action that the video will perform when its slide container is selected\r\n\t\t\t// ( 'playVideo' and 'none' )\r\n\t\t\treachVideoAction: 'none',\r\n\r\n\t\t\t// Sets the action that the video will perform when another slide is selected\r\n\t\t\t// ( 'stopVideo', 'pauseVideo', 'removeVideo' and 'none' )\r\n\t\t\tleaveVideoAction: 'pauseVideo',\r\n\r\n\t\t\t// Sets the action that the slider will perform when the video starts playing\r\n\t\t\t// ( 'stopAutoplay' and 'none' )\r\n\t\t\tplayVideoAction: 'stopAutoplay',\r\n\r\n\t\t\t// Sets the action that the slider will perform when the video is paused\r\n\t\t\t// ( 'startAutoplay' and 'none' )\r\n\t\t\tpauseVideoAction: 'none',\r\n\r\n\t\t\t// Sets the action that the slider will perform when the video ends\r\n\t\t\t// ( 'startAutoplay', 'nextSlide', 'replayVideo' and 'none' )\r\n\t\t\tendVideoAction: 'none',\r\n\r\n\t\t\t// Called when the video starts playing\r\n\t\t\tvideoPlay: function() {},\r\n\r\n\t\t\t// Called when the video is paused\r\n\t\t\tvideoPause: function() {},\r\n\r\n\t\t\t// Called when the video ends\r\n\t\t\tvideoEnd: function() {}\r\n\t\t}\r\n\t};\r\n\r\n\t$.SliderPro.addModule( 'Video', Video );\r\n\t\r\n})( window, jQuery );\r\n\r\n// Video Controller jQuery plugin\r\n// Creates a universal controller for multiple video types and providers\r\n;(function( $ ) {\r\n\r\n\t\"use strict\";\r\n\r\n// Check if an iOS device is used.\r\n// This information is important because a video can not be\r\n// controlled programmatically unless the user has started the video manually.\r\nvar\tisIOS = window.navigator.userAgent.match( /(iPad|iPhone|iPod)/g ) ? true : false;\r\n\r\nvar VideoController = function( instance, options ) {\r\n\tthis.$video = $( instance );\r\n\tthis.options = options;\r\n\tthis.settings = {};\r\n\tthis.player = null;\r\n\r\n\tthis._init();\r\n};\r\n\r\nVideoController.prototype = {\r\n\r\n\t_init: function() {\r\n\t\tthis.settings = $.extend( {}, this.defaults, this.options );\r\n\r\n\t\tvar that = this,\r\n\t\t\tplayers = $.VideoController.players,\r\n\t\t\tvideoID = this.$video.attr( 'id' );\r\n\r\n\t\t// Loop through the available video players\r\n\t\t// and check if the targeted video element is supported by one of the players.\r\n\t\t// If a compatible type is found, store the video type.\r\n\t\tfor ( var name in players ) {\r\n\t\t\tif ( typeof players[ name ] !== 'undefined' && players[ name ].isType( this.$video ) ) {\r\n\t\t\t\tthis.player = new players[ name ]( this.$video );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Return if the player could not be instantiated\r\n\t\tif ( this.player === null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Add event listeners\r\n\t\tvar events = [ 'ready', 'start', 'play', 'pause', 'ended' ];\r\n\t\t\r\n\t\t$.each( events, function( index, element ) {\r\n\t\t\tvar event = 'video' + element.charAt( 0 ).toUpperCase() + element.slice( 1 );\r\n\r\n\t\t\tthat.player.on( element, function() {\r\n\t\t\t\tthat.trigger({ type: event, video: videoID });\r\n\t\t\t\tif ( $.isFunction( that.settings[ event ] ) ) {\r\n\t\t\t\t\tthat.settings[ event ].call( that, { type: event, video: videoID } );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t\r\n\tplay: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false || this.player.getState() === 'playing' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.player.play();\r\n\t},\r\n\t\r\n\tstop: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false || this.player.getState() === 'stopped' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.player.stop();\r\n\t},\r\n\t\r\n\tpause: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false || this.player.getState() === 'paused' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.player.pause();\r\n\t},\r\n\r\n\treplay: function() {\r\n\t\tif ( isIOS === true && this.player.isStarted() === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.player.replay();\r\n\t},\r\n\r\n\ton: function( type, callback ) {\r\n\t\treturn this.$video.on( type, callback );\r\n\t},\r\n\t\r\n\toff: function( type ) {\r\n\t\treturn this.$video.off( type );\r\n\t},\r\n\r\n\ttrigger: function( data ) {\r\n\t\treturn this.$video.triggerHandler( data );\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tif ( this.player.isStarted() === true ) {\r\n\t\t\tthis.stop();\r\n\t\t}\r\n\r\n\t\tthis.player.off( 'ready' );\r\n\t\tthis.player.off( 'start' );\r\n\t\tthis.player.off( 'play' );\r\n\t\tthis.player.off( 'pause' );\r\n\t\tthis.player.off( 'ended' );\r\n\r\n\t\tthis.$video.removeData( 'videoController' );\r\n\t},\r\n\r\n\tdefaults: {\r\n\t\tvideoReady: function() {},\r\n\t\tvideoStart: function() {},\r\n\t\tvideoPlay: function() {},\r\n\t\tvideoPause: function() {},\r\n\t\tvideoEnded: function() {}\r\n\t}\r\n};\r\n\r\n$.VideoController = {\r\n\tplayers: {},\r\n\r\n\taddPlayer: function( name, player ) {\r\n\t\tthis.players[ name ] = player;\r\n\t}\r\n};\r\n\r\n$.fn.videoController = function( options ) {\r\n\tvar args = Array.prototype.slice.call( arguments, 1 );\r\n\r\n\treturn this.each(function() {\r\n\t\t// Instantiate the video controller or call a function on the current instance\r\n\t\tif ( typeof $( this ).data( 'videoController' ) === 'undefined' ) {\r\n\t\t\tvar newInstance = new VideoController( this, options );\r\n\r\n\t\t\t// Store a reference to the instance created\r\n\t\t\t$( this ).data( 'videoController', newInstance );\r\n\t\t} else if ( typeof options !== 'undefined' ) {\r\n\t\t\tvar\tcurrentInstance = $( this ).data( 'videoController' );\r\n\r\n\t\t\t// Check the type of argument passed\r\n\t\t\tif ( typeof currentInstance[ options ] === 'function' ) {\r\n\t\t\t\tcurrentInstance[ options ].apply( currentInstance, args );\r\n\t\t\t} else {\r\n\t\t\t\t$.error( options + ' does not exist in videoController.' );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Base object for the video players\r\nvar Video = function( video ) {\r\n\tthis.$video = video;\r\n\tthis.player = null;\r\n\tthis.ready = false;\r\n\tthis.started = false;\r\n\tthis.state = '';\r\n\tthis.events = $({});\r\n\r\n\tthis._init();\r\n};\r\n\r\nVideo.prototype = {\r\n\t_init: function() {},\r\n\r\n\tplay: function() {},\r\n\r\n\tpause: function() {},\r\n\r\n\tstop: function() {},\r\n\r\n\treplay: function() {},\r\n\r\n\tisType: function() {},\r\n\r\n\tisReady: function() {\r\n\t\treturn this.ready;\r\n\t},\r\n\r\n\tisStarted: function() {\r\n\t\treturn this.started;\r\n\t},\r\n\r\n\tgetState: function() {\r\n\t\treturn this.state;\r\n\t},\r\n\r\n\ton: function( type, callback ) {\r\n\t\treturn this.events.on( type, callback );\r\n\t},\r\n\t\r\n\toff: function( type ) {\r\n\t\treturn this.events.off( type );\r\n\t},\r\n\r\n\ttrigger: function( data ) {\r\n\t\treturn this.events.triggerHandler( data );\r\n\t}\r\n};\r\n\r\n// YouTube video\r\nvar YoutubeVideoHelper = {\r\n\tyoutubeAPIAdded: false,\r\n\tyoutubeVideos: []\r\n};\r\n\r\nvar YoutubeVideo = function( video ) {\r\n\tthis.init = false;\r\n\tvar youtubeAPILoaded = window.YT && window.YT.Player;\r\n\r\n\tif ( typeof youtubeAPILoaded !== 'undefined' ) {\r\n\t\tVideo.call( this, video );\r\n\t} else {\r\n\t\tYoutubeVideoHelper.youtubeVideos.push({ 'video': video, 'scope': this });\r\n\t\t\r\n\t\tif ( YoutubeVideoHelper.youtubeAPIAdded === false ) {\r\n\t\t\tYoutubeVideoHelper.youtubeAPIAdded = true;\r\n\r\n\t\t\tvar tag = document.createElement( 'script' );\r\n\t\t\ttag.src = \"//www.youtube.com/player_api\";\r\n\t\t\tvar firstScriptTag = document.getElementsByTagName( 'script' )[0];\r\n\t\t\tfirstScriptTag.parentNode.insertBefore( tag, firstScriptTag );\r\n\r\n\t\t\twindow.onYouTubePlayerAPIReady = function() {\r\n\t\t\t\t$.each( YoutubeVideoHelper.youtubeVideos, function( index, element ) {\r\n\t\t\t\t\tVideo.call( element.scope, element.video );\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nYoutubeVideo.prototype = new Video();\r\nYoutubeVideo.prototype.constructor = YoutubeVideo;\r\n$.VideoController.addPlayer( 'YoutubeVideo', YoutubeVideo );\r\n\r\nYoutubeVideo.isType = function( video ) {\r\n\tif ( video.is( 'iframe' ) ) {\r\n\t\tvar src = video.attr( 'src' );\r\n\r\n\t\tif ( src.indexOf( 'youtube.com' ) !== -1 || src.indexOf( 'youtu.be' ) !== -1 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nYoutubeVideo.prototype._init = function() {\r\n\tthis.init = true;\r\n\tthis._setup();\r\n};\r\n\t\r\nYoutubeVideo.prototype._setup = function() {\r\n\tvar that = this;\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = new YT.Player( this.$video[0], {\r\n\t\tevents: {\r\n\t\t\t'onReady': function() {\r\n\t\t\t\tthat.trigger({ type: 'ready' });\r\n\t\t\t\tthat.ready = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t'onStateChange': function( event ) {\r\n\t\t\t\tswitch ( event.data ) {\r\n\t\t\t\t\tcase YT.PlayerState.PLAYING:\r\n\t\t\t\t\t\tif (that.started === false) {\r\n\t\t\t\t\t\t\tthat.started = true;\r\n\t\t\t\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.state = 'playing';\r\n\t\t\t\t\t\tthat.trigger({ type: 'play' });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase YT.PlayerState.PAUSED:\r\n\t\t\t\t\t\tthat.state = 'paused';\r\n\t\t\t\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase YT.PlayerState.ENDED:\r\n\t\t\t\t\t\tthat.state = 'ended';\r\n\t\t\t\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\nYoutubeVideo.prototype.play = function() {\r\n\tvar that = this;\r\n\r\n\tif ( this.ready === true ) {\r\n\t\tthis.player.playVideo();\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.ready === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tthat.player.playVideo();\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\nYoutubeVideo.prototype.pause = function() {\r\n\t// On iOS, simply pausing the video can make other videos unresponsive\r\n\t// so we stop the video instead.\r\n\tif ( isIOS === true ) {\r\n\t\tthis.stop();\r\n\t} else {\r\n\t\tthis.player.pauseVideo();\r\n\t}\r\n};\r\n\r\nYoutubeVideo.prototype.stop = function() {\r\n\tthis.player.seekTo( 1 );\r\n\tthis.player.stopVideo();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nYoutubeVideo.prototype.replay = function() {\r\n\tthis.player.seekTo( 1 );\r\n\tthis.player.playVideo();\r\n};\r\n\r\nYoutubeVideo.prototype.on = function( type, callback ) {\r\n\tvar that = this;\r\n\r\n\tif ( this.init === true ) {\r\n\t\tVideo.prototype.on.call( this, type, callback );\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.init === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tVideo.prototype.on.call( that, type, callback );\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\n// Vimeo video\r\nvar VimeoVideoHelper = {\r\n\tvimeoAPIAdded: false,\r\n\tvimeoVideos: []\r\n};\r\n\r\nvar VimeoVideo = function( video ) {\r\n\tthis.init = false;\r\n\r\n\tif ( typeof window.Froogaloop !== 'undefined' ) {\r\n\t\tVideo.call( this, video );\r\n\t} else {\r\n\t\tVimeoVideoHelper.vimeoVideos.push({ 'video': video, 'scope': this });\r\n\r\n\t\tif ( VimeoVideoHelper.vimeoAPIAdded === false ) {\r\n\t\t\tVimeoVideoHelper.vimeoAPIAdded = true;\r\n\r\n\t\t\tvar tag = document.createElement('script');\r\n\t\t\ttag.src = \"//a.vimeocdn.com/js/froogaloop2.min.js\";\r\n\t\t\tvar firstScriptTag = document.getElementsByTagName( 'script' )[0];\r\n\t\t\tfirstScriptTag.parentNode.insertBefore( tag, firstScriptTag );\r\n\t\t\r\n\t\t\tvar checkVimeoAPITimer = setInterval(function() {\r\n\t\t\t\tif ( typeof window.Froogaloop !== 'undefined' ) {\r\n\t\t\t\t\tclearInterval( checkVimeoAPITimer );\r\n\t\t\t\t\t\r\n\t\t\t\t\t$.each( VimeoVideoHelper.vimeoVideos, function( index, element ) {\r\n\t\t\t\t\t\tVideo.call( element.scope, element.video );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 100 );\r\n\t\t}\r\n\t}\r\n};\r\n\r\nVimeoVideo.prototype = new Video();\r\nVimeoVideo.prototype.constructor = VimeoVideo;\r\n$.VideoController.addPlayer( 'VimeoVideo', VimeoVideo );\r\n\r\nVimeoVideo.isType = function( video ) {\r\n\tif ( video.is( 'iframe' ) ) {\r\n\t\tvar src = video.attr('src');\r\n\r\n\t\tif ( src.indexOf( 'vimeo.com' ) !== -1 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nVimeoVideo.prototype._init = function() {\r\n\tthis.init = true;\r\n\tthis._setup();\r\n};\r\n\r\nVimeoVideo.prototype._setup = function() {\r\n\tvar that = this;\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = $f( this.$video[0] );\r\n\t\r\n\tthis.player.addEvent( 'ready', function() {\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\t\t\r\n\t\tthat.player.addEvent( 'play', function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.addEvent( 'pause', function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.addEvent( 'finish', function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nVimeoVideo.prototype.play = function() {\r\n\tvar that = this;\r\n\r\n\tif ( this.ready === true ) {\r\n\t\tthis.player.api( 'play' );\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.ready === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tthat.player.api( 'play' );\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\nVimeoVideo.prototype.pause = function() {\r\n\tthis.player.api( 'pause' );\r\n};\r\n\r\nVimeoVideo.prototype.stop = function() {\r\n\tthis.player.api( 'seekTo', 0 );\r\n\tthis.player.api( 'pause' );\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nVimeoVideo.prototype.replay = function() {\r\n\tthis.player.api( 'seekTo', 0 );\r\n\tthis.player.api( 'play' );\r\n};\r\n\r\nVimeoVideo.prototype.on = function( type, callback ) {\r\n\tvar that = this;\r\n\r\n\tif ( this.init === true ) {\r\n\t\tVideo.prototype.on.call( this, type, callback );\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.init === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tVideo.prototype.on.call( that, type, callback );\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\n// HTML5 video\r\nvar HTML5Video = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nHTML5Video.prototype = new Video();\r\nHTML5Video.prototype.constructor = HTML5Video;\r\n$.VideoController.addPlayer( 'HTML5Video', HTML5Video );\r\n\r\nHTML5Video.isType = function( video ) {\r\n\tif ( video.is( 'video' ) && video.hasClass( 'video-js' ) === false && video.hasClass( 'sublime' ) === false ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nHTML5Video.prototype._init = function() {\r\n\tvar that = this;\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = this.$video[0];\r\n\t\r\n\tvar checkVideoReady = setInterval(function() {\r\n\t\tif ( that.player.readyState === 4 ) {\r\n\t\t\tclearInterval( checkVideoReady );\r\n\r\n\t\t\tthat.ready = true;\r\n\t\t\tthat.trigger({ type: 'ready' });\r\n\r\n\t\t\tthat.player.addEventListener( 'play', function() {\r\n\t\t\t\tif ( that.started === false ) {\r\n\t\t\t\t\tthat.started = true;\r\n\t\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.state = 'playing';\r\n\t\t\t\tthat.trigger({ type: 'play' });\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthat.player.addEventListener( 'pause', function() {\r\n\t\t\t\tthat.state = 'paused';\r\n\t\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthat.player.addEventListener( 'ended', function() {\r\n\t\t\t\tthat.state = 'ended';\r\n\t\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t\t});\r\n\t\t}\r\n\t}, 100 );\r\n};\r\n\r\nHTML5Video.prototype.play = function() {\r\n\tvar that = this;\r\n\r\n\tif ( this.ready === true ) {\r\n\t\tthis.player.play();\r\n\t} else {\r\n\t\tvar timer = setInterval(function() {\r\n\t\t\tif ( that.ready === true ) {\r\n\t\t\t\tclearInterval( timer );\r\n\t\t\t\tthat.player.play();\r\n\t\t\t}\r\n\t\t}, 100 );\r\n\t}\r\n};\r\n\r\nHTML5Video.prototype.pause = function() {\r\n\tthis.player.pause();\r\n};\r\n\r\nHTML5Video.prototype.stop = function() {\r\n\tthis.player.currentTime = 0;\r\n\tthis.player.pause();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nHTML5Video.prototype.replay = function() {\r\n\tthis.player.currentTime = 0;\r\n\tthis.player.play();\r\n};\r\n\r\n// VideoJS video\r\nvar VideoJSVideo = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nVideoJSVideo.prototype = new Video();\r\nVideoJSVideo.prototype.constructor = VideoJSVideo;\r\n$.VideoController.addPlayer( 'VideoJSVideo', VideoJSVideo );\r\n\r\nVideoJSVideo.isType = function( video ) {\r\n\tif ( ( typeof video.attr( 'data-videojs-id' ) !== 'undefined' || video.hasClass( 'video-js' ) ) && typeof videojs !== 'undefined' ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nVideoJSVideo.prototype._init = function() {\r\n\tvar that = this,\r\n\t\tvideoID = this.$video.hasClass( 'video-js' ) ? this.$video.attr( 'id' ) : this.$video.attr( 'data-videojs-id' );\r\n\t\r\n\tthis.player = videojs( videoID );\r\n\r\n\tthis.player.ready(function() {\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\r\n\t\tthat.player.on( 'play', function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.on( 'pause', function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.on( 'ended', function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nVideoJSVideo.prototype.play = function() {\r\n\tthis.player.play();\r\n};\r\n\r\nVideoJSVideo.prototype.pause = function() {\r\n\tthis.player.pause();\r\n};\r\n\r\nVideoJSVideo.prototype.stop = function() {\r\n\tthis.player.currentTime( 0 );\r\n\tthis.player.pause();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nVideoJSVideo.prototype.replay = function() {\r\n\tthis.player.currentTime( 0 );\r\n\tthis.player.play();\r\n};\r\n\r\n// Sublime video\r\nvar SublimeVideo = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nSublimeVideo.prototype = new Video();\r\nSublimeVideo.prototype.constructor = SublimeVideo;\r\n$.VideoController.addPlayer( 'SublimeVideo', SublimeVideo );\r\n\r\nSublimeVideo.isType = function( video ) {\r\n\tif ( video.hasClass( 'sublime' ) && typeof sublime !== 'undefined' ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nSublimeVideo.prototype._init = function() {\r\n\tvar that = this;\r\n\r\n\tsublime.ready(function() {\r\n\t\t// Get a reference to the player\r\n\t\tthat.player = sublime.player( that.$video.attr( 'id' ) );\r\n\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\r\n\t\tthat.player.on( 'play', function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\r\n\t\tthat.player.on( 'pause', function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\r\n\t\tthat.player.on( 'stop', function() {\r\n\t\t\tthat.state = 'stopped';\r\n\t\t\tthat.trigger({ type: 'stop' });\r\n\t\t});\r\n\r\n\t\tthat.player.on( 'end', function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nSublimeVideo.prototype.play = function() {\r\n\tthis.player.play();\r\n};\r\n\r\nSublimeVideo.prototype.pause = function() {\r\n\tthis.player.pause();\r\n};\r\n\r\nSublimeVideo.prototype.stop = function() {\r\n\tthis.player.stop();\r\n};\r\n\r\nSublimeVideo.prototype.replay = function() {\r\n\tthis.player.stop();\r\n\tthis.player.play();\r\n};\r\n\r\n// JWPlayer video\r\nvar JWPlayerVideo = function( video ) {\r\n\tVideo.call( this, video );\r\n};\r\n\r\nJWPlayerVideo.prototype = new Video();\r\nJWPlayerVideo.prototype.constructor = JWPlayerVideo;\r\n$.VideoController.addPlayer( 'JWPlayerVideo', JWPlayerVideo );\r\n\r\nJWPlayerVideo.isType = function( video ) {\r\n\tif ( ( typeof video.attr( 'data-jwplayer-id' ) !== 'undefined' || video.hasClass( 'jwplayer' ) || video.find( \"object[data*='jwplayer']\" ).length !== 0 ) &&\r\n\t\ttypeof jwplayer !== 'undefined') {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nJWPlayerVideo.prototype._init = function() {\r\n\tvar that = this,\r\n\t\tvideoID;\r\n\r\n\tif ( this.$video.hasClass( 'jwplayer' ) ) {\r\n\t\tvideoID = this.$video.attr( 'id' );\r\n\t} else if ( typeof this.$video.attr( 'data-jwplayer-id' ) !== 'undefined' ) {\r\n\t\tvideoID = this.$video.attr( 'data-jwplayer-id');\r\n\t} else if ( this.$video.find( \"object[data*='jwplayer']\" ).length !== 0 ) {\r\n\t\tvideoID = this.$video.find( 'object' ).attr( 'id' );\r\n\t}\r\n\r\n\t// Get a reference to the player\r\n\tthis.player = jwplayer( videoID );\r\n\r\n\tthis.player.onReady(function() {\r\n\t\tthat.ready = true;\r\n\t\tthat.trigger({ type: 'ready' });\r\n\t\r\n\t\tthat.player.onPlay(function() {\r\n\t\t\tif ( that.started === false ) {\r\n\t\t\t\tthat.started = true;\r\n\t\t\t\tthat.trigger({ type: 'start' });\r\n\t\t\t}\r\n\r\n\t\t\tthat.state = 'playing';\r\n\t\t\tthat.trigger({ type: 'play' });\r\n\t\t});\r\n\r\n\t\tthat.player.onPause(function() {\r\n\t\t\tthat.state = 'paused';\r\n\t\t\tthat.trigger({ type: 'pause' });\r\n\t\t});\r\n\t\t\r\n\t\tthat.player.onComplete(function() {\r\n\t\t\tthat.state = 'ended';\r\n\t\t\tthat.trigger({ type: 'ended' });\r\n\t\t});\r\n\t});\r\n};\r\n\r\nJWPlayerVideo.prototype.play = function() {\r\n\tthis.player.play( true );\r\n};\r\n\r\nJWPlayerVideo.prototype.pause = function() {\r\n\tthis.player.pause( true );\r\n};\r\n\r\nJWPlayerVideo.prototype.stop = function() {\r\n\tthis.player.stop();\r\n\tthis.state = 'stopped';\r\n};\r\n\r\nJWPlayerVideo.prototype.replay = function() {\r\n\tthis.player.seek( 0 );\r\n\tthis.player.play( true );\r\n};\r\n\r\n})( jQuery );","TemplateMonster_GoogleMap/js/google-map-page-plugin.js":"/**\r\n *\r\n * Copyright \u00c2\u00a9 2015 TemplateMonster. All rights reserved.\r\n * See COPYING.txt for license details.\r\n *\r\n */\r\n\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'text!TemplateMonster_GoogleMap/templates/plugin.html',\r\n    'jquery/ui',\r\n    'domReady!'\r\n], function($, mageTemplate ,pluginTemplate) {\r\n    'use strict';\r\n\r\n    $.widget('TemplateMonster.googleMapPagePlugin', {\r\n\r\n        options: {\r\n            pluginPageData: {},\r\n            pagetype: {\r\n                home: 'cms-index-index',\r\n                contacts: 'contact-index-index'\r\n            },\r\n            contactSelector: '.page-title-wrapper',\r\n            template: pluginTemplate,\r\n            group: {}\r\n        },\r\n\r\n        _create: function() {\r\n            var pageData = this.options.pluginPageData;\r\n\r\n            if(!pageData) {\r\n                return false;\r\n            }\r\n\r\n            var $this = this;\r\n            var page = $this._getCurrentPageType();\r\n\r\n            if(page || pageData.footer) {\r\n                var pageType = (page) ? page.type : pageData.footer;\r\n                var selector = '';\r\n                $.each(pageData, function(group, data){\r\n                    if(group == pageType || group == 'footer') {\r\n                        data.group = group;\r\n                        $this._setWidth(data);\r\n                        $this._setHeight(data);\r\n                        selector = $this._getSelector(group);\r\n                        if(!selector){ return false;}\r\n                        $this._insertMap(selector, group, data);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        _setWidth: function(data) {\r\n            if (data.width.slice(-1) != '%'){\r\n                data.width += 'px';\r\n            }\r\n        },\r\n\r\n        _setHeight: function(data) {\r\n            if (data.height.slice(-1) != '%'){\r\n                data.height += 'px';\r\n            }\r\n        },\r\n\r\n        _insertMap: function(selector, group, data) {\r\n            if(selector == 'before_footer') {\r\n                $('footer').prepend(this._googleMapPluginCode(data));\r\n            } else if (selector == 'after_footer'){\r\n                $('footer').append(this._googleMapPluginCode(data));\r\n            } else {\r\n                $(selector).append(this._googleMapPluginCode(data));\r\n            }\r\n        },\r\n\r\n        _getSelector: function(group) {\r\n            switch (group) {\r\n                case 'home':\r\n                    return this.options.pluginPageData.home.show_on;\r\n                case 'contacts':\r\n                    return this.options.contactSelector;\r\n                case 'footer':\r\n                    return 'footer ' + this.options.pluginPageData.footer.selector;\r\n                default:\r\n                    return false;\r\n            }\r\n        },\r\n\r\n        _getCurrentPageType: function() {\r\n            var body = $('body');\r\n            var pageType = null;\r\n            $.each(this.options.pagetype, function(index, value){\r\n                if(body.hasClass(value)) {\r\n                    pageType = {class: value, type: index};\r\n                }\r\n            });\r\n            return pageType;\r\n        },\r\n\r\n        _googleMapPluginCode: function(pageData) {\r\n            var source = this.options.template;\r\n            var data = pageData;\r\n            var template = mageTemplate(source);\r\n            return template({\r\n                data: data\r\n            });\r\n        },\r\n\r\n    });\r\n\r\n    return $.TemplateMonster.googleMapPagePlugin;\r\n});","TemplateMonster_LayoutSwitcher/js/customization-tool.js":"define([\n    \"jquery\"\n], function ($, mediaCheck) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.customizationTool', {\n\n        options: {\n            blockId: '#customization_tool',\n            toggleId: '#ls-icon',\n            width: '270px'\n        },\n\n        _create: function () {\n            var obj = this;\n            var customizationBlock = $(this.options.blockId);\n            this._setBlockWidth(customizationBlock);\n\n            $(this.options.toggleId).on('click', function (e) {\n                var showBlock = !customizationBlock.hasClass('on');\n                obj._showBlock(customizationBlock, showBlock);\n            });\n        },\n\n        _setBlockWidth: function (customizationBlock) {\n            var blockWidth = this.options.width;\n            customizationBlock.css({\n                \"width\": blockWidth,\n                \"left\": \"-\" + blockWidth\n            });\n            customizationBlock.show();\n        },\n\n        _showBlock: function (customizationBlock, showBlock) {\n            var blockWidth = this.options.width;\n            $(this.options.toggleId).toggleClass('fa-close fa-cogs');\n            customizationBlock.toggleClass('on').animate({\n                left: showBlock ? 0 : \"-\" + blockWidth\n            }, 300);\n        }\n\n    });\n\n    return $.TemplateMonster.customizationTool;\n});","TemplateMonster_Megamenu/js/megamenu.js":"define([\n    \"jquery\",\n    \"matchMedia\",\n    \"menu\"\n], function ($, mediaCheck) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.megamenu', $.mage.menu, {\n\n        _create: function() {\n            var megamenu = $('.tm-megamenu', this.element);\n\n            this._mobileMenu();\n            this._super();\n            this._toggleClass(megamenu);\n            this._setWidthMegamenu(megamenu);\n        },\n\n        _setOption: function( key, value ) {\n            this._super( \"_setOption\", key, value );\n        },\n\n        toggle: function () {\n            if($(this.element).parent('.desktop-only').length){\n                return false;\n            }\n            this._super();\n        },\n\n        _mobileMenu: function () {\n            var topmenu = $('nav.tm-top-navigation');\n            if(topmenu.length) return false;\n\n            var nav = $('nav.mobile-only');\n            var navDesktop = $(this.element).parent('.desktop-only');\n\n            console.log('ddd')\n\n            mediaCheck({\n                media: '(min-width: 767px)',\n                entry: function () {\n                    nav.removeClass('active');\n                    navDesktop.addClass('active');\n                },\n                exit: function ()  {\n                    nav.addClass('active');\n                    navDesktop.removeClass('active');\n                }\n            });\n        },\n\n        _open: function( submenu ) {\n            this._super( submenu );\n\n            if (submenu.is(this.options.differentPositionMenus)) {\n                var position = $.extend({\n                    of: this.active\n                }, this.options.differentPosition );\n                submenu.position( position );\n            }\n        },\n\n        _toggleClass: function( selector ) {\n            var ownClass = 'megamenu-wrapper';\n            mediaCheck({\n                media: '(max-width: 767px)',\n                entry: function () { \n                    selector.removeClass(ownClass);\n                },\n                exit: function ()  {\n                    if( !selector.hasClass(ownClass) ) {\n                        selector.addClass(ownClass);\n                    }\n                }\n            });\n        },\n\n        _setWidthMegamenu: function( selector ) {\n            if(selector.hasClass('in-sidebar')){\n                $(window).on('resize.menu', function(){\n                    var pageWidth = $('.columns').innerWidth();\n                    var sidebarWidth = $('.sidebar .navigation').innerWidth();\n                    selector.css('min-width', pageWidth - sidebarWidth);\n                }).trigger('resize.menu');\n            }\n        }\n\n    });\n\n    return $.TemplateMonster.megamenu;\n});","TemplateMonster_Megamenu/js/subMenuViewMode.js":"define([\n    \"jquery\",\n    \"matchMedia\",\n], function ($, mediaCheck) {\n    \"use strict\";\n\n    $.widget('TemplateMonster.subMenuViewMode', {\n\n        _create: function() {\n            this._toggleSubCategories(this.element);\n        },\n\n        _toggleSubCategories: function ( mmSubmenu ) {\n            mmSubmenu.each(function () {\n                var submenu = $(this)\n                if ( submenu.hasClass('vm-pop-up') || submenu.hasClass('vm-easing')) {\n                    mediaCheck({\n                        media: '(max-width: 767px)',\n                        entry: function () {\n                            submenu.show();\n                            submenu.parent('li').unbind('hover');\n                        },\n                        exit: function () {\n                            submenu.hide();\n                            submenu.parent('li').hover(function () {\n                                setTimeout(function () {\n                                    submenu.fadeIn(0);\n                                }, 200);\n\n                            }, function () {\n                                setTimeout(function () {\n                                    submenu.fadeOut(0);\n                                }, 300);\n                            });\n                        }\n                    });\n                } else { return; }\n            });\n        }\n    });\n\n    return $.TemplateMonster.subMenuViewMode;\n});","TemplateMonster_NewsletterPopup/js/popup.js":"define([\n    'jquery',\n    'underscore',\n    'text!TemplateMonster_NewsletterPopup/templates/modal-popup.html',\n    'jquery/validate',\n    'jquery/jquery.cookie',\n    'Magento_Ui/js/modal/modal',\n    'mage/loader'\n], function ($, _, popupTpl) {\n    'use strict';\n\n    $.widget('tm.newsletterPopup', {\n        options: {\n            title: '',\n            content: '',\n            submit: '',\n            cancel: '',\n            cookieName: 'tm-newsletter-popup',\n            footerLinkSelector: '.newsletter-popup-link',\n            customClass: '',\n            isShowSpinner: true,\n            timeout: 0,\n            isShowOnStartup: true,\n            isShowOnFooter: true,\n            popupTpl: popupTpl,\n            socialLinks: []\n        },\n        STATE_SUBSCRIBED: 2,\n        STATE_STARTUP_SHOWN: 4,\n        STATE_FOOTER_SHOWN: 8,\n        _currentState: null,\n        _modal: null,\n\n        _create: function() {\n            this._bind();\n            this._modal = this._createModal();\n            setTimeout(this._showOnStartup, this.options.timeout * 1000);\n        },\n\n        _bind: function() {\n            _.bindAll(this, '_windowScrollHandler', '_linkClickHandler', '_formSubmitHandler', '_showOnStartup', '_showModal', '_closeModal', '_onClose', '_subscribe', '_cancel', '_successHandler');\n            $('form', this.element).submit(this._formSubmitHandler);\n            $(this.options.footerLinkSelector).click(this._linkClickHandler);\n            if (this.options.isShowOnFooter) {\n                $(window).scroll(this._windowScrollHandler);\n            }\n        },\n\n        _createModal: function () {\n            return $(this.element).modal({\n                title: this.options.title,\n                content: this.options.content,\n                buttons: [\n                    {\n                        text: this.options.submit,\n                        class: 'subscribe',\n                        click: this._subscribe\n                    },\n                    {\n                        text: this.options.cancel,\n                        click: this._cancel\n                    }\n                ],\n                closed: this._onClose,\n                modalClass: 'newsletter-popup ' + this.options.customClass,\n                popupTpl: popupTpl,\n                socialLinks: this.options.socialLinks,\n                clickableOverlay: true\n            });\n        },\n\n        _windowScrollHandler: function() {\n            if (!this._isScrolledToFooter()) {\n                return;\n            }\n\n            if (!this._isHasState(this.STATE_FOOTER_SHOWN, this.STATE_SUBSCRIBED)) {\n                this._currentState = this.STATE_FOOTER_SHOWN;\n                this._showModal();\n            }\n        },\n\n        _linkClickHandler: function(event) {\n            this._showModal();\n            event.preventDefault();\n        },\n\n        _formSubmitHandler: function(event) {\n            var form = $(event.currentTarget);\n\n            if (!form.validation('isValid')) {\n                return;\n            }\n\n            var url = form.attr('action'),\n                params = form.serialize();\n\n            $.ajax(url, {\n                method: 'POST',\n                data: params,\n                showLoader: this.options.isShowSpinner\n            }).done(this._successHandler).fail(this._closeModal);\n\n            event.preventDefault();\n        },\n\n        _showOnStartup: function() {\n            if (!this.options.isShowOnStartup) {\n                return;\n            }\n\n            if (!this._isHasState(this.STATE_STARTUP_SHOWN, this.STATE_SUBSCRIBED)) {\n                this._currentState = this.STATE_STARTUP_SHOWN;\n                this._showModal();\n            }\n        },\n\n        _showModal: function() {\n            this._modal.trigger('openModal');\n        },\n\n        _closeModal: function() {\n            this._modal.trigger('closeModal');\n        },\n\n        _onClose: function() {\n            this._updateState(this._currentState);\n        },\n\n        _subscribe: function() {\n            this.element.find('form').submit();\n        },\n\n        _cancel: function() {\n            this._updateState(this._currentState);\n            this._closeModal();\n        },\n\n        _isScrolledToFooter: function() {\n            var page = $(window),\n                footer = $('footer');\n\n            var pageTop = page.scrollTop(),\n                pageBottom = pageTop + page.height();\n\n            var footerTop = footer.offset().top,\n                footerBottom = footerTop + footer.height();\n\n            return footerTop >= pageTop && footerBottom <= pageBottom;\n        },\n\n        _successHandler: function() {\n            this._updateState(this.STATE_SUBSCRIBED);\n            this._closeModal();\n        },\n\n        _updateState: function(state) {\n            if (!state) {\n                return;\n            }\n\n            var currentState = Number($.cookie(this.options.cookieName));\n            var newState = currentState | state;\n\n            var options = {};\n            if (newState & this.STATE_SUBSCRIBED) {\n                options.expires = 365;\n            }\n\n            $.cookie(this.options.cookieName, newState, options);\n        },\n\n        _isHasState: function() {\n            var currentState = Number($.cookie(this.options.cookieName));\n\n            return _.any(_.map(arguments, function(state) {\n                return (currentState & state) == state;\n            }))\n        }\n    });\n\n    return $.tm.newsletterPopup;\n});","TemplateMonster_Parallax/js/parallax.js":"define([\n    'jquery',\n    'jquery.rd-parallax',\n    'jquery.youtubebackground',\n    'jquery.vide'\n], function ($) {\n    'use strict';\n\n    $.widget('tm.parallax', {\n        options: {\n            staticVideoSelector: '.static-video',\n            youtubeVideoSelector: '.youtube-video',\n            videDefaultOptions: {\n                postType: 'detect',\n                loop: true,\n                autoplay: true,\n                position: '0, 0'\n            }\n        },\n\n        _create: function() {\n            var self = this;\n            var elem = this.element;\n            $(this.options.staticVideoSelector).each(function() {\n                var paths = {\n                    mp4: $(this).data('mp4'),\n                    webm: $(this).data('webm'),\n                    poster: $(this).data('poster')\n                };\n                $(this).vide(paths, self.options.videDefaultOptions);\n            });\n\n            $(this.options.youtubeVideoSelector).each(function() {\n                $(this).YTPlayer({\n                    fitToBackground: false,\n                    videoId: $(this).data('video-id'),\n                    width: '100%',\n                    playerVars: {\n                        wmode: 'transparent',\n                    },\n                });\n            });\n            $.RDParallax();\n            $('.rd-parallax').css({'visibility' : 'visible'});\n        }\n    });\n\n    return $.tm.parallax;\n});","TemplateMonster_Parallax/js/jquery-vide/jquery.vide.js":"/*\n *  Vide - v0.5.0\n *  Easy as hell jQuery plugin for video backgrounds.\n *  http://vodkabears.github.io/vide/\n *\n *  Made by Ilya Makarov\n *  Under MIT License\n */\n!(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    factory(root.jQuery);\n  }\n})(this, function($) {\n\n  'use strict';\n\n  /**\n   * Name of the plugin\n   * @private\n   * @const\n   * @type {String}\n   */\n  var PLUGIN_NAME = 'vide';\n\n  /**\n   * Default settings\n   * @private\n   * @const\n   * @type {Object}\n   */\n  var DEFAULTS = {\n    volume: 1,\n    playbackRate: 1,\n    muted: true,\n    loop: true,\n    autoplay: true,\n    position: '50% 50%',\n    posterType: 'detect',\n    resizing: true,\n    bgColor: 'transparent',\n    className: ''\n  };\n\n  /**\n   * Not implemented error message\n   * @private\n   * @const\n   * @type {String}\n   */\n  var NOT_IMPLEMENTED_MSG = 'Not implemented';\n\n  /**\n   * Parse a string with options\n   * @private\n   * @param {String} str\n   * @returns {Object|String}\n   */\n  function parseOptions(str) {\n    var obj = {};\n    var delimiterIndex;\n    var option;\n    var prop;\n    var val;\n    var arr;\n    var len;\n    var i;\n\n    // Remove spaces around delimiters and split\n    arr = str.replace(/\\s*:\\s*/g, ':').replace(/\\s*,\\s*/g, ',').split(',');\n\n    // Parse a string\n    for (i = 0, len = arr.length; i < len; i++) {\n      option = arr[i];\n\n      // Ignore urls and a string without colon delimiters\n      if (\n        option.search(/^(http|https|ftp):\\/\\//) !== -1 ||\n        option.search(':') === -1\n      ) {\n        break;\n      }\n\n      delimiterIndex = option.indexOf(':');\n      prop = option.substring(0, delimiterIndex);\n      val = option.substring(delimiterIndex + 1);\n\n      // If val is an empty string, make it undefined\n      if (!val) {\n        val = undefined;\n      }\n\n      // Convert a string value if it is like a boolean\n      if (typeof val === 'string') {\n        val = val === 'true' || (val === 'false' ? false : val);\n      }\n\n      // Convert a string value if it is like a number\n      if (typeof val === 'string') {\n        val = !isNaN(val) ? +val : val;\n      }\n\n      obj[prop] = val;\n    }\n\n    // If nothing is parsed\n    if (prop == null && val == null) {\n      return str;\n    }\n\n    return obj;\n  }\n\n  /**\n   * Parse a position option\n   * @private\n   * @param {String} str\n   * @returns {Object}\n   */\n  function parsePosition(str) {\n    str = '' + str;\n\n    // Default value is a center\n    var args = str.split(/\\s+/);\n    var x = '50%';\n    var y = '50%';\n    var len;\n    var arg;\n    var i;\n\n    for (i = 0, len = args.length; i < len; i++) {\n      arg = args[i];\n\n      // Convert values\n      if (arg === 'left') {\n        x = '0%';\n      } else if (arg === 'right') {\n        x = '100%';\n      } else if (arg === 'top') {\n        y = '0%';\n      } else if (arg === 'bottom') {\n        y = '100%';\n      } else if (arg === 'center') {\n        if (i === 0) {\n          x = '50%';\n        } else {\n          y = '50%';\n        }\n      } else {\n        if (i === 0) {\n          x = arg;\n        } else {\n          y = arg;\n        }\n      }\n    }\n\n    return { x: x, y: y };\n  }\n\n  /**\n   * Search a poster\n   * @private\n   * @param {String} path\n   * @param {Function} callback\n   */\n  function findPoster(path, callback) {\n    var onLoad = function() {\n      callback(this.src);\n    };\n\n    $('<img src=\"' + path + '\">').load(onLoad);\n    //$('<img src=\"' + path + '.jpg\">').load(onLoad);\n    //$('<img src=\"' + path + '.jpeg\">').load(onLoad);\n    //$('<img src=\"' + path + '.png\">').load(onLoad);\n  }\n\n  /**\n   * Vide constructor\n   * @param {HTMLElement} element\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @constructor\n   */\n  function Vide(element, path, options) {\n    this.$element = $(element);\n\n    // Parse path\n    if (typeof path === 'string') {\n      path = parseOptions(path);\n    }\n\n    // Parse options\n    if (!options) {\n      options = {};\n    } else if (typeof options === 'string') {\n      options = parseOptions(options);\n    }\n\n    // Remove an extension\n    if (typeof path === 'string') {\n      path = path.replace(/\\.\\w*$/, '');\n    } else if (typeof path === 'object') {\n      for (var i in path) {\n        if (path.hasOwnProperty(i)) {\n          var tempPath = path[i];\n          var ext = tempPath.slice(tempPath.lastIndexOf('.') + 1);\n          if (ext != \"png\" && ext != \"jpg\" && ext != \"jpeg\" && ext != \"gif\") {\n            path[i] = path[i].replace(/\\.\\w*$/, '');\n          }\n        }\n      }\n    }\n\n    this.settings = $.extend({}, DEFAULTS, options);\n    this.path = path;\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      this.init();\n    } catch (e) {\n      if (e.message !== NOT_IMPLEMENTED_MSG) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Initialization\n   * @public\n   */\n  Vide.prototype.init = function() {\n    var vide = this;\n    var path = vide.path;\n    var poster = path;\n    var sources = '';\n    var $element = vide.$element;\n    var settings = vide.settings;\n    var position = parsePosition(settings.position);\n    var posterType = settings.posterType;\n    var $video;\n    var $wrapper;\n\n    // Set styles of a video wrapper\n    $wrapper = vide.$wrapper = $('<div>')\n      .addClass(settings.className)\n      .css({\n        position: 'absolute',\n        'z-index': -1,\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        overflow: 'hidden',\n        '-webkit-background-size': 'cover',\n        '-moz-background-size': 'cover',\n        '-o-background-size': 'cover',\n        'background-size': 'cover',\n        'background-color': settings.bgColor,\n        'background-repeat': 'no-repeat',\n        'background-position': position.x + ' ' + position.y\n      });\n\n    // Get a poster path\n    if (typeof path === 'object') {\n      if (path.poster) {\n        poster = path.poster;\n      } else {\n        if (path.mp4) {\n          poster = path.mp4;\n        } else if (path.webm) {\n          poster = path.webm;\n        } else if (path.ogv) {\n          poster = path.ogv;\n        }\n      }\n    }\n\n    // Set a video poster\n    if (posterType === 'detect') {\n      findPoster(poster, function(url) {\n        $wrapper.css('background-image', 'url(' + url + ')');\n      });\n    } else if (posterType !== 'none') {\n      $wrapper.css('background-image', 'url(' + poster + '.' + posterType + ')');\n    }\n\n    // If a parent element has a static position, make it relative\n    if ($element.css('position') === 'static') {\n      $element.css('position', 'relative');\n    }\n\n    $element.prepend($wrapper);\n\n    if (typeof path === 'object') {\n      if (path.mp4) {\n        sources += '<source src=\"' + path.mp4 + '.mp4\" type=\"video/mp4\">';\n      }\n\n      if (path.webm) {\n        sources += '<source src=\"' + path.webm + '.webm\" type=\"video/webm\">';\n      }\n\n      if (path.ogv) {\n        sources += '<source src=\"' + path.ogv + '.ogv\" type=\"video/ogg\">';\n      }\n\n      $video = vide.$video = $('<video>' + sources + '</video>');\n    } else {\n      $video = vide.$video = $('<video>' +\n        '<source src=\"' + path + '.mp4\" type=\"video/mp4\">' +\n        '<source src=\"' + path + '.webm\" type=\"video/webm\">' +\n        '<source src=\"' + path + '.ogv\" type=\"video/ogg\">' +\n        '</video>');\n    }\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      $video\n\n        // Set video properties\n        .prop({\n          autoplay: settings.autoplay,\n          loop: settings.loop,\n          volume: settings.volume,\n          muted: settings.muted,\n          defaultMuted: settings.muted,\n          playbackRate: settings.playbackRate,\n          defaultPlaybackRate: settings.playbackRate\n        });\n    } catch (e) {\n      throw new Error(NOT_IMPLEMENTED_MSG);\n    }\n\n    // Video alignment\n    $video.css({\n      margin: 'auto',\n      position: 'absolute',\n      'z-index': -1,\n      top: position.y,\n      left: position.x,\n      '-webkit-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-ms-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-moz-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      transform: 'translate(-' + position.x + ', -' + position.y + ')',\n\n      // Disable visibility, while loading\n      visibility: 'hidden',\n      opacity: 0\n    })\n\n    // Resize a video, when it's loaded\n    .one('canplaythrough.' + PLUGIN_NAME, function() {\n      vide.resize();\n    })\n\n    // Make it visible, when it's already playing\n    .one('playing.' + PLUGIN_NAME, function() {\n      $video.css({\n        visibility: 'visible',\n        opacity: 1\n      });\n      $wrapper.css('background-image', 'none');\n    });\n\n    // Resize event is available only for 'window'\n    // Use another code solutions to detect DOM elements resizing\n    $element.on('resize.' + PLUGIN_NAME, function() {\n      if (settings.resizing) {\n        vide.resize();\n      }\n    });\n\n    // Append a video\n    $wrapper.append($video);\n  };\n\n  /**\n   * Get a video element\n   * @public\n   * @returns {HTMLVideoElement}\n   */\n  Vide.prototype.getVideoObject = function() {\n    return this.$video[0];\n  };\n\n  /**\n   * Resize a video background\n   * @public\n   */\n  Vide.prototype.resize = function() {\n    if (!this.$video) {\n      return;\n    }\n\n    var $wrapper = this.$wrapper;\n    var $video = this.$video;\n    var video = $video[0];\n\n    // Get a native video size\n    var videoHeight = video.videoHeight;\n    var videoWidth = video.videoWidth;\n\n    // Get a wrapper size\n    var wrapperHeight = $wrapper.height();\n    var wrapperWidth = $wrapper.width();\n\n    if (wrapperWidth / videoWidth > wrapperHeight / videoHeight) {\n      $video.css({\n\n        // +2 pixels to prevent an empty space after transformation\n        width: wrapperWidth + 2,\n        height: 'auto'\n      });\n    } else {\n      $video.css({\n        width: 'auto',\n\n        // +2 pixels to prevent an empty space after transformation\n        height: wrapperHeight + 2\n      });\n    }\n  };\n\n  /**\n   * Destroy a video background\n   * @public\n   */\n  Vide.prototype.destroy = function() {\n    delete $[PLUGIN_NAME].lookup[this.index];\n    this.$video && this.$video.off(PLUGIN_NAME);\n    this.$element.off(PLUGIN_NAME).removeData(PLUGIN_NAME);\n    this.$wrapper.remove();\n  };\n\n  /**\n   * Special plugin object for instances.\n   * @public\n   * @type {Object}\n   */\n  $[PLUGIN_NAME] = {\n    lookup: []\n  };\n\n  /**\n   * Plugin constructor\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @returns {JQuery}\n   * @constructor\n   */\n  $.fn[PLUGIN_NAME] = function(path, options) {\n    var instance;\n\n    this.each(function() {\n      instance = $.data(this, PLUGIN_NAME);\n\n      // Destroy the plugin instance if exists\n      instance && instance.destroy();\n\n      // Create the plugin instance\n      instance = new Vide(this, path, options);\n      instance.index = $[PLUGIN_NAME].lookup.push(instance) - 1;\n      $.data(this, PLUGIN_NAME, instance);\n    });\n\n    return this;\n  };\n\n  $(document).ready(function() {\n    var $window = $(window);\n\n    // Window resize event listener\n    $window.on('resize.' + PLUGIN_NAME, function() {\n      for (var len = $[PLUGIN_NAME].lookup.length, i = 0, instance; i < len; i++) {\n        instance = $[PLUGIN_NAME].lookup[i];\n\n        if (instance && instance.settings.resizing) {\n          instance.resize();\n        }\n      }\n    });\n\n    // https://github.com/VodkaBears/Vide/issues/68\n    $window.on('unload.' + PLUGIN_NAME, function() {\n      return false;\n    });\n\n    // Auto initialization\n    // Add 'data-vide-bg' attribute with a path to the video without extension\n    // Also you can pass options throw the 'data-vide-options' attribute\n    // 'data-vide-options' must be like 'muted: false, volume: 0.5'\n    $(document).find('[data-' + PLUGIN_NAME + '-bg]').each(function(i, element) {\n      var $element = $(element);\n      var options = $element.data(PLUGIN_NAME + '-options');\n      var path = $element.data(PLUGIN_NAME + '-bg');\n\n      $element[PLUGIN_NAME](path, options);\n    });\n  });\n\n});\n","TemplateMonster_Parallax/js/jquery-vide/jquery.vide.min.js":"/*\n *  Vide - v0.5.0\n *  Easy as hell jQuery plugin for video backgrounds.\n *  http://vodkabears.github.io/vide/\n *\n *  Made by Ilya Makarov\n *  Under MIT License\n */\n!function(a,b){\"function\"==typeof define&&define.amd?define([\"jquery\"],b):b(\"object\"==typeof exports?require(\"jquery\"):a.jQuery)}(this,function(a){\"use strict\";function b(a){var b,c,d,e,f,g,h,i={};for(f=a.replace(/\\s*:\\s*/g,\":\").replace(/\\s*,\\s*/g,\",\").split(\",\"),h=0,g=f.length;g>h&&(c=f[h],-1===c.search(/^(http|https|ftp):\\/\\//)&&-1!==c.search(\":\"));h++)b=c.indexOf(\":\"),d=c.substring(0,b),e=c.substring(b+1),e||(e=void 0),\"string\"==typeof e&&(e=\"true\"===e||(\"false\"===e?!1:e)),\"string\"==typeof e&&(e=isNaN(e)?e:+e),i[d]=e;return null==d&&null==e?a:i}function c(a){a=\"\"+a;var b,c,d,e=a.split(/\\s+/),f=\"50%\",g=\"50%\";for(d=0,b=e.length;b>d;d++)c=e[d],\"left\"===c?f=\"0%\":\"right\"===c?f=\"100%\":\"top\"===c?g=\"0%\":\"bottom\"===c?g=\"100%\":\"center\"===c?0===d?f=\"50%\":g=\"50%\":0===d?f=c:g=c;return{x:f,y:g}}function d(b,c){var d=function(){c(this.src)};a('<img src=\"'+b+'.gif\">').load(d),a('<img src=\"'+b+'.jpg\">').load(d),a('<img src=\"'+b+'.jpeg\">').load(d),a('<img src=\"'+b+'.png\">').load(d)}function e(c,d,e){if(this.$element=a(c),\"string\"==typeof d&&(d=b(d)),e?\"string\"==typeof e&&(e=b(e)):e={},\"string\"==typeof d)d=d.replace(/\\.\\w*$/,\"\");else if(\"object\"==typeof d)for(var f in d)d.hasOwnProperty(f)&&(d[f]=d[f].replace(/\\.\\w*$/,\"\"));this.settings=a.extend({},g,e),this.path=d;try{this.init()}catch(i){if(i.message!==h)throw i}}var f=\"vide\",g={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:\"50% 50%\",posterType:\"detect\",resizing:!0,bgColor:\"transparent\",className:\"\"},h=\"Not implemented\";e.prototype.init=function(){var b,e,g=this,i=g.path,j=i,k=\"\",l=g.$element,m=g.settings,n=c(m.position),o=m.posterType;e=g.$wrapper=a(\"<div>\").addClass(m.className).css({position:\"absolute\",\"z-index\":-1,top:0,left:0,bottom:0,right:0,overflow:\"hidden\",\"-webkit-background-size\":\"cover\",\"-moz-background-size\":\"cover\",\"-o-background-size\":\"cover\",\"background-size\":\"cover\",\"background-color\":m.bgColor,\"background-repeat\":\"no-repeat\",\"background-position\":n.x+\" \"+n.y}),\"object\"==typeof i&&(i.poster?j=i.poster:i.mp4?j=i.mp4:i.webm?j=i.webm:i.ogv&&(j=i.ogv)),\"detect\"===o?d(j,function(a){e.css(\"background-image\",\"url(\"+a+\")\")}):\"none\"!==o&&e.css(\"background-image\",\"url(\"+j+\".\"+o+\")\"),\"static\"===l.css(\"position\")&&l.css(\"position\",\"relative\"),l.prepend(e),\"object\"==typeof i?(i.mp4&&(k+='<source src=\"'+i.mp4+'.mp4\" type=\"video/mp4\">'),i.webm&&(k+='<source src=\"'+i.webm+'.webm\" type=\"video/webm\">'),i.ogv&&(k+='<source src=\"'+i.ogv+'.ogv\" type=\"video/ogg\">'),b=g.$video=a(\"<video>\"+k+\"</video>\")):b=g.$video=a('<video><source src=\"'+i+'.mp4\" type=\"video/mp4\"><source src=\"'+i+'.webm\" type=\"video/webm\"><source src=\"'+i+'.ogv\" type=\"video/ogg\"></video>');try{b.prop({autoplay:m.autoplay,loop:m.loop,volume:m.volume,muted:m.muted,defaultMuted:m.muted,playbackRate:m.playbackRate,defaultPlaybackRate:m.playbackRate})}catch(p){throw new Error(h)}b.css({margin:\"auto\",position:\"absolute\",\"z-index\":-1,top:n.y,left:n.x,\"-webkit-transform\":\"translate(-\"+n.x+\", -\"+n.y+\")\",\"-ms-transform\":\"translate(-\"+n.x+\", -\"+n.y+\")\",\"-moz-transform\":\"translate(-\"+n.x+\", -\"+n.y+\")\",transform:\"translate(-\"+n.x+\", -\"+n.y+\")\",visibility:\"hidden\",opacity:0}).one(\"canplaythrough.\"+f,function(){g.resize()}).one(\"playing.\"+f,function(){b.css({visibility:\"visible\",opacity:1}),e.css(\"background-image\",\"none\")}),l.on(\"resize.\"+f,function(){m.resizing&&g.resize()}),e.append(b)},e.prototype.getVideoObject=function(){return this.$video[0]},e.prototype.resize=function(){if(this.$video){var a=this.$wrapper,b=this.$video,c=b[0],d=c.videoHeight,e=c.videoWidth,f=a.height(),g=a.width();g/e>f/d?b.css({width:g+2,height:\"auto\"}):b.css({width:\"auto\",height:f+2})}},e.prototype.destroy=function(){delete a[f].lookup[this.index],this.$video&&this.$video.off(f),this.$element.off(f).removeData(f),this.$wrapper.remove()},a[f]={lookup:[]},a.fn[f]=function(b,c){var d;return this.each(function(){d=a.data(this,f),d&&d.destroy(),d=new e(this,b,c),d.index=a[f].lookup.push(d)-1,a.data(this,f,d)}),this},a(document).ready(function(){var b=a(window);b.on(\"resize.\"+f,function(){for(var b,c=a[f].lookup.length,d=0;c>d;d++)b=a[f].lookup[d],b&&b.settings.resizing&&b.resize()}),b.on(\"unload.\"+f,function(){return!1}),a(document).find(\"[data-\"+f+\"-bg]\").each(function(b,c){var d=a(c),e=d.data(f+\"-options\"),g=d.data(f+\"-bg\");d[f](g,e)})})});","TemplateMonster_Parallax/js/jquery-youtubebackground/jquery.youtubebackground.js":"/*\n * YoutubeBackground - A wrapper for the Youtube API - Great for fullscreen background videos or just regular videos.\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n *\n * Version:  1.0.5\n *\n */\n\n// Chain of Responsibility pattern. Creates base class that can be overridden.\nif (typeof Object.create !== \"function\") {\n  Object.create = function(obj) {\n    function F() {}\n    F.prototype = obj;\n    return new F();\n  };\n}\n\n(function($, window, document) {\n  var\n    loadAPI = function loadAPI(callback) {\n\n      // Load Youtube API\n      var tag = document.createElement('script'),\n      head = document.getElementsByTagName('head')[0];\n      \n      if(window.location.origin == 'file://') {\n        tag.src = 'http://www.youtube.com/iframe_api';\n      } else {\n        tag.src = '//www.youtube.com/iframe_api';\n      }\n      \n      head.appendChild(tag);\n\n      // Clean up Tags.\n      head = null;\n      tag = null;\n\n      iframeIsReady(callback);\n    },\n    iframeIsReady = function iframeIsReady(callback) {\n      // Listen for Gobal YT player callback\n      if (typeof YT === 'undefined' && typeof window.loadingPlayer === 'undefined') {\n        // Prevents Ready Event from being called twice\n        window.loadingPlayer = true;\n\n        \n        // Creates deferred so, other players know when to wait.\n        window.dfd = $.Deferred();\n        window.onYouTubeIframeAPIReady = function() {\n          window.onYouTubeIframeAPIReady = null;\n          window.dfd.resolve( \"done\" );\n          callback();\n        };\n      } else if (typeof YT === 'object')  {\n        callback();\n      } else {\n        window.dfd.done(function( name ) {\n          callback();\n        });\n      }\n    };\n\n  // YTPlayer Object\n  YTPlayer = {\n    player: null,\n\n    // Defaults\n    defaults: {\n      ratio: 16 / 9,\n      videoId: 'LSmgKRx5pBo',\n      mute: true,\n      repeat: true,\n      width: $(window).width(),\n      playButtonClass: 'YTPlayer-play',\n      pauseButtonClass: 'YTPlayer-pause',\n      muteButtonClass: 'YTPlayer-mute',\n      volumeUpClass: 'YTPlayer-volume-up',\n      volumeDownClass: 'YTPlayer-volume-down',\n      start: 0,\n      pauseOnScroll: false,\n      fitToBackground: true,\n      playerVars: {\n        iv_load_policy: 3,\n        modestbranding: 1,\n        autoplay: 1,\n        controls: 0,\n        showinfo: 0,\n        wmode: 'opaque',\n        branding: 0,\n        autohide: 0\n      },\n      events: null\n    },\n\n    /**\n     * @function init\n     * Intializes YTPlayer object\n     */\n    init: function init(node, userOptions) {\n      var self = this;\n\n      self.userOptions = userOptions;\n\n      self.$body = $('body'),\n      self.$node = $(node),\n      self.$window = $(window);\n\n      // Setup event defaults with the reference to this\n      self.defaults.events = {\n        'onReady': function(e) {\n          self.onPlayerReady(e);\n\n          // setup up pause on scroll\n          if (self.options.pauseOnScroll) {\n            self.pauseOnScroll();\n          }\n\n          // Callback for when finished\n          if (typeof self.options.callback == 'function') {\n            self.options.callback.call(this);\n          }\n        },\n        'onStateChange': function(e) {\n          if (e.data === 1) {\n\n            self.$node.find('img').fadeOut(400);\n            self.$node.addClass('loaded');\n          } else if (e.data === 0 && self.options.repeat) { // video ended and repeat option is set true\n            self.player.seekTo(self.options.start);\n          }\n        }\n      }\n\n\n      self.options = $.extend(true, {}, self.defaults, self.userOptions);\n      self.options.height = Math.ceil(self.options.width / self.options.ratio);\n      self.ID = (new Date()).getTime();\n      self.holderID = 'YTPlayer-ID-' + self.ID;\n\n      if (self.options.fitToBackground) {\n        self.createBackgroundVideo();\n      } else {\n        self.createContainerVideo();\n      }\n      // Listen for Resize Event\n      self.$window.on('resize.YTplayer' + self.ID, function() {\n        self.resize(self);\n      });\n\n      loadAPI(self.onYouTubeIframeAPIReady.bind(self));\n\n      self.resize(self);\n\n      return self;\n    },\n\n\n    /**\n     * @function pauseOnScroll\n     * Adds window events to pause video on scroll.\n     */\n    pauseOnScroll: function pauseOnScroll() {\n      var self = this;\n      self.$window.on('scroll.YTplayer' + self.ID, function() {\n        var state = self.player.getPlayerState();\n        if (state === 1) {\n          self.player.pauseVideo();\n        }\n      });\n      self.$window.scrollStopped(function(){\n        var state = self.player.getPlayerState();\n        if (state === 2) {\n          self.player.playVideo();\n        }\n      });\n    },\n    /**\n     * @function createContainerVideo\n     * Adds HTML for video in a container\n     */\n    createContainerVideo: function createContainerVideo() {\n      var self = this;\n\n      /*jshint multistr: true */\n      var $YTPlayerString = $('<div id=\"ytplayer-container' + self.ID + '\" >\\\n                                    <div id=\"' + self.holderID + '\" class=\"ytplayer-player-inline\"></div> \\\n                                    </div> \\\n                                    <div id=\"ytplayer-shield\" class=\"ytplayer-shield\"></div>');\n\n      self.$node.append($YTPlayerString);\n      self.$YTPlayerString = $YTPlayerString;\n      $YTPlayerString = null;\n    },\n\n    /**\n     * @function createBackgroundVideo\n     * Adds HTML for video background\n     */\n    createBackgroundVideo: function createBackgroundVideo() {\n      /*jshint multistr: true */\n      var self = this,\n        $YTPlayerString = $('<div id=\"ytplayer-container' + self.ID + '\" class=\"ytplayer-container background\">\\\n                                    <div id=\"' + self.holderID + '\" class=\"ytplayer-player\"></div>\\\n                                    </div>\\\n                                    <div id=\"ytplayer-shield\" class=\"ytplayer-shield\"></div>');\n\n      self.$node.append($YTPlayerString);\n      self.$YTPlayerString = $YTPlayerString;\n      $YTPlayerString = null;\n    },\n\n    /**\n     * @function resize\n     * Resize event to change video size\n     */\n    resize: function resize(self) {\n      //var self = this;\n      var container = $(window);\n\n      if (!self.options.fitToBackground) {\n        container = self.$node;\n      }\n\n      var width = container.width(),\n        pWidth, // player width, to be defined\n        height = container.height(),\n        pHeight, // player height, tbd\n        $YTPlayerPlayer = $('#' + self.holderID);\n\n      // when screen aspect ratio differs from video, video must center and underlay one dimension\n      if (width / self.options.ratio < height) {\n        pWidth = Math.ceil(height * self.options.ratio); // get new player width\n        $YTPlayerPlayer.width(pWidth).height(height).css({\n          left: (width - pWidth) / 2,\n          top: 0\n        }); // player width is greater, offset left; reset top\n      } else { // new video width < window width (gap to right)\n        pHeight = Math.ceil(width / self.options.ratio); // get new player height\n        $YTPlayerPlayer.width(width).height(pHeight).css({\n          left: 0,\n          top: (height - pHeight) / 2\n        }); // player height is greater, offset top; reset left\n      }\n\n      $YTPlayerPlayer = null;\n      container = null;\n    },\n\n    /**\n     * @function onYouTubeIframeAPIReady\n     * @ params {object} YTPlayer object for access to options\n     * Youtube API calls this function when the player is ready.\n     */\n    onYouTubeIframeAPIReady: function onYouTubeIframeAPIReady() {\n      var self = this;\n      self.player = new window.YT.Player(self.holderID, self.options);  \n    },\n\n    /**\n     * @function onPlayerReady\n     * @ params {event} window event from youtube player\n     */\n    onPlayerReady: function onPlayerReady(e) {\n      if (this.options.mute) {\n        e.target.mute();\n      }\n      e.target.playVideo();\n    },\n\n    /**\n     * @function getPlayer\n     * returns youtube player\n     */\n    getPlayer: function getPlayer() {\n      return this.player;\n    },\n\n    /**\n     * @function destroy\n     * destroys all!\n     */\n    destroy: function destroy() {\n      var self = this;\n\n      self.$node\n        .removeData('yt-init')\n        .removeData('ytPlayer')\n        .removeClass('loaded');\n\n      self.$YTPlayerString.remove();\n\n      $(window).off('resize.YTplayer' + self.ID);\n      $(window).off('scroll.YTplayer' + self.ID);\n      self.$body = null;\n      self.$node = null;\n      self.$YTPlayerString = null;\n      self.player.destroy();\n      self.player = null;\n    }\n  };\n\n  // Scroll Stopped event.\n  $.fn.scrollStopped = function(callback) {\n    var $this = $(this), self = this;\n    $this.scroll(function(){\n      if ($this.data('scrollTimeout')) {\n        clearTimeout($this.data('scrollTimeout'));\n      }\n      $this.data('scrollTimeout', setTimeout(callback,250,self));\n    });\n  };\n\n  // Create plugin\n  $.fn.YTPlayer = function(options) {\n\n    return this.each(function() {\n      var el = this;\n\n      $(el).data(\"yt-init\", true);\n      var player = Object.create(YTPlayer);\n      player.init(el, options);\n      $.data(el, \"ytPlayer\", player);\n    });\n  };\n\n})(jQuery, window, document);\n","TemplateMonster_Parallax/js/rd-parallax/jquery.rd-parallax.js":"\n/**\n * @module       RD Parallax\n * @author       Evgeniy Gusarov\n * @see          https://ua.linkedin.com/pub/evgeniy-gusarov/8a/a40/54a\n * @version      3.6.5\n */\n\n(function() {\n  (function($, document, window) {\n\n    /**\n     * Compatibility flags\n     */\n    var RDParallax, chromeVersion, hasClassList, isChrome, isChromeIOS, isChromeNew, isIE, isMobile, isSafariIOS, isWebkit, isWin8;\n    isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    isChrome = /Chrome/.test(navigator.userAgent);\n    isWebkit = (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) || (/Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor));\n    isChromeIOS = isMobile && /crios/i.test(navigator.userAgent);\n    isSafariIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent) && !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/);\n    isIE = navigator.appVersion.indexOf(\"MSIE\") !== -1 || navigator.appVersion.indexOf('Trident/') > -1;\n    isWin8 = /windows nt 6.2/.test(navigator.userAgent.toLowerCase()) || /windows nt 6.3/.test(navigator.userAgent.toLowerCase());\n    hasClassList = document.body.classList != null;\n    chromeVersion = isChrome ? navigator.userAgent.replace(/^.*Chrome\\/([\\d\\.]+).*$/i, '$1') : false;\n    isChromeNew = chromeVersion >= '55.0.2883.75';\n\n    /**\n     * The requestAnimationFrame polyfill\n     * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n     */\n    (function() {\n      var k, lastTime, len, vendor, vendors;\n      lastTime = 0;\n      vendors = ['ms', 'moz', 'webkit', 'o'];\n      for (k = 0, len = vendors.length; k < len; k++) {\n        vendor = vendors[k];\n        window.requestAnimationFrame = window[vendor + \"RequestAnimationFrame\"];\n        window.cancelAnimationFrame = window[vendor + \"CancelAnimationFrame\"] || window[vendor + \"CancelRequestAnimationFrame\"];\n      }\n      if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback, element) {\n          var currTime, id, timeToCall;\n          currTime = new Date().getTime();\n          timeToCall = Math.max(0, 16 - (currTime - lastTime));\n          id = window.setTimeout(function() {\n            callback(currTime + timeToCall);\n          }, timeToCall);\n          lastTime = currTime + timeToCall;\n          return id;\n        };\n      }\n      if (!window.cancelAnimationFrame) {\n        return window.cancelAnimationFrame = function(id) {\n          return clearTimeout(id);\n        };\n      }\n    });\n\n    /**\n     * Creates a parallax.\n     * @class RDParallax.\n     * @public\n     * @param {HTMLElement} element - The element to create the parallax for.\n     * @param {Object} [options] - The options\n     */\n    RDParallax = (function() {\n\n      /**\n       * Creates a parallax layer.\n       * @class Layer.\n       * @public\n       * @param {HTMLElement} element - The element to create a layer for.\n       * @param {object} aliases - An object with width breakpoints aliases\n       * @param {numbeer} windowWidth - current window width\n       */\n      var Layer, Scene;\n\n      Layer = (function() {\n        function Layer(element, aliases, windowWidth, windowHeight, sceneOffset, sceneHeight, sceneOn) {\n          var ref, ref1;\n          this.amend = (ref = (ref1 = isWebkit || isIE || isMobile) != null ? ref1 : isChromeNew) != null ? ref : {\n            0: {\n              60: 0\n            }\n          };\n          this.element = element;\n          this.aliases = aliases;\n          this.type = element.getAttribute(\"data-type\") || \"html\";\n          if (this.type === \"html\") {\n            this.holder = this.createHolder();\n          }\n          this.direction = element.getAttribute(\"data-direction\") === \"normal\" || (element.getAttribute(\"data-direction\") == null) ? 1 : -1;\n          this.fade = element.getAttribute(\"data-fade\") === \"true\";\n          this.blur = element.getAttribute(\"data-blur\") === \"true\";\n          this.boundTo = document.querySelector(element.getAttribute(\"data-bound-to\"));\n          if (this.type === \"media\") {\n            this.url = element.getAttribute(\"data-url\");\n          }\n          this.responsive = this.getResponsiveOptions();\n          if ((!isIE && !isMobile) || isMobile || (isWin8 && isIE)) {\n            this.element.style[\"position\"] = \"absolute\";\n          } else {\n            this.element.style[\"position\"] = \"fixed\";\n          }\n          switch (this.type) {\n            case \"media\":\n              if (this.url != null) {\n                this.element.style[\"background-image\"] = \"url(\" + this.url + \")\";\n              }\n              break;\n            case \"html\":\n              if (isIE && isMobile) {\n                this.element.style[\"z-index\"] = 1;\n              }\n          }\n          this.refresh(windowWidth, windowHeight, sceneOffset, sceneHeight, sceneOn);\n          return;\n        }\n\n\n        /**\n        * Refresh layer size statements\n        * @param {number} window width\n        * @public\n         */\n\n        Layer.prototype.refresh = function(windowWidth, windowHeight, sceneOffset, sceneHeight, sceneOn) {\n          var layer;\n          layer = this;\n          layer.speed = layer.getOption(\"speed\", windowWidth) || 0;\n          layer.offset = layer.getOption(\"offset\", windowWidth) || 0;\n          if (!isMobile && !(isWin8 && isIE)) {\n            if (sceneOn) {\n              layer.element.style[\"position\"] = \"fixed\";\n            } else {\n              layer.element.style[\"position\"] = \"absolute\";\n            }\n          }\n          if (isIE && layer.type === \"html\") {\n            layer.element.style[\"position\"] = \"absolute\";\n          }\n          switch (layer.type) {\n            case \"media\":\n              if (!isIE) {\n                layer.offsetHeight = layer.getMediaHeight(windowHeight, sceneHeight, layer.speed, layer.direction);\n                return layer.element.style[\"height\"] = layer.offsetHeight + \"px\";\n              }\n              break;\n            case \"html\":\n              layer.element.style[\"width\"] = this.holder.offsetWidth + \"px\";\n              layer.offsetHeight = layer.element.offsetHeight;\n              layer.holder.style[\"height\"] = layer.offsetHeight + \"px\";\n              if ((!isIE && !isMobile) || isMobile || (isWin8 && isIE)) {\n\n              } else {\n                if (isIE) {\n                  layer.element.style[\"position\"] = \"static\";\n                } else if (sceneOn) {\n                  layer.element.style[\"left\"] = (layer.getOffset(layer.holder).left) + \"px\";\n                  layer.element.style[\"top\"] = (layer.getOffset(layer.holder).top - sceneOffset) + \"px\";\n                }\n                return layer.holder.style[\"position\"] = \"static\";\n              }\n              break;\n            case \"custom\":\n              return layer.offsetHeight = layer.element.offsetHeight;\n          }\n        };\n\n\n        /**\n        * Creates a static layer holder element\n        * @public\n        * @returns {element} holder\n         */\n\n        Layer.prototype.createHolder = function() {\n          var holder, layer;\n          layer = this;\n          holder = document.createElement(\"div\");\n          if (hasClassList) {\n            holder.classList.add(\"rd-parallax-layer-holder\");\n          } else {\n            holder.className = \"rd-parallax-layer-holder\";\n          }\n          layer.element.parentNode.insertBefore(holder, layer.element);\n          holder.appendChild(layer.element);\n          if ((!isIE && !isMobile) || isChromeIOS) {\n            holder.style[\"position\"] = \"relative\";\n          }\n          return holder;\n        };\n\n\n        /**\n        * Creates a static layer holder element\n        * @public\n        * @returns {element} holder\n         */\n\n        Layer.prototype.isHolderWrong = function() {\n          var layer;\n          layer = this;\n          if (layer.type === \"html\") {\n            if (layer.holder.offsetHeight !== layer.element.offsetHeight) {\n              return true;\n            }\n          }\n          return false;\n        };\n\n\n        /**\n        * Gets specific option of layer\n        * @public\n        * @param {string} key\n        * @param {number} window width\n        * @returns {object} value\n         */\n\n        Layer.prototype.getOption = function(key, windowWidth) {\n          var layer, point, targetPoint;\n          layer = this;\n          for (point in layer.responsive) {\n            if (point <= windowWidth) {\n              targetPoint = point;\n            }\n          }\n          return layer.responsive[targetPoint][key];\n        };\n\n\n        /**\n        * Creates a set of responsive options of the layer\n        * @public\n        * @returns {object} options\n         */\n\n        Layer.prototype.getResponsiveOptions = function() {\n          var alias, aliases, i, j, k, len, point, ref, resolutions, responsive, value;\n          responsive = {};\n          resolutions = [];\n          aliases = [];\n          ref = this.aliases;\n          for (i in ref) {\n            alias = ref[i];\n            resolutions.push(i);\n            aliases.push(alias);\n          }\n          for (i = k = 0, len = resolutions.length; k < len; i = ++k) {\n            point = resolutions[i];\n            responsive[point] = {};\n            while ((j = i) >= -1) {\n              if (!responsive[point][\"speed\"] && (value = this.element.getAttribute(\"data\" + aliases[j] + \"speed\"))) {\n                responsive[point][\"speed\"] = this.getSpeed(value);\n              }\n              if (!responsive[point][\"offset\"] && (value = this.element.getAttribute(\"data\" + aliases[j] + \"offset\"))) {\n                responsive[point][\"offset\"] = parseInt(value);\n              }\n              if (!responsive[point][\"fade\"] && (value = this.element.getAttribute(\"data\" + aliases[j] + \"fade\"))) {\n                responsive[point][\"fade\"] = value === 'true';\n              }\n              i--;\n            }\n          }\n          return responsive;\n        };\n\n\n        /**\n        * Fade layer according to its position in scene\n        * @public\n        * @param {number} sceneOffset - current scene offset\n        * @param {number} sceneHeight - current scene height\n         */\n\n        Layer.prototype.fuse = function(sceneOffset, sceneHeight) {\n          var layer, layerDevider, offsetTop, opacity, pos, sceneDevider;\n          layer = this;\n          offsetTop = layer.getOffset(layer.element).top + layer.element.getBoundingClientRect().top;\n          sceneDevider = sceneOffset + sceneHeight / 2.0;\n          layerDevider = offsetTop + layer.offsetHeight / 2.0;\n          pos = sceneHeight / 6.0;\n          if (sceneDevider + pos > layerDevider && sceneDevider - pos < layerDevider) {\n            layer.element.style[\"opacity\"] = 1;\n          } else {\n            if (sceneDevider - pos < layerDevider) {\n              opacity = 1 + ((sceneDevider + pos - layerDevider) / sceneHeight / 3.0 * 10);\n            } else {\n              opacity = 1 - ((sceneDevider - pos - layerDevider) / sceneHeight / 3.0 * 10);\n            }\n            layer.element.style[\"opacity\"] = opacity < 0 ? 0 : opacity > 1 ? 1 : opacity.toFixed(2);\n          }\n        };\n\n\n        /**\n        * Move layer in scene\n        * @public\n        * @param {number} scrollY - current scroll top\n        * @param {number} windowWidth - current window width\n        * @param {number} windowHeight - current window height\n        * @param {number} sceneOffset - current scene offset top\n        * @param {number} sceneHeight - current scene height\n        * @param {number} documentHeight - current scene height\n        * @param {number} agentOffset - current agent offset\n         */\n\n        Layer.prototype.move = function(scrollY, windowWidth, windowHeight, sceneOffset, sceneHeight, documentHeight, sceneOn, agentOffset, inputFocus) {\n          var dy, h, layer, pos, v;\n          layer = this;\n          if (isIE && layer.type === \"media\") {\n            return;\n          }\n          if (isMobile || (isWin8 && isIE)) {\n            return;\n          }\n          if (!sceneOn) {\n            if (isWebkit) {\n              layer.element.style[\"-webkit-transform\"] = \"translate3d(0,0,0)\";\n            }\n            layer.element.style[\"transform\"] = \"translate3d(0,0,0)\";\n            return;\n          }\n          if ((!isMobile) || (layer.type === \"html\" && inputFocus) || isChromeIOS) {\n            v = layer.speed * layer.direction;\n          } else {\n            v = layer.speed * layer.direction - 1;\n          }\n          h = layer.offsetHeight;\n          if (agentOffset != null) {\n            dy = (sceneOffset + windowHeight - (agentOffset + windowHeight)) / (windowHeight - sceneHeight);\n          } else if (layer.type !== \"media\") {\n            if (sceneOffset < windowHeight || sceneOffset > documentHeight - windowHeight) {\n              if (sceneOffset < windowHeight) {\n                dy = sceneOffset / (windowHeight - sceneHeight);\n              } else {\n                dy = (sceneOffset + windowHeight - documentHeight) / (windowHeight - sceneHeight);\n              }\n              if (!isFinite(dy)) {\n                dy = 0;\n              }\n            } else {\n              dy = 0.5;\n            }\n          } else {\n            dy = 0.5;\n          }\n          if (isChromeIOS || isIE) {\n            pos = (sceneHeight - h) / 2 + (windowHeight - sceneHeight) * dy * v + layer.offset;\n          } else if (isMobile) {\n            pos = -(sceneOffset - scrollY) * v + (sceneHeight - h) / 2 + (windowHeight - sceneHeight) * dy * (v + 1) + layer.offset;\n          } else {\n            pos = -(sceneOffset - scrollY) * v + (sceneHeight - h) / 2 + (windowHeight - sceneHeight) * dy * v + layer.offset;\n          }\n          if (isMobile) {\n            if (agentOffset != null) {\n              layer.element.style[\"top\"] = (sceneOffset - agentOffset) + \"px\";\n            }\n          }\n          if (isWebkit) {\n            this.element.style[\"-webkit-transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n          }\n          this.element.style[\"transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n        };\n\n\n        /**\n        * Normalize layer speed\n        * @public\n        * @param {number} value - speed\n        * @returns {number} normalized speed\n         */\n\n        Layer.prototype.getSpeed = function(value) {\n          return Math.min(Math.max(parseFloat(value), 0), 2.0);\n        };\n\n\n        /**\n        * Calculate media layer height\n        * @public\n        * @param {number} windowHeight - current window height\n        * @param {number} sceneHeight - current scene height\n        * @param {number} speed - current speed\n        * @param {number} direction - movement direction\n        * @returns {number} media layer height\n         */\n\n        Layer.prototype.getMediaHeight = function(windowHeight, sceneHeight, speed, direction) {\n          var directionModifier;\n          directionModifier = direction === -1 ? (sceneHeight + windowHeight) * speed : 0;\n          return (sceneHeight + directionModifier + (speed <= 1 ? Math.abs(windowHeight - sceneHeight) * speed : windowHeight * speed)) + this.amend * 2;\n        };\n\n\n        /**\n         * Calc the element offset relative to document. Method is similar to $.offset()\n         * @public\n         * @param {element} element - HTML Element\n         * @returns {object} top and left offsets\n         */\n\n        Layer.prototype.getOffset = function(element) {\n          var bound, left, top;\n          bound = element.getBoundingClientRect();\n          left = bound.left + (window.scrollX || window.pageXOffset);\n          top = bound.top + (window.scrollY || window.pageYOffset);\n          return {\n            top: top,\n            left: left\n          };\n        };\n\n        return Layer;\n\n      })();\n\n\n      /**\n       * Creates a parallax scene.\n       * @class Scene.\n       * @public\n       * @param {HTMLElement} element - The element to create a scene for.\n       * @param {object} aliases - An object with width breakpoints aliases\n       * @param {numbeer} windowWidth - current window width\n       */\n\n      Scene = (function() {\n        function Scene(element, aliases, windowWidth, windowHeight) {\n          var ref, scene;\n          scene = this;\n          scene.amend = (ref = isWebkit != null ? isWebkit : isChromeNew) != null ? ref : {\n            0: {\n              60: 0\n            }\n          };\n          scene.element = element;\n          scene.aliases = aliases;\n          scene.on = true;\n          scene.agent = document.querySelector(element.getAttribute(\"data-agent\"));\n          scene.anchor = scene.findAnchor();\n          scene.canvas = scene.createCanvas();\n          scene.layers = scene.createLayers(windowWidth);\n          scene.fitTo = scene.getFitElement();\n          scene.responsive = scene.getResponsiveOptions();\n          scene.refresh(windowWidth, windowHeight);\n        }\n\n\n        /**\n         * Finds an element that layer will fit to\n         * @public\n         * @returns {element} fit element\n         */\n\n        Scene.prototype.getFitElement = function() {\n          var fitTo, scene;\n          scene = this;\n          if ((fitTo = scene.element.getAttribute(\"data-fit-to\")) != null) {\n            if (fitTo === \"parent\") {\n              return scene.element.parentNode;\n            } else {\n              return document.querySelector(fitTo);\n            }\n          } else {\n            return null;\n          }\n        };\n\n\n        /**\n         * Checks if parallax scene is inside of element with CSS Transform\n         * @public\n         * @returns {element} Parent element with CSS Transform or null\n         */\n\n        Scene.prototype.findAnchor = function() {\n          var parent, scene;\n          scene = this;\n          parent = scene.element.parentNode;\n          while ((parent != null) && parent !== document) {\n            if (scene.isTransformed.call(parent)) {\n              return parent;\n            }\n            parent = parent.parentNode;\n          }\n          return null;\n        };\n\n\n        /**\n         * Creates a parallax canvas element\n         * @public\n         * @returns {element} canvas\n         */\n\n        Scene.prototype.createCanvas = function() {\n          var canvas, scene;\n          scene = this;\n          canvas = document.createElement(\"div\");\n          if (hasClassList) {\n            canvas.classList.add(\"rd-parallax-inner\");\n          } else {\n            canvas.className = \"rd-parallax-inner\";\n          }\n          scene.element.appendChild(canvas);\n          while (scene.element.firstChild !== canvas) {\n            canvas.appendChild(scene.element.firstChild);\n          }\n          scene.element.style[\"position\"] = \"relative\";\n          scene.element.style[\"overflow\"] = \"hidden\";\n          if (!isIE && !isMobile) {\n            canvas.style[\"position\"] = \"fixed\";\n          } else {\n            canvas.style[\"position\"] = \"absolute\";\n            if (!(isWin8 && isIE)) {\n              canvas.style[\"clip\"] = \"rect(0, auto, auto, 0)\";\n            }\n            if (isIE) {\n              canvas.style[\"transform\"] = \"translate3d(0,0,0)\";\n            } else {\n              canvas.style[\"transform\"] = \"none\";\n            }\n          }\n          canvas.style[\"left\"] = scene.offsetLeft + \"px\";\n          canvas.style[\"top\"] = 0;\n          if (isWebkit) {\n            canvas.style[\"margin-top\"] = \"-\" + scene.amend + \"px\";\n            canvas.style[\"padding\"] = scene.amend + \"px 0\";\n            scene.element.style[\"z-index\"] = 0;\n          }\n          return canvas;\n        };\n\n\n        /**\n        * Gets specific option of layer\n        * @public\n        * @param {string} key\n        * @param {number} window width\n        * @returns {object} value\n         */\n\n        Scene.prototype.getOption = function(key, windowWidth) {\n          var point, targetPoint;\n          for (point in this.responsive) {\n            if (point <= windowWidth) {\n              targetPoint = point;\n            }\n          }\n          return this.responsive[targetPoint][key];\n        };\n\n\n        /**\n         * Creates a set of responsive options of the layer\n         * @public\n         * @returns {object} options\n         */\n\n        Scene.prototype.getResponsiveOptions = function() {\n          var alias, aliases, i, j, k, len, point, ref, resolutions, responsive, value;\n          responsive = {};\n          resolutions = [];\n          aliases = [];\n          ref = this.aliases;\n          for (i in ref) {\n            alias = ref[i];\n            resolutions.push(i);\n            aliases.push(alias);\n          }\n          for (i = k = 0, len = resolutions.length; k < len; i = ++k) {\n            point = resolutions[i];\n            responsive[point] = {};\n            while ((j = i) >= -1) {\n              if (!responsive[point][\"on\"] && ((value = this.element.getAttribute(\"data\" + aliases[j] + \"on\")) != null)) {\n                responsive[point][\"on\"] = value !== \"false\";\n              }\n              if ((responsive[point][\"on\"] == null) && j === 0) {\n                responsive[point][\"on\"] = true;\n              }\n              i--;\n            }\n          }\n          return responsive;\n        };\n\n\n        /**\n         * Creates the layers of parallax\n         * @public\n         * @param {number} window width\n         * @returns {array} List of layers\n         */\n\n        Scene.prototype.createLayers = function(windowWidth, windowHeight) {\n          var element, elements, i, k, layers, len, scene;\n          scene = this;\n          elements = $(scene.element).find(\".rd-parallax-layer\").get();\n          layers = [];\n          for (i = k = 0, len = elements.length; k < len; i = ++k) {\n            element = elements[i];\n            layers.push(new Layer(element, scene.aliases, windowWidth, windowHeight, scene.offsetTop, scene.offsetHeight, scene.on));\n          }\n          return layers;\n        };\n\n\n        /**\n         * Update scene position\n         * @public\n         */\n\n        Scene.prototype.move = function(scrollY) {\n          var pos, scene;\n          scene = this;\n          if (scene.anchor != null) {\n            pos = scene.positionTop;\n          } else {\n            pos = scene.offsetTop - scrollY;\n          }\n          if (isWebkit) {\n            scene.canvas.style[\"-webkit-transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n          }\n          return scene.canvas.style[\"transform\"] = \"translate3d(0,\" + pos + \"px,0)\";\n        };\n\n\n        /**\n         * Refresh scene dimensions\n         * @param {number} windowWidth - current window width\n         * @param {number} windowHeight - current window height\n         * @public\n         */\n\n        Scene.prototype.refresh = function(windowWidth, windowHeight) {\n          var k, l, layer, len, len1, mediaLayers, ref, scene;\n          scene = this;\n          mediaLayers = [];\n          scene.on = scene.getOption(\"on\", windowWidth);\n          scene.offsetTop = scene.getOffset(scene.element).top;\n          scene.offsetLeft = scene.getOffset(scene.element).left;\n          scene.width = scene.element.offsetWidth;\n          scene.canvas.style[\"width\"] = scene.width + \"px\";\n          if (scene.anchor != null) {\n            scene.positionTop = scene.element.offsetTop;\n          }\n          if (scene.agent != null) {\n            scene.agentOffset = scene.getOffset(scene.agent).top;\n            scene.agentHeight = scene.agent.offsetHeight;\n          } else {\n            scene.agentOffset = scene.agentHeight = null;\n          }\n          ref = scene.layers;\n          for (k = 0, len = ref.length; k < len; k++) {\n            layer = ref[k];\n            if (layer.type === \"media\") {\n              mediaLayers.push(layer);\n            } else {\n              layer.refresh(windowWidth, windowHeight, scene.offsetTop, scene.offsetHeight, scene.on);\n            }\n          }\n          scene.offsetHeight = scene.canvas.offsetHeight - scene.amend * 2;\n          scene.element.style[\"height\"] = scene.offsetHeight + \"px\";\n          for (l = 0, len1 = mediaLayers.length; l < len1; l++) {\n            layer = mediaLayers[l];\n            layer.refresh(windowWidth, windowHeight, scene.offsetTop, scene.offsetHeight, scene.on);\n          }\n        };\n\n\n        /**\n         * Update scene act\n         * @public\n         */\n\n        Scene.prototype.update = function(scrollY, windowWidth, windowHeight, documentHeight, inputFocus) {\n          var k, layer, len, ref, results, scene, sceneHeight, sceneOffset;\n          scene = this;\n          sceneOffset = scene.offsetTop;\n          sceneHeight = scene.offsetHeight;\n          if (!isIE && (!isMobile)) {\n            scene.move(scrollY);\n          }\n          ref = scene.layers;\n          results = [];\n          for (k = 0, len = ref.length; k < len; k++) {\n            layer = ref[k];\n            layer.move(scrollY, windowWidth, windowHeight, sceneOffset, sceneHeight, documentHeight, scene.on, scene.agentOffset, inputFocus);\n            layer.fade = layer.getOption(\"fade\", windowWidth) || false;\n            if (layer.fade && !isMobile && !isIE) {\n              results.push(layer.fuse(sceneOffset, sceneHeight));\n            } else {\n              results.push(void 0);\n            }\n          }\n          return results;\n        };\n\n\n        /**\n         * Checks if element is transformed\n         * @public\n         * @returns {boolean}\n         */\n\n        Scene.prototype.isTransformed = function() {\n          var el, t, transformed, transforms;\n          el = this;\n          transforms = {\n            'webkitTransform': '-webkit-transform',\n            'OTransform': '-o-transform',\n            'msTransform': '-ms-transform',\n            'MozTransform': '-moz-transform',\n            'transform': 'transform'\n          };\n          for (t in transforms) {\n            if (transforms.hasOwnProperty(t)) {\n              if (el.style[t] != null) {\n                transformed = window.getComputedStyle(el).getPropertyValue(transforms[t]);\n              }\n            }\n          }\n          if ((transformed != null) && transformed.length > 0 && transformed !== \"none\") {\n            return true;\n          } else {\n            return false;\n          }\n        };\n\n\n        /**\n         * Calc the element offset relative to document. Method is similar to $.offset()\n         * @public\n         * @param {element} element - HTML Element\n         * @returns {object} top and left offsets\n         */\n\n        Scene.prototype.getOffset = function(element) {\n          var bound, left, top;\n          bound = element.getBoundingClientRect();\n          left = bound.left + (window.scrollX || window.pageYOffset);\n          top = bound.top + (window.scrollY || window.pageYOffset);\n          return {\n            top: top,\n            left: left\n          };\n        };\n\n        return Scene;\n\n      })();\n\n\n      /**\n       * Default options for parallax.\n       * @public\n       */\n\n      RDParallax.prototype.Defaults = {\n        selector: '.rd-parallax',\n        screenAliases: {\n          0: '-',\n          480: '-xs-',\n          768: '-sm-',\n          992: '-md-',\n          1200: '-lg-',\n          1920: '-xl-',\n          2560: '-xxl-'\n        }\n      };\n\n      function RDParallax(options) {\n        this.options = $.extend(true, {}, this.Defaults, options);\n        this.scenes = [];\n        this.initialize();\n        this.scrollY = window.scrollY || window.pageYOffset;\n        this.lastScrollY = -1;\n        this.lastDocHeight = 0;\n        this.inputFocus = false;\n        this.checkLayerHeight = false;\n      }\n\n\n      /**\n       * Initializes the Parallax.\n       * @public\n       */\n\n      RDParallax.prototype.initialize = function() {\n        var ctx, element, elements, i, k, len, windowHeight, windowWidth;\n        ctx = this;\n        elements = document.querySelectorAll(ctx.options.selector);\n        windowWidth = window.innerWidth;\n        windowHeight = window.innerHeight;\n        for (i = k = 0, len = elements.length; k < len; i = ++k) {\n          element = elements[i];\n          ctx.scenes.push(new Scene(element, ctx.options.screenAliases, windowWidth, windowHeight));\n        }\n        $(window).on(\"resize\", $.proxy(ctx.resize, ctx));\n        if (isSafariIOS) {\n          $('input').on(\"focusin focus\", function(e) {\n            e.preventDefault();\n            ctx.activeOffset = $(this).offset().top;\n            return window.scrollTo(window.scrollX || window.pageXOffset, ctx.activeOffset - this.offsetHeight - 100);\n          });\n        }\n        $(window).trigger(\"resize\");\n        ctx.update();\n        ctx.checkResize();\n      };\n\n\n      /**\n       * Resize all scenes\n       * @public\n       */\n\n      RDParallax.prototype.resize = function(forceResize) {\n        var ctx, currentWindowWidth, k, len, ref, scene;\n        ctx = this;\n        if ((currentWindowWidth = window.innerWidth) !== ctx.windowWidth || !isMobile || forceResize) {\n          ctx.windowWidth = currentWindowWidth;\n          ctx.windowHeight = window.innerHeight;\n          ctx.documentHeight = document.body.offsetHeight;\n          ref = ctx.scenes;\n          for (k = 0, len = ref.length; k < len; k++) {\n            scene = ref[k];\n            scene.refresh(ctx.windowWidth, ctx.windowHeight);\n          }\n          return ctx.update(true);\n        }\n      };\n\n\n      /**\n       * Update all parallax scenes\n       * @param {boolean} forceUpdate - force scenes update if scroll wasnt triggered\n       * @public\n       */\n\n      RDParallax.prototype.update = function(forceUpdate) {\n        var activeElement, ctx, deltaHeight, deltaScroll, documentHeight, k, len, ref, scene, scrollY, windowHeight, windowWidth;\n        ctx = this;\n        if (!forceUpdate) {\n          requestAnimationFrame(function() {\n            ctx.update();\n          });\n        }\n        scrollY = window.scrollY || window.pageYOffset;\n        if (isSafariIOS) {\n          if ((activeElement = document.activeElement) != null) {\n            if (activeElement.tagName.match(/(input)|(select)|(textarea)/i)) {\n              ctx.activeElement = activeElement;\n              ctx.inputFocus = true;\n            } else {\n              ctx.activeElement = null;\n              ctx.inputFocus = false;\n              forceUpdate = true;\n            }\n          }\n        }\n        if (isMobile && isChrome) {\n          deltaHeight = window.innerHeight - ctx.windowHeight;\n          ctx.deltaHeight = deltaHeight;\n          scrollY -= ctx.deltaHeight;\n        }\n        if (((scrollY !== ctx.lastScrollY) || forceUpdate) && !ctx.isActing) {\n          ctx.isActing = true;\n          windowWidth = ctx.windowWidth;\n          windowHeight = ctx.windowHeight;\n          documentHeight = ctx.documentHeight;\n          deltaScroll = scrollY - ctx.lastScrollY;\n          if (isSafariIOS) {\n            if (ctx.activeElement != null) {\n              ctx.activeElement.value = ctx.activeElement.value + \" \";\n              ctx.activeElement.value = ctx.activeElement.value.trim();\n            }\n          }\n          ref = ctx.scenes;\n          for (k = 0, len = ref.length; k < len; k++) {\n            scene = ref[k];\n            if (ctx.inputFocus || forceUpdate || (scrollY + windowHeight >= (scene.agentOffset || scene.offsetTop) + deltaScroll && scrollY <= (scene.agentOffset || scene.offsetTop) + (scene.agentHeight || scene.offsetHeight) + deltaScroll)) {\n              scene.update(scrollY, windowWidth, windowHeight, documentHeight, ctx.inputFocus);\n            }\n          }\n          ctx.lastScrollY = scrollY;\n          return ctx.isActing = false;\n        }\n      };\n\n      RDParallax.prototype.checkResize = function() {\n        var ctx;\n        ctx = this;\n        setInterval(function() {\n          var docHeight, k, l, layer, len, len1, ref, ref1, scene;\n          docHeight = document.body.offsetHeight;\n          ref = ctx.scenes;\n          for (k = 0, len = ref.length; k < len; k++) {\n            scene = ref[k];\n            ref1 = scene.layers;\n            for (l = 0, len1 = ref1.length; l < len1; l++) {\n              layer = ref1[l];\n              if (layer.isHolderWrong()) {\n                ctx.checkLayerHeight = true;\n                break;\n              }\n            }\n            if (ctx.checkLayerHeight) {\n              break;\n            }\n          }\n          if (ctx.checkLayerHeight || docHeight !== ctx.lastDocHeight) {\n            ctx.resize(true);\n            ctx.lastDocHeight = docHeight;\n            return ctx.checkLayerHeight = false;\n          }\n        }, 500);\n      };\n\n      return RDParallax;\n\n    })();\n\n    /**\n     * The jQuery Plugin for the RD Parallax\n     * @public\n     */\n    $.RDParallax = function(options) {\n      var $doc;\n      $doc = $(document);\n      if (!$doc.data('RDParallax')) {\n        return $doc.data('RDParallax', new RDParallax(options));\n      }\n    };\n    return window.RDParallax = RDParallax;\n  })(window.jQuery, document, window);\n\n\n  /**\n   * The Plugin AMD export\n   * @public\n   */\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = window.RDParallax;\n  } else if (typeof define === 'function' && define.amd) {\n    define([\"jquery\"], function() {\n      'use strict';\n      return window.RDParallax;\n    });\n  }\n\n}).call(this);\n","TemplateMonster_Parallax/js/rd-parallax/jquery.rd-parallax.min.js":"/**\n * @module       RD Parallax\n * @author       Evgeniy Gusarov\n * @see          https://ua.linkedin.com/pub/evgeniy-gusarov/8a/a40/54a\n * @version      3.6.5\n */\n(function(){!function($,document,window){var RDParallax,chromeVersion,hasClassList,isChrome,isChromeIOS,isChromeNew,isIE,isMobile,isSafariIOS,isWebkit,isWin8;return isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isChrome=/Chrome/.test(navigator.userAgent),isWebkit=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),isChromeIOS=isMobile&&/crios/i.test(navigator.userAgent),isSafariIOS=/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/),isIE=navigator.appVersion.indexOf(\"MSIE\")!==-1||navigator.appVersion.indexOf(\"Trident/\")>-1,isWin8=/windows nt 6.2/.test(navigator.userAgent.toLowerCase())||/windows nt 6.3/.test(navigator.userAgent.toLowerCase()),hasClassList=null!=document.body.classList,chromeVersion=!!isChrome&&navigator.userAgent.replace(/^.*Chrome\\/([\\d\\.]+).*$/i,\"$1\"),isChromeNew=chromeVersion>=\"55.0.2883.75\",RDParallax=function(){function RDParallax(options){this.options=$.extend(!0,{},this.Defaults,options),this.scenes=[],this.initialize(),this.scrollY=window.scrollY||window.pageYOffset,this.lastScrollY=-1,this.lastDocHeight=0,this.inputFocus=!1,this.checkLayerHeight=!1}var Layer,Scene;return Layer=function(){function Layer(element,aliases,windowWidth,windowHeight,sceneOffset,sceneHeight,sceneOn){var ref,ref1;switch(this.amend=null!=(ref=null!=(ref1=isWebkit||isIE||isMobile)?ref1:isChromeNew)?ref:{0:{60:0}},this.element=element,this.aliases=aliases,this.type=element.getAttribute(\"data-type\")||\"html\",\"html\"===this.type&&(this.holder=this.createHolder()),this.direction=\"normal\"===element.getAttribute(\"data-direction\")||null==element.getAttribute(\"data-direction\")?1:-1,this.fade=\"true\"===element.getAttribute(\"data-fade\"),this.blur=\"true\"===element.getAttribute(\"data-blur\"),this.boundTo=document.querySelector(element.getAttribute(\"data-bound-to\")),\"media\"===this.type&&(this.url=element.getAttribute(\"data-url\")),this.responsive=this.getResponsiveOptions(),!isIE&&!isMobile||isMobile||isWin8&&isIE?this.element.style.position=\"absolute\":this.element.style.position=\"fixed\",this.type){case\"media\":null!=this.url&&(this.element.style[\"background-image\"]=\"url(\"+this.url+\")\");break;case\"html\":isIE&&isMobile&&(this.element.style[\"z-index\"]=1)}this.refresh(windowWidth,windowHeight,sceneOffset,sceneHeight,sceneOn)}return Layer.prototype.refresh=function(windowWidth,windowHeight,sceneOffset,sceneHeight,sceneOn){var layer;switch(layer=this,layer.speed=layer.getOption(\"speed\",windowWidth)||0,layer.offset=layer.getOption(\"offset\",windowWidth)||0,isMobile||isWin8&&isIE||(sceneOn?layer.element.style.position=\"fixed\":layer.element.style.position=\"absolute\"),isIE&&\"html\"===layer.type&&(layer.element.style.position=\"absolute\"),layer.type){case\"media\":if(!isIE)return layer.offsetHeight=layer.getMediaHeight(windowHeight,sceneHeight,layer.speed,layer.direction),layer.element.style.height=layer.offsetHeight+\"px\";break;case\"html\":if(layer.element.style.width=this.holder.offsetWidth+\"px\",layer.offsetHeight=layer.element.offsetHeight,layer.holder.style.height=layer.offsetHeight+\"px\",!(!isIE&&!isMobile||isMobile||isWin8&&isIE))return isIE?layer.element.style.position=\"static\":sceneOn&&(layer.element.style.left=layer.getOffset(layer.holder).left+\"px\",layer.element.style.top=layer.getOffset(layer.holder).top-sceneOffset+\"px\"),layer.holder.style.position=\"static\";break;case\"custom\":return layer.offsetHeight=layer.element.offsetHeight}},Layer.prototype.createHolder=function(){var holder,layer;return layer=this,holder=document.createElement(\"div\"),hasClassList?holder.classList.add(\"rd-parallax-layer-holder\"):holder.className=\"rd-parallax-layer-holder\",layer.element.parentNode.insertBefore(holder,layer.element),holder.appendChild(layer.element),(!isIE&&!isMobile||isChromeIOS)&&(holder.style.position=\"relative\"),holder},Layer.prototype.isHolderWrong=function(){var layer;return layer=this,\"html\"===layer.type&&layer.holder.offsetHeight!==layer.element.offsetHeight},Layer.prototype.getOption=function(key,windowWidth){var layer,point,targetPoint;layer=this;for(point in layer.responsive)point<=windowWidth&&(targetPoint=point);return layer.responsive[targetPoint][key]},Layer.prototype.getResponsiveOptions=function(){var alias,aliases,i,j,k,len,point,ref,resolutions,responsive,value;responsive={},resolutions=[],aliases=[],ref=this.aliases;for(i in ref)alias=ref[i],resolutions.push(i),aliases.push(alias);for(i=k=0,len=resolutions.length;k<len;i=++k)for(point=resolutions[i],responsive[point]={};(j=i)>=-1;)!responsive[point].speed&&(value=this.element.getAttribute(\"data\"+aliases[j]+\"speed\"))&&(responsive[point].speed=this.getSpeed(value)),!responsive[point].offset&&(value=this.element.getAttribute(\"data\"+aliases[j]+\"offset\"))&&(responsive[point].offset=parseInt(value)),!responsive[point].fade&&(value=this.element.getAttribute(\"data\"+aliases[j]+\"fade\"))&&(responsive[point].fade=\"true\"===value),i--;return responsive},Layer.prototype.fuse=function(sceneOffset,sceneHeight){var layer,layerDevider,offsetTop,opacity,pos,sceneDevider;layer=this,offsetTop=layer.getOffset(layer.element).top+layer.element.getBoundingClientRect().top,sceneDevider=sceneOffset+sceneHeight/2,layerDevider=offsetTop+layer.offsetHeight/2,pos=sceneHeight/6,sceneDevider+pos>layerDevider&&sceneDevider-pos<layerDevider?layer.element.style.opacity=1:(opacity=sceneDevider-pos<layerDevider?1+(sceneDevider+pos-layerDevider)/sceneHeight/3*10:1-(sceneDevider-pos-layerDevider)/sceneHeight/3*10,layer.element.style.opacity=opacity<0?0:opacity>1?1:opacity.toFixed(2))},Layer.prototype.move=function(scrollY,windowWidth,windowHeight,sceneOffset,sceneHeight,documentHeight,sceneOn,agentOffset,inputFocus){var dy,h,layer,pos,v;if(layer=this,!(isIE&&\"media\"===layer.type||isMobile||isWin8&&isIE)){if(!sceneOn)return isWebkit&&(layer.element.style[\"-webkit-transform\"]=\"translate3d(0,0,0)\"),void(layer.element.style.transform=\"translate3d(0,0,0)\");v=!isMobile||\"html\"===layer.type&&inputFocus||isChromeIOS?layer.speed*layer.direction:layer.speed*layer.direction-1,h=layer.offsetHeight,null!=agentOffset?dy=(sceneOffset+windowHeight-(agentOffset+windowHeight))/(windowHeight-sceneHeight):\"media\"!==layer.type&&(sceneOffset<windowHeight||sceneOffset>documentHeight-windowHeight)?(dy=sceneOffset<windowHeight?sceneOffset/(windowHeight-sceneHeight):(sceneOffset+windowHeight-documentHeight)/(windowHeight-sceneHeight),isFinite(dy)||(dy=0)):dy=.5,pos=isChromeIOS||isIE?(sceneHeight-h)/2+(windowHeight-sceneHeight)*dy*v+layer.offset:isMobile?-(sceneOffset-scrollY)*v+(sceneHeight-h)/2+(windowHeight-sceneHeight)*dy*(v+1)+layer.offset:-(sceneOffset-scrollY)*v+(sceneHeight-h)/2+(windowHeight-sceneHeight)*dy*v+layer.offset,isMobile&&null!=agentOffset&&(layer.element.style.top=sceneOffset-agentOffset+\"px\"),isWebkit&&(this.element.style[\"-webkit-transform\"]=\"translate3d(0,\"+pos+\"px,0)\"),this.element.style.transform=\"translate3d(0,\"+pos+\"px,0)\"}},Layer.prototype.getSpeed=function(value){return Math.min(Math.max(parseFloat(value),0),2)},Layer.prototype.getMediaHeight=function(windowHeight,sceneHeight,speed,direction){var directionModifier;return directionModifier=direction===-1?(sceneHeight+windowHeight)*speed:0,sceneHeight+directionModifier+(speed<=1?Math.abs(windowHeight-sceneHeight)*speed:windowHeight*speed)+2*this.amend},Layer.prototype.getOffset=function(element){var bound,left,top;return bound=element.getBoundingClientRect(),left=bound.left+(window.scrollX||window.pageXOffset),top=bound.top+(window.scrollY||window.pageYOffset),{top:top,left:left}},Layer}(),Scene=function(){function Scene(element,aliases,windowWidth,windowHeight){var ref,scene;scene=this,scene.amend=null!=(ref=null!=isWebkit?isWebkit:isChromeNew)?ref:{0:{60:0}},scene.element=element,scene.aliases=aliases,scene.on=!0,scene.agent=document.querySelector(element.getAttribute(\"data-agent\")),scene.anchor=scene.findAnchor(),scene.canvas=scene.createCanvas(),scene.layers=scene.createLayers(windowWidth),scene.fitTo=scene.getFitElement(),scene.responsive=scene.getResponsiveOptions(),scene.refresh(windowWidth,windowHeight)}return Scene.prototype.getFitElement=function(){var fitTo,scene;return scene=this,null!=(fitTo=scene.element.getAttribute(\"data-fit-to\"))?\"parent\"===fitTo?scene.element.parentNode:document.querySelector(fitTo):null},Scene.prototype.findAnchor=function(){var parent,scene;for(scene=this,parent=scene.element.parentNode;null!=parent&&parent!==document;){if(scene.isTransformed.call(parent))return parent;parent=parent.parentNode}return null},Scene.prototype.createCanvas=function(){var canvas,scene;for(scene=this,canvas=document.createElement(\"div\"),hasClassList?canvas.classList.add(\"rd-parallax-inner\"):canvas.className=\"rd-parallax-inner\",scene.element.appendChild(canvas);scene.element.firstChild!==canvas;)canvas.appendChild(scene.element.firstChild);return scene.element.style.position=\"relative\",scene.element.style.overflow=\"hidden\",isIE||isMobile?(canvas.style.position=\"absolute\",isWin8&&isIE||(canvas.style.clip=\"rect(0, auto, auto, 0)\"),isIE?canvas.style.transform=\"translate3d(0,0,0)\":canvas.style.transform=\"none\"):canvas.style.position=\"fixed\",canvas.style.left=scene.offsetLeft+\"px\",canvas.style.top=0,isWebkit&&(canvas.style[\"margin-top\"]=\"-\"+scene.amend+\"px\",canvas.style.padding=scene.amend+\"px 0\",scene.element.style[\"z-index\"]=0),canvas},Scene.prototype.getOption=function(key,windowWidth){var point,targetPoint;for(point in this.responsive)point<=windowWidth&&(targetPoint=point);return this.responsive[targetPoint][key]},Scene.prototype.getResponsiveOptions=function(){var alias,aliases,i,j,k,len,point,ref,resolutions,responsive,value;responsive={},resolutions=[],aliases=[],ref=this.aliases;for(i in ref)alias=ref[i],resolutions.push(i),aliases.push(alias);for(i=k=0,len=resolutions.length;k<len;i=++k)for(point=resolutions[i],responsive[point]={};(j=i)>=-1;)responsive[point].on||null==(value=this.element.getAttribute(\"data\"+aliases[j]+\"on\"))||(responsive[point].on=\"false\"!==value),null==responsive[point].on&&0===j&&(responsive[point].on=!0),i--;return responsive},Scene.prototype.createLayers=function(windowWidth,windowHeight){var element,elements,i,k,layers,len,scene;for(scene=this,elements=$(scene.element).find(\".rd-parallax-layer\").get(),layers=[],i=k=0,len=elements.length;k<len;i=++k)element=elements[i],layers.push(new Layer(element,scene.aliases,windowWidth,windowHeight,scene.offsetTop,scene.offsetHeight,scene.on));return layers},Scene.prototype.move=function(scrollY){var pos,scene;return scene=this,pos=null!=scene.anchor?scene.positionTop:scene.offsetTop-scrollY,isWebkit&&(scene.canvas.style[\"-webkit-transform\"]=\"translate3d(0,\"+pos+\"px,0)\"),scene.canvas.style.transform=\"translate3d(0,\"+pos+\"px,0)\"},Scene.prototype.refresh=function(windowWidth,windowHeight){var k,l,layer,len,len1,mediaLayers,ref,scene;for(scene=this,mediaLayers=[],scene.on=scene.getOption(\"on\",windowWidth),scene.offsetTop=scene.getOffset(scene.element).top,scene.offsetLeft=scene.getOffset(scene.element).left,scene.width=scene.element.offsetWidth,scene.canvas.style.width=scene.width+\"px\",null!=scene.anchor&&(scene.positionTop=scene.element.offsetTop),null!=scene.agent?(scene.agentOffset=scene.getOffset(scene.agent).top,scene.agentHeight=scene.agent.offsetHeight):scene.agentOffset=scene.agentHeight=null,ref=scene.layers,k=0,len=ref.length;k<len;k++)layer=ref[k],\"media\"===layer.type?mediaLayers.push(layer):layer.refresh(windowWidth,windowHeight,scene.offsetTop,scene.offsetHeight,scene.on);for(scene.offsetHeight=scene.canvas.offsetHeight-2*scene.amend,scene.element.style.height=scene.offsetHeight+\"px\",l=0,len1=mediaLayers.length;l<len1;l++)layer=mediaLayers[l],layer.refresh(windowWidth,windowHeight,scene.offsetTop,scene.offsetHeight,scene.on)},Scene.prototype.update=function(scrollY,windowWidth,windowHeight,documentHeight,inputFocus){var k,layer,len,ref,results,scene,sceneHeight,sceneOffset;for(scene=this,sceneOffset=scene.offsetTop,sceneHeight=scene.offsetHeight,isIE||isMobile||scene.move(scrollY),ref=scene.layers,results=[],k=0,len=ref.length;k<len;k++)layer=ref[k],layer.move(scrollY,windowWidth,windowHeight,sceneOffset,sceneHeight,documentHeight,scene.on,scene.agentOffset,inputFocus),layer.fade=layer.getOption(\"fade\",windowWidth)||!1,!layer.fade||isMobile||isIE?results.push(void 0):results.push(layer.fuse(sceneOffset,sceneHeight));return results},Scene.prototype.isTransformed=function(){var el,t,transformed,transforms;el=this,transforms={webkitTransform:\"-webkit-transform\",OTransform:\"-o-transform\",msTransform:\"-ms-transform\",MozTransform:\"-moz-transform\",transform:\"transform\"};for(t in transforms)transforms.hasOwnProperty(t)&&null!=el.style[t]&&(transformed=window.getComputedStyle(el).getPropertyValue(transforms[t]));return null!=transformed&&transformed.length>0&&\"none\"!==transformed},Scene.prototype.getOffset=function(element){var bound,left,top;return bound=element.getBoundingClientRect(),left=bound.left+(window.scrollX||window.pageYOffset),top=bound.top+(window.scrollY||window.pageYOffset),{top:top,left:left}},Scene}(),RDParallax.prototype.Defaults={selector:\".rd-parallax\",screenAliases:{0:\"-\",480:\"-xs-\",768:\"-sm-\",992:\"-md-\",1200:\"-lg-\",1920:\"-xl-\",2560:\"-xxl-\"}},RDParallax.prototype.initialize=function(){var ctx,element,elements,i,k,len,windowHeight,windowWidth;for(ctx=this,elements=document.querySelectorAll(ctx.options.selector),windowWidth=window.innerWidth,windowHeight=window.innerHeight,i=k=0,len=elements.length;k<len;i=++k)element=elements[i],ctx.scenes.push(new Scene(element,ctx.options.screenAliases,windowWidth,windowHeight));$(window).on(\"resize\",$.proxy(ctx.resize,ctx)),isSafariIOS&&$(\"input\").on(\"focusin focus\",function(e){return e.preventDefault(),ctx.activeOffset=$(this).offset().top,window.scrollTo(window.scrollX||window.pageXOffset,ctx.activeOffset-this.offsetHeight-100)}),$(window).trigger(\"resize\"),ctx.update(),ctx.checkResize()},RDParallax.prototype.resize=function(forceResize){var ctx,currentWindowWidth,k,len,ref,scene;if(ctx=this,(currentWindowWidth=window.innerWidth)!==ctx.windowWidth||!isMobile||forceResize){for(ctx.windowWidth=currentWindowWidth,ctx.windowHeight=window.innerHeight,ctx.documentHeight=document.body.offsetHeight,ref=ctx.scenes,k=0,len=ref.length;k<len;k++)scene=ref[k],scene.refresh(ctx.windowWidth,ctx.windowHeight);return ctx.update(!0)}},RDParallax.prototype.update=function(forceUpdate){var activeElement,ctx,deltaHeight,deltaScroll,documentHeight,k,len,ref,scene,scrollY,windowHeight,windowWidth;if(ctx=this,forceUpdate||requestAnimationFrame(function(){ctx.update()}),scrollY=window.scrollY||window.pageYOffset,isSafariIOS&&null!=(activeElement=document.activeElement)&&(activeElement.tagName.match(/(input)|(select)|(textarea)/i)?(ctx.activeElement=activeElement,ctx.inputFocus=!0):(ctx.activeElement=null,ctx.inputFocus=!1,forceUpdate=!0)),isMobile&&isChrome&&(deltaHeight=window.innerHeight-ctx.windowHeight,ctx.deltaHeight=deltaHeight,scrollY-=ctx.deltaHeight),(scrollY!==ctx.lastScrollY||forceUpdate)&&!ctx.isActing){for(ctx.isActing=!0,windowWidth=ctx.windowWidth,windowHeight=ctx.windowHeight,documentHeight=ctx.documentHeight,deltaScroll=scrollY-ctx.lastScrollY,isSafariIOS&&null!=ctx.activeElement&&(ctx.activeElement.value=ctx.activeElement.value+\" \",ctx.activeElement.value=ctx.activeElement.value.trim()),ref=ctx.scenes,k=0,len=ref.length;k<len;k++)scene=ref[k],(ctx.inputFocus||forceUpdate||scrollY+windowHeight>=(scene.agentOffset||scene.offsetTop)+deltaScroll&&scrollY<=(scene.agentOffset||scene.offsetTop)+(scene.agentHeight||scene.offsetHeight)+deltaScroll)&&scene.update(scrollY,windowWidth,windowHeight,documentHeight,ctx.inputFocus);return ctx.lastScrollY=scrollY,ctx.isActing=!1}},RDParallax.prototype.checkResize=function(){var ctx;ctx=this,setInterval(function(){var docHeight,k,l,layer,len,len1,ref,ref1,scene;for(docHeight=document.body.offsetHeight,ref=ctx.scenes,k=0,len=ref.length;k<len;k++){for(scene=ref[k],ref1=scene.layers,l=0,len1=ref1.length;l<len1;l++)if(layer=ref1[l],layer.isHolderWrong()){ctx.checkLayerHeight=!0;break}if(ctx.checkLayerHeight)break}if(ctx.checkLayerHeight||docHeight!==ctx.lastDocHeight)return ctx.resize(!0),ctx.lastDocHeight=docHeight,ctx.checkLayerHeight=!1},500)},RDParallax}(),$.RDParallax=function(options){var $doc;if($doc=$(document),!$doc.data(\"RDParallax\"))return $doc.data(\"RDParallax\",new RDParallax(options))},window.RDParallax=RDParallax}(window.jQuery,document,window),\"undefined\"!=typeof module&&null!==module?module.exports=window.RDParallax:\"function\"==typeof define&&define.amd&&define([\"jquery\"],function(){\"use strict\";return window.RDParallax})}).call(this);","TemplateMonster_ProductLabels/js/smart-labels.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.smartLabels', {\n\n        options: {\n            container: '.product-item',\n            catalogParent: '.product-item',\n            productContainer: '.product.media',\n            productParent: '.product.media',\n        },\n\n        _create: function() {\n            this._productLabel();\n            this._categoryLabel();\n        },\n\n        _categoryLabel: function () {\n            var container = this.options.container;\n            var parent = this.options.catalogParent;\n\n            var labelParent = $(container).parents(parent);\n            var defineParent = Boolean(labelParent.length);\n            var wrapper = this.element.parents(parent);\n            if(!defineParent) container = wrapper;\n            var anchor = (!container.length) ? wrapper : $(container, wrapper);\n            this.element.prependTo(anchor).show();\n        },\n\n        _productLabel: function () {\n            var productContainer = this.options.productContainer;\n            var productParent = this.options.productParent;\n            if(!productContainer.length) {\n                productContainer = productParent;\n            }\n            this.element.prependTo($(productContainer, '.catalog-product-view')).show();\n        }\n    });\n\n    return $.TemplateMonster.smartLabels;\n\n});\n","TemplateMonster_ShopByBrand/js/brand-add-product-page.js":"define([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'text!TemplateMonster_ShopByBrand/templates/brand/image.html'\n],function($, _, mageTemplate, brandTemplate) {\n    'use strict';\n\n    $.widget('tm.brandAddProductPage', {\n        options: {\n            template: brandTemplate,\n            showLogo: true,\n            showName: true,\n            logoWidth: 200,\n            selector: '',\n            brand: {\n                name: null,\n                image: null,\n                url: null\n            }\n        },\n\n        _create: function() {\n            if (this._isNeedToShow) {\n                $(this.options.selector).after(this._renderBrandLogo());\n            }\n        },\n\n        _isNeedToShow: function() {\n            var o = this.options;\n\n            // check if all options is initialized\n            return _.any([o.showLogo, o.showName]) && _.all(o.brand);\n        },\n\n        _renderBrandLogo: function() {\n            var template = mageTemplate(this.options.template);\n            var o = this.options;\n\n            return template({\n                data: {\n                    showLogo: o.showLogo,\n                    showName: o.showName,\n                    logoWidth: o.logoWidth,\n                    brand: o.brand\n                }\n            });\n        }\n    });\n\n    return $.tm.brandAddProductPage;\n});","TemplateMonster_ShopByBrand/js/brand-carousel.js":"/**\n * Copyright \u00c2\u00a9 2015. All rights reserved.\n */\n\ndefine([\n    'jquery',\n    'brandOwlCarousel'\n], function($){\n    \"use strict\";\n\n    $.widget('TemplateMonster.brandCarousel', {\n\n\n        options: {\n            items: 3,\n            itemsDesktop: [1199,5],\n            itemsDesktopSmall: [979,4],\n            itemsTablet: [768,3],\n            itemsMobile: [400,2],\n            autoPlay: false,\n            navigation:true,\n            pagination: false,\n            addClassActive: true,\n            navigationText: [],\n        },\n\n        _create: function() {\n            this.element.owlCarousel(this.options);\n        },\n        \n    });\n\n    return $.TemplateMonster.brandCarousel;\n\n});\n","TemplateMonster_ShopByBrand/js/owl.carousel.js":"/*\n *  jQuery OwlCarousel v1.3.3\n *\n *  Copyright (c) 2013 Bartosz Wojciechowski\n *  http://www.owlgraphic.com/owlcarousel/\n *\n *  Licensed under MIT\n *\n */\n\n/*JS Lint helpers: */\n/*global dragMove: false, dragEnd: false, $, jQuery, alert, window, document */\n/*jslint nomen: true, continue:true */\n\nif (typeof Object.create !== \"function\") {\n    Object.create = function (obj) {\n        function F() {}\n        F.prototype = obj;\n        return new F();\n    };\n}\n(function ($, window, document) {\n\n    var Carousel = {\n        init : function (options, el) {\n            var base = this;\n\n            base.$elem = $(el);\n            base.options = $.extend({}, $.fn.owlCarousel.options, base.$elem.data(), options);\n\n            base.userOptions = options;\n            base.loadContent();\n        },\n\n        loadContent : function () {\n            var base = this, url;\n\n            function getData(data) {\n                var i, content = \"\";\n                if (typeof base.options.jsonSuccess === \"function\") {\n                    base.options.jsonSuccess.apply(this, [data]);\n                } else {\n                    for (i in data.owl) {\n                        if (data.owl.hasOwnProperty(i)) {\n                            content += data.owl[i].item;\n                        }\n                    }\n                    base.$elem.html(content);\n                }\n                base.logIn();\n            }\n\n            if (typeof base.options.beforeInit === \"function\") {\n                base.options.beforeInit.apply(this, [base.$elem]);\n            }\n\n            if (typeof base.options.jsonPath === \"string\") {\n                url = base.options.jsonPath;\n                $.getJSON(url, getData);\n            } else {\n                base.logIn();\n            }\n        },\n\n        logIn : function () {\n            var base = this;\n\n            base.$elem.data(\"owl-originalStyles\", base.$elem.attr(\"style\"));\n            base.$elem.data(\"owl-originalClasses\", base.$elem.attr(\"class\"));\n\n            base.$elem.css({opacity: 0});\n            base.orignalItems = base.options.items;\n            base.checkBrowser();\n            base.wrapperWidth = 0;\n            base.checkVisible = null;\n            base.setVars();\n        },\n\n        setVars : function () {\n            var base = this;\n            if (base.$elem.children().length === 0) {return false; }\n            base.baseClass();\n            base.eventTypes();\n            base.$userItems = base.$elem.children();\n            base.itemsAmount = base.$userItems.length;\n            base.wrapItems();\n            base.$owlItems = base.$elem.find(\".owl-item\");\n            base.$owlWrapper = base.$elem.find(\".owl-wrapper\");\n            base.playDirection = \"next\";\n            base.prevItem = 0;\n            base.prevArr = [0];\n            base.currentItem = 0;\n            base.customEvents();\n            base.onStartup();\n        },\n\n        onStartup : function () {\n            var base = this;\n            base.updateItems();\n            base.calculateAll();\n            base.buildControls();\n            base.updateControls();\n            base.response();\n            base.moveEvents();\n            base.stopOnHover();\n            base.owlStatus();\n\n            if (base.options.transitionStyle !== false) {\n                base.transitionTypes(base.options.transitionStyle);\n            }\n            if (base.options.autoPlay === true) {\n                base.options.autoPlay = 5000;\n            }\n            base.play();\n\n            base.$elem.find(\".owl-wrapper\").css(\"display\", \"block\");\n\n            if (!base.$elem.is(\":visible\")) {\n                base.watchVisibility();\n            } else {\n                base.$elem.css(\"opacity\", 1);\n            }\n            base.onstartup = false;\n            base.eachMoveUpdate();\n            if (typeof base.options.afterInit === \"function\") {\n                base.options.afterInit.apply(this, [base.$elem]);\n            }\n        },\n\n        eachMoveUpdate : function () {\n            var base = this;\n\n            if (base.options.lazyLoad === true) {\n                base.lazyLoad();\n            }\n            if (base.options.autoHeight === true) {\n                base.autoHeight();\n            }\n            base.onVisibleItems();\n\n            if (typeof base.options.afterAction === \"function\") {\n                base.options.afterAction.apply(this, [base.$elem]);\n            }\n        },\n\n        updateVars : function () {\n            var base = this;\n            if (typeof base.options.beforeUpdate === \"function\") {\n                base.options.beforeUpdate.apply(this, [base.$elem]);\n            }\n            base.watchVisibility();\n            base.updateItems();\n            base.calculateAll();\n            base.updatePosition();\n            base.updateControls();\n            base.eachMoveUpdate();\n            if (typeof base.options.afterUpdate === \"function\") {\n                base.options.afterUpdate.apply(this, [base.$elem]);\n            }\n        },\n\n        reload : function () {\n            var base = this;\n            window.setTimeout(function () {\n                base.updateVars();\n            }, 0);\n        },\n\n        watchVisibility : function () {\n            var base = this;\n\n            if (base.$elem.is(\":visible\") === false) {\n                base.$elem.css({opacity: 0});\n                window.clearInterval(base.autoPlayInterval);\n                window.clearInterval(base.checkVisible);\n            } else {\n                return false;\n            }\n            base.checkVisible = window.setInterval(function () {\n                if (base.$elem.is(\":visible\")) {\n                    base.reload();\n                    base.$elem.animate({opacity: 1}, 200);\n                    window.clearInterval(base.checkVisible);\n                }\n            }, 500);\n        },\n\n        wrapItems : function () {\n            var base = this;\n            base.$userItems.wrapAll(\"<div class=\\\"owl-wrapper\\\">\").wrap(\"<div class=\\\"owl-item\\\"></div>\");\n            base.$elem.find(\".owl-wrapper\").wrap(\"<div class=\\\"owl-wrapper-outer\\\">\");\n            base.wrapperOuter = base.$elem.find(\".owl-wrapper-outer\");\n            base.$elem.css(\"display\", \"block\");\n        },\n\n        baseClass : function () {\n            var base = this,\n                hasBaseClass = base.$elem.hasClass(base.options.baseClass),\n                hasThemeClass = base.$elem.hasClass(base.options.theme);\n\n            if (!hasBaseClass) {\n                base.$elem.addClass(base.options.baseClass);\n            }\n\n            if (!hasThemeClass) {\n                base.$elem.addClass(base.options.theme);\n            }\n        },\n\n        updateItems : function () {\n            var base = this, width, i;\n\n            if (base.options.responsive === false) {\n                return false;\n            }\n            if (base.options.singleItem === true) {\n                base.options.items = base.orignalItems = 1;\n                base.options.itemsCustom = false;\n                base.options.itemsDesktop = false;\n                base.options.itemsDesktopSmall = false;\n                base.options.itemsTablet = false;\n                base.options.itemsTabletSmall = false;\n                base.options.itemsMobile = false;\n                return false;\n            }\n\n            width = $(base.options.responsiveBaseWidth).width();\n\n            if (width > (base.options.itemsDesktop[0] || base.orignalItems)) {\n                base.options.items = base.orignalItems;\n            }\n            if (base.options.itemsCustom !== false) {\n                //Reorder array by screen size\n                base.options.itemsCustom.sort(function (a, b) {return a[0] - b[0]; });\n\n                for (i = 0; i < base.options.itemsCustom.length; i += 1) {\n                    if (base.options.itemsCustom[i][0] <= width) {\n                        base.options.items = base.options.itemsCustom[i][1];\n                    }\n                }\n\n            } else {\n\n                if (width <= base.options.itemsDesktop[0] && base.options.itemsDesktop !== false) {\n                    base.options.items = base.options.itemsDesktop[1];\n                }\n\n                if (width <= base.options.itemsDesktopSmall[0] && base.options.itemsDesktopSmall !== false) {\n                    base.options.items = base.options.itemsDesktopSmall[1];\n                }\n\n                if (width <= base.options.itemsTablet[0] && base.options.itemsTablet !== false) {\n                    base.options.items = base.options.itemsTablet[1];\n                }\n\n                if (width <= base.options.itemsTabletSmall[0] && base.options.itemsTabletSmall !== false) {\n                    base.options.items = base.options.itemsTabletSmall[1];\n                }\n\n                if (width <= base.options.itemsMobile[0] && base.options.itemsMobile !== false) {\n                    base.options.items = base.options.itemsMobile[1];\n                }\n            }\n\n            //if number of items is less than declared\n            if (base.options.items > base.itemsAmount && base.options.itemsScaleUp === true) {\n                base.options.items = base.itemsAmount;\n            }\n        },\n\n        response : function () {\n            var base = this,\n                smallDelay,\n                lastWindowWidth;\n\n            if (base.options.responsive !== true) {\n                return false;\n            }\n            lastWindowWidth = $(window).width();\n\n            base.resizer = function () {\n                if ($(window).width() !== lastWindowWidth) {\n                    if (base.options.autoPlay !== false) {\n                        window.clearInterval(base.autoPlayInterval);\n                    }\n                    window.clearTimeout(smallDelay);\n                    smallDelay = window.setTimeout(function () {\n                        lastWindowWidth = $(window).width();\n                        base.updateVars();\n                    }, base.options.responsiveRefreshRate);\n                }\n            };\n            $(window).resize(base.resizer);\n        },\n\n        updatePosition : function () {\n            var base = this;\n            base.jumpTo(base.currentItem);\n            if (base.options.autoPlay !== false) {\n                base.checkAp();\n            }\n        },\n\n        appendItemsSizes : function () {\n            var base = this,\n                roundPages = 0,\n                lastItem = base.itemsAmount - base.options.items;\n\n            base.$owlItems.each(function (index) {\n                var $this = $(this);\n                $this\n                    .css({\"width\": base.itemWidth})\n                    .data(\"owl-item\", Number(index));\n\n                if (index % base.options.items === 0 || index === lastItem) {\n                    if (!(index > lastItem)) {\n                        roundPages += 1;\n                    }\n                }\n                $this.data(\"owl-roundPages\", roundPages);\n            });\n        },\n\n        appendWrapperSizes : function () {\n            var base = this,\n                width = base.$owlItems.length * base.itemWidth;\n\n            base.$owlWrapper.css({\n                \"width\": width * 2,\n                \"left\": 0\n            });\n            base.appendItemsSizes();\n        },\n\n        calculateAll : function () {\n            var base = this;\n            base.calculateWidth();\n            base.appendWrapperSizes();\n            base.loops();\n            base.max();\n        },\n\n        calculateWidth : function () {\n            var base = this;\n            base.itemWidth = Math.round(base.$elem.width() / base.options.items);\n        },\n\n        max : function () {\n            var base = this,\n                maximum = ((base.itemsAmount * base.itemWidth) - base.options.items * base.itemWidth) * -1;\n            if (base.options.items > base.itemsAmount) {\n                base.maximumItem = 0;\n                maximum = 0;\n                base.maximumPixels = 0;\n            } else {\n                base.maximumItem = base.itemsAmount - base.options.items;\n                base.maximumPixels = maximum;\n            }\n            return maximum;\n        },\n\n        min : function () {\n            return 0;\n        },\n\n        loops : function () {\n            var base = this,\n                prev = 0,\n                elWidth = 0,\n                i,\n                item,\n                roundPageNum;\n\n            base.positionsInArray = [0];\n            base.pagesInArray = [];\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                elWidth += base.itemWidth;\n                base.positionsInArray.push(-elWidth);\n\n                if (base.options.scrollPerPage === true) {\n                    item = $(base.$owlItems[i]);\n                    roundPageNum = item.data(\"owl-roundPages\");\n                    if (roundPageNum !== prev) {\n                        base.pagesInArray[prev] = base.positionsInArray[i];\n                        prev = roundPageNum;\n                    }\n                }\n            }\n        },\n\n        buildControls : function () {\n            var base = this;\n            if (base.options.navigation === true || base.options.pagination === true) {\n                base.owlControls = $(\"<div class=\\\"owl-controls\\\"/>\").toggleClass(\"clickable\", !base.browser.isTouch).appendTo(base.$elem);\n            }\n            if (base.options.pagination === true) {\n                base.buildPagination();\n            }\n            if (base.options.navigation === true) {\n                base.buildButtons();\n            }\n        },\n\n        buildButtons : function () {\n            var base = this,\n                buttonsWrapper = $(\"<div class=\\\"owl-buttons\\\"/>\");\n            base.owlControls.append(buttonsWrapper);\n\n            base.buttonPrev = $(\"<div/>\", {\n                \"class\" : \"owl-prev\",\n                \"html\" : base.options.navigationText[0] || \"\"\n            });\n\n            base.buttonNext = $(\"<div/>\", {\n                \"class\" : \"owl-next\",\n                \"html\" : base.options.navigationText[1] || \"\"\n            });\n\n            buttonsWrapper\n                .append(base.buttonPrev)\n                .append(base.buttonNext);\n\n            buttonsWrapper.on(\"touchstart.owlControls mousedown.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n            });\n\n            buttonsWrapper.on(\"touchend.owlControls mouseup.owlControls\", \"div[class^=\\\"owl\\\"]\", function (event) {\n                event.preventDefault();\n                if ($(this).hasClass(\"owl-next\")) {\n                    base.next();\n                } else {\n                    base.prev();\n                }\n            });\n        },\n\n        buildPagination : function () {\n            var base = this;\n\n            base.paginationWrapper = $(\"<div class=\\\"owl-pagination\\\"/>\");\n            base.owlControls.append(base.paginationWrapper);\n\n            base.paginationWrapper.on(\"touchend.owlControls mouseup.owlControls\", \".owl-page\", function (event) {\n                event.preventDefault();\n                if (Number($(this).data(\"owl-page\")) !== base.currentItem) {\n                    base.goTo(Number($(this).data(\"owl-page\")), true);\n                }\n            });\n        },\n\n        updatePagination : function () {\n            var base = this,\n                counter,\n                lastPage,\n                lastItem,\n                i,\n                paginationButton,\n                paginationButtonInner;\n\n            if (base.options.pagination === false) {\n                return false;\n            }\n\n            base.paginationWrapper.html(\"\");\n\n            counter = 0;\n            lastPage = base.itemsAmount - base.itemsAmount % base.options.items;\n\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                if (i % base.options.items === 0) {\n                    counter += 1;\n                    if (lastPage === i) {\n                        lastItem = base.itemsAmount - base.options.items;\n                    }\n                    paginationButton = $(\"<div/>\", {\n                        \"class\" : \"owl-page\"\n                    });\n                    paginationButtonInner = $(\"<span></span>\", {\n                        \"text\": base.options.paginationNumbers === true ? counter : \"\",\n                        \"class\": base.options.paginationNumbers === true ? \"owl-numbers\" : \"\"\n                    });\n                    paginationButton.append(paginationButtonInner);\n\n                    paginationButton.data(\"owl-page\", lastPage === i ? lastItem : i);\n                    paginationButton.data(\"owl-roundPages\", counter);\n\n                    base.paginationWrapper.append(paginationButton);\n                }\n            }\n            base.checkPagination();\n        },\n        checkPagination : function () {\n            var base = this;\n            if (base.options.pagination === false) {\n                return false;\n            }\n            base.paginationWrapper.find(\".owl-page\").each(function () {\n                if ($(this).data(\"owl-roundPages\") === $(base.$owlItems[base.currentItem]).data(\"owl-roundPages\")) {\n                    base.paginationWrapper\n                        .find(\".owl-page\")\n                        .removeClass(\"active\");\n                    $(this).addClass(\"active\");\n                }\n            });\n        },\n\n        checkNavigation : function () {\n            var base = this;\n\n            if (base.options.navigation === false) {\n                return false;\n            }\n            if (base.options.rewindNav === false) {\n                if (base.currentItem === 0 && base.maximumItem === 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem === 0 && base.maximumItem !== 0) {\n                    base.buttonPrev.addClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                } else if (base.currentItem === base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.addClass(\"disabled\");\n                } else if (base.currentItem !== 0 && base.currentItem !== base.maximumItem) {\n                    base.buttonPrev.removeClass(\"disabled\");\n                    base.buttonNext.removeClass(\"disabled\");\n                }\n            }\n        },\n\n        updateControls : function () {\n            var base = this;\n            base.updatePagination();\n            base.checkNavigation();\n            if (base.owlControls) {\n                if (base.options.items >= base.itemsAmount) {\n                    base.owlControls.hide();\n                } else {\n                    base.owlControls.show();\n                }\n            }\n        },\n\n        destroyControls : function () {\n            var base = this;\n            if (base.owlControls) {\n                base.owlControls.remove();\n            }\n        },\n\n        next : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            base.currentItem += base.options.scrollPerPage === true ? base.options.items : 1;\n            if (base.currentItem > base.maximumItem + (base.options.scrollPerPage === true ? (base.options.items - 1) : 0)) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = 0;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = base.maximumItem;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        prev : function (speed) {\n            var base = this;\n\n            if (base.isTransition) {\n                return false;\n            }\n\n            if (base.options.scrollPerPage === true && base.currentItem > 0 && base.currentItem < base.options.items) {\n                base.currentItem = 0;\n            } else {\n                base.currentItem -= base.options.scrollPerPage === true ? base.options.items : 1;\n            }\n            if (base.currentItem < 0) {\n                if (base.options.rewindNav === true) {\n                    base.currentItem = base.maximumItem;\n                    speed = \"rewind\";\n                } else {\n                    base.currentItem = 0;\n                    return false;\n                }\n            }\n            base.goTo(base.currentItem, speed);\n        },\n\n        goTo : function (position, speed, drag) {\n            var base = this,\n                goToPixel;\n\n            if (base.isTransition) {\n                return false;\n            }\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n\n            base.currentItem = base.owl.currentItem = position;\n            if (base.options.transitionStyle !== false && drag !== \"drag\" && base.options.items === 1 && base.browser.support3d === true) {\n                base.swapSpeed(0);\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.positionsInArray[position]);\n                } else {\n                    base.css2slide(base.positionsInArray[position], 1);\n                }\n                base.afterGo();\n                base.singleItemTransition();\n                return false;\n            }\n            goToPixel = base.positionsInArray[position];\n\n            if (base.browser.support3d === true) {\n                base.isCss3Finish = false;\n\n                if (speed === true) {\n                    base.swapSpeed(\"paginationSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.paginationSpeed);\n\n                } else if (speed === \"rewind\") {\n                    base.swapSpeed(base.options.rewindSpeed);\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.rewindSpeed);\n\n                } else {\n                    base.swapSpeed(\"slideSpeed\");\n                    window.setTimeout(function () {\n                        base.isCss3Finish = true;\n                    }, base.options.slideSpeed);\n                }\n                base.transition3d(goToPixel);\n            } else {\n                if (speed === true) {\n                    base.css2slide(goToPixel, base.options.paginationSpeed);\n                } else if (speed === \"rewind\") {\n                    base.css2slide(goToPixel, base.options.rewindSpeed);\n                } else {\n                    base.css2slide(goToPixel, base.options.slideSpeed);\n                }\n            }\n            base.afterGo();\n        },\n\n        jumpTo : function (position) {\n            var base = this;\n            if (typeof base.options.beforeMove === \"function\") {\n                base.options.beforeMove.apply(this, [base.$elem]);\n            }\n            if (position >= base.maximumItem || position === -1) {\n                position = base.maximumItem;\n            } else if (position <= 0) {\n                position = 0;\n            }\n            base.swapSpeed(0);\n            if (base.browser.support3d === true) {\n                base.transition3d(base.positionsInArray[position]);\n            } else {\n                base.css2slide(base.positionsInArray[position], 1);\n            }\n            base.currentItem = base.owl.currentItem = position;\n            base.afterGo();\n        },\n\n        afterGo : function () {\n            var base = this;\n\n            base.prevArr.push(base.currentItem);\n            base.prevItem = base.owl.prevItem = base.prevArr[base.prevArr.length - 2];\n            base.prevArr.shift(0);\n\n            if (base.prevItem !== base.currentItem) {\n                base.checkPagination();\n                base.checkNavigation();\n                base.eachMoveUpdate();\n\n                if (base.options.autoPlay !== false) {\n                    base.checkAp();\n                }\n            }\n            if (typeof base.options.afterMove === \"function\" && base.prevItem !== base.currentItem) {\n                base.options.afterMove.apply(this, [base.$elem]);\n            }\n        },\n\n        stop : function () {\n            var base = this;\n            base.apStatus = \"stop\";\n            window.clearInterval(base.autoPlayInterval);\n        },\n\n        checkAp : function () {\n            var base = this;\n            if (base.apStatus !== \"stop\") {\n                base.play();\n            }\n        },\n\n        play : function () {\n            var base = this;\n            base.apStatus = \"play\";\n            if (base.options.autoPlay === false) {\n                return false;\n            }\n            window.clearInterval(base.autoPlayInterval);\n            base.autoPlayInterval = window.setInterval(function () {\n                base.next(true);\n            }, base.options.autoPlay);\n        },\n\n        swapSpeed : function (action) {\n            var base = this;\n            if (action === \"slideSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed));\n            } else if (action === \"paginationSpeed\") {\n                base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed));\n            } else if (typeof action !== \"string\") {\n                base.$owlWrapper.css(base.addCssSpeed(action));\n            }\n        },\n\n        addCssSpeed : function (speed) {\n            return {\n                \"-webkit-transition\": \"all \" + speed + \"ms ease\",\n                \"-moz-transition\": \"all \" + speed + \"ms ease\",\n                \"-o-transition\": \"all \" + speed + \"ms ease\",\n                \"transition\": \"all \" + speed + \"ms ease\"\n            };\n        },\n\n        removeTransition : function () {\n            return {\n                \"-webkit-transition\": \"\",\n                \"-moz-transition\": \"\",\n                \"-o-transition\": \"\",\n                \"transition\": \"\"\n            };\n        },\n\n        doTranslate : function (pixels) {\n            return {\n                \"-webkit-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-moz-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-o-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"-ms-transform\": \"translate3d(\" + pixels + \"px, 0px, 0px)\",\n                \"transform\": \"translate3d(\" + pixels + \"px, 0px,0px)\"\n            };\n        },\n\n        transition3d : function (value) {\n            var base = this;\n            base.$owlWrapper.css(base.doTranslate(value));\n        },\n\n        css2move : function (value) {\n            var base = this;\n            base.$owlWrapper.css({\"left\" : value});\n        },\n\n        css2slide : function (value, speed) {\n            var base = this;\n\n            base.isCssFinish = false;\n            base.$owlWrapper.stop(true, true).animate({\n                \"left\" : value\n            }, {\n                duration : speed || base.options.slideSpeed,\n                complete : function () {\n                    base.isCssFinish = true;\n                }\n            });\n        },\n\n        checkBrowser : function () {\n            var base = this,\n                translate3D = \"translate3d(0px, 0px, 0px)\",\n                tempElem = document.createElement(\"div\"),\n                regex,\n                asSupport,\n                support3d,\n                isTouch;\n\n            tempElem.style.cssText = \"  -moz-transform:\" + translate3D +\n                                  \"; -ms-transform:\"     + translate3D +\n                                  \"; -o-transform:\"      + translate3D +\n                                  \"; -webkit-transform:\" + translate3D +\n                                  \"; transform:\"         + translate3D;\n            regex = /translate3d\\(0px, 0px, 0px\\)/g;\n            asSupport = tempElem.style.cssText.match(regex);\n            support3d = (asSupport !== null && asSupport.length === 1);\n\n            isTouch = \"ontouchstart\" in window || window.navigator.msMaxTouchPoints;\n\n            base.browser = {\n                \"support3d\" : support3d,\n                \"isTouch\" : isTouch\n            };\n        },\n\n        moveEvents : function () {\n            var base = this;\n            if (base.options.mouseDrag !== false || base.options.touchDrag !== false) {\n                base.gestures();\n                base.disabledEvents();\n            }\n        },\n\n        eventTypes : function () {\n            var base = this,\n                types = [\"s\", \"e\", \"x\"];\n\n            base.ev_types = {};\n\n            if (base.options.mouseDrag === true && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl mousedown.owl\",\n                    \"touchmove.owl mousemove.owl\",\n                    \"touchend.owl touchcancel.owl mouseup.owl\"\n                ];\n            } else if (base.options.mouseDrag === false && base.options.touchDrag === true) {\n                types = [\n                    \"touchstart.owl\",\n                    \"touchmove.owl\",\n                    \"touchend.owl touchcancel.owl\"\n                ];\n            } else if (base.options.mouseDrag === true && base.options.touchDrag === false) {\n                types = [\n                    \"mousedown.owl\",\n                    \"mousemove.owl\",\n                    \"mouseup.owl\"\n                ];\n            }\n\n            base.ev_types.start = types[0];\n            base.ev_types.move = types[1];\n            base.ev_types.end = types[2];\n        },\n\n        disabledEvents :  function () {\n            var base = this;\n            base.$elem.on(\"dragstart.owl\", function (event) { event.preventDefault(); });\n            base.$elem.on(\"mousedown.disableTextSelect\", function (e) {\n                return $(e.target).is('input, textarea, select, option');\n            });\n        },\n\n        gestures : function () {\n            /*jslint unparam: true*/\n            var base = this,\n                locals = {\n                    offsetX : 0,\n                    offsetY : 0,\n                    baseElWidth : 0,\n                    relativePos : 0,\n                    position: null,\n                    minSwipe : null,\n                    maxSwipe: null,\n                    sliding : null,\n                    dargging: null,\n                    targetElement : null\n                };\n\n            base.isCssFinish = true;\n\n            function getTouches(event) {\n                if (event.touches !== undefined) {\n                    return {\n                        x : event.touches[0].pageX,\n                        y : event.touches[0].pageY\n                    };\n                }\n\n                if (event.touches === undefined) {\n                    if (event.pageX !== undefined) {\n                        return {\n                            x : event.pageX,\n                            y : event.pageY\n                        };\n                    }\n                    if (event.pageX === undefined) {\n                        return {\n                            x : event.clientX,\n                            y : event.clientY\n                        };\n                    }\n                }\n            }\n\n            function swapEvents(type) {\n                if (type === \"on\") {\n                    $(document).on(base.ev_types.move, dragMove);\n                    $(document).on(base.ev_types.end, dragEnd);\n                } else if (type === \"off\") {\n                    $(document).off(base.ev_types.move);\n                    $(document).off(base.ev_types.end);\n                }\n            }\n\n            function dragStart(event) {\n                var ev = event.originalEvent || event || window.event,\n                    position;\n\n                if (ev.which === 3) {\n                    return false;\n                }\n                if (base.itemsAmount <= base.options.items) {\n                    return;\n                }\n                if (base.isCssFinish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n                if (base.isCss3Finish === false && !base.options.dragBeforeAnimFinish) {\n                    return false;\n                }\n\n                if (base.options.autoPlay !== false) {\n                    window.clearInterval(base.autoPlayInterval);\n                }\n\n                if (base.browser.isTouch !== true && !base.$owlWrapper.hasClass(\"grabbing\")) {\n                    base.$owlWrapper.addClass(\"grabbing\");\n                }\n\n                base.newPosX = 0;\n                base.newRelativeX = 0;\n\n                $(this).css(base.removeTransition());\n\n                position = $(this).position();\n                locals.relativePos = position.left;\n\n                locals.offsetX = getTouches(ev).x - position.left;\n                locals.offsetY = getTouches(ev).y - position.top;\n\n                swapEvents(\"on\");\n\n                locals.sliding = false;\n                locals.targetElement = ev.target || ev.srcElement;\n            }\n\n            function dragMove(event) {\n                var ev = event.originalEvent || event || window.event,\n                    minSwipe,\n                    maxSwipe;\n\n                base.newPosX = getTouches(ev).x - locals.offsetX;\n                base.newPosY = getTouches(ev).y - locals.offsetY;\n                base.newRelativeX = base.newPosX - locals.relativePos;\n\n                if (typeof base.options.startDragging === \"function\" && locals.dragging !== true && base.newRelativeX !== 0) {\n                    locals.dragging = true;\n                    base.options.startDragging.apply(base, [base.$elem]);\n                }\n\n                if ((base.newRelativeX > 8 || base.newRelativeX < -8) && (base.browser.isTouch === true)) {\n                    if (ev.preventDefault !== undefined) {\n                        ev.preventDefault();\n                    } else {\n                        ev.returnValue = false;\n                    }\n                    locals.sliding = true;\n                }\n\n                if ((base.newPosY > 10 || base.newPosY < -10) && locals.sliding === false) {\n                    $(document).off(\"touchmove.owl\");\n                }\n\n                minSwipe = function () {\n                    return base.newRelativeX / 5;\n                };\n\n                maxSwipe = function () {\n                    return base.maximumPixels + base.newRelativeX / 5;\n                };\n\n                base.newPosX = Math.max(Math.min(base.newPosX, minSwipe()), maxSwipe());\n                if (base.browser.support3d === true) {\n                    base.transition3d(base.newPosX);\n                } else {\n                    base.css2move(base.newPosX);\n                }\n            }\n\n            function dragEnd(event) {\n                var ev = event.originalEvent || event || window.event,\n                    newPosition,\n                    handlers,\n                    owlStopEvent;\n\n                ev.target = ev.target || ev.srcElement;\n\n                locals.dragging = false;\n\n                if (base.browser.isTouch !== true) {\n                    base.$owlWrapper.removeClass(\"grabbing\");\n                }\n\n                if (base.newRelativeX < 0) {\n                    base.dragDirection = base.owl.dragDirection = \"left\";\n                } else {\n                    base.dragDirection = base.owl.dragDirection = \"right\";\n                }\n\n                if (base.newRelativeX !== 0) {\n                    newPosition = base.getNewPosition();\n                    base.goTo(newPosition, false, \"drag\");\n                    if (locals.targetElement === ev.target && base.browser.isTouch !== true) {\n                        $(ev.target).on(\"click.disable\", function (ev) {\n                            ev.stopImmediatePropagation();\n                            ev.stopPropagation();\n                            ev.preventDefault();\n                            $(ev.target).off(\"click.disable\");\n                        });\n                        handlers = $._data(ev.target, \"events\").click;\n                        owlStopEvent = handlers.pop();\n                        handlers.splice(0, 0, owlStopEvent);\n                    }\n                }\n                swapEvents(\"off\");\n            }\n            base.$elem.on(base.ev_types.start, \".owl-wrapper\", dragStart);\n        },\n\n        getNewPosition : function () {\n            var base = this,\n                newPosition = base.closestItem();\n\n            if (newPosition > base.maximumItem) {\n                base.currentItem = base.maximumItem;\n                newPosition  = base.maximumItem;\n            } else if (base.newPosX >= 0) {\n                newPosition = 0;\n                base.currentItem = 0;\n            }\n            return newPosition;\n        },\n        closestItem : function () {\n            var base = this,\n                array = base.options.scrollPerPage === true ? base.pagesInArray : base.positionsInArray,\n                goal = base.newPosX,\n                closest = null;\n\n            $.each(array, function (i, v) {\n                if (goal - (base.itemWidth / 20) > array[i + 1] && goal - (base.itemWidth / 20) < v && base.moveDirection() === \"left\") {\n                    closest = v;\n                    if (base.options.scrollPerPage === true) {\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        base.currentItem = i;\n                    }\n                } else if (goal + (base.itemWidth / 20) < v && goal + (base.itemWidth / 20) > (array[i + 1] || array[i] - base.itemWidth) && base.moveDirection() === \"right\") {\n                    if (base.options.scrollPerPage === true) {\n                        closest = array[i + 1] || array[array.length - 1];\n                        base.currentItem = $.inArray(closest, base.positionsInArray);\n                    } else {\n                        closest = array[i + 1];\n                        base.currentItem = i + 1;\n                    }\n                }\n            });\n            return base.currentItem;\n        },\n\n        moveDirection : function () {\n            var base = this,\n                direction;\n            if (base.newRelativeX < 0) {\n                direction = \"right\";\n                base.playDirection = \"next\";\n            } else {\n                direction = \"left\";\n                base.playDirection = \"prev\";\n            }\n            return direction;\n        },\n\n        customEvents : function () {\n            /*jslint unparam: true*/\n            var base = this;\n            base.$elem.on(\"owl.next\", function () {\n                base.next();\n            });\n            base.$elem.on(\"owl.prev\", function () {\n                base.prev();\n            });\n            base.$elem.on(\"owl.play\", function (event, speed) {\n                base.options.autoPlay = speed;\n                base.play();\n                base.hoverStatus = \"play\";\n            });\n            base.$elem.on(\"owl.stop\", function () {\n                base.stop();\n                base.hoverStatus = \"stop\";\n            });\n            base.$elem.on(\"owl.goTo\", function (event, item) {\n                base.goTo(item);\n            });\n            base.$elem.on(\"owl.jumpTo\", function (event, item) {\n                base.jumpTo(item);\n            });\n        },\n\n        stopOnHover : function () {\n            var base = this;\n            if (base.options.stopOnHover === true && base.browser.isTouch !== true && base.options.autoPlay !== false) {\n                base.$elem.on(\"mouseover\", function () {\n                    base.stop();\n                });\n                base.$elem.on(\"mouseout\", function () {\n                    if (base.hoverStatus !== \"stop\") {\n                        base.play();\n                    }\n                });\n            }\n        },\n\n        lazyLoad : function () {\n            var base = this,\n                i,\n                $item,\n                itemNumber,\n                $lazyImg,\n                follow;\n\n            if (base.options.lazyLoad === false) {\n                return false;\n            }\n            for (i = 0; i < base.itemsAmount; i += 1) {\n                $item = $(base.$owlItems[i]);\n\n                if ($item.data(\"owl-loaded\") === \"loaded\") {\n                    continue;\n                }\n\n                itemNumber = $item.data(\"owl-item\");\n                $lazyImg = $item.find(\".lazyOwl\");\n\n                if (typeof $lazyImg.data(\"src\") !== \"string\") {\n                    $item.data(\"owl-loaded\", \"loaded\");\n                    continue;\n                }\n                if ($item.data(\"owl-loaded\") === undefined) {\n                    $lazyImg.hide();\n                    $item.addClass(\"loading\").data(\"owl-loaded\", \"checked\");\n                }\n                if (base.options.lazyFollow === true) {\n                    follow = itemNumber >= base.currentItem;\n                } else {\n                    follow = true;\n                }\n                if (follow && itemNumber < base.currentItem + base.options.items && $lazyImg.length) {\n                    base.lazyPreload($item, $lazyImg);\n                }\n            }\n        },\n\n        lazyPreload : function ($item, $lazyImg) {\n            var base = this,\n                iterations = 0,\n                isBackgroundImg;\n\n            if ($lazyImg.prop(\"tagName\") === \"DIV\") {\n                $lazyImg.css(\"background-image\", \"url(\" + $lazyImg.data(\"src\") + \")\");\n                isBackgroundImg = true;\n            } else {\n                $lazyImg[0].src = $lazyImg.data(\"src\");\n            }\n\n            function showImage() {\n                $item.data(\"owl-loaded\", \"loaded\").removeClass(\"loading\");\n                $lazyImg.removeAttr(\"data-src\");\n                if (base.options.lazyEffect === \"fade\") {\n                    $lazyImg.fadeIn(400);\n                } else {\n                    $lazyImg.show();\n                }\n                if (typeof base.options.afterLazyLoad === \"function\") {\n                    base.options.afterLazyLoad.apply(this, [base.$elem]);\n                }\n            }\n\n            function checkLazyImage() {\n                iterations += 1;\n                if (base.completeImg($lazyImg.get(0)) || isBackgroundImg === true) {\n                    showImage();\n                } else if (iterations <= 100) {//if image loads in less than 10 seconds \n                    window.setTimeout(checkLazyImage, 100);\n                } else {\n                    showImage();\n                }\n            }\n\n            checkLazyImage();\n        },\n\n        autoHeight : function () {\n            var base = this,\n                $currentimg = $(base.$owlItems[base.currentItem]).find(\"img\"),\n                iterations;\n\n            function addHeight() {\n                var $currentItem = $(base.$owlItems[base.currentItem]).height();\n                base.wrapperOuter.css(\"height\", $currentItem + \"px\");\n                if (!base.wrapperOuter.hasClass(\"autoHeight\")) {\n                    window.setTimeout(function () {\n                        base.wrapperOuter.addClass(\"autoHeight\");\n                    }, 0);\n                }\n            }\n\n            function checkImage() {\n                iterations += 1;\n                if (base.completeImg($currentimg.get(0))) {\n                    addHeight();\n                } else if (iterations <= 100) { //if image loads in less than 10 seconds \n                    window.setTimeout(checkImage, 100);\n                } else {\n                    base.wrapperOuter.css(\"height\", \"\"); //Else remove height attribute\n                }\n            }\n\n            if ($currentimg.get(0) !== undefined) {\n                iterations = 0;\n                checkImage();\n            } else {\n                addHeight();\n            }\n        },\n\n        completeImg : function (img) {\n            var naturalWidthType;\n\n            if (!img.complete) {\n                return false;\n            }\n            naturalWidthType = typeof img.naturalWidth;\n            if (naturalWidthType !== \"undefined\" && img.naturalWidth === 0) {\n                return false;\n            }\n            return true;\n        },\n\n        onVisibleItems : function () {\n            var base = this,\n                i;\n\n            if (base.options.addClassActive === true) {\n                base.$owlItems.removeClass(\"active\");\n            }\n            base.visibleItems = [];\n            for (i = base.currentItem; i < base.currentItem + base.options.items; i += 1) {\n                base.visibleItems.push(i);\n\n                if (base.options.addClassActive === true) {\n                    $(base.$owlItems[i]).addClass(\"active\");\n                }\n            }\n            base.owl.visibleItems = base.visibleItems;\n        },\n\n        transitionTypes : function (className) {\n            var base = this;\n            //Currently available: \"fade\", \"backSlide\", \"goDown\", \"fadeUp\"\n            base.outClass = \"owl-\" + className + \"-out\";\n            base.inClass = \"owl-\" + className + \"-in\";\n        },\n\n        singleItemTransition : function () {\n            var base = this,\n                outClass = base.outClass,\n                inClass = base.inClass,\n                $currentItem = base.$owlItems.eq(base.currentItem),\n                $prevItem = base.$owlItems.eq(base.prevItem),\n                prevPos = Math.abs(base.positionsInArray[base.currentItem]) + base.positionsInArray[base.prevItem],\n                origin = Math.abs(base.positionsInArray[base.currentItem]) + base.itemWidth / 2,\n                animEnd = 'webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend';\n\n            base.isTransition = true;\n\n            base.$owlWrapper\n                .addClass('owl-origin')\n                .css({\n                    \"-webkit-transform-origin\" : origin + \"px\",\n                    \"-moz-perspective-origin\" : origin + \"px\",\n                    \"perspective-origin\" : origin + \"px\"\n                });\n            function transStyles(prevPos) {\n                return {\n                    \"position\" : \"relative\",\n                    \"left\" : prevPos + \"px\"\n                };\n            }\n\n            $prevItem\n                .css(transStyles(prevPos, 10))\n                .addClass(outClass)\n                .on(animEnd, function () {\n                    base.endPrev = true;\n                    $prevItem.off(animEnd);\n                    base.clearTransStyle($prevItem, outClass);\n                });\n\n            $currentItem\n                .addClass(inClass)\n                .on(animEnd, function () {\n                    base.endCurrent = true;\n                    $currentItem.off(animEnd);\n                    base.clearTransStyle($currentItem, inClass);\n                });\n        },\n\n        clearTransStyle : function (item, classToRemove) {\n            var base = this;\n            item.css({\n                \"position\" : \"\",\n                \"left\" : \"\"\n            }).removeClass(classToRemove);\n\n            if (base.endPrev && base.endCurrent) {\n                base.$owlWrapper.removeClass('owl-origin');\n                base.endPrev = false;\n                base.endCurrent = false;\n                base.isTransition = false;\n            }\n        },\n\n        owlStatus : function () {\n            var base = this;\n            base.owl = {\n                \"userOptions\"   : base.userOptions,\n                \"baseElement\"   : base.$elem,\n                \"userItems\"     : base.$userItems,\n                \"owlItems\"      : base.$owlItems,\n                \"currentItem\"   : base.currentItem,\n                \"prevItem\"      : base.prevItem,\n                \"visibleItems\"  : base.visibleItems,\n                \"isTouch\"       : base.browser.isTouch,\n                \"browser\"       : base.browser,\n                \"dragDirection\" : base.dragDirection\n            };\n        },\n\n        clearEvents : function () {\n            var base = this;\n            base.$elem.off(\".owl owl mousedown.disableTextSelect\");\n            $(document).off(\".owl owl\");\n            $(window).off(\"resize\", base.resizer);\n        },\n\n        unWrap : function () {\n            var base = this;\n            if (base.$elem.children().length !== 0) {\n                base.$owlWrapper.unwrap();\n                base.$userItems.unwrap().unwrap();\n                if (base.owlControls) {\n                    base.owlControls.remove();\n                }\n            }\n            base.clearEvents();\n            base.$elem\n                .attr(\"style\", base.$elem.data(\"owl-originalStyles\") || \"\")\n                .attr(\"class\", base.$elem.data(\"owl-originalClasses\"));\n        },\n\n        destroy : function () {\n            var base = this;\n            base.stop();\n            window.clearInterval(base.checkVisible);\n            base.unWrap();\n            base.$elem.removeData();\n        },\n\n        reinit : function (newOptions) {\n            var base = this,\n                options = $.extend({}, base.userOptions, newOptions);\n            base.unWrap();\n            base.init(options, base.$elem);\n        },\n\n        addItem : function (htmlString, targetPosition) {\n            var base = this,\n                position;\n\n            if (!htmlString) {return false; }\n\n            if (base.$elem.children().length === 0) {\n                base.$elem.append(htmlString);\n                base.setVars();\n                return false;\n            }\n            base.unWrap();\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n            if (position >= base.$userItems.length || position === -1) {\n                base.$userItems.eq(-1).after(htmlString);\n            } else {\n                base.$userItems.eq(position).before(htmlString);\n            }\n\n            base.setVars();\n        },\n\n        removeItem : function (targetPosition) {\n            var base = this,\n                position;\n\n            if (base.$elem.children().length === 0) {\n                return false;\n            }\n            if (targetPosition === undefined || targetPosition === -1) {\n                position = -1;\n            } else {\n                position = targetPosition;\n            }\n\n            base.unWrap();\n            base.$userItems.eq(position).remove();\n            base.setVars();\n        }\n\n    };\n\n    $.fn.owlCarousel = function (options) {\n        return this.each(function () {\n            if ($(this).data(\"owl-init\") === true) {\n                return false;\n            }\n            $(this).data(\"owl-init\", true);\n            var carousel = Object.create(Carousel);\n            carousel.init(options, this);\n            $.data(this, \"owlCarousel\", carousel);\n        });\n    };\n\n    $.fn.owlCarousel.options = {\n\n        items : 5,\n        itemsCustom : false,\n        itemsDesktop : [1199, 4],\n        itemsDesktopSmall : [979, 3],\n        itemsTablet : [768, 2],\n        itemsTabletSmall : false,\n        itemsMobile : [479, 1],\n        singleItem : false,\n        itemsScaleUp : false,\n\n        slideSpeed : 200,\n        paginationSpeed : 800,\n        rewindSpeed : 1000,\n\n        autoPlay : false,\n        stopOnHover : false,\n\n        navigation : false,\n        navigationText : [\"prev\", \"next\"],\n        rewindNav : true,\n        scrollPerPage : false,\n\n        pagination : true,\n        paginationNumbers : false,\n\n        responsive : true,\n        responsiveRefreshRate : 200,\n        responsiveBaseWidth : window,\n\n        baseClass : \"owl-carousel\",\n        theme : \"owl-theme\",\n\n        lazyLoad : false,\n        lazyFollow : true,\n        lazyEffect : \"fade\",\n\n        autoHeight : false,\n\n        jsonPath : false,\n        jsonSuccess : false,\n\n        dragBeforeAnimFinish : true,\n        mouseDrag : true,\n        touchDrag : true,\n\n        addClassActive : false,\n        transitionStyle : false,\n\n        beforeUpdate : false,\n        afterUpdate : false,\n        beforeInit : false,\n        afterInit : false,\n        beforeMove : false,\n        afterMove : false,\n        afterAction : false,\n        startDragging : false,\n        afterLazyLoad: false\n    };\n}(jQuery, window, document));","TemplateMonster_SiteMaintenance/js/countdowntimer.js":"define([\n    \"jquery\",\n    \"jquery.countdown.sm\"\n], function($) {\n    \"use strict\";\n    $.widget('tm.smcountdowntimer', {\n        _create: function() {\n            var format = this.options.format;\n            this.element.countdown(this.options.end_date, function(event) {\n                $(this).html(\n                    event.strftime(format)\n                );\n            });\n        }\n    });\n    return $.tm.smcountdowntimer;\n});","TemplateMonster_SiteMaintenance/js/jquery.countdown.js":"/*!\n * The Final Countdown for jQuery v2.1.0 (http://hilios.github.io/jQuery.countdown/)\n * Copyright (c) 2015 Edson Hilios\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n(function(factory) {\n    \"use strict\";\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], factory);\n    } else {\n        factory(jQuery);\n    }\n})(function($) {\n    \"use strict\";\n    var instances = [], matchers = [], defaultOptions = {\n        precision: 100,\n        elapse: false\n    };\n    matchers.push(/^[0-9]*$/.source);\n    matchers.push(/([0-9]{1,2}\\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers.push(/[0-9]{4}([\\/\\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\n    matchers = new RegExp(matchers.join(\"|\"));\n    function parseDateString(dateString) {\n        if (dateString instanceof Date) {\n            return dateString;\n        }\n        if (String(dateString).match(matchers)) {\n            if (String(dateString).match(/^[0-9]*$/)) {\n                dateString = Number(dateString);\n            }\n            if (String(dateString).match(/\\-/)) {\n                dateString = String(dateString).replace(/\\-/g, \"/\");\n            }\n            return new Date(dateString);\n        } else {\n            throw new Error(\"Couldn't cast `\" + dateString + \"` to a date object.\");\n        }\n    }\n    var DIRECTIVE_KEY_MAP = {\n        Y: \"years\",\n        J: \"months\",\n        n: \"daysToMonth\",\n        w: \"weeks\",\n        d: \"daysToWeek\",\n        D: \"totalDays\",\n        H: \"hours\",\n        M: \"minutes\",\n        S: \"seconds\",\n        h: \"totalHours\",\n        m: \"totalMinutes\",\n        s: \"totalSeconds\"\n    };\n    function escapedRegExp(str) {\n        var sanitize = str.toString().replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        return new RegExp(sanitize);\n    }\n    function strftime(offsetObject) {\n        return function(format) {\n            var directives = format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);\n            if (directives) {\n                for (var i = 0, len = directives.length; i < len; ++i) {\n                    var directive = directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/), regexp = escapedRegExp(directive[0]), modifier = directive[1] || \"\", plural = directive[3] || \"\", value = null;\n                    directive = directive[2];\n                    if (DIRECTIVE_KEY_MAP.hasOwnProperty(directive)) {\n                        value = DIRECTIVE_KEY_MAP[directive];\n                        value = Number(offsetObject[value]);\n                    }\n                    if (value !== null) {\n                        if (modifier === \"!\") {\n                            value = pluralize(plural, value);\n                        }\n                        if (modifier === \"\") {\n                            if (value < 10) {\n                                value = \"0\" + value.toString();\n                            }\n                        }\n                        format = format.replace(regexp, value.toString());\n                    }\n                }\n            }\n            format = format.replace(/%%/, \"%\");\n            return format;\n        };\n    }\n    function pluralize(format, count) {\n        var plural = \"s\", singular = \"\";\n        if (format) {\n            format = format.replace(/(:|;|\\s)/gi, \"\").split(/\\,/);\n            if (format.length === 1) {\n                plural = format[0];\n            } else {\n                singular = format[0];\n                plural = format[1];\n            }\n        }\n        if (Math.abs(count) === 1) {\n            return singular;\n        } else {\n            return plural;\n        }\n    }\n    var Countdown = function(el, finalDate, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.interval = null;\n        this.offset = {};\n        this.options = $.extend({}, defaultOptions);\n        this.instanceNumber = instances.length;\n        instances.push(this);\n        this.$el.data(\"countdown-instance\", this.instanceNumber);\n        if (options) {\n            if (typeof options === \"function\") {\n                this.$el.on(\"update.countdown\", options);\n                this.$el.on(\"stoped.countdown\", options);\n                this.$el.on(\"finish.countdown\", options);\n            } else {\n                this.options = $.extend({}, defaultOptions, options);\n            }\n        }\n        this.setFinalDate(finalDate);\n        this.start();\n    };\n    $.extend(Countdown.prototype, {\n        start: function() {\n            if (this.interval !== null) {\n                clearInterval(this.interval);\n            }\n            var self = this;\n            this.update();\n            this.interval = setInterval(function() {\n                self.update.call(self);\n            }, this.options.precision);\n        },\n        stop: function() {\n            clearInterval(this.interval);\n            this.interval = null;\n            this.dispatchEvent(\"stoped\");\n        },\n        toggle: function() {\n            if (this.interval) {\n                this.stop();\n            } else {\n                this.start();\n            }\n        },\n        pause: function() {\n            this.stop();\n        },\n        resume: function() {\n            this.start();\n        },\n        remove: function() {\n            this.stop.call(this);\n            instances[this.instanceNumber] = null;\n            delete this.$el.data().countdownInstance;\n        },\n        setFinalDate: function(value) {\n            this.finalDate = parseDateString(value);\n        },\n        update: function() {\n            if (this.$el.closest(\"html\").length === 0) {\n                this.remove();\n                return;\n            }\n            var hasEventsAttached = $._data(this.el, \"events\") !== undefined, now = new Date(), newTotalSecsLeft;\n            newTotalSecsLeft = this.finalDate.getTime() - now.getTime();\n            newTotalSecsLeft = Math.ceil(newTotalSecsLeft / 1e3);\n            newTotalSecsLeft = !this.options.elapse && newTotalSecsLeft < 0 ? 0 : Math.abs(newTotalSecsLeft);\n            if (this.totalSecsLeft === newTotalSecsLeft || !hasEventsAttached) {\n                return;\n            } else {\n                this.totalSecsLeft = newTotalSecsLeft;\n            }\n            this.elapsed = now >= this.finalDate;\n            this.offset = {\n                seconds: this.totalSecsLeft % 60,\n                totalSeconds: this.totalSecsLeft,\n                minutes: Math.floor(this.totalSecsLeft / 60) % 60,\n                totalMinutes: Math.floor(this.totalSecsLeft / 60),\n                hours: Math.floor(this.totalSecsLeft / 60 / 60) % 24,\n                totalHours: Math.floor(this.totalSecsLeft / 60 / 60),\n                days: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToWeek: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\n                daysToMonth: Math.floor(this.totalSecsLeft / 60 / 60 / 24 % 30.4368),\n                totalDays: Math.floor(this.totalSecsLeft / 60 / 60 / 24),\n                weeks: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7),\n                months: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 30.4368),\n                years: Math.abs(this.finalDate.getFullYear() - now.getFullYear())\n            };\n            if (!this.options.elapse && this.totalSecsLeft === 0) {\n                this.stop();\n                this.dispatchEvent(\"finish\");\n            } else {\n                this.dispatchEvent(\"update\");\n            }\n        },\n        dispatchEvent: function(eventName) {\n            var event = $.Event(eventName + \".countdown\");\n            event.finalDate = this.finalDate;\n            event.elapsed = this.elapsed;\n            event.offset = $.extend({}, this.offset);\n            event.strftime = strftime(this.offset);\n            this.$el.trigger(event);\n        }\n    });\n    $.fn.countdown = function() {\n        var argumentsArray = Array.prototype.slice.call(arguments, 0);\n        return this.each(function() {\n            var instanceNumber = $(this).data(\"countdown-instance\");\n            if (instanceNumber !== undefined) {\n                var instance = instances[instanceNumber], method = argumentsArray[0];\n                if (Countdown.prototype.hasOwnProperty(method)) {\n                    instance[method].apply(instance, argumentsArray.slice(1));\n                } else if (String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i) === null) {\n                    instance.setFinalDate.call(instance, method);\n                    instance.start();\n                } else {\n                    $.error(\"Method %s does not exist on jQuery.countdown\".replace(/\\%s/gi, method));\n                }\n            } else {\n                new Countdown(this, argumentsArray[0], argumentsArray[1]);\n            }\n        });\n    };\n});","TemplateMonster_ThemeOptions/js/product-listing-gallery.js":"define([\n    'jquery',\n    'underscore'\n], function ($, _) {\n    'use strict';\n\n    $.widget('TemplateMonster.productListingGallery', {\n\n        options: {},\n\n        _create: function() {\n            $(this.element).closest('a').contents().unwrap();\n            $(this.element).on('fotorama:load', function (e, fotorama) {\n                $('.fotorama__wrap--toggle-arrows', this.element).addClass('fotorama__wrap--no-controls');\n            });\n        },\n\n    });\n\n    return $.TemplateMonster.productListingGallery;\n});","TemplateMonster_ThemeOptions/js/switch-image.js":"define([\n    'jquery',\n    'underscore'\n], function ($, _) {\n    'use strict';\n\n    $.widget('TemplateMonster.switchImage', {\n\n        options: {\n            duration: 300,\n        },\n\n        _create: function() {\n            this._replaceImage();\n            this._playVideo();\n        },\n\n        _replaceImage: function() {\n            var self = this.element;\n            var duration = this.options.duration;\n            $(self).hover(\n                function() {\n                    $('.base', this).fadeTo(duration, 0);\n                    $('.replaced', this).stop(true,false).fadeIn(duration);\n            },\n                function () {\n                    $('.replaced', this).fadeOut(duration);\n                    $('.base', this).stop(true,false).fadeTo(duration, 1);\n                }\n            );\n        },\n\n        _playVideo: function() {\n            if(!$(this.element).hasClass('is-video')) return false;\n\n            console.log('222');\n\n            var self = this.element;\n            var duration = this.options.duration;\n\n            $(self).hover(\n                function() {\n                    $('.base', this).fadeTo(duration, 0);\n                    $('.switch-video', this).fadeIn(duration);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL += \"&autoplay=1\";\n                    $('iframe', self).prop('src',videoURL);\n                },\n                function () {\n                    $('.switch-video', this).fadeOut(duration);\n                    $('.base', this).fadeTo(duration, 1);\n\n                    var videoURL = $('iframe', self).prop('src');\n                    videoURL = videoURL.replace(\"&autoplay=1\", \"\");\n                    $('iframe', self).prop('src','');\n                    $('iframe', self).prop('src',videoURL);\n                    $('iframe', self).fadeIn('slow');\n                }\n            );\n\n\n\n\n\n        }\n\n    });\n\n    return $.TemplateMonster.switchImage;\n});","js/carouselInit.js":"/**\r\n * Copyright \u00c2\u00a9 2015. All rights reserved.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'jquery/ui',\r\n    'owlcarousel'\r\n], function($){\r\n    \"use strict\";\r\n\r\n    $.widget('TemplateMonster.carouselInit', {\r\n\r\n        options: {\r\n\r\n            navigation:true,\r\n            items: 3,\r\n            itemsDesktop: [1199,3],\r\n            itemsDesktopSmall: [979,3],\r\n            itemsTablet: [768,2],\r\n            itemsMobile: [400,1],\r\n            autoPlay: false,\r\n            pagination: false,\r\n            navigationText: []\r\n           \r\n        },\r\n\r\n        _create: function() {\r\n            this.element.owlCarousel(this.options);\r\n        },\r\n\r\n        _setOption: function( key, value ) {\r\n          this._super( \"_setOption\", key, value );\r\n        },\r\n        \r\n    });\r\n\r\n    return $.TemplateMonster.carouselInit;\r\n\r\n});\r\n","js/googleMapOptions.js":"define([\r\n    'jquery',\r\n    'jquery/ui',\r\n    'googleMapPagePlugin'\r\n], function($) {\r\n    'use strict';\r\n\r\n    $.widget('TemplateMonster.googleMapOptions', $.TemplateMonster.googleMapPagePlugin, {\r\n\r\n        options: {\r\n            pluginPageData: {},\r\n            pagetype: {\r\n                home: 'cms-index-index',\r\n                contacts: 'contact-index-index',\r\n            },\r\n            contactSelector: '.google-map-wrapper',\r\n            group: {}\r\n        },\r\n\r\n        _create: function() {\r\n            this._super();\r\n        }\r\n\r\n    });\r\n\r\n    return $.TemplateMonster.googleMapOptions;\r\n});","js/jquery.animateNumber.min.js":"/*\r\n jQuery animateNumber plugin v0.0.12\r\n (c) 2013, Alexandr Borisov.\r\n https://github.com/aishek/jquery-animateNumber\r\n*/\r\n(function(d){var q=function(b){return b.split(\"\").reverse().join(\"\")},m={numberStep:function(b,a){var e=Math.floor(b);d(a.elem).text(e)}},h=function(b){var a=b.elem;a.nodeType&&a.parentNode&&(a=a._animateNumberSetter,a||(a=m.numberStep),a(b.now,b))};d.Tween&&d.Tween.propHooks?d.Tween.propHooks.number={set:h}:d.fx.step.number=h;d.animateNumber={numberStepFactories:{append:function(b){return function(a,e){var g=Math.floor(a);d(e.elem).prop(\"number\",a).text(g+b)}},separator:function(b,a,e){b=b||\" \";\r\na=a||3;e=e||\"\";return function(g,k){var c=Math.floor(g).toString(),t=d(k.elem);if(c.length>a){for(var f=c,l=a,m=f.split(\"\").reverse(),c=[],n,r,p,s=0,h=Math.ceil(f.length/l);s<h;s++){n=\"\";for(p=0;p<l;p++){r=s*l+p;if(r===f.length)break;n+=m[r]}c.push(n)}f=c.length-1;l=q(c[f]);c[f]=q(parseInt(l,10).toString());c=c.join(b);c=q(c)}t.prop(\"number\",g).text(c+e)}}}};d.fn.animateNumber=function(){for(var b=arguments[0],a=d.extend({},m,b),e=d(this),g=[a],k=1,c=arguments.length;k<c;k++)g.push(arguments[k]);\r\nif(b.numberStep){var h=this.each(function(){this._animateNumberSetter=b.numberStep}),f=a.complete;a.complete=function(){h.each(function(){delete this._animateNumberSetter});f&&f.apply(this,arguments)}}return e.animate.apply(e,g)}})(jQuery);\r\n","js/responsive.js":"/**\r\n * Copyright \u00c2\u00a9 2015 Magento. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'matchMedia',\r\n    'mage/tabs',\r\n    'domReady!',\r\n    'Magento_Theme/js/device.min'\r\n], function ($, mediaCheck) {\r\n    'use strict';\r\n\r\n    mediaCheck({\r\n        media: '(min-width: 768px)',\r\n        // Switch to Desktop Version\r\n        entry: function () {\r\n            (function () {\r\n\r\n                var productInfoMain = $('.product-info-main'),\r\n                    productInfoAdditional = $('#product-info-additional');\r\n\r\n                if (productInfoAdditional.length) {\r\n                    productInfoAdditional.addClass('hidden');\r\n                    productInfoMain.removeClass('responsive');\r\n                }\r\n\r\n            })();\r\n\r\n            var galleryElement = $('[data-role=media-gallery]');\r\n\r\n            if (galleryElement.length && galleryElement.data('mageZoom')) {\r\n                galleryElement.zoom('enable');\r\n            }\r\n\r\n            if (galleryElement.length && galleryElement.data('mageGallery')) {\r\n                galleryElement.gallery('option', 'disableLinks', true);\r\n                galleryElement.gallery('option', 'showNav', false);\r\n                galleryElement.gallery('option', 'showThumbs', true);\r\n            }\r\n\r\n            setTimeout(function () {\r\n                $('.product.data.items').tabs('option', 'openOnFocus', true);\r\n            }, 500);\r\n        },\r\n        // Switch to Mobile Version\r\n        exit: function () {\r\n            $('.action.toggle.checkout.progress')\r\n                .on('click.gotoCheckoutProgress', function () {\r\n                    var myWrapper = '#checkout-progress-wrapper';\r\n                    scrollTo(myWrapper + ' .title');\r\n                    $(myWrapper + ' .title').addClass('active');\r\n                    $(myWrapper + ' .content').show();\r\n                });\r\n\r\n            $('body')\r\n                .on('click.checkoutProgress', '#checkout-progress-wrapper .title', function () {\r\n                    $(this).toggleClass('active');\r\n                    $('#checkout-progress-wrapper .content').toggle();\r\n                });\r\n\r\n            var galleryElement = $('[data-role=media-gallery]');\r\n\r\n            setTimeout(function () {\r\n                if (galleryElement.length && galleryElement.data('mageZoom')) {\r\n                    galleryElement.zoom('disable');\r\n                }\r\n\r\n                if (galleryElement.length && galleryElement.data('mageGallery')) {\r\n                    galleryElement.gallery('option', 'disableLinks', false);\r\n                    galleryElement.gallery('option', 'showNav', true);\r\n                    galleryElement.gallery('option', 'showThumbs', false);\r\n                }\r\n            }, 2000);\r\n\r\n            setTimeout(function () {\r\n                $('.product.data.items').tabs('option', 'openOnFocus', false);\r\n            }, 500);\r\n            $('.data.item.title').click(function(evt) {\r\n                var _tabTitle = $(this);\r\n                setTimeout(function () {\r\n                    var _thisOffset = $(_tabTitle).offset().top - 56;\r\n                    evt.preventDefault();\r\n\r\n                    $('html, body').stop().animate({\r\n                        scrollTop: _thisOffset,\r\n                    }, 300);\r\n                }, 200);\r\n            });\r\n        }\r\n    });\r\n});\r\n","js/selectize.js":"define([\r\n    'jquery',\r\n    'jquery/ui',\r\n    'customSelect'\r\n], function ($, select2) {\r\n    'use strict';\r\n\r\n    $.widget('TemplateMonster.selectize', {\r\n\r\n        options: {\r\n            allowClear: false,\r\n        },\r\n\r\n        _create: function() {\r\n\r\n            var selector = this.element;\r\n            var params = this.options;\r\n            var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent)\r\n\r\n            if (!isMobile){\r\n                $(selector).select2(params);\r\n\r\n                $('.swatch-option').on('click', function(){\r\n                    selector.select2(\"destroy\");\r\n                    selector.select2(params);\r\n                });\r\n            }\r\n        },\r\n    });\r\n\r\n    return $.TemplateMonster.selectize;\r\n\r\n});","js/sidebarCollapse.js":"/**\r\n * Copyright \u00c2\u00a9 2015. All rights reserved.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'jquery/ui',\r\n    'matchMedia',\r\n    \"mage/common\",\r\n    'mage/collapsible'\r\n], function($, collapsible, mediaCheck){\r\n    \"use strict\";\r\n\r\n    $.widget('TemplateMonster.sidebarCollapse', {\r\n\r\n        options: {},\r\n        self: this,\r\n\r\n        _create: function() {\r\n            var selector = this.element;\r\n            this._initialization(selector);\r\n        },\r\n\r\n        _setOption: function( key, value ) {\r\n            this._super( \"_setOption\", key, value );\r\n        },\r\n\r\n        _isDisplay: function(elem) {\r\n            //if(elem.hasClass('no-display')) return false;\r\n            return true;\r\n        },\r\n\r\n        _initCollapse: function(elem, header, content) {\r\n            $(elem).collapsible({\r\n                active: false,\r\n                header: header,\r\n                content: content,\r\n                collapsible: true,\r\n                animate: 200,\r\n                multipleCollapsible: true\r\n            });\r\n        },\r\n\r\n        _closedCollapse: function(collapse, header, content) {\r\n            this._initCollapse(collapse, header, content);\r\n            $(collapse).collapsible(\"activate\");\r\n\r\n        },\r\n        _openedCollapse: function(collapse, header, content) {\r\n            this._initCollapse(collapse, header, content);\r\n            $(collapse).collapsible(\"deactivate\");\r\n        },\r\n\r\n        _initialization: function(selector) {\r\n            if(selector.length) {\r\n                var title = $('.block-title', selector);\r\n                var content = selector;\r\n                $(selector).wrap('<div class=\"collapsible-block\">');\r\n                var collapse = $(selector).parent('.collapsible-block');\r\n                var header = '';\r\n\r\n                if(this._isDisplay(title)){\r\n                    header = $('strong', title)\r\n                        .clone()\r\n                        .addClass('opener')\r\n                        .removeAttr('id')\r\n                        .prependTo(collapse);\r\n                    this._initCollapse(collapse, header, content);\r\n                }\r\n                var el = this;\r\n                mediaCheck({\r\n                    media: '(max-width: 767px)',\r\n                    entry: function () {\r\n                        el._openedCollapse(collapse, header, content);\r\n                        if(header.length) header.show();\r\n                        if(el._isDisplay(title)) title.hide();\r\n                    },\r\n                    exit: function ()  {\r\n                        el._closedCollapse(collapse, header, content);\r\n                        if(header.length) header.hide();\r\n                        if(el._isDisplay(title)) title.show();\r\n                    }\r\n                });\r\n            }\r\n        },\r\n    });\r\n\r\n    return $.TemplateMonster.sidebarCollapse;\r\n\r\n});","js/theme.js":"define([\n    'jquery',\n    'mage/smart-keyboard-handler',\n    'jquery/ui',\n    'mage/mage',\n    'mage/ie-class-fixer',\n    'rdnavbar',\n    'carouselInit',\n    'blockCollapse',\n    'animateNumber',\n    'selectize',\n    'doubleTap'\n], function ($) {\n    'use strict';\n\n    $.widget('TemplateMonster.theme', {\n\n        options: {\n            rdnavbar: {\n                selector: \".rd-navbar\",\n                params: {\n                    stickUpClone : false,\n                    stickUpOffset: \"100%\",\n                    responsive: {\n                        0: {\n                            layout: \"rd-navbar-fixed\",\n                            stickUp: true,\n                            focusOnHover: false\n                        },\n                        768: {\n                            layout: \"rd-navbar-static\",\n                            stickUp: true\n                        }\n                    }\n                }\n            },\n            cartSummaryContainer: {\n                selector: \".cart-summary\",\n                params: {\n                    container: \"#maincontent\"\n                }\n            },\n            relatedCarousel: {\n                selector: \".block.related .product-items\",\n                params: {\n                    items: 3,\n                    itemsDesktop: [1199,3],\n                    itemsDesktopSmall: [979,2],\n                    itemsTablet: [768,1],\n                    itemsMobile: [400,1],\n                }\n            },\n            upsellCarousel: {\n                selector: \".block.upsell .product-items\",\n                params: {\n                    items: 3,\n                    itemsDesktop: [1199,3],\n                    itemsDesktopSmall: [979,2],\n                    itemsTablet: [768,1],\n                    itemsMobile: [400,1],\n                }\n            },\n            crosssellCarousel: {\n                selector: \".block.crosssell .product-items\",\n                params: {}\n            },\n            animatedCounter: {\n                selector: \".skills .number\",\n                speed: 2000\n            },\n            testimonialsCarousel: {\n                selector: \".owl-testimonials\",\n                params: {\n                    nav:true,\n                    navText: false,\n                    dotsSpeed: false,\n                    items: 3,\n                    responsive: {\n                        0: {\n                            items: 1\n                        },\n                        480: {\n                            items: 1\n                        },\n                        768: {\n                            items: 1\n                        },\n                        992: {\n                            items: 1\n                        }\n                    },\n                    loop : true,\n                    dots : false,\n                    autoPlay : true,\n                    autoplay : 3000,\n                    autoplayTimeout: 2000,\n                    autoplayHoverPause: true\n                }\n            },\n            messageClear: {\n                selector: \".messages\"\n            },\n            customSelect: {\n                selector: \"#product-options-wrapper .product-custom-option:not('.input-text'), #product-review-container select, .toolbar-posts select\"\n            }\n        },\n\n        _rdNavbar: function () {\n            /* Navbar init */\n            var rdNavbarData = this.options.rdnavbar;\n            var o = $(rdNavbarData.selector);\n            if (o.length > 0) {\n                o.RDNavbar(rdNavbarData.params);\n            }\n        },\n\n        _checkoutCollapsible: function() {\n            if ($('body').hasClass('checkout-cart-index')) {\n                if ($('#co-shipping-method-form .fieldset.rates').length > 0 && $('#co-shipping-method-form .fieldset.rates :checked').length === 0) {\n                    $('#block-shipping').on('collapsiblecreate', function () {\n                        $('#block-shipping').collapsible('forceActivate');\n                    });\n                }\n            }\n        },\n\n        _cartSummaryContainer: function(){\n            var cartSummaryData = this.options.cartSummaryContainer;\n            $(cartSummaryData.selector).mage('sticky', cartSummaryData.params);\n        },\n\n        _sidebarCollapsible: function(){\n            /* Sidebar block collapse in mobile */\n            var block = $(\".sidebar-additional .block\");\n            if(block.length > 0) {\n                block.sidebarCollapse();\n            }\n        },\n\n        _initProductsCarousel: function (selector) {\n            var limit = $(selector).data('limit'),\n                itemsCount = 1;\n            if (limit != 0) {\n                $('.product-item', selector).each(function(){\n                    if (itemsCount > limit){\n                        $(this).remove();\n                    }\n                    itemsCount++;\n                });\n            }\n        },\n\n        _productsCarousel: function () {\n            /* Related init */\n            var relatedCarouselData = this.options.relatedCarousel;\n            this._initProductsCarousel('.block.related');\n            $(relatedCarouselData.selector).carouselInit(relatedCarouselData.params);\n\n            /* Upsell init */\n            var upsellCarouselData = this.options.upsellCarousel;\n            this._initProductsCarousel('.block.upsell');\n            $(upsellCarouselData.selector).carouselInit(upsellCarouselData.params);\n\n            /* Crosssell init */\n            var crosssellCarouselData = this.options.crosssellCarousel;\n            $(crosssellCarouselData.selector).carouselInit(crosssellCarouselData.params);\n        },\n\n        _animatedCounter: function(){\n            var animatedCounterData = this.options.animatedCounter;\n            var number = $(animatedCounterData.selector);\n            if(number.length > 0){\n                number.each(function(){\n                    var finish = $(this).data('finish');\n                    $(this).animateNumber({ number: finish }, animatedCounterData.speed);\n                })\n            }\n        },\n\n        _testimonialsCarousel: function(){\n            var testimonialsData = this.options.testimonialsCarousel;\n            $(testimonialsData.selector).carouselInit(testimonialsData.params);\n        },\n\n        _messageClear: function(){\n            var messageClearData = this.options.messageClear;\n            $(messageClearData.selector).click(function(){\n                $('.message', this).hide();\n            })\n        },\n\n        _toTop: function(){\n            $(window).scroll(function(){\n                if ($(this).scrollTop() > 400) {\n                    $('.scrollToTop').fadeIn();\n                } else {\n                    $('.scrollToTop').fadeOut();\n                }\n            });\n\n            $('.scrollToTop').click(function(){\n                $('html, body').animate({scrollTop : 0},800);\n                return false;\n            });\n        },\n\n        _customSelect: function(){\n            var customSelectData = this.options.customSelect;\n            $(customSelectData.selector).selectize();\n        },\n\n        _faqAccordion: function () {\n            $(\"#faq-accordion .accordion-trigger\").click(function() {\n                var _accTrigger = $(this);\n                var _accBlock = $(_accTrigger).parent(\".accordion-block\");\n                var _accContent = $(_accBlock).find(\".accordion-content\");\n\n                if ( $(_accTrigger).hasClass( \"close\" ) ) {\n                    $(this).removeClass(\"close\").addClass(\"open\");\n                    $(_accBlock).removeClass(\"close\").addClass(\"open\");\n                    $(_accContent).slideDown();\n                }else{\n                    $(this).removeClass(\"open\").addClass(\"close\");\n                    $(_accBlock).removeClass(\"open\").addClass(\"close\");\n                    $(_accContent).slideUp();\n                }\n            });\n        },\n        _doubleTapInit: function () {\n            var testExp = new RegExp('Android|webOS|iPhone|iPad|' + 'BlackBerry|Windows Phone|'  + 'Opera Mini|IEMobile|Mobile' , 'i');\n            if (testExp.test(navigator.userAgent)){\n                setTimeout(function () {\n                    $( '.rd-navbar-nav li:has(ul)' ).doubleTapToGo();\n                }, 1000);\n            }\n        },\n\n        _create: function() {\n            this._rdNavbar();\n            this._checkoutCollapsible();\n            this._cartSummaryContainer();\n            this._sidebarCollapsible();\n            this._productsCarousel();\n            this._animatedCounter();\n            this._testimonialsCarousel();\n            this._messageClear();\n            this._toTop();\n            this._customSelect();\n            this._faqAccordion();\n            this._doubleTapInit();\n        }\n    });\n\n    return $.TemplateMonster.theme;\n\n});","js/landing/jquery-2.2.4.min.js":"/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=\"2.2.4\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if(\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,\"constructor\")&&!k.call(a.constructor.prototype||{},\"isPrototypeOf\"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?i[j.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=d.createElement(\"script\"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),\"function\"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(a,b){i[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=!!a&&\"length\"in a&&a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",L=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",N=\"\\\\[\"+L+\"*(\"+M+\")(?:\"+L+\"*([*^$|!~]?=)\"+L+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+M+\"))|)\"+L+\"*\\\\]\",O=\":(\"+M+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+N+\")*)|.*)\\\\)|)\",P=new RegExp(L+\"+\",\"g\"),Q=new RegExp(\"^\"+L+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+L+\"+$\",\"g\"),R=new RegExp(\"^\"+L+\"*,\"+L+\"*\"),S=new RegExp(\"^\"+L+\"*([>+~]|\"+L+\")\"+L+\"*\"),T=new RegExp(\"=\"+L+\"*([^\\\\]'\\\"]*?)\"+L+\"*\\\\]\",\"g\"),U=new RegExp(O),V=new RegExp(\"^\"+M+\"$\"),W={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),TAG:new RegExp(\"^(\"+M+\"|[*])\"),ATTR:new RegExp(\"^\"+N),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+L+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+L+\"*(?:([+-]|)\"+L+\"*(\\\\d+)|))\"+L+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+K+\")$\",\"i\"),needsContext:new RegExp(\"^\"+L+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+L+\"*((?:-\\\\d)?\\\\d*)\"+L+\"*\\\\)|)(?=[^-]|$)\",\"i\")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/'|\\\\/g,ba=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+L+\"?|(\"+L+\")|.)\",\"ig\"),ca=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],\"string\"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+\" \"]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if(\"object\"!==b.nodeName.toLowerCase()){(k=b.getAttribute(\"id\"))?k=k.replace(aa,\"\\\\$&\"):b.setAttribute(\"id\",k=u),r=g(a),h=r.length,l=V.test(k)?\"#\"+k:\"[id='\"+k+\"']\";while(h--)r[h]=l+\" \"+qa(r[h]);s=r.join(\",\"),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute(\"id\")}}}return i(a.replace(Q,\"$1\"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split(\"|\"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&\"undefined\"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener(\"unload\",da,!1):e.attachEvent&&e.attachEvent(\"onunload\",da)),c.attributes=ia(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\"undefined\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=\"undefined\"!=typeof a.getAttributeNode&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\"undefined\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return\"undefined\"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML=\"<a id='\"+u+\"'></a><select id='\"+u+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowcapture^='']\").length&&q.push(\"[*^$]=\"+L+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+L+\"*(?:value|\"+K+\")\"),a.querySelectorAll(\"[id~=\"+u+\"-]\").length||q.push(\"~=\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\"),a.querySelectorAll(\"a#\"+u+\"+*\").length||q.push(\".#.+[+~]\")}),ia(function(a){var b=n.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+L+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",O)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,\"='$1']\"),c.matchesSelector&&p&&!A[b+\" \"]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||\"\").replace(ba,ca),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+L+\")\"+a+\"(\"+L+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||\"undefined\"!=typeof a.getAttribute&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e.replace(P,\" \")+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,\"$1\"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||\"\")||fa.error(\"unsupported lang: \"+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(Q,\"$1\"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s=\"0\",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG(\"*\",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ia(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||ja(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||ja(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute(\"disabled\")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,\"string\"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,\"string\"==typeof a){if(e=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?\"string\"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,\"parentNode\")},parentsUntil:function(a,b,c){return u(a,\"parentNode\",c)},next:function(a){return F(a,\"nextSibling\")},prev:function(a){return F(a,\"previousSibling\")},nextAll:function(a){return u(a,\"nextSibling\")},prevAll:function(a){return u(a,\"previousSibling\")},nextUntil:function(a,b,c){return u(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return u(a,\"previousSibling\",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:\"\")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&\"string\"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c=\"\",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=\"\"),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler(\"ready\"),n(d).off(\"ready\"))))}});function J(){d.removeEventListener(\"DOMContentLoaded\",J),a.removeEventListener(\"load\",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),\"complete\"===d.readyState||\"loading\"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener(\"DOMContentLoaded\",J),a.addEventListener(\"load\",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if(\"string\"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(Q,\"-$&\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:P.test(c)?n.parseJSON(c):c;\n}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,\"-$&\").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf(\"-\")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){N.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=N.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=new RegExp(\"^(?:([+-])=|)(\"+S+\")([a-z%]*)$\",\"i\"),U=[\"Top\",\"Right\",\"Bottom\",\"Left\"],V=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,\"\")},i=h(),j=c&&c[3]||(n.cssNumber[b]?\"\":\"px\"),k=(n.cssNumber[b]||\"px\"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||\".5\",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\\w:-]+)/,Z=/^$|\\/(?:java|ecma)script/i,$={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c=\"undefined\"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):\"undefined\"!=typeof a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],\"globalEval\",!b||N.get(b[c],\"globalEval\"))}var ba=/<|&#?\\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if(\"object\"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement(\"div\")),h=(Y.exec(f)||[\"\",\"\"])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=\"\"}else m.push(b.createTextNode(f));l.textContent=\"\",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),\"script\"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||\"\")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement(\"div\")),c=d.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if(\"object\"==typeof b){\"string\"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&(\"string\"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return\"undefined\"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,\"handle events\")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(\"click\"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&\"function\"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,la=/<script|<style|<link/i,ma=/checked\\s*(?:[^=]|=\\s*.checked.)/i,na=/^true\\/(.*)/,oa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function pa(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function qa(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&X.test(a.type)?b.checked=a.checked:\"input\"!==c&&\"textarea\"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&\"string\"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,\"script\"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,\"script\"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||\"\")&&!N.access(j,\"globalEval\")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,\"\")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,\"script\")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,\"<$1></$2>\")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,\"script\"),g.length>0&&aa(g,!i&&_(a,\"script\")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:\"block\",BODY:\"block\"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],\"display\");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),\"none\"!==c&&c||(wa=(wa||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp(\"^(\"+S+\")(?!px)[a-z%]+$\",\"i\"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement(\"div\"),h=d.createElement(\"div\");if(h.style){h.style.backgroundClip=\"content-box\",h.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===h.style.backgroundClip,g.style.cssText=\"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute\",g.appendChild(h);function i(){h.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%\",h.innerHTML=\"\",Ea.appendChild(g);var d=a.getComputedStyle(h);b=\"1%\"!==d.top,f=\"2px\"===d.marginLeft,c=\"4px\"===d.width,h.style.marginRight=\"50%\",e=\"4px\"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement(\"div\"));return c.style.cssText=h.style.cssText=\"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",h.style.width=\"1px\",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,\"\"!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+\"\":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ja={letterSpacing:\"0\",fontWeight:\"400\"},Ka=[\"Webkit\",\"O\",\"Moz\",\"ms\"],La=d.createElement(\"div\").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||\"px\"):b}function Oa(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+U[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+U[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+U[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+U[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+U[f]+\"Width\",!0,e)));return g}function Pa(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&V(d)&&(f[g]=N.access(d,\"olddisplay\",za(d.nodeName)))):(e=V(d),\"none\"===c&&e||N.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f=\"number\"),null!=c&&c===c&&(\"number\"===f&&(c+=e&&e[3]||(n.cssNumber[h]?\"\":\"px\")),l.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),\"normal\"===e&&b in Ja&&(e=Ja[b]),\"\"===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,\"display\"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,f),f);return g&&(e=T.exec(c))&&\"px\"!==(e[3]||\"px\")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,\"marginLeft\"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+\"px\":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:\"inline-block\"},Fa,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:\"swing\"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?N.get(a,\"olddisplay\")||za(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?za(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=N.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{\"*\":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=N.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa(\"show\"),slideUp:Xa(\"hide\"),slideToggle:Xa(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||\"fx\",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement(\"input\"),b=d.createElement(\"select\"),c=b.appendChild(d.createElement(\"option\"));a.type=\"checkbox\",l.checkOn=\"\"!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",l.radioValue=\"t\"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return\"undefined\"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+\"\"),c):e&&\"get\"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),\nvoid 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,\"tabindex\");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\\t\\r\\n\\f]/g;function fb(a){return a.getAttribute&&a.getAttribute(\"class\")||\"\"}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])d.indexOf(\" \"+f+\" \")<0&&(d+=f+\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])while(d.indexOf(\" \"+f+\" \")>-1)d=d.replace(\" \"+f+\" \",\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if(\"string\"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&\"boolean\"!==c||(b=fb(this),b&&N.set(this,\"__className__\",b),this.setAttribute&&this.setAttribute(\"class\",b||a===!1?\"\":N.get(this,\"__className__\")||\"\"))})},hasClass:function(a){var b,c,d=0;b=\" \"+a+\" \";while(c=this[d++])if(1===c.nodeType&&(\" \"+fb(c)+\" \").replace(eb,\" \").indexOf(b)>-1)return!0;return!1}});var gb=/\\r/g,hb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(gb,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a)).replace(hb,\" \")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute(\"disabled\"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,\"type\")?b.type:b,r=k.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(\".\")>-1&&(r=q.split(\".\"),q=r.shift(),r.sort()),l=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join(\".\"),b.rnamespace=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,\"events\")||{})[b.type]&&N.get(h,\"handle\"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin=\"onfocusin\"in a,l.focusin||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(b){var c;if(!b||\"string\"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,\"text/xml\")}catch(d){c=void 0}return c&&!c.getElementsByTagName(\"parsererror\").length||n.error(\"Invalid XML: \"+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\\/\\//,sb={},tb={},ub=\"*/\".concat(\"*\"),vb=d.createElement(\"a\");vb.href=jb.href;function wb(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:\"GET\",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ub,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){\"object\"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks(\"once memory\"),s=m.statusCode||{},t={},u={},v=0,w=\"canceled\",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+\"\").replace(mb,\"\").replace(rb,jb.protocol+\"//\"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||\"*\").toLowerCase().match(G)||[\"\"],null==m.crossDomain){j=d.createElement(\"a\");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+\"//\"+vb.host!=j.protocol+\"//\"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?\"&\":\"?\")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,\"$1_=\"+kb++):f+(lb.test(f)?\"&\":\"?\")+\"_=\"+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader(\"If-Modified-Since\",n.lastModified[f]),n.etag[f]&&x.setRequestHeader(\"If-None-Match\",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader(\"Content-Type\",m.contentType),x.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+ub+\"; q=0.01\":\"\"):m.accepts[\"*\"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w=\"abort\";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger(\"ajaxSend\",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort(\"timeout\")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,\"No Transport\");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||\"\",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[f]=w),w=x.getResponseHeader(\"etag\"),w&&(n.etag[f]=w)),204===b||\"HEAD\"===m.type?y=\"nocontent\":304===b?y=\"notmodified\":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y=\"error\",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+\"\",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?\"ajaxSuccess\":\"ajaxError\",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger(\"ajaxComplete\",[x,m]),--n.active||n.event.trigger(\"ajaxStop\")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\\[\\]$/,Db=/\\r?\\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+\"[\"+(\"object\"==typeof e&&null!=e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Gb(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join(\"&\").replace(Bb,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,\"\\r\\n\")}}):{name:b.name,value:c.replace(Db,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&\"withCredentials\"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,\"abort\"===a?h.abort():\"error\"===a?\"number\"!=typeof h.status?f(0,\"error\"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,\"text\"!==(h.responseType||\"text\")||\"string\"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c(\"error\"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c(\"abort\");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n(\"<script>\").prop({charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&f(\"error\"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Jb.pop()||n.expando+\"_\"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?\"url\":\"string\"==typeof b.data&&0===(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Kb.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,\"$1\"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e||\"GET\",dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=\"pageYOffset\"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});\n","js/landing/landing-scripts.js":"jQuery(document).ready(function($) {\r\n    if($(\"#landing-menu\").length) {\r\n        $('#landing-menu.menu li a').click(function(evt) {\r\n            evt.preventDefault();\r\n            $('html, body').stop().animate({\r\n                scrollTop: $( $(this).attr('href') ).offset().top\r\n            }, 1000);\r\n        });\r\n    };\r\n\r\n    $(window).scroll(function(){\r\n        if ($(this).scrollTop() > 400) {\r\n            $('.scrollToTop').fadeIn();\r\n        } else {\r\n            $('.scrollToTop').fadeOut();\r\n        }\r\n    });\r\n\r\n    $('.scrollToTop').click(function(){\r\n        $('html, body').animate({scrollTop : 0},800);\r\n        return false;\r\n    });\r\n});\r\n\r\njQuery(function($) {\r\n    $(document).ready( function() {\r\n        $('#landing-menu').stickUp();\r\n    });\r\n\r\n    if ($(window).width() > 1200 && $(\".wow\").length) {\r\n        new WOW().init();\r\n    }\r\n});","js/landing/stickUp.min.js":"jQuery(function($){$(document).ready(function(){var contentButton = [];var contentTop = [];var content = [];var lastScrollTop = 0;var scrollDir = '';var itemClass = '';var itemHover = '';var menuSize = null;var stickyHeight = 0;var stickyMarginB = 0;var currentMarginT = 0;var topMargin = 0;$(window).scroll(function(event){var st = $(this).scrollTop();if (st > lastScrollTop){scrollDir = 'down';} else {scrollDir = 'up';}lastScrollTop = st;});$.fn.stickUp = function( options ) {$(this).addClass('stuckMenu');var objn = 0;if(options != null) {for(var o in options.parts) {if (options.parts.hasOwnProperty(o)){content[objn] = options.parts[objn];objn++;}}if(objn == 0) {console.log('error:needs arguments');}itemClass = options.itemClass;itemHover = options.itemHover;if(options.topMargin != null) {if(options.topMargin == 'auto') {topMargin = parseInt($('.stuckMenu').css('margin-top'));} else {if(isNaN(options.topMargin) && options.topMargin.search(\"px\") > 0){topMargin = parseInt(options.topMargin.replace(\"px\",\"\"));} else if(!isNaN(parseInt(options.topMargin))) {topMargin = parseInt(options.topMargin);} else {console.log(\"incorrect argument, ignored.\");topMargin = 0;}\t}} else {topMargin = 0;}menuSize = $('.'+itemClass).size();}stickyHeight = parseInt($(this).height());stickyMarginB = parseInt($(this).css('margin-bottom'));currentMarginT = parseInt($(this).next().closest('div').css('margin-top'));vartop = parseInt($(this).offset().top);};$(document).on('scroll', function() {varscroll = parseInt($(document).scrollTop());if(menuSize != null){for(var i=0;i < menuSize;i++){contentTop[i] = $('#'+content[i]+'').offset().top;function bottomView(i) {contentView = $('#'+content[i]+'').height()*.4;testView = contentTop[i] - contentView;if(varscroll > testView){$('.'+itemClass).removeClass(itemHover);$('.'+itemClass+':eq('+i+')').addClass(itemHover);} else if(varscroll < 50){$('.'+itemClass).removeClass(itemHover);$('.'+itemClass+':eq(0)').addClass(itemHover);}}if(scrollDir == 'down' && varscroll > contentTop[i]-50 && varscroll < contentTop[i]+50) {$('.'+itemClass).removeClass(itemHover);$('.'+itemClass+':eq('+i+')').addClass(itemHover);}if(scrollDir == 'up') {bottomView(i);}}}if(vartop < varscroll + topMargin){$('.stuckMenu').addClass('isStuck');$('.stuckMenu').next().closest('div').css({'margin-top': stickyHeight + stickyMarginB + currentMarginT + 'px'}, 10);$('.stuckMenu').css(\"position\",\"fixed\");$('.isStuck').css({top: '0px'}, 10, function(){});};if(varscroll + topMargin < vartop){$('.stuckMenu').removeClass('isStuck');$('.stuckMenu').next().closest('div').css({'margin-top': currentMarginT + 'px'}, 10);$('.stuckMenu').css(\"position\",\"relative\");};});});});","Magento_LayeredNavigation/js/modal-filter.js":"/**\r\n * Copyright \u00c2\u00a9 2015. All rights reserved.\r\n */\r\n\r\nrequire([\r\n    'jquery',\r\n    'matchMedia',\r\n    'Magento_Ui/js/modal/modal'\r\n], function ($, mediaCheck) {\r\n    \"use strict\";\r\n\r\n    function modalAside(){\r\n        $('.toolbar-products .filter-toggle').css('display', 'inline-block');\r\n        mediaCheck({\r\n            media: '(max-width: 767px)',\r\n            entry: function () {\r\n                $('.filter-toggle, .modal-header').css('display', 'block');\r\n                $('#layered-filter-block .block-title').css('display', 'none');\r\n                $('#layered-filter-block aside').addClass('modal-slide');\r\n                $('.filter-content').modal({\r\n                    \"type\": \"slide\",\r\n                    \"wrapperClass\": \"filter-wrapper\",\r\n                    \"trigger\": \"[data-trigger=filter]\",\r\n                    \"parentModalClass\": \"_has-modal-custom _has-auth-shown\",\r\n                    \"responsive\": true,\r\n                    \"responsiveClass\": \"custom-slide\",\r\n                    \"overlayClass\": \"dropdown-overlay modal-custom-overlay\",\r\n                    \"modalClass\": \"filter-slide\",\r\n                    \"buttons\": []\r\n                });\r\n            },\r\n            exit: function () {\r\n                $('.filter-toggle, .filter-slide .modal-header').css('display', 'none');\r\n                $('#layered-filter-block .block-title').css('display', 'block');\r\n                $('#layered-filter-block aside').removeClass('modal-slide');\r\n            }\r\n        });\r\n    }\r\n\r\n    modalAside();\r\n\r\n    $(document).ajaxComplete(function(){\r\n        $('body').removeClass('_has-modal-custom');\r\n        modalAside();\r\n    });\r\n\r\n});","Magento_Review/js/review-rating.js":"define([\r\n    'jquery',\r\n    'mage/mage'\r\n], function ($, mage) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Rating start click/hover interactions\r\n     * @param element Form object\r\n     * @param star  Star object\r\n     */\r\n    function ratingStarsInteraction(element){\r\n        var fillClass   = 'fill';\r\n        var star        = '.review-control-vote label[class^=\"rating-\"]';\r\n\r\n        $(element).on('click', star, function(){\r\n            operateClasses(fillClass, $(this));\r\n        });\r\n\r\n        //$(element).on('mouseenter', star, function(){\r\n        //});\r\n        //\r\n        //$(element).on('mouseleave', star, function(){\r\n        //});\r\n    }\r\n\r\n    /**\r\n     * Adds/removes stars classes\r\n     * @param fill Class Fill class\r\n     * @param id Data Id of the star element\r\n     */\r\n    function operateClasses(fillClass, item){\r\n        var data_id     = getDataId(item);\r\n        var data_name   = getDataName(item);\r\n        var i;\r\n\r\n        for( i = 1; i <= 5; i++){\r\n            var label = $('label[data-id=\"' + i + '\"][data-name=\"' + data_name + '\"]');\r\n\r\n            $.when( label.removeClass(fillClass) ).done(function(){\r\n                if (i <= data_id){\r\n                    label.addClass(fillClass);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get id of the star element\r\n     * @param selector Star element\r\n     * @returns {Number} Star data-id\r\n     */\r\n    function getDataId(selector){\r\n        return parseInt(selector.attr('data-id'));\r\n    }\r\n\r\n    function getDataName(selector){\r\n        return selector.attr('data-name');\r\n    }\r\n\r\n    return function (config, element) {\r\n        ratingStarsInteraction(element);\r\n    };\r\n});\r\n","Magento_Theme/js/doubletaptogo.js":"/*\n\tBy Osvaldas Valutis, www.osvaldas.info\n\tAvailable for use under the MIT License\n*/\n\n\n\n;(function( $, window, document, undefined )\n{\n\t$.fn.doubleTapToGo = function( params )\n\t{\n\t\tif( !( 'ontouchstart' in window ) &&\n\t\t\t!navigator.msMaxTouchPoints &&\n\t\t\t!navigator.userAgent.toLowerCase().match( /windows phone os 7/i ) ) return false;\n\n\t\tthis.each( function()\n\t\t{\n\t\t\tvar curItem = false;\n\n\t\t\t$( this ).on( 'click', function( e )\n\t\t\t{\n\t\t\t\tvar item = $( this );\n\t\t\t\tif( item[ 0 ] != curItem[ 0 ] )\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tcurItem = item;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$( document ).on( 'click touchstart MSPointerDown', function( e )\n\t\t\t{\n\t\t\t\tvar resetItem = true,\n\t\t\t\t\tparents\t  = $( e.target ).parents();\n\n\t\t\t\tfor( var i = 0; i < parents.length; i++ )\n\t\t\t\t\tif( parents[ i ] == curItem[ 0 ] )\n\t\t\t\t\t\tresetItem = false;\n\n\t\t\t\tif( resetItem )\n\t\t\t\t\tcurItem = false;\n\t\t\t});\n\t\t});\n\t\treturn this;\n\t};\n})( jQuery, window, document );","Magento_Swatches/js/swatch-renderer-fix.js":"/**\n * Copyright \u00c2\u00a9 2016 Magento. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Swatches/js/swatch-renderer',\n], function ($) {\n    'use strict';\n\n    /**\n     * Render tooltips by attributes (only to up).\n     * Required element attributes:\n     *  - option-type (integer, 0-3)\n     *  - option-label (string)\n     *  - option-tooltip-thumb\n     *  - option-tooltip-value\n     */\n    $.widget('TemplateMonster.SwatchRendererFix', $.mage.SwatchRenderer, {\n        //_create : function () {\n        //    this._super();\n        //},\n        _UpdatePrice: function () {\n            var $widget = this,\n                $product = $widget.element.parents($widget.options.selectorProduct),\n                $productPrice = $product.find(this.options.selectorProductPrice),\n                options = _.object(_.keys($widget.optionsMap), {}),\n                result;\n\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var attributeId = $(this).attr('attribute-id');\n\n                options[attributeId] = $(this).attr('option-selected');\n            });\n\n            result = $widget.options.jsonConfig.optionPrices[_.findKey($widget.options.jsonConfig.index, options)];\n\n            if (!result) {\n                return;\n            }\n\n            $productPrice.trigger(\n                'updatePrice',\n                {\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\n                }\n            );\n\n            if (result.oldPrice.amount !== result.finalPrice.amount) {\n                $(this.options.slyOldPriceSelector).show();\n            } else {\n                $(this.options.slyOldPriceSelector).hide();\n            }\n        },\n    });\n\n    return $.TemplateMonster.SwatchRendererFix;\n});\n"}
    }
});
